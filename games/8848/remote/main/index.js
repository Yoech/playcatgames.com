System.register("chunks:///_virtual/AdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.EventTarget}],execute:function(){e._RF.push({},"913ddXSZoBEo5AGp798igBP","AdClient",void 0);t("AdClient",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).unitId=void 0,n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/AdListener.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f6d88RBS9tPzIA7DyZtLjZT","AdListener",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AppOpenAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(n){var t,e,p,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,p=n._decorator},function(n){r=n.Base}],execute:function(){var o,a,i,u,A,l,c,d,s;e._RF.push({},"1b2e4BJmARLoYFp0UFuCx/t","AppOpenAd",void 0);var h=p.ccclass;p.property,n("LoadAppOpenAdREQ",h("LoadAppOpenAdREQ")(o=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||o),n("LoadAppOpenAdACK",h("LoadAppOpenAdACK")(a=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||a),n("ShowAppOpenAdREQ",h("ShowAppOpenAdREQ")(i=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||i),n("ShowAppOpenAdACK",h("ShowAppOpenAdACK")(u=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||u),n("ShowAppOpenAdCompleteNTF",h("ShowAppOpenAdCompleteNTF")(A=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||A),n("AppOpenAdFullScreenContentCallbackNTF",h("AppOpenAdFullScreenContentCallbackNTF")(l=function(n){function e(){for(var t,e=arguments.length,p=new Array(e),r=0;r<e;r++)p[r]=arguments[r];return(t=n.call.apply(n,[this].concat(p))||this).method=void 0,t.adError=void 0,t}return t(e,n),e}(r))||l),n("AppOpenAdLoadCallbackNTF",h("AppOpenAdLoadCallbackNTF")(c=function(n){function e(){for(var t,e=arguments.length,p=new Array(e),r=0;r<e;r++)p[r]=arguments[r];return(t=n.call.apply(n,[this].concat(p))||this).method=void 0,t.loadAdError=void 0,t}return t(e,n),e}(r))||c),n("IsAdAvailableREQ",h("IsAdAvailableREQ")(d=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(r))||d),n("IsAdAvailableACK",h("IsAdAvailableACK")(s=function(n){function e(){for(var t,e=arguments.length,p=new Array(e),r=0;r<e;r++)p[r]=arguments[r];return(t=n.call.apply(n,[this].concat(p))||this).valid=!1,t}return t(e,n),e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppOpenAdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bridge.ts","./Route.ts","./AppOpenAd.ts","./AdClient.ts","./PaidEventNTF.ts"],(function(e){var n,t,i,a,s,o,p,l,d,A,r,h,c,u,C,f,N,O;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy,a=e.js,s=e.log},function(e){o=e.bridge},function(e){p=e.route},function(e){l=e.LoadAppOpenAdREQ,d=e.LoadAppOpenAdACK,A=e.IsAdAvailableREQ,r=e.IsAdAvailableACK,h=e.ShowAppOpenAdREQ,c=e.ShowAppOpenAdACK,u=e.AppOpenAdLoadCallbackNTF,C=e.AppOpenAdFullScreenContentCallbackNTF,f=e.ShowAppOpenAdCompleteNTF},function(e){N=e.AdClient},function(e){O=e.AppOpenPaidEventNTF}],execute:function(){i._RF.push({},"de391JGZ7RFmILooPgf1Zbb","AppOpenAdClient",void 0);var v="[AppOpenAdClient]";e("AppOpenAdClient",function(e){function i(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this)._appOpenAdListener=void 0,n}n(i,e);var N=i.prototype;return N.loadAd=function(e,n){this.appOpenAdListener=n,this.unitId=e,o.sendToNative(a.getClassName(l),{unitId:e},a.getClassName(d),(function(e){}),this)},N.isValid=function(e,n){o.sendToNative(a.getClassName(A),{unitId:this.unitId},a.getClassName(r),(function(t){s(v,"isValid",t.valid),e&&n&&e.call(n,t.valid)}))},N.show=function(e){o.sendToNative(a.getClassName(h),{unitId:this.unitId},a.getClassName(c),(function(n){s(v,"showAdIfAvailable",n),e&&e()}))},N.destroy=function(){this.appOpenAdListener=null},N.onAppOpenAdLoadCallbackNTF=function(e){if(this.appOpenAdListener){var n=this.appOpenAdListener[e.method];n&&n(e.loadAdError)}},N.onFullScreenContentCallbackNTF=function(e){if(e&&e.method&&this.appOpenAdListener){var n=this.appOpenAdListener[e.method];n&&n(e.adError)}},N.onShowCompleteNTF=function(e){var n=this.appOpenAdListener;n&&n.onShowAdComplete&&n.onShowAdComplete(e.unitId)},N.onPaidEvent=function(e){var n=this.appOpenAdListener;n&&n.onPaidEvent&&n.onPaidEvent(e)},t(i,[{key:"appOpenAdListener",get:function(){return this._appOpenAdListener},set:function(e){this._appOpenAdListener&&(p.off(a.getClassName(u),this.onAppOpenAdLoadCallbackNTF,this),p.off(a.getClassName(O),this.onPaidEvent,this),p.off(a.getClassName(C),this.onFullScreenContentCallbackNTF,this),p.off(a.getClassName(f),this.onShowCompleteNTF,this)),this._appOpenAdListener=e,e&&(p.on(a.getClassName(u),this.onAppOpenAdLoadCallbackNTF,this),p.on(a.getClassName(O),this.onPaidEvent,this),p.on(a.getClassName(C),this.onFullScreenContentCallbackNTF,this),p.on(a.getClassName(f),this.onShowCompleteNTF,this))}}]),i}(N));i._RF.pop()}}}));

System.register("chunks:///_virtual/AppOpenAdFullScreenContentCallback.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"a57d6Vr4nlN9pl61y73AbVj","AppOpenAdFullScreenContentCallback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AppOpenAdListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"515ea1S85lFFpJR2p7bWBrP","AppOpenAdListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AppOpenAdLoadCallback.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"22adflecGJOkqbjch9VPNzC","AppOpenAdLoadCallback",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidBannerTS.ts",["cc","./CCUtils.ts"],(function(n){var t,a;return{setters:[function(n){t=n.cclegacy},function(n){a=n.default}],execute:function(){t._RF.push({},"7d799f3T8lPTrYqASIrTMdr","ATAndroidBannerTS",void 0);var i="com/anythink/cocosjs/ATBannerJSBridge";n("ATAndroidBannerTS",{loadBanner:function(n,t){a.log("Android-loadBanner:"+t);var o=jsb.reflection.callStaticMethod(i,"load","(Ljava/lang/String;Ljava/lang/String;)J",n,t);return o&&null!=o?o:0},setAdListener:function(n){a.log("Android-setAdListener"),jsb.reflection.callStaticMethod(i,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return a.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(i,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){return a.log("Android-checkAdStatus:"+n),jsb.reflection.callStaticMethod(i,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n)},showAdInPosition:function(n,t){a.log("Android-showAdInPosistion"),jsb.reflection.callStaticMethod(i,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInPositionAndScenario:function(n,t,o){a.log("Android-showAdInPositionAndScenario"),jsb.reflection.callStaticMethod(i,"showWithPosition","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,o)},showAdInRectangle:function(n,t){a.log("Android-showAdInRectangle"),jsb.reflection.callStaticMethod(i,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,"")},showAdInRectangleAndScenario:function(n,t,o){a.log("Android-showAdInRectangleAndScenario"),jsb.reflection.callStaticMethod(i,"showWithRect","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",n,t,o)},removeAd:function(n){a.log("Android-removeAd"),jsb.reflection.callStaticMethod(i,"remove","(Ljava/lang/String;)V",n)},reShowAd:function(n){a.log("Android-reShowAd"),jsb.reflection.callStaticMethod(i,"reshow","(Ljava/lang/String;)V",n)},hideAd:function(n){a.log("Android-hideAd"),jsb.reflection.callStaticMethod(i,"hide","(Ljava/lang/String;)V",n)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialAutoTS.ts",["cc","./CCUtils.ts"],(function(t){var a,n;return{setters:[function(t){a=t.cclegacy},function(t){n=t.default}],execute:function(){a._RF.push({},"663a3rsXhJH2LU/Ww5VYBvo","ATAndroidIntersitialAutoTS",void 0);var e="com/anythink/cocosjs/ATInterstitialAutoAdJSBridge";t("ATAndroidInterstitialAutoAdTS",{setAdListener:function(t){n.log("Android-setAdListener");var a=jsb.reflection.callStaticMethod(e,"setAdListener","(Ljava/lang/String;)J",t);return a&&null!=a?a:0},addPlacementIds:function(t){n.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(e,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){n.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(e,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){n.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(e,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return n.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(e,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return n.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(e,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){n.log("Android-ivautoad_showAd:"+t),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){n.log("Android-ivautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){n.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidIntersitialTS.ts",["cc","./CCUtils.ts"],(function(t){var n,a;return{setters:[function(t){n=t.cclegacy},function(t){a=t.default}],execute:function(){n._RF.push({},"a83b3anm0lCYZ/Pt837hBt/","ATAndroidIntersitialTS",void 0);var i="com/anythink/cocosjs/ATInterstitialJSBridge";t("ATAndroidInterstitialJS",{loadInterstitial:function(t,n){a.log("Android-loadInterstitial");var e=jsb.reflection.callStaticMethod(i,"load","(Ljava/lang/String;Ljava/lang/String;)J",t,n);return e&&null!=e?e:0},setAdListener:function(t){a.log("Android-setAdListener"),jsb.reflection.callStaticMethod(i,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return a.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(i,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){a.log("Android-checkAdStatus:"+t);var n=jsb.reflection.callStaticMethod(i,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t);return n&&null!=n?n:""},showAd:function(t){a.log("Android-showAd:"+t),jsb.reflection.callStaticMethod(i,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,n){a.log("Android-showAdInScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(i,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,n)},entryAdScenario:function(t,n){a.log("Android-entryAdScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(i,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,n)}});n._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e8007lRO9BOzpI1M2rErC1c","ATAndroidJS",void 0);var n="com/anythink/cocosjs/ATJSBridge";t("ATAndroidJS",{printJsLog:function(t){null!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","AT-Cocos-JS",t)},initSDK:function(t,e){jsb.reflection.callStaticMethod(n,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},initCustomMap:function(t){jsb.reflection.callStaticMethod(n,"initCustomMap","(Ljava/lang/String;)V",t)},setPlacementCustomMap:function(t,e){jsb.reflection.callStaticMethod(n,"setPlacementCustomMap","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},setGDPRLevel:function(t){jsb.reflection.callStaticMethod(n,"setGDPRLevel","(I)V",t)},getGDPRLevel:function(){return jsb.reflection.callStaticMethod(n,"getGDPRLevel","()I")},getUserLocation:function(t){jsb.reflection.callStaticMethod(n,"getUserLocation","(Ljava/lang/String;)V",t)},showGDPRAuth:function(){jsb.reflection.callStaticMethod(n,"showGDPRAuth","()V")},setLogDebug:function(t){jsb.reflection.callStaticMethod(n,"setLogDebug","(Z)V",t)},deniedUploadDeviceInfo:function(t){jsb.reflection.callStaticMethod(n,"deniedUploadDeviceInfo","(Ljava/lang/String;)V",t)},showDebuggerUI:function(t){try{jsb.reflection.callStaticMethod(n,"showDebuggerUI","(Ljava/lang/String;)V",t)}catch(t){t instanceof Error?console.error(t.message):console.error("unknown error",t)}}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidNativeTS.ts",["cc","./CCUtils.ts"],(function(t){var n,a;return{setters:[function(t){n=t.cclegacy},function(t){a=t.default}],execute:function(){n._RF.push({},"62cb4c5J6xBhrHo04JvLEss","ATAndroidNativeTS",void 0);var i="com/anythink/cocosjs/ATNativeJSBridge";t("ATAndroidNativeTS",{loadNative:function(t,n){a.log("Android-loadNative"),jsb.reflection.callStaticMethod(i,"load","(Ljava/lang/String;Ljava/lang/String;)J",t,n)},setAdListener:function(t){a.log("Android-setAdListener"),jsb.reflection.callStaticMethod(i,"setAdListener","(Ljava/lang/String;)V",t)},hasAdReady:function(t){return a.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(i,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return a.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(i,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t,n){a.log("Android-showAd"),jsb.reflection.callStaticMethod(i,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,n,"")},showAdInScenario:function(t,n,e){a.log("Android-showAdInScenario"),jsb.reflection.callStaticMethod(i,"show","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,n,e)},removeAd:function(t){a.log("Android-removeAd"),jsb.reflection.callStaticMethod(i,"remove","(Ljava/lang/String;)V",t)},entryAdScenario:function(t,n){a.log("Android-entryAdScenario:"+t+"---"+n),jsb.reflection.callStaticMethod(i,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,n)}});n._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoAutoTS.ts",["cc","./CCUtils.ts"],(function(t){var a,n;return{setters:[function(t){a=t.cclegacy},function(t){n=t.default}],execute:function(){a._RF.push({},"18811IyesdOT4mnS3YdQaLV","ATAndroidRewardedVideoAutoTS",void 0);var e="com/anythink/cocosjs/ATRewardedVideoAutoAdJSBridge";t("ATAndroidRewardedVideoAutoAdTS",{setAdListener:function(t){n.log("Android-setAdListener"),jsb.reflection.callStaticMethod(e,"setAdListener","(Ljava/lang/String;)J",t)},addPlacementIds:function(t){n.log("Android-addPlacementIds"),jsb.reflection.callStaticMethod(e,"addPlacementIds","(Ljava/lang/String;)V",t)},removePlacementId:function(t){n.log("Android-removePlacementId"),jsb.reflection.callStaticMethod(e,"removePlacementId","(Ljava/lang/String;)V",t)},setAdExtraData:function(t,a){n.log("Android-setAdExtraData"),jsb.reflection.callStaticMethod(e,"setAdExtraData","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},hasAdReady:function(t){return n.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(e,"isAdReady","(Ljava/lang/String;)Z",t)},checkAdStatus:function(t){return n.log("Android-checkAdStatus:"+t),jsb.reflection.callStaticMethod(e,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",t)},showAd:function(t){n.log("Android-rvautoad_showAd:"+t),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;)V",t)},showAdInScenario:function(t,a){n.log("Android-rvautoad_showAdInScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"show","(Ljava/lang/String;Ljava/lang/String;)V",t,a)},entryAdScenario:function(t,a){n.log("Android-entryAdScenario:"+t+"---"+a),jsb.reflection.callStaticMethod(e,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",t,a)}});a._RF.pop()}}}));

System.register("chunks:///_virtual/ATAndroidRewardedVideoTS.ts",["cc","./CCUtils.ts"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.default}],execute:function(){t._RF.push({},"6581dNizQBD6q47DNc5Iyew","ATAndroidRewardedVideoTS",void 0);var a="com/anythink/cocosjs/ATRewardedVideoJSBridge";n("ATAndroidRewardedVideoJS",{loadRewardedVideo:function(n,t){e.log("Android-loadRewardedVideo");var d=jsb.reflection.callStaticMethod(a,"load","(Ljava/lang/String;Ljava/lang/String;)J",n,t);return null==d||null==d?0:d},setAdListener:function(n){e.log("Android-setAdListener"),jsb.reflection.callStaticMethod(a,"setAdListener","(Ljava/lang/String;)V",n)},hasAdReady:function(n){return e.log("Android-hasAdReady"),jsb.reflection.callStaticMethod(a,"isAdReady","(Ljava/lang/String;)Z",n)},checkAdStatus:function(n){e.log("Android-checkAdStatus:"+n);var t=jsb.reflection.callStaticMethod(a,"checkAdStatus","(Ljava/lang/String;)Ljava/lang/String;",n);return t&&null!=t?t:""},showAd:function(n){e.log("Android-rv_showAd:"+n),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;)V",n)},showAdInScenario:function(n,t){e.log("Android-rv_showAdInScenario:"+n+"---"+t),jsb.reflection.callStaticMethod(a,"show","(Ljava/lang/String;Ljava/lang/String;)V",n,t)},entryAdScenario:function(n,t){e.log("Android-entryAdScenario:"+n+"---"+t),jsb.reflection.callStaticMethod(a,"entryAdScenario","(Ljava/lang/String;Ljava/lang/String;)V",n,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATBannerSceneScript.ts",["cc","./ATJSSDK.ts","./ATBannerTSSDK.ts"],(function(n){var e,t,o,i,d;return{setters:[function(n){e=n.cclegacy,t=n._decorator,o=n.view},function(n){i=n.ATJSSDK},function(n){d=n.ATBannerSDK}],execute:function(){var a;e._RF.push({},"2c878zEWVVHLYgT6/Rnru+6","ATBannerSceneScript",void 0);var r=t.ccclass,c=(t.property,n("ATBannerSceneScript",r("ATBannerSceneScript")(a=function(){function n(){this.placementId="",this.mId=0}var e=n.prototype;return e.init=function(){d.setAdListener(this)},e.loadAD=function(n){this.placementId=n,i.printLog("AnyThinkBannerDemo::loadAd("+this.placementId+")");var e={};e[d.kATBannerAdLoadingExtraBannerAdSizeStruct]=d.createLoadAdSize(o.getFrameSize().width,150),e[d.kATBannerAdAdaptiveWidth]=o.getFrameSize().width,e[d.kATBannerAdAdaptiveOrientation]=d.kATBannerAdAdaptiveOrientationPortrait,this.mId=d.loadBanner(this.placementId,e)},e.showAd=function(){i.printLog("AnyThinkBannerDemo::showAd("+this.placementId+")"),d.showAdInPosition(this.placementId,d.kATBannerAdShowingPositionBottom)},e.removeAd=function(){c("removeAd",this.mId,this.placementId,"",""),d.removeAd(this.placementId)},e.reShowAd=function(){c("reShowAd",this.mId,this.placementId,"",""),d.reShowAd(this.placementId)},e.hideAd=function(){c("reShowAd",this.mId,this.placementId,"",""),d.hideAd(this.placementId)},e.isReady=function(){var n=d.hasAdReady(this.placementId);i.printLog("AnyThinkBannerDemo::checkReady() "+(n?"Ready":"NO"));var e=d.checkAdStatus(this.placementId);i.printLog("AnyThinkBannerDemo::checkAdStatus()   "+e)},e.onBannerAdLoaded=function(n,e){c("onBannerAdLoaded",n,e,"","")},e.onBannerAdLoadFail=function(n,e,t){c("onBannerAdLoadFail",n,e,"",t)},e.onBannerAdShow=function(n,e,t){c("onBannerAdShow",n,e,t,"")},e.onBannerAdClick=function(n,e,t){c("onBannerAdClick",n,e,t,"")},e.onBannerAdAutoRefresh=function(n,e,t){c("onBannerAdAutoRefresh",n,e,t,"")},e.onBannerAdAutoRefreshFail=function(n,e,t){c("onBannerAdAutoRefreshFail",n,e,"",t)},e.onBannerAdCloseButtonTapped=function(n,e,t){c("onBannerAdCloseButtonTapped",n,e,t,"")},e.onAdSourceBiddingAttempt=function(n,e,t){c("onAdSourceBiddingAttempt",n,e,t,"")},e.onAdSourceBiddingFilled=function(n,e,t){c("onAdSourceBiddingFilled",n,e,t,"")},e.onAdSourceBiddingFail=function(n,e,t,o){c("onAdSourceBiddingFail",n,e,o,t)},e.onAdSourceAttemp=function(n,e,t){c("onAdSourceAttemp",n,e,t,"")},e.onAdSourceLoadFilled=function(n,e,t){c("onAdSourceLoadFilled",n,e,t,"")},e.onAdSourceLoadFail=function(n,e,t,o){c("onAdSourceLoadFail",n,e,o,t)},n}())||a),function(n,e,t,o,d){i.printLogWithParams("AnyThinkBannerDemo",e,n,t,o,d)});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATBannerTSSDK.ts",["cc","./ATAndroidBannerTS.ts","./ATiOSBannerTS.ts","./CCUtils.ts"],(function(n){var e,l,o,a,r;return{setters:[function(n){e=n.cclegacy,l=n.sys},function(n){o=n.ATAndroidBannerTS},function(n){a=n.ATiOSBannerJS},function(n){r=n.default}],execute:function(){e._RF.push({},"75c69yjQSZCLqezHej1MYO8","ATBannerTSSDK",void 0);var d=l.os===l.OS.IOS?a:l.os===l.OS.ANDROID?o:void 0,i=n("ATBannerSDK",{kATBannerAdLoadingExtraBannerAdSizeStruct:"banner_ad_size_struct",kATBannerAdShowingPositionTop:"top",kATBannerAdShowingPositionBottom:"bottom",kATBannerAdInlineAdaptiveWidth:"inline_adaptive_width",kATBannerAdInlineAdaptiveOrientation:"inline_adaptive_orientation",kATBannerAdInlineAdaptiveOrientationCurrent:0,kATBannerAdInlineAdaptiveOrientationPortrait:1,kATBannerAdInlineAdaptiveOrientationLandscape:2,kATBannerAdAdaptiveWidth:"adaptive_width",kATBannerAdAdaptiveOrientation:"adaptive_orientation",kATBannerAdAdaptiveOrientationCurrent:0,kATBannerAdAdaptiveOrientationPortrait:1,kATBannerAdAdaptiveOrientationLandscape:2,ATBannerListener:{developerCallback:null,onBannerAdLoaded:function(n,e){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoaded&&null!=this.developerCallback.onBannerAdLoaded&&this.developerCallback.onBannerAdLoaded(n,e)},onBannerAdLoadFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdLoadFail&&null!=this.developerCallback.onBannerAdLoadFail&&this.developerCallback.onBannerAdLoadFail(n,e,l)},onBannerAdShow:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdShow&&null!=this.developerCallback.onBannerAdShow&&this.developerCallback.onBannerAdShow(n,e,l)},onBannerAdClick:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdClick&&null!=this.developerCallback.onBannerAdClick&&this.developerCallback.onBannerAdClick(n,e,l)},onBannerAdAutoRefresh:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefresh&&null!=this.developerCallback.onBannerAdAutoRefresh&&this.developerCallback.onBannerAdAutoRefresh(n,e,l)},onBannerAdAutoRefreshFail:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&null!=this.developerCallback.onBannerAdAutoRefreshFail&&this.developerCallback.onBannerAdAutoRefreshFail(n,e,l)},onBannerAdCloseButtonTapped:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&null!=this.developerCallback.onBannerAdCloseButtonTapped&&this.developerCallback.onBannerAdCloseButtonTapped(n,e,l)},onAdSourceBiddingAttempt:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(n,e,l)},onAdSourceBiddingFilled:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(n,e,l)},onAdSourceBiddingFail:function(n,e,l,o){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(n,e,l,o)},onAdSourceAttemp:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(n,e,l)},onAdSourceLoadFilled:function(n,e,l){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(n,e,l)},onAdSourceLoadFail:function(n,e,l,o){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(n,e,l,o)}},loadBanner:function(n,e){void 0===e&&(e={});var l=0;if(null!=d&&null!=d){if(e.hasOwnProperty(i.kATBannerAdLoadingExtraBannerAdSizeStruct)){var o=e[i.kATBannerAdLoadingExtraBannerAdSizeStruct];e.width=o.width,e.height=o.height}l=d.loadBanner(n,JSON.stringify(e))}else r.log("You must run on Android or iOS.");return l},setAdListener:function(n){var e={};e[t]="ATBannerSDK.ATBannerListener.onBannerAdLoaded",e[A]="ATBannerSDK.ATBannerListener.onBannerAdLoadFail",e[u]="ATBannerSDK.ATBannerListener.onBannerAdCloseButtonTapped",e[c]="ATBannerSDK.ATBannerListener.onBannerAdClick",e[s]="ATBannerSDK.ATBannerListener.onBannerAdShow",e[B]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefresh",e[h]="ATBannerSDK.ATBannerListener.onBannerAdAutoRefreshFail",e[p]="ATBannerSDK.ATBannerListener.onAdSourceBiddingAttempt",e[S]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFilled",e[v]="ATBannerSDK.ATBannerListener.onAdSourceBiddingFail",e[k]="ATBannerSDK.ATBannerListener.onAdSourceAttemp",e[C]="ATBannerSDK.ATBannerListener.onAdSourceLoadFilled",e[T]="ATBannerSDK.ATBannerListener.onAdSourceLoadFail",null!=d&&null!=d?d.setAdListener(JSON.stringify(e)):r.log("You must run on Android or iOS."),this.ATBannerListener.developerCallback=n},hasAdReady:function(n){return null!=d&&null!=d?d.hasAdReady(n):(r.log("You must run on Android or iOS."),!1)},checkAdStatus:function(n){return null!=d&&null!=d?d.checkAdStatus(n):(r.log("You must run on Android or iOS."),"")},showAdInPosition:function(n,e){null!=d&&null!=d?d.showAdInPosition(n,e):r.log("You must run on Android or iOS.")},showAdInPositionAndScenario:function(n,e){null!=d&&null!=d?d.showAdInPosition(n,e):r.log("You must run on Android or iOS.")},showAdInRectangle:function(n,e){null!=d&&null!=d?d.showAdInRectangle(n,JSON.stringify(e)):r.log("You must run on Android or iOS.")},showAdInRectangleAndScenario:function(n,e){null!=d&&null!=d?d.showAdInRectangle(n,JSON.stringify(e)):r.log("You must run on Android or iOS.")},removeAd:function(n){null!=d&&null!=d?d.removeAd(n):r.log("You must run on Android or iOS.")},reShowAd:function(n){null!=d&&null!=d?d.reShowAd(n):r.log("You must run on Android or iOS.")},hideAd:function(n){null!=d&&null!=d?d.hideAd(n):r.log("You must run on Android or iOS.")},createLoadAdSize:function(n,e){var l={};return l.width=n,l.height=e,l},createShowAdRect:function(n,e,l,o){var a={};return a.x=n,a.y=e,a.width=l,a.height=o,a}}),t="BannerLoaded",A="BannerLoadFail",u="BannerCloseButtonTapped",c="BannerClick",s="BannerShow",B="BannerRefresh",h="BannerRefreshFail",p="BannerBiddingAttempt",S="BannerBiddingFilled",v="BannerBiddingFail",k="BannerAttemp",C="BannerLoadFilled",T="BannerLoadFail";window.ATBannerSDK=i,e._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialAutoSceneScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATJSSDK.ts","./ATIntersitialAutoTSSDK.ts","./CCUtils.ts"],(function(t){var n,i,e,o,d,a;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){o=t.ATJSSDK},function(t){d=t.ATInterstitialAutoAdSDK},function(t){a=t.default}],execute:function(){var r;i._RF.push({},"a7c53gp7UZPJ7qSNt6qKuBw","ATIntersitialAutoSceneScript",void 0);var c=e.ccclass,l=(e.property,t("ATIntersitialAutoSceneScript",c("ATIntersitialAutoSceneScript")(r=function(){function t(){this.placementIds=[],this.mId=0}var i=t.prototype;return i.init=function(){this.mId=d.setAdListener(this)},i.addAutoLoadPlacementIds=function(t){this.placementIds=t,d.addPlacementIds(this.placementIds),l("addAutoLoadPlacementIds",this.mId,this.placementIds,"","")},i.removeAutoLoadPlacementId=function(){d.removePlacementId(this.placementIds),l("removeAutoLoadPlacementId",this.mId,this.placementIds,"","")},i.showAd=function(t){void 0===t&&(t="");var n=a.random(this.getReadyPlacementIds());return!!n&&(d.showAdInScenario(n,t),l("showAd",this.mId,n,"",""),!0)},i.getReadyPlacementIds=function(){for(var t,i=[],e=n(this.placementIds);!(t=e()).done;){var o=t.value;if(d.hasAdReady(o)){i.push(o);break}}return i},i.onInterstitialAdLoaded=function(t,n){l("onInterstitialAdLoaded",t,n,"","")},i.onInterstitialAdLoadFail=function(t,n,i){l("onInterstitialAdLoadFail",t,n,"",i)},i.onInterstitialAdShow=function(t,n,i){l("onInterstitialAdShow",t,n,i,"")},i.onInterstitialAdStartPlayingVideo=function(t,n,i){l("onInterstitialAdStartPlayingVideo",t,n,i,"")},i.onInterstitialAdEndPlayingVideo=function(t,n,i){l("onInterstitialAdEndPlayingVideo",t,n,i,"")},i.onInterstitialAdFailedToPlayVideo=function(t,n,i){l("onInterstitialAdFailedToPlayVideo",t,n,"",i)},i.onInterstitialAdFailedToShow=function(t,n,i,e){l("onInterstitialAdFailedToShow",t,n,e,i)},i.onInterstitialAdClose=function(t,n,i){l("onInterstitialAdClose",t,n,i,"")},i.onInterstitialAdClick=function(t,n,i){l("onInterstitialAdClick",t,n,i,"")},i.onAdSourceBiddingAttempt=function(t,n,i){l("onAdSourceBiddingAttempt",t,n,i,"")},i.onAdSourceBiddingFilled=function(t,n,i){l("onAdSourceBiddingFilled",t,n,i,"")},i.onAdSourceBiddingFail=function(t,n,i,e){l("onAdSourceBiddingFail",t,n,e,i)},i.onAdSourceAttemp=function(t,n,i){l("onAdSourceAttemp",t,n,i,"")},i.onAdSourceLoadFilled=function(t,n,i){l("onAdSourceLoadFilled",t,n,i,"")},i.onAdSourceLoadFail=function(t,n,i,e){l("onAdSourceLoadFail",t,n,e,"")},t}())||r),function(t,n,i,e,d){o.printLogWithParams("AnyThinkInterstitialAutoAdDemo",t,n,i,e,d)});i._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialAutoTSSDK.ts",["cc","./ATAndroidIntersitialAutoTS.ts","./ATiOSIntersitiaAutolTS.ts","./CCUtils.ts"],(function(t){var l,i,e,n,o;return{setters:[function(t){l=t.cclegacy,i=t.sys},function(t){e=t.ATAndroidInterstitialAutoAdTS},function(t){n=t.ATiOSInterstitialAutoAdTS},function(t){o=t.default}],execute:function(){l._RF.push({},"3399ejnD1lHeK5sh7aOnYgy","ATIntersitialAutoTSSDK",void 0);var a=i.os===i.OS.IOS?n:i.os===i.OS.ANDROID?e:void 0,d=t("ATInterstitialAutoAdSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",UseRewardedVideoAsInterstitial:"UseRewardedVideoAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(t,l){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(t,l)},onInterstitialAdLoadFail:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(t,l,i)},onInterstitialAdShow:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(t,l,i)},onInterstitialAdStartPlayingVideo:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(t,l,i)},onInterstitialAdEndPlayingVideo:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(t,l,i)},onInterstitialAdFailedToPlayVideo:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(t,l,i)},onInterstitialAdFailedToShow:function(t,l,i,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(t,l,i,e)},onInterstitialAdClose:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(t,l,i)},onInterstitialAdClick:function(t,l,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(t,l,i)}},setAdExtraData:function(t,l){void 0===l&&(l={}),null!=a&&null!=a?a.setAdExtraData(t,JSON.stringify(l)):o.log("You must run on Android or iOS.")},addPlacementIds:function(t){null!=a&&null!=a?a.addPlacementIds(JSON.stringify(t)):o.log("You must run on Android or iOS.")},removePlacementId:function(t){null!=a&&null!=a?a.removePlacementId(JSON.stringify(t)):o.log("You must run on Android or iOS.")},setAdListener:function(t){var l=0,i={};return i[r]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoaded",i[s]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdLoadFail",i[A]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",i[u]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",i[I]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",i[c]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClose",i[S]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdClick",i[h]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdShow",i[C]="ATInterstitialAutoAdSDK.ATInterstitialListener.onInterstitialAdFailedToShow",null!=a&&null!=a?l=a.setAdListener(JSON.stringify(i)):o.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=t,l},hasAdReady:function(t){return null!=a&&null!=a?a.hasAdReady(t):(o.log("You must run on Android or iOS."),!1)},checkAdStatus:function(t){return null!=a&&null!=a?a.checkAdStatus(t):(o.log("You must run on Android or iOS."),"")},showAd:function(t){null!=a&&null!=a?a.showAd(t):o.log("You must run on Android or iOS.")},showAdInScenario:function(t,l){void 0===l&&(l=""),null!=a&&null!=a?a.showAdInScenario(t,l):o.log("You must run on Android or iOS.")},entryAdScenario:function(t,l){void 0===l&&(l=""),null!=a&&null!=a?a.entryAdScenario(t,l):o.log("You must run on Android or iOS.")}}),r="InterstitialAutoAdLoaded",s="InterstitialAutoAdLoadFail",A="InterstitialAutoAdPlayStart",u="InterstitialAutoAdPlayEnd",I="InterstitialAutoAdPlayFail",c="InterstitialAutoAdClose",S="InterstitialAutoAdClick",h="InterstitialAutoAdAdShow",C="InterstitialAutoAdShowFail";window.ATInterstitialAutoAdSDK=d,l._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialSceneScript.ts",["cc","./ATJSSDK.ts","./ATIntersitialTSSDK.ts"],(function(n){var t,i,e,d;return{setters:[function(n){t=n.cclegacy,i=n._decorator},function(n){e=n.ATJSSDK},function(n){d=n.ATInterstitialSDK}],execute:function(){var o,a;t._RF.push({},"9c19aq7/xRG/41Tv/Gg5b1o","ATIntersitialSceneScript",void 0);var r=i.ccclass,l=(i.property,n("ATIntersitialSceneScript",r("ATIntersitialSceneScript")(((a=function(){function n(){this.placementId="",this.mId=0}var t=n.prototype;return t.init=function(){d.setAdListener(this)},t.loadAD=function(n){this.placementId=n;this.mId=d.loadInterstitial(this.placementId,{}),l("loadAD",this.mId,this.placementId,"","")},t.showAd=function(t,i,e){void 0===t&&(t=null),void 0===i&&(i=null),void 0===e&&(e=""),n.fnRewardedEarn=t,n.fnRewardedDimissed=i,d.showAdInScenario(this.placementId,e),l("showAd",this.mId,this.placementId,"","")},t.isReady=function(){e.printLog("AnyThinkInterisitalDemo::checkReady()   "+(d.hasAdReady(this.placementId)?"Ready":"No"));var n=d.checkAdStatus(this.placementId);return e.printLog("AnyThinkInterisitalDemo::checkAdStatus()   "+n),n},t.onInterstitialAdLoaded=function(n,t){l("onInterstitialAdLoaded",n,t,"","")},t.onInterstitialAdLoadFail=function(n,t,i){l("onInterstitialAdLoadFail",n,t,"",i)},t.onInterstitialAdShow=function(n,t,i){l("onInterstitialAdShow",n,t,i,"")},t.onInterstitialAdStartPlayingVideo=function(n,t,i){l("onInterstitialAdStartPlayingVideo",n,t,i,"")},t.onInterstitialAdEndPlayingVideo=function(n,t,i){l("onInterstitialAdEndPlayingVideo",n,t,i,"")},t.onInterstitialAdFailedToPlayVideo=function(n,t,i){l("onInterstitialAdFailedToPlayVideo",n,t,"",i)},t.onInterstitialAdFailedToShow=function(n,t,i,e){l("onInterstitialAdFailedToShow",n,t,e,i)},t.onInterstitialAdClose=function(t,i,e){l("onInterstitialAdClose",t,i,e,""),n.fnRewardedEarn&&n.fnRewardedEarn(),n.fnRewardedDimissed&&n.fnRewardedDimissed()},t.onInterstitialAdClick=function(n,t,i){l("onInterstitialAdClick",n,t,i,"")},t.onAdSourceBiddingAttempt=function(n,t,i){l("onAdSourceBiddingAttempt",n,t,i,"")},t.onAdSourceBiddingFilled=function(n,t,i){l("onAdSourceBiddingFilled",n,t,i,"")},t.onAdSourceBiddingFail=function(n,t,i,e){l("onAdSourceBiddingFail",n,t,e,i)},t.onAdSourceAttemp=function(n,t,i){l("onAdSourceAttemp",n,t,i,"")},t.onAdSourceLoadFilled=function(n,t,i){l("onAdSourceLoadFilled",n,t,i,"")},t.onAdSourceLoadFail=function(n,t,i,e){l("onAdSourceLoadFail",n,t,e,i)},n}()).fnRewardedEarn=null,a.fnRewardedDimissed=null,o=a))||o),function(n,t,i,d,o){e.printLogWithParams("AnyThinkInterisitalDemo",t,n,i,d,o)});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATIntersitialTSSDK.ts",["cc","./ATAndroidIntersitialTS.ts","./ATiOSIntersitialTS.ts","./CCUtils.ts"],(function(l){var t,i,e,n,a;return{setters:[function(l){t=l.cclegacy,i=l.sys},function(l){e=l.ATAndroidInterstitialJS},function(l){n=l.ATiOSInterstitialJS},function(l){a=l.default}],execute:function(){t._RF.push({},"c1c4aY1CQlADLo+W8wKHNbd","ATIntersitialTSSDK",void 0);var o=i.os===i.OS.IOS?n:i.os===i.OS.ANDROID?e:void 0,d=l("ATInterstitialSDK",{UseInterstitialAsInterstitial:"UseInterstitialAsInterstitial",ATInterstitialListener:{developerCallback:null,onInterstitialAdLoaded:function(l,t){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoaded&&null!=this.developerCallback.onInterstitialAdLoaded&&this.developerCallback.onInterstitialAdLoaded(l,t)},onInterstitialAdLoadFail:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdLoadFail&&null!=this.developerCallback.onInterstitialAdLoadFail&&this.developerCallback.onInterstitialAdLoadFail(l,t,i)},onInterstitialAdShow:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdShow&&null!=this.developerCallback.onInterstitialAdShow&&this.developerCallback.onInterstitialAdShow(l,t,i)},onInterstitialAdStartPlayingVideo:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&null!=this.developerCallback.onInterstitialAdStartPlayingVideo&&this.developerCallback.onInterstitialAdStartPlayingVideo(l,t,i)},onInterstitialAdEndPlayingVideo:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&null!=this.developerCallback.onInterstitialAdEndPlayingVideo&&this.developerCallback.onInterstitialAdEndPlayingVideo(l,t,i)},onInterstitialAdFailedToPlayVideo:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&null!=this.developerCallback.onInterstitialAdFailedToPlayVideo&&this.developerCallback.onInterstitialAdFailedToPlayVideo(l,t,i)},onInterstitialAdFailedToShow:function(l,t,i,e){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdFailedToShow&&null!=this.developerCallback.onInterstitialAdFailedToShow&&this.developerCallback.onInterstitialAdFailedToShow(l,t,i,e)},onInterstitialAdClose:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClose&&null!=this.developerCallback.onInterstitialAdClose&&this.developerCallback.onInterstitialAdClose(l,t,i)},onInterstitialAdClick:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onInterstitialAdClick&&null!=this.developerCallback.onInterstitialAdClick&&this.developerCallback.onInterstitialAdClick(l,t,i)},onAdSourceBiddingAttempt:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(l,t,i)},onAdSourceBiddingFilled:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(l,t,i)},onAdSourceBiddingFail:function(l,t,i,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(l,t,i,e)},onAdSourceAttemp:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(l,t,i)},onAdSourceLoadFilled:function(l,t,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(l,t,i)},onAdSourceLoadFail:function(l,t,i,e){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(l,t,i,e)}},loadInterstitial:function(l,t){return void 0===t&&(t={}),null!=o&&null!=o?o.loadInterstitial(l,JSON.stringify(t)):(a.log("You must run on Android or iOS."),0)},setAdListener:function(l){var t={};t[r]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoaded",t[s]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdLoadFail",t[A]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdStartPlayingVideo",t[u]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdEndPlayingVideo",t[c]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToPlayVideo",t[I]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClose",t[S]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdClick",t[h]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdShow",t[p]=" ATInterstitialSDK.ATInterstitialListener.onInterstitialAdFailedToShow",t[C]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingAttempt",t[k]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFilled",t[v]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceBiddingFail",t[b]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceAttemp",t[T]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFilled",t[F]=" ATInterstitialSDK.ATInterstitialListener.onAdSourceLoadFail",null!=o&&null!=o?o.setAdListener(JSON.stringify(t)):a.log("You must run on Android or iOS."),this.ATInterstitialListener.developerCallback=l},hasAdReady:function(l){return null!=o&&null!=o?o.hasAdReady(l):(a.log("You must run on Android or iOS."),!1)},checkAdStatus:function(l){return null!=o&&null!=o?o.checkAdStatus(l):(a.log("You must run on Android or iOS."),"")},showAd:function(l){null!=o&&null!=o?o.showAd(l):a.log("You must run on Android or iOS.")},showAdInScenario:function(l,t){void 0===t&&(t=""),null!=o&&null!=o?o.showAdInScenario(l,t):a.log("You must run on Android or iOS.")},entryAdScenario:function(l,t){void 0===t&&(t=""),null!=o&&null!=o?o.entryAdScenario(l,t):a.log("You must run on Android or iOS.")}}),r="InterstitialLoaded",s="InterstitialLoadFail",A="InterstitialPlayStart",u="InterstitialPlayEnd",c="InterstitialPlayFail",I="InterstitialClose",S="InterstitialClick",h="InterstitialAdShow",p="InterstitialAdShowFail",C="InterstitialBiddingAttempt",k="InterstitialBiddingFilled",v="InterstitialBiddingFail",b="InterstitialAttemp",T="InterstitialLoadFilled",F="InterstitialLoadFail";window.ATInterstitialSDK=d,t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSBannerTS.ts",["cc","./ATiOSJS.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.ATiOSJS}],execute:function(){e._RF.push({},"52b0acJeKNIoJIV1tUwJhVq","ATiOSBannerTS",void 0);var i="ATBannerAdWrapper";n("ATiOSBannerJS",{loadBanner:function(n,e){t.printJsLog("ATiOSBannerJS::loadBanner("+n+", "+e+")");var o=jsb.reflection.callStaticMethod(i,"loadBannerWithPlacementID:extra:",n,e);return o&&null!=o?o:0},setAdListener:function(n){t.printJsLog("ATiOSBannerJS::setAdListener("+n+")"),jsb.reflection.callStaticMethod(i,"setDelegates:",n)},hasAdReady:function(n){return t.printJsLog("ATiOSBannerJS::hasAdReady("+n+")"),jsb.reflection.callStaticMethod(i,"bannerReadyForPlacementID:",n)},checkAdStatus:function(n){return t.printJsLog("ATiOSBannerJS::checkAdStatus("+n+")"),jsb.reflection.callStaticMethod(i,"bannerCheckAdStatusForPlacementID:",n)},showAdInPosition:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInPosition("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,null,e)},showAdInPositionAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInPositionAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:position:",n,o,e)},showAdInRectangle:function(n,e){t.printJsLog("ATiOSBannerJS::showAdInRectangle("+n+", "+e+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,null,e)},showAdInRectangleAndScenario:function(n,e,o){t.printJsLog("ATiOSBannerJS::showAdInRectangleAndScenario("+n+", "+e+", "+o+")"),jsb.reflection.callStaticMethod(i,"showBannerWithPlacementID:scene:rect:",n,o,e)},removeAd:function(n){t.printJsLog("ATiOSBannerJS::removeAd("+n+")"),jsb.reflection.callStaticMethod(i,"removeAd:",n)},reShowAd:function(n){t.printJsLog("ATiOSBannerJS::reShowAd("+n+")"),jsb.reflection.callStaticMethod(i,"reShowAd:",n)},hideAd:function(n){t.printJsLog("ATiOSBannerJS::hideAd("+n+")"),jsb.reflection.callStaticMethod(i,"hideAd:",n)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitiaAutolTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"8f922oRNitMPJtbqp7E1ZbL","ATiOSIntersitiaAutolTS",void 0);var n="ATInterstitialAutoAdWrapper";t("ATiOSInterstitialAutoAdTS",{setAdListener:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdListener("+t+")");var e=jsb.reflection.callStaticMethod(n,"setDelegates:",t);return e&&null!=e?e:0},setAdExtraData:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::setAdExtraData("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"setAutoLocalExtra:customDataJSONString:",t,e)},addPlacementIds:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::addPlacementIds("+t+")"),jsb.reflection.callStaticMethod(n,"addAutoLoadAdPlacementID:",t)},removePlacementId:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::removePlacementId("+t+")"),jsb.reflection.callStaticMethod(n,"removeAutoLoadAdPlacementID:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"autoLoadInterstitialAdReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSInterstitialAutoAdJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"checkAutoAdStatus:",t)},entryAdScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAutoAdScenarioWithPlacementID:scenarioID:",t,e)},showAd:function(t){i.printJsLog("ATiOSInterstitialAutoAdJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,null)},showAdInScenario:function(t,e){i.printJsLog("ATiOSInterstitialAutoAdJS::showAdInScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showAutoInterstitialAdWithPlacementID:scenarioID:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSIntersitialTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"2e221T5q0tKJLzh8o1ZTnbH","ATiOSIntersitialTS",void 0);var n="ATInterstitialAdWrapper";t("ATiOSInterstitialJS",{loadInterstitial:function(t,e){i.printJsLog("ATiOSInterstitialJS::loadInterstitial("+t+", "+e+")");var r=jsb.reflection.callStaticMethod(n,"loadInterstitialWithPlacementID:extra:",t,e);return r&&null!=r?r:0},setAdListener:function(t){i.printJsLog("ATiOSInterstitialJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSInterstitialJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"interstitialReadyForPlacementID:",t)},checkAdStatus:function(t){i.printJsLog("ATiOSInterstitialJS::checkAdStatus("+t+")");var e=jsb.reflection.callStaticMethod(n,"checkAdStatus:",t);return e&&null!=e?e:""},setUserData:function(t,e,i){CCUtils.log("Android-setUserData")},showAd:function(t){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,null)},showAdInScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showInterstitialWithPlacementID:scene:",t,e)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSJS.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2166awRWqlL5onAKHaO6VzH","ATiOSJS",void 0);var i="ATSDKManager";t("ATiOSJS",{initSDK:function(t,e){this.printJsLog("ATiOSJS::initSDK("+t+","+e+")"),jsb.reflection.callStaticMethod(i,"startWithAppID:appKey:",t,e)},initCustomMap:function(t){this.printJsLog("ATiOSJS::initCustomMap("+t+")"),jsb.reflection.callStaticMethod(i,"setCustomData:",t)},setPlacementCustomMap:function(t,e){this.printJsLog("ATiOSJS::setPlacementCustomMap("+t+", "+e+")"),jsb.reflection.callStaticMethod(i,"setCustomData:forPlacementID:",e,t)},setGDPRLevel:function(t){this.printJsLog("ATiOSJS::setGDPRLevel("+t+")"),jsb.reflection.callStaticMethod(i,"setDataConsent:",t)},getGDPRLevel:function(){return this.printJsLog("ATiOSJS::getGDPRLevel()"),jsb.reflection.callStaticMethod(i,"dataConsent")},getUserLocation:function(t){this.printJsLog("ATiOSJS::getUserLocation("+t+")"),jsb.reflection.callStaticMethod(i,"getUserLocationWithCallback:",t)},showGDPRAuth:function(){this.printJsLog("ATiOSJS::showGDPRAuth()"),jsb.reflection.callStaticMethod(i,"presentDataConsentDialog")},setLogDebug:function(t){this.printJsLog("ATiOSJS::setLogDebug("+t+")"),jsb.reflection.callStaticMethod(i,"setDebugLog:",t)},printJsLog:function(t){console.log(t),null!=t&&null!=t&&jsb.reflection.callStaticMethod("ATJSBridge","log:",t)},deniedUploadDeviceInfo:function(t){this.printJsLog("ATiOSJS::deniedUploadDeviceInfo("+t+")"),jsb.reflection.callStaticMethod(i,"deniedUploadDeviceInfo:",t)},showDebuggerUI:function(t){this.printJsLog("ATiOSJS::showDebuggerUI("+t+")"),jsb.reflection.callStaticMethod(i,"showDebuggerUIWithDebugKey:",t)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSNativeTS.ts",["cc","./ATiOSJS.ts"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.ATiOSJS}],execute:function(){e._RF.push({},"2458equz/hIOo2uqTkK2JTQ","ATiOSNativeTS",void 0);var n="ATNativeAdWrapper";t("ATiOSNativeTS",{loadNative:function(t,e){i.printJsLog("ATiOSBannerJS::loadNative("+t+", "+e+")");var a=jsb.reflection.callStaticMethod(n,"loadNativeWithPlacementID:extra:",t,e);return a&&null!=a?a:0},setAdListener:function(t){i.printJsLog("ATiOSNativeJS::setAdListener("+t+")"),jsb.reflection.callStaticMethod(n,"setDelegates:",t)},hasAdReady:function(t){return i.printJsLog("ATiOSNativeJS::hasAdReady("+t+")"),jsb.reflection.callStaticMethod(n,"nativeReadyForPlacementID:",t)},checkAdStatus:function(t){return i.printJsLog("ATiOSNativeJS::checkAdStatus("+t+")"),jsb.reflection.callStaticMethod(n,"nativeCheckAdStatusForPlacementID:",t)},showAd:function(t,e){i.printJsLog("ATiOSNativeJS::showAd("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,null,e)},showAdInScenario:function(t,e,a){i.printJsLog("ATiOSNativeJS::showAdInScenario("+t+", "+e+", "+a+")"),jsb.reflection.callStaticMethod(n,"showNativeWithPlacementID:scene:metrics:",t,a,e)},removeAd:function(t){i.printJsLog("ATiOSNativeJS::removeAd("+t+")"),jsb.reflection.callStaticMethod(n,"removeNativeWithPlacementID:",t)},entryAdScenario:function(t,e){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+t+", "+e+")"),jsb.reflection.callStaticMethod(n,"entryAdScenarioWithPlacementID:scene:",t,e)}});e._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedAutoVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,d;return{setters:[function(e){t=e.cclegacy},function(e){d=e.ATiOSJS}],execute:function(){t._RF.push({},"98f21zHpxFLtrqTFEl0/WYJ","ATiOSRewardedAutoVideoTS",void 0);var o="ATRewardedVideoAutoAdWrapper";e("ATiOSRewardedVideoAutoAdJS",{setAdListener:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdListener("+e+")");var t=jsb.reflection.callStaticMethod(o,"setDelegates:",e);return t&&null!=t?t:0},setAdExtraData:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::setAdExtraData("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"setAutoLocalExtra:customDataJSONString:",e,t)},addPlacementIds:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::addPlacementIds("+e+")"),jsb.reflection.callStaticMethod(o,"addAutoLoadAdPlacementID:",e)},removePlacementId:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::removePlacementId("+e+")"),jsb.reflection.callStaticMethod(o,"removeAutoLoadAdPlacementID:",e)},hasAdReady:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"autoLoadRewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){return d.printJsLog("ATiOSRewardedVideoAutoAdJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(o,"checkAutoAdStatus:",e)},entryAdScenario:function(e,t){d.printJsLog("ATiOSInterstitialAutoAdJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"entryAutoAdScenarioWithPlacementID:scenarioID:",e,t)},showAd:function(e){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAd("+e+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,null)},showAdInScenario:function(e,t){d.printJsLog("ATiOSRewardedVideoAutoAdJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(o,"showAutoRewardedVideoWithPlacementID:scenarioID:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATiOSRewardedVideoTS.ts",["cc","./ATiOSJS.ts"],(function(e){var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.ATiOSJS}],execute:function(){t._RF.push({},"a299baQwDpDjbXj45TaqLYL","ATiOSRewardedVideoTS",void 0);var d="ATRewardedVideoWrapper";e("ATiOSRewardedVideoTS",{loadRewardedVideo:function(e,t){i.printJsLog("ATiOSRewardedVideoJS::loadRewardedVideo("+e+", "+t+")");var n=jsb.reflection.callStaticMethod(d,"loadRewardedVideoWithPlacementID:extra:",e,t);return n&&null!=n?n:0},setAdListener:function(e){i.printJsLog("ATiOSRewardedVideoJS::setAdListener("+e+")"),jsb.reflection.callStaticMethod(d,"setDelegates:",e)},hasAdReady:function(e){return i.printJsLog("ATiOSRewardedVideoJS::hasAdReady("+e+")"),jsb.reflection.callStaticMethod(d,"rewardedVideoReadyForPlacementID:",e)},checkAdStatus:function(e){i.printJsLog("ATiOSRewardedVideoJS::checkAdStatus("+e+")");var t=jsb.reflection.callStaticMethod(d,"checkAdStatus:",e);return t&&null!=t?t:""},setUserData:function(e,t,i){CCUtils.log("Android-setUserData")},showAd:function(e){return i.printJsLog("ATiOSRewardedVideoJS::showAd("+e+")"),jsb.reflection.callStaticMethod(d,"showRewardedVideoWithPlacementID:scene:",e,null)},showAdInScenario:function(e,t){return i.printJsLog("ATiOSRewardedVideoJS::showAdInScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(d,"showRewardedVideoWithPlacementID:scene:",e,t)},entryAdScenario:function(e,t){return i.printJsLog("ATiOSInterstitialJS::entryAdScenario("+e+", "+t+")"),jsb.reflection.callStaticMethod(d,"entryAdScenarioWithPlacementID:scene:",e,t)}});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATJSSDK.ts",["cc","./ATAndroidJS.ts","./ATiOSJS.ts","./CCUtils.ts"],(function(n){var o,l,t,u,i,e;return{setters:[function(n){o=n.cclegacy,l=n._decorator,t=n.sys},function(n){u=n.ATAndroidJS},function(n){i=n.ATiOSJS},function(n){e=n.default}],execute:function(){o._RF.push({},"f6af3ysckVGlpXXtoBE6VtK","ATJSSDK",void 0);l.ccclass,l.property;var r=!1,s=t.os===t.OS.IOS?i:t.os===t.OS.ANDROID?u:void 0,c=n("ATJSSDK",{kATUserLocationUnknown:0,kATUserLocationInEU:1,kATUserLocationOutOfEU:2,PERSONALIZED:0,NONPERSONALIZED:1,UNKNOWN:2,OS_VERSION_NAME:"os_vn",OS_VERSION_CODE:"os_vc",APP_PACKAGE_NAME:"package_name",APP_VERSION_NAME:"app_vn",APP_VERSION_CODE:"app_vc",BRAND:"brand",MODEL:"model",DEVICE_SCREEN_SIZE:"screen",MNC:"mnc",MCC:"mcc",LANGUAGE:"language",TIMEZONE:"timezone",USER_AGENT:"ua",ORIENTATION:"orient",NETWORK_TYPE:"network_type",INSTALLER:"it_src",ANDROID_ID:"android_id",GAID:"gaid",MAC:"mac",IMEI:"imei",OAID:"oaid",IDFA:"idfa",IDFV:"idfv",ATSDKListener:{userLocationCallback:null,getUserLocationCallback:function(n){null!=this.userLocationCallback&&null!=this.userLocationCallback&&this.userLocationCallback(n)}},initSDK:function(n,o){null!=s&&null!=s?s.initSDK(n,o):e.log("You must run on Android or iOS.")},initCustomMap:function(n){null!=s&&null!=s?null!=n&&null!=n&&s.initCustomMap(JSON.stringify(n)):e.log("You must run on Android or iOS.")},setPlacementCustomMap:function(n,o){null!=s&&null!=s?null!=o&&null!=o&&s.setPlacementCustomMap(n,JSON.stringify(o)):e.log("You must run on Android or iOS.")},setGDPRLevel:function(n){null!=s&&null!=s?s.setGDPRLevel(n):e.log("You must run on Android or iOS.")},getGDPRLevel:function(){return null!=s&&null!=s?s.getGDPRLevel():(e.log("You must run on Android or iOS."),this.UNKNOWN)},getUserLocation:function(n){this.ATSDKListener.userLocationCallback=n,null!=s&&null!=s?s.getUserLocation(a):e.log("You must run on Android or iOS.")},showGDPRAuth:function(){null!=s&&null!=s?s.showGDPRAuth():e.log("You must run on Android or iOS.")},setLogDebug:function(n){r=n,null!=s&&null!=s?s.setLogDebug(n):e.log("You must run on Android or iOS.")},printLog:function(n){null!=n&&null!=n&&r&&null!=s&&(null!=s&&null!=s?s.printJsLog(n):e.log("You must run on Android or iOS."))},printLogWithParams:function(n,o,l,t,u,i){this.printLog(n+"::"+o+"()\nmId="+l+"\nplacementId="+t+"\ncallbackInfo="+u+"\nerrorInfo="+i)},deniedUploadDeviceInfo:function(n){if(null!=s&&null!=s){if(null!=n){for(var o=n.length,l="",t=0;t<o;t++){var u=n[t];l=0==t?u:l+","+u}e.log("test__"+l),s.deniedUploadDeviceInfo(l)}}else e.log("You must run on Android or iOS.")},showDebuggerUI:function(n){null!=s&&null!=s&&s.showDebuggerUI(n)}}),a=" ATJSSDK.ATSDKListener.getUserLocationCallback";window.ATJSSDK=c,o._RF.pop()}}}));

System.register("chunks:///_virtual/ATNativeSceneScript.ts",["cc","./ATJSSDK.ts","./ATNativeTSSDK.ts"],(function(e){var t,i,n,o,d,a;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.view},function(e){o=e.ATJSSDK},function(e){d=e.ATNativeTSSDK,a=e.AdViewProperty}],execute:function(){var c;t._RF.push({},"fa0cbAaP45B96AOllmRqEBR","ATNativeSceneScript",void 0);var r=i.ccclass,f=(i.property,e("ATNativeSceneScript",r("ATNativeSceneScript")(c=function(){function e(){this.placementId="",this.mId=0}var t=e.prototype;return t.init=function(){d.setAdListener(this)},t.loadAD=function(e){this.placementId=e,this.mId=d.loadNative(this.placementId,d.createLoadAdSize(n.getFrameSize().width,4*n.getFrameSize().width/5)),f("loadAd",this.mId,this.placementId,"","")},t.showAd=function(){var e=n.getFrameSize(),t=e.width,i=e.height,o=e.width/35,c=t,r=4*t/5,A=t/7,u=new a;u.parent=u.createItemViewProperty(0,i-r,c,r,"#ffffff","",0),u.appIcon=u.createItemViewProperty(0,r-A,A,A,"","",0),u.cta=u.createItemViewProperty(c-2*A,r-A,2*A,A,"#2095F1","#ffffff",A/3),u.mainImage=u.createItemViewProperty(o,o,c-2*o,r-A-2*o,"#ffffff","#ffffff",14),u.title=u.createItemViewProperty(A+o,r-A,c-3*A-2*o,A/2,"","#000000",A/3),u.desc=u.createItemViewProperty(A+o,r-A/2,c-3*A-2*o,A/2,"#ffffff","#000000",A/4),u.dislike=u.createItemViewProperty(c-A/2,0,A/2,A/2,"#00ffffff","#ffffff",14),u.elements=u.createItemViewProperty(0,r-A/2,c,A/2,"#7f000000","#ffffff",14),d.showAd(this.placementId,u),f("showAd",this.mId,this.placementId,"","")},t.isReady=function(){var e=d.hasAdReady(this.placementId);o.printLog("AnyThinkNativeDemo::checkReady() "+(e?"Ready":"NO"));var t=d.checkAdStatus(this.placementId);o.printLog("AnyThinkNativeDemo::checkAdStatus()   "+t)},t.removeAD=function(){d.removeAd(this.placementId),f("removeAd",this.mId,this.placementId,"","")},t.onNativeAdLoaded=function(e,t){f("onNativeAdLoaded",e,t,"","")},t.onNativeAdLoadFail=function(e,t,i){f("onNativeAdLoadFail",e,t,"",i)},t.onNativeAdShow=function(e,t,i){f("onNativeAdShow",e,t,i,"")},t.onNativeAdClick=function(e,t,i){f("onNativeAdClick",e,t,i,"")},t.onNativeAdVideoStart=function(e,t){f("onNativeAdVideoStart",e,t,"","")},t.onNativeAdVideoEnd=function(e,t){f("onNativeAdVideoEnd",e,t,"","")},t.onNativeAdCloseButtonTapped=function(e,t,i){f("onNativeAdCloseButtonTapped",e,t,i,""),this.removeAD()},t.onAdSourceBiddingAttempt=function(e,t,i){f("onAdSourceBiddingAttempt",e,t,i,"")},t.onAdSourceBiddingFilled=function(e,t,i){f("onAdSourceBiddingFilled",e,t,i,"")},t.onAdSourceBiddingFail=function(e,t,i,n){f("onAdSourceBiddingFail",e,t,n,i)},t.onAdSourceAttemp=function(e,t,i){f("onAdSourceAttemp",e,t,i,"")},t.onAdSourceLoadFilled=function(e,t,i){f("onAdSourceLoadFilled",e,t,i,"")},t.onAdSourceLoadFail=function(e,t,i,n){f("onAdSourceLoadFail",e,t,n,i)},e}())||c),function(e,t,i,n,d){o.printLogWithParams("AnyThinkNativeDemo",e,t,i,n,d)});t._RF.pop()}}}));

System.register("chunks:///_virtual/ATNativeTSSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATiOSNativeTS.ts","./ATAndroidNativeTS.ts","./CCUtils.ts"],(function(e){var l,i,t,o,n,a,d;return{setters:[function(e){l=e.inheritsLoose},function(e){i=e.cclegacy,t=e.sys,o=e.Component},function(e){n=e.ATiOSNativeTS},function(e){a=e.ATAndroidNativeTS},function(e){d=e.default}],execute:function(){i._RF.push({},"ad79b1qTipO6r/XDI7n1Suq","ATNativeTSSDK",void 0);var r=t.os===t.OS.IOS?n:t.os===t.OS.ANDROID?a:void 0,u=e("ATNativeTSSDK",{ATNativeListener:{developerCallback:null,onNativeAdLoaded:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoaded&&null!=this.developerCallback.onNativeAdLoaded&&this.developerCallback.onNativeAdLoaded(e,l)},onNativeAdLoadFail:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdLoadFail&&null!=this.developerCallback.onNativeAdLoadFail&&this.developerCallback.onNativeAdLoadFail(e,l,i)},onNativeAdShow:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdShow&&null!=this.developerCallback.onNativeAdShow&&this.developerCallback.onNativeAdShow(e,l,i)},onNativeAdClick:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdClick&&null!=this.developerCallback.onNativeAdClick&&this.developerCallback.onNativeAdClick(e,l,i)},onNativeAdVideoStart:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoStart&&null!=this.developerCallback.onNativeAdVideoStart&&this.developerCallback.onNativeAdVideoStart(e,l)},onNativeAdVideoEnd:function(e,l){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdVideoEnd&&null!=this.developerCallback.onNativeAdVideoEnd&&this.developerCallback.onNativeAdVideoEnd(e,l)},onNativeAdCloseButtonTapped:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&null!=this.developerCallback.onNativeAdCloseButtonTapped&&this.developerCallback.onNativeAdCloseButtonTapped(e,l,i)},onAdSourceBiddingAttempt:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,l,i)},onAdSourceBiddingFilled:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,l,i)},onAdSourceBiddingFail:function(e,l,i,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,l,i,t)},onAdSourceAttemp:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,l,i)},onAdSourceLoadFilled:function(e,l,i){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,l,i)},onAdSourceLoadFail:function(e,l,i,t){null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,l,i,t)}},loadNative:function(e,l){return void 0===l&&(l={}),null!=r&&null!=r?r.loadNative(e,JSON.stringify(l)):(d.log("You must run on Android or iOS."),0)},setAdListener:function(e){var l={};l[c]="ATNativeTSSDK.ATNativeListener.onNativeAdLoaded",l[v]="ATNativeTSSDK.ATNativeListener.onNativeAdLoadFail",l[s]="ATNativeTSSDK.ATNativeListener.onNativeAdCloseButtonTapped",l[A]="ATNativeTSSDK.ATNativeListener.onNativeAdClick",l[S]="ATNativeTSSDK.ATNativeListener.onNativeAdShow",l[p]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoStart",l[h]="ATNativeTSSDK.ATNativeListener.onNativeAdVideoEnd",l[N]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingAttempt",l[C]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFilled",l[k]="ATNativeTSSDK.ATNativeListener.onAdSourceBiddingFail",l[T]="ATNativeTSSDK.ATNativeListener.onAdSourceAttemp",l[b]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFilled",l[g]="ATNativeTSSDK.ATNativeListener.onAdSourceLoadFail",null!=r&&null!=r?r.setAdListener(JSON.stringify(l)):d.log("You must run on Android or iOS."),this.ATNativeListener.developerCallback=e},hasAdReady:function(e){return null!=r&&null!=r?r.hasAdReady(e):(d.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=r&&null!=r?r.checkAdStatus(e):(d.log("You must run on Android or iOS."),"")},showAd:function(e,l){null!=r&&null!=r?r.showAd(e,JSON.stringify(l.getAdViewProperty())):d.log("You must run on Android or iOS.")},showAdInScenario:function(e,l,i){void 0===i&&(i=""),null!=r&&null!=r?r.showAdInScenario(e,JSON.stringify(l.getAdViewProperty()),i):d.log("You must run on Android or iOS.")},entryAdScenario:function(e,l){void 0===l&&(l=""),null!=r&&null!=r?r.entryAdScenario(e,l):d.log("You must run on Android or iOS.")},removeAd:function(e){null!=r&&null!=r?r.removeAd(e):d.log("You must run on Android or iOS.")},createLoadAdSize:function(e,l){var i={};return i.width=e,i.height=l,i}}),c=(e("AdViewProperty",function(e){function i(){for(var l,i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];return(l=e.call.apply(e,[this].concat(t))||this).parent=null,l.appIcon=null,l.mainImage=null,l.title=null,l.desc=null,l.adLogo=null,l.cta=null,l.rating=null,l.dislike=null,l.elements=null,l}l(i,e);var t=i.prototype;return t.createItemViewProperty=function(e,l,i,t,o,n,a,d){void 0===d&&(d=!1);var r={};return r.x=e,r.y=l,r.width=i,r.height=t,r.backgroundColor=o,r.textColor=n,r.textSize=a,r.isCustomClick=d,r},t.getAdViewProperty=function(){var e={};return null!=this.parent&&(e.parent=this.parent),null!=this.appIcon&&(e.icon=this.appIcon),null!=this.mainImage&&(e.mainImage=this.mainImage),null!=this.title&&(e.title=this.title),null!=this.desc&&(e.desc=this.desc),null!=this.adLogo&&(e.adLogo=this.adLogo),null!=this.cta&&(e.cta=this.cta),null!=this.rating&&(e.rating=this.rating),null!=this.dislike&&(e.dislike=this.dislike),null!=this.elements&&(e.elements=this.elements),e},i}(o)),"NativeLoaded"),v="NativeLoadFail",s="NativeCloseButtonTapped",A="NativeClick",S="NativeShow",p="NativeVideoStart",h="NativeVideoEnd",N="NativeBiddingAttempt",C="NativeBiddingFilled",k="NativeBiddingFail",T="NativeAttemp",b="NativeLoadFilled",g="NativeLoadFail";window.ATNativeTSSDK=u,i._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardAutoSceneScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATJSSDK.ts","./ATRewardedAutoVideoTSSDK.ts","./CCUtils.ts"],(function(d){var e,n,o,t,a,i;return{setters:[function(d){e=d.createForOfIteratorHelperLoose},function(d){n=d.cclegacy,o=d._decorator},function(d){t=d.ATJSSDK},function(d){a=d.ATRewardedVideoAutoAdSDK},function(d){i=d.default}],execute:function(){var r;n._RF.push({},"96d08LixkVIuIN0nJpI/ksV","ATRewardAutoSceneScript",void 0);var c=o.ccclass,A=(o.property,d("ATRewardAutoSceneScript",c("ATRewardAutoSceneScript")(r=function(){function d(){this.placementIds=[],this.mId=0}var n=d.prototype;return n.init=function(){this.mId=a.setAdListener(this)},n.addAutoLoadPlacementIds=function(d){this.placementIds=d,a.addPlacementIds(this.placementIds),A("addAutoLoadPlacementIds",this.mId,this.placementIds,"","")},n.removeAutoLoadPlacementId=function(){a.removePlacementId(this.placementIds),A("removeAutoLoadPlacementId",this.mId,this.placementIds,"","")},n.setAdExtraData=function(d,e){void 0===d&&(d=""),void 0===e&&(e="");var n={};n[a.userIdKey]=d,n[a.userDataKey]=e,a.setAdExtraData(this.placementIds[0],n)},n.showAd=function(d){void 0===d&&(d="");var e=i.random(this.getReadyPlacementIds());return!!e&&(a.showAdInScenario(e,d),A("showAd",this.mId,e,"",""),!0)},n.getReadyPlacementIds=function(){for(var d,n=[],o=e(this.placementIds);!(d=o()).done;){var t=d.value;if(a.hasAdReady(t)){n.push(t);break}}return n},n.onRewardedVideoAdLoaded=function(d,e){A("onRewardedVideoAdLoaded",d,e,"","")},n.onRewardedVideoAdFailed=function(d,e,n){A("onRewardedVideoAdFailed",d,e,"",n)},n.onRewardedVideoAdPlayStart=function(d,e,n){A("onRewardedVideoAdPlayStart",d,e,n,"")},n.onRewardedVideoAdPlayEnd=function(d,e,n){A("onRewardedVideoAdPlayEnd",d,e,n,"")},n.onRewardedVideoAdPlayFailed=function(d,e,n,o){A("onRewardedVideoAdPlayFailed",d,e,o,n)},n.onRewardedVideoAdClosed=function(d,e,n){A("onRewardedVideoAdClosed",d,e,n,"")},n.onRewardedVideoAdPlayClicked=function(d,e,n){A("onRewardedVideoAdPlayClicked",d,e,"","")},n.onReward=function(d,e,n){A("onReward",d,e,n,"")},n.onAdSourceBiddingAttempt=function(d,e,n){A("onAdSourceBiddingAttempt",d,e,n,"")},n.onAdSourceBiddingFilled=function(d,e,n){A("onAdSourceBiddingFilled",d,e,n,"")},n.onAdSourceBiddingFail=function(d,e,n,o){A("onAdSourceBiddingFail",d,e,o,n)},n.onAdSourceAttempt=function(d,e,n){A("onAdSourceAttempt",d,e,n,"")},n.onAdSourceLoadFilled=function(d,e,n){A("onAdSourceLoadFilled",d,e,n,"")},n.onAdSourceLoadFail=function(d,e,n,o){A("onAdSourceLoadFail",d,e,o,n)},n.onRewardedVideoAdAgainPlayStart=function(d,e,n){A("onRewardedVideoAdAgainPlayStart",d,e,n,"")},n.onRewardedVideoAdAgainPlayEnd=function(d,e,n){A("onRewardedVideoAdAgainPlayEnd",d,e,n,"")},n.onRewardedVideoAdAgainPlayFailed=function(d,e,n,o){A("onRewardedVideoAdAgainPlayFailed",d,e,o,n)},n.onRewardedVideoAdAgainPlayClicked=function(d,e,n){A("onRewardedVideoAdAgainPlayClicked",d,e,n,"")},n.onAgainReward=function(d,e,n){A("onAgainReward",d,e,n,"")},d}())||r),function(d,e,n,o,a){t.printLogWithParams("AnyThinkRewardedVideoAutoDemo",d,e,n,o,a)});n._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedAutoVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoAutoTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATJSSDK.ts","./CCUtils.ts"],(function(e){var d,o,a,l,i,n;return{setters:[function(e){d=e.cclegacy,o=e.sys},function(e){a=e.ATAndroidRewardedVideoAutoAdTS},function(e){l=e.ATiOSRewardedVideoAutoAdJS},function(e){i=e.ATJSSDK},function(e){n=e.default}],execute:function(){d._RF.push({},"df6b8v/uVZKoKL6HGePnWmS","ATRewardedAutoVideoTSSDK",void 0);var r=o.os===o.OS.IOS?l:o.os===o.OS.ANDROID?a:void 0,A=e("ATRewardedVideoAutoAdSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e,d){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+","+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e,d)},onRewardedVideoAdFailed:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d,o)},onRewardedVideoAdPlayStart:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d,o)},onRewardedVideoAdPlayEnd:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d,o)},onRewardedVideoAdPlayFailed:function(e,d,o,a){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+","+d+", "+o+", "+a+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o,a)},onRewardedVideoAdClosed:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d,o)},onRewardedVideoAdPlayClicked:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d,o)},onReward:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d,o)},onRewardedVideoAdAgainPlayStart:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d,o)},onRewardedVideoAdAgainPlayEnd:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d,o)},onRewardedVideoAdAgainPlayFailed:function(e,d,o,a){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+","+d+", "+o+", "+a+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o,a)},onRewardedVideoAdAgainPlayClicked:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d,o)},onAgainReward:function(e,d,o){i.printLog("ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d,o)}},setAdExtraData:function(e,d){void 0===d&&(d={}),null!=r&&null!=r?r.setAdExtraData(e,JSON.stringify(d)):n.log("You must run on Android or iOS.")},addPlacementIds:function(e){null!=r&&null!=r?r.addPlacementIds(JSON.stringify(e)):n.log("You must run on Android or iOS.")},removePlacementId:function(e){null!=r&&null!=r?r.removePlacementId(JSON.stringify(e)):n.log("You must run on Android or iOS.")},setAdListener:function(e){var d={};d[t]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[u]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[w]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[R]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[V]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[s]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[c]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[S]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onReward",d[C]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[k]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[p]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[T]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[v]="ATRewardedVideoAutoAdSDK.ATRewardedVideoListener.onAgainReward";var o=0;return null!=r&&null!=r?o=r.setAdListener(JSON.stringify(d)):n.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e,o},hasAdReady:function(e){return null!=r&&null!=r?r.hasAdReady(e):(n.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=r&&null!=r?r.checkAdStatus(e):(n.log("You must run on Android or iOS."),"")},showAd:function(e){null!=r&&null!=r?r.showAd(e):n.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=r&&null!=r?r.showAdInScenario(e,d):n.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=r&&null!=r?r.entryAdScenario(e,d):n.log("You must run on Android or iOS.")}}),t="RewardedVideoAutoAdLoaded",u="RewardedVideoAutoAdLoadFail",w="RewardedVideoAutoAdPlayStart",R="RewardedVideoAutoAdPlayEnd",V="RewardedVideoAutoAdPlayFail",s="RewardedVideoAutoAdClose",c="RewardedVideoAutoAdClick",S="RewardedVideoAutoAdReward",C="RewardedVideoAutoAdAgainPlayStart",k="RewardedVideoAutoAdAgainPlayEnd",p="RewardedVideoAutoAdAgainPlayFail",T="RewardedVideoAutoAdAgainClick",v="RewardedVideoAutoAdAgainReward";window.ATRewardedVideoAutoAdSDK=A,d._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardedVideoTSSDK.ts",["cc","./ATAndroidRewardedVideoTS.ts","./ATiOSRewardedVideoTS.ts","./ATJSSDK.ts","./CCUtils.ts"],(function(e){var d,o,l,a,i,r;return{setters:[function(e){d=e.cclegacy,o=e.sys},function(e){l=e.ATAndroidRewardedVideoJS},function(e){a=e.ATiOSRewardedVideoTS},function(e){i=e.ATJSSDK},function(e){r=e.default}],execute:function(){d._RF.push({},"065ad+ZEdlHpLf0zJxboleK","ATRewardedVideoTSSDK",void 0);var n=o.os===o.OS.IOS?a:o.os===o.OS.ANDROID?l:void 0,t=e("ATRewardedVideoSDK",{userIdKey:"userID",userDataKey:"media_ext",ATRewardedVideoListener:{developerCallback:null,onRewardedVideoAdLoaded:function(e,d){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded("+e+","+d+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdLoaded&&null!=this.developerCallback.onRewardedVideoAdLoaded&&this.developerCallback.onRewardedVideoAdLoaded(e,d)},onRewardedVideoAdFailed:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdFailed&&null!=this.developerCallback.onRewardedVideoAdFailed&&this.developerCallback.onRewardedVideoAdFailed(e,d,o)},onRewardedVideoAdPlayStart:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&null!=this.developerCallback.onRewardedVideoAdPlayStart&&this.developerCallback.onRewardedVideoAdPlayStart(e,d,o)},onRewardedVideoAdPlayEnd:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&null!=this.developerCallback.onRewardedVideoAdPlayEnd&&this.developerCallback.onRewardedVideoAdPlayEnd(e,d,o)},onRewardedVideoAdPlayFailed:function(e,d,o,l){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed("+e+","+d+", "+o+", "+l+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&null!=this.developerCallback.onRewardedVideoAdPlayFailed&&this.developerCallback.onRewardedVideoAdPlayFailed(e,d,o,l)},onRewardedVideoAdClosed:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdClosed&&null!=this.developerCallback.onRewardedVideoAdClosed&&this.developerCallback.onRewardedVideoAdClosed(e,d,o)},onRewardedVideoAdPlayClicked:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&null!=this.developerCallback.onRewardedVideoAdPlayClicked&&this.developerCallback.onRewardedVideoAdPlayClicked(e,d,o)},onReward:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onReward("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onReward&&null!=this.developerCallback.onReward&&this.developerCallback.onReward(e,d,o)},onAdSourceBiddingAttempt:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingAttempt&&null!=this.developerCallback.onAdSourceBiddingAttempt&&this.developerCallback.onAdSourceBiddingAttempt(e,d,o)},onAdSourceBiddingFilled:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFilled&&null!=this.developerCallback.onAdSourceBiddingFilled&&this.developerCallback.onAdSourceBiddingFilled(e,d,o)},onAdSourceBiddingFail:function(e,d,o,l){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail("+e+","+d+", "+o+", "+l+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceBiddingFail&&null!=this.developerCallback.onAdSourceBiddingFail&&this.developerCallback.onAdSourceBiddingFail(e,d,o,l)},onAdSourceAttemp:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceAttemp&&null!=this.developerCallback.onAdSourceAttemp&&this.developerCallback.onAdSourceAttemp(e,d,o)},onAdSourceLoadFilled:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFilled&&null!=this.developerCallback.onAdSourceLoadFilled&&this.developerCallback.onAdSourceLoadFilled(e,d,o)},onAdSourceLoadFail:function(e,d,o,l){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail("+e+","+d+", "+o+", "+l+")"),null!=this.developerCallback&&null!=this.developerCallback.onAdSourceLoadFail&&null!=this.developerCallback.onAdSourceLoadFail&&this.developerCallback.onAdSourceLoadFail(e,d,o,l)},onRewardedVideoAdAgainPlayStart:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&null!=this.developerCallback.onRewardedVideoAdAgainPlayStart&&this.developerCallback.onRewardedVideoAdAgainPlayStart(e,d,o)},onRewardedVideoAdAgainPlayEnd:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&null!=this.developerCallback.onRewardedVideoAdAgainPlayEnd&&this.developerCallback.onRewardedVideoAdAgainPlayEnd(e,d,o)},onRewardedVideoAdAgainPlayFailed:function(e,d,o,l){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed("+e+","+d+", "+o+", "+l+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&null!=this.developerCallback.onRewardedVideoAdAgainPlayFailed&&this.developerCallback.onRewardedVideoAdAgainPlayFailed(e,d,o,l)},onRewardedVideoAdAgainPlayClicked:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&null!=this.developerCallback.onRewardedVideoAdAgainPlayClicked&&this.developerCallback.onRewardedVideoAdAgainPlayClicked(e,d,o)},onAgainReward:function(e,d,o){i.printLog("ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward("+e+","+d+", "+o+")"),null!=this.developerCallback&&null!=this.developerCallback.onAgainReward&&null!=this.developerCallback.onAgainReward&&this.developerCallback.onAgainReward(e,d,o)}},loadRewardedVideo:function(e,d){return void 0===d&&(d={}),null!=n&&null!=n?n.loadRewardedVideo(e,JSON.stringify(d)):(r.log("You must run on Android or iOS."),0)},setAdListener:function(e){var d={};d[A]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdLoaded",d[w]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdFailed",d[R]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayStart",d[c]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayEnd",d[u]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayFailed",d[V]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdClosed",d[s]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdPlayClicked",d[S]="ATRewardedVideoSDK.ATRewardedVideoListener.onReward",d[p]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingAttempt",d[C]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFilled",d[k]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceBiddingFail",d[T]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceAttemp",d[h]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFilled",d[v]="ATRewardedVideoSDK.ATRewardedVideoListener.onAdSourceLoadFail",d[g]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayStart",d[L]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayEnd",d[b]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayFailed",d[y]="ATRewardedVideoSDK.ATRewardedVideoListener.onRewardedVideoAdAgainPlayClicked",d[P]="ATRewardedVideoSDK.ATRewardedVideoListener.onAgainReward",null!=n&&null!=n?n.setAdListener(JSON.stringify(d)):r.log("You must run on Android or iOS."),this.ATRewardedVideoListener.developerCallback=e},hasAdReady:function(e){return null!=n&&null!=n?n.hasAdReady(e):(r.log("You must run on Android or iOS."),!1)},checkAdStatus:function(e){return null!=n&&null!=n?n.checkAdStatus(e):(r.log("You must run on Android or iOS."),"")},showAd:function(e){null!=n&&null!=n?n.showAd(e):r.log("You must run on Android or iOS.")},showAdInScenario:function(e,d){void 0===d&&(d=""),null!=n&&null!=n?n.showAdInScenario(e,d):r.log("You must run on Android or iOS.")},entryAdScenario:function(e,d){void 0===d&&(d=""),null!=n&&null!=n?n.entryAdScenario(e,d):r.log("You must run on Android or iOS.")}}),A="RewardedVideoLoaded",w="RewardedVideoLoadFail",R="RewardedVideoPlayStart",c="RewardedVideoPlayEnd",u="RewardedVideoPlayFail",V="RewardedVideoClose",s="RewardedVideoClick",S="RewardedVideoReward",p="RewardedVideoBiddingAttempt",C="RewardedVideoBiddingFilled",k="RewardedVideoBiddingFail",T="RewardedVideoAttemp",h="RewardedVideoLoadFilled",v="RewardedVideoLoadFail",g="RewardedVideoAgainPlayStart",L="RewardedVideoAgainPlayEnd",b="RewardedVideoAgainPlayFail",y="RewardedVideoAgainClick",P="RewardedVideoAgainReward";window.ATRewardedVideoSDK=t,d._RF.pop()}}}));

System.register("chunks:///_virtual/ATRewardSceneScript.ts",["cc","./ATJSSDK.ts","./ATRewardedVideoTSSDK.ts","./CCEvent.ts","./CCDefine.ts"],(function(d){var e,n,i,o,a,t;return{setters:[function(d){e=d.cclegacy,n=d._decorator},function(d){i=d.ATJSSDK},function(d){o=d.ATRewardedVideoSDK},function(d){a=d.CCEvent},function(d){t=d.EVENT_TYPE}],execute:function(){var r,c;e._RF.push({},"4c2b1Oq7ktA1Y5nXSH5qC0i","ATRewardSceneScript",void 0);var A=n.ccclass;n.property,d("ATRewardSceneScript",A("ATRewardSceneScript")(((c=function(){function d(){this.placementId="",this.mId=0}var e=d.prototype;return e.init=function(){o.setAdListener(this)},e.loadAD=function(d,e,n){void 0===e&&(e=""),void 0===n&&(n=""),this.placementId=d;var i={};i[o.userIdKey]=e,i[o.userDataKey]=n,this.mId=o.loadRewardedVideo(this.placementId,i),l("loadAD",this.mId,this.placementId,"","")},e.showAd=function(e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=""),d.fnRewardedEarn=e,d.fnRewardedDimissed=n,o.showAdInScenario(this.placementId,i),l("showAd",this.mId,this.placementId,"","")},e.isReady=function(){i.printLog("AnyThinkRewardedVideoDemo::checkReady()   "+(o.hasAdReady(this.placementId)?"Ready":"No"));var d=o.checkAdStatus(this.placementId);return i.printLog("AnyThinkRewardedVideoDemo::checkAdStatus()   "+d),d},e.onRewardedVideoAdLoaded=function(d,e){l("onRewardedVideoAdLoaded",d,e,"","")},e.onRewardedVideoAdFailed=function(d,e,n){l("onRewardedVideoAdFailed",d,e,"",n)},e.onRewardedVideoAdPlayStart=function(d,e,n){l("onRewardedVideoAdPlayStart",d,e,n,"")},e.onRewardedVideoAdPlayEnd=function(d,e,n){l("onRewardedVideoAdPlayEnd",d,e,n,"")},e.onRewardedVideoAdPlayFailed=function(d,e,n,i){l("onRewardedVideoAdPlayFailed",d,e,i,n)},e.onRewardedVideoAdClosed=function(e,n,i){l("onRewardedVideoAdClosed",e,n,i,""),d.fnRewardedDimissed&&d.fnRewardedDimissed()},e.onRewardedVideoAdPlayClicked=function(d,e,n){l("onRewardedVideoAdPlayClicked",d,e,n,"")},e.onReward=function(e,n,i){l("onReward",e,n,i,""),a.emit(t.EVENT_AD_REWARD_EARN),d.fnRewardedEarn&&d.fnRewardedEarn()},e.onAdSourceBiddingAttempt=function(d,e,n){l("onAdSourceBiddingAttempt",d,e,n,"")},e.onAdSourceBiddingFilled=function(d,e,n){l("onAdSourceBiddingFilled",d,e,"","")},e.onAdSourceBiddingFail=function(d,e,n,i){l("onAdSourceBiddingFail",d,e,i,n)},e.onAdSourceAttempt=function(d,e,n){l("onAdSourceAttempt",d,e,n,"")},e.onAdSourceLoadFilled=function(d,e,n){l("onAdSourceLoadFilled",d,e,n,"")},e.onAdSourceLoadFail=function(d,e,n,i){l("onAdSourceLoadFail",d,e,i,n)},e.onRewardedVideoAdAgainPlayStart=function(d,e,n){l("onRewardedVideoAdAgainPlayStart",d,e,n,"")},e.onRewardedVideoAdAgainPlayEnd=function(d,e,n){l("onRewardedVideoAdAgainPlayEnd",d,e,n,"")},e.onRewardedVideoAdAgainPlayFailed=function(d,e,n,i){l("onRewardedVideoAdAgainPlayFailed",d,e,i,n)},e.onRewardedVideoAdAgainPlayClicked=function(d,e,n){l("onRewardedVideoAdAgainPlayClicked",d,e,n,"")},e.onAgainReward=function(d,e,n){l("onAgainReward",d,e,n,"")},d}()).fnRewardedEarn=null,c.fnRewardedDimissed=null,r=c))||r);window.ATRewardSceneScript=o;var l=function(d,e,n,o,a){i.printLogWithParams("AnyThinkRewardedVideoDemo",d,e,n,o,a)};e._RF.pop()}}}));

System.register("chunks:///_virtual/ATTestScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ATJSSDK.ts","./ATRewardedVideoTSSDK.ts"],(function(e){var d,n,o,i,a,t,r;return{setters:[function(e){d=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.sys,a=e.Component},function(e){t=e.ATJSSDK},function(e){r=e.ATRewardedVideoSDK}],execute:function(){var A;n._RF.push({},"bf0625butNPepFoTAolx+mh","ATTestScript",void 0);var c=o.ccclass;o.property,e("ATTestScript",c("ATTestScript")(A=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var o=n.prototype;return o.placementID=function(){return i.os===i.OS.IOS?"b5b44a0f115321":i.os===i.OS.ANDROID?"b5b449fb3d89d7":void 0},o.start=function(){r.setAdListener(this)},o.loadAD=function(){var e={};e[r.userIdKey]="test_user_id",e[r.userDataKey]="test_user_data",r.loadRewardedVideo(this.placementID(),e)},o.showAd=function(){r.showAdInScenario(this.placementID(),"f5e54970dc84e6")},o.isReady=function(){t.printLog("AnyThinkRewardedVideoDemo::checkReady()   "+(r.hasAdReady(this.placementID())?"Ready":"No"));var e=r.checkAdStatus(this.placementID());t.printLog("AnyThinkRewardedVideoDemo::checkAdStatus()   "+e)},o.onRewardedVideoAdLoaded=function(e){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdLoaded("+e+")")},o.onRewardedVideoAdFailed=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdFailed("+e+", "+d+")")},o.onRewardedVideoAdPlayStart=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayStart("+e+", "+d+")")},o.onRewardedVideoAdPlayEnd=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayEnd("+e+", "+d+")")},o.onRewardedVideoAdPlayFailed=function(e,d,n){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayFailed("+e+", "+d+", "+n+")")},o.onRewardedVideoAdClosed=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdClosed("+e+", "+d+")")},o.onRewardedVideoAdPlayClicked=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdPlayClicked("+e+", "+d+")")},o.onReward=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onReward("+e+", "+d+")")},o.onAdSourceBiddingAttempt=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceBiddingAttempt("+e+", "+d+")")},o.onAdSourceBiddingFilled=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceBiddingFilled("+e+", "+d+")")},o.onAdSourceBiddingFail=function(e,d,n){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceBiddingFail("+e+", "+d+", "+n+")")},o.onAdSourceAttempt=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceAttemp("+e+", "+d+")")},o.onAdSourceLoadFilled=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceLoadFilled("+e+", "+d+")")},o.onAdSourceLoadFail=function(e,d,n){t.printLog("AnyThinkRewardedVideoDemo::onAdSourceLoadFail("+e+", "+d+", "+n+")")},o.onRewardedVideoAdAgainPlayStart=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdAgainPlayStart("+e+", "+d+")")},o.onRewardedVideoAdAgainPlayEnd=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdAgainPlayEnd("+e+", "+d+")")},o.onRewardedVideoAdAgainPlayFailed=function(e,d,n){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdAgainPlayFailed("+e+", "+d+", "+n+")")},o.onRewardedVideoAdAgainPlayClicked=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onRewardedVideoAdAgainPlayClicked("+e+", "+d+")")},o.onAgainReward=function(e,d){t.printLog("AnyThinkRewardedVideoDemo::onAgainReward("+e+", "+d+")")},n}(a))||A);window.ATRewardSceneScript=r,n._RF.pop()}}}));

System.register("chunks:///_virtual/BannerAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(n){var r,t,e,o;return{setters:[function(n){r=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator},function(n){o=n.Base}],execute:function(){var a,i,c,u,s,l,h;t._RF.push({},"a3850FFnhpK8LXjWJ/XukPq","BannerAd",void 0);var f=e.ccclass;e.property,n("LoadBannerREQ",f("LoadBannerREQ")(a=function(n){function t(){for(var r,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(r=n.call.apply(n,[this].concat(e))||this).bannerSizeType=void 0,r.bannerSize=void 0,r.alignments=void 0,r}return r(t,n),t}(o))||a),n("LoadBannerACK",f("LoadBannerACK")(i=function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t}(o))||i),n("ShowBannerREQ",f("ShowBannerREQ")(c=function(n){function t(){for(var r,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(r=n.call.apply(n,[this].concat(e))||this).visible=void 0,r}return r(t,n),t}(o))||c),n("ShowBannerACK",f("ShowBannerACK")(u=function(n){function t(){for(var r,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(r=n.call.apply(n,[this].concat(e))||this).visible=void 0,r}return r(t,n),t}(o))||u),n("DestroyBannerREQ",f("DestroyBannerREQ")(s=function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t}(o))||s),n("DestroyBannerACK",f("DestroyBannerACK")(l=function(n){function t(){return n.apply(this,arguments)||this}return r(t,n),t}(o))||l),n("BannerAdListenerNTF",f("BannerAdListenerNTF")(h=function(n){function t(){for(var r,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(r=n.call.apply(n,[this].concat(e))||this).method=void 0,r.loadAdError=void 0,r}return r(t,n),t}(o))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/BannerAdListener.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"94014wU+XZGi4mP2AihKg4J","BannerAdListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BannerAlignment.ts",["cc"],(function(T){var n;return{setters:[function(T){n=T.cclegacy}],execute:function(){n._RF.push({},"22c7dg+reFL/bvh46PA4/ED","BannerAlignment",void 0);var A=T("BannerAlignment",function(T){return T.ALIGN_LEFT="ALIGN_LEFT",T.ALIGN_TOP="ALIGN_TOP",T.ALIGN_RIGHT="ALIGN_RIGHT",T.ALIGN_BOTTOM="ALIGN_BOTTOM",T.CENTER_HORIZONTAL="CENTER_HORIZONTAL",T.CENTER_VERTICAL="CENTER_VERTICAL",T.ALIGN_PARENT_BOTTOM="ALIGN_PARENT_BOTTOM",T}({}));T("BottomCenter",[A.ALIGN_PARENT_BOTTOM,A.CENTER_HORIZONTAL]),T("TopCenter",[A.ALIGN_TOP,A.CENTER_HORIZONTAL]);n._RF.pop()}}}));

System.register("chunks:///_virtual/BannerClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdClient.ts","./BannerAd.ts","./Bridge.ts","./Route.ts","./BannerSize.ts","./BannerAlignment.ts","./PaidEventNTF.ts","./BannerSizeType.ts"],(function(n){var e,t,i,s,a,r,o,l,u,d,c,f,h,v,g,B,C,L;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){i=n.cclegacy,s=n.js,a=n.log},function(n){r=n.AdClient},function(n){o=n.ShowBannerREQ,l=n.LoadBannerREQ,u=n.LoadBannerACK,d=n.DestroyBannerREQ,c=n.DestroyBannerACK,f=n.BannerAdListenerNTF},function(n){h=n.bridge},function(n){v=n.route},function(n){g=n.BannerSize},function(n){B=n.BottomCenter},function(n){C=n.BannerPaidEventNTF},function(n){L=n.BannerSizeType}],execute:function(){i._RF.push({},"67876+xkzJIO6gfVziSiyV8","BannerClient",void 0);n("BannerClient",function(n){function i(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))||this)._adListener=null,e}e(i,n);var r=i.prototype;return r.show=function(n){var e=new o(this.unitId);e.visible=n,h.sendToNative(s.getClassName(o),e)},r.load=function(n,e,t){this.adListener=e,this.unitId=n,h.sendToNative(s.getClassName(l),{unitId:n,bannerSize:null!=t&&t.size?null==t?void 0:t.size:g.BANNER,alignments:null!=t&&t.alignments?null==t?void 0:t.alignments:B,bannerSizeType:null!=t&&t.type?null==t?void 0:t.type:L.Builtin},s.getClassName(u),(function(n){}),this)},r.destroy=function(){a("[BannerClient]","destroy",this.unitId);var n=new d(this.unitId);this.adListener=null,h.sendToNative(s.getClassName(d),n,s.getClassName(c),(function(n){}))},r.onAdListenerEvent=function(n){if(this.adListener){var e=this.adListener[n.method];e&&"function"==typeof e&&e(n.loadAdError)}},r.onPaidEvent=function(n){var e=this.adListener;e&&e.onPaidEvent&&e.onPaidEvent(n)},t(i,[{key:"adListener",get:function(){return this._adListener},set:function(n){this._adListener&&(v.off(s.getClassName(f),this.onAdListenerEvent,this),v.off(s.getClassName(C),this.onPaidEvent,this)),this._adListener=n,this._adListener&&(v.on(s.getClassName(f),this.onAdListenerEvent,this),v.on(s.getClassName(C),this.onPaidEvent,this))}}]),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/BannerSize.ts",["cc"],(function(E){var R;return{setters:[function(E){R=E.cclegacy}],execute:function(){R._RF.push({},"e3b6eOKvZVEtZgTOUkZOxTU","BannerSize",void 0);E("BannerSize",function(E){return E.BANNER="BANNER",E.LARGE_BANNER="LARGE_BANNER",E.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",E.FULL_BANNER="FULL_BANNER",E.LEADERBOARD="LEADERBOARD",E.SMART_BANNER="SMART_BANNER",E}({}));R._RF.pop()}}}));

System.register("chunks:///_virtual/BannerSizeOption.ts",["cc","./BannerAlignment.ts","./BannerSize.ts","./BannerSizeType.ts"],(function(n){var e,t,i,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.BottomCenter},function(n){i=n.BannerSize},function(n){r=n.BannerSizeType}],execute:function(){e._RF.push({},"5616bT5rtJEcY/73XVD9E9f","BannerSizeOption",void 0);n("BannerSizeOption",(function(){this.type=r.Builtin,this.size=i.BANNER,this.alignments=t}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BannerSizeType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"79ab0Av5oNO2r9VQTvixCOn","BannerSizeType",void 0);e("BannerSizeType",function(e){return e.Builtin="Builtin",e.Landscape="Landscape",e.Portrait="Portrait",e.Current="Current",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Base.ts",["cc"],(function(e){var c,t;return{setters:[function(e){c=e.cclegacy,t=e._decorator}],execute:function(){var r;c._RF.push({},"83981cFerZAEJC1MboCagJY","Base",void 0);var s=t.ccclass;t.property,e("Base",s("Base")(r=function(e){this.unitId=e})||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/Bridge.ts",["cc","./Route.ts","./Version.ts","./Version2.ts"],(function(e){var n,t,i,o,r,c;return{setters:[function(e){n=e.cclegacy,t=e.log,i=e.js},function(e){o=e.route},function(e){r=e.VersionREQ},function(e){c=e.ExtensionVersion}],execute:function(){n._RF.push({},"9fa2b+aj71GBKZ5Ae4Zxwy/","Bridge",void 0);var s="[Bridge]",u=e("Bridge",function(){function e(){this.onNative=function(e,n){t(s,"onNative method: "+e+" | content: "+n);var i=o.codec.decode(n);o.dispatch(e,i)}}var n=e.prototype;return n.init=function(){t(s,"init"),this.overwriteCallback();var e="cocos-"+c;return console.log(s,"init","report engineVersion: "+e+"."),this.sendToNative(i.getClassName(r),new r("",e),null,null),this},n.destroy=function(){t(s,"destroy")},n.overwriteCallback=function(){t(s,"overwriteCallback")},n.sendToNative=function(e,n,i,r,c){t(s,"sendToNative","method = "+e+", req.unitId = "+n.unitId),r&&o.once(i,r,c)},e}());e("bridge",(new u).init());n._RF.pop()}}}));

System.register("chunks:///_virtual/CCAchievementData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPlayerData.ts","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var t,n,r,a,c,i,s,u,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator},function(e){i=e.CCPlayerData},function(e){s=e.default},function(e){u=e.default,o=e.CCResType}],execute:function(){var d,l;a._RF.push({},"e23eaNlFkJA/6Joq/OIxsie","CCAchievementData",void 0);var f=c.ccclass,h=(c.property,e("AchievementStatus",function(e){return e[e.INCOMPLETE=0]="INCOMPLETE",e[e.CAN_CLAIMED=1]="CAN_CLAIMED",e[e.COMPLETED=2]="COMPLETED",e}({})));e("default",f("CCAchievementData")(((l=function(){function e(){}return e.addRow=function(e){this._data[e.achivementId]=e},e.keys=function(){var e=Object.keys(this._data).map((function(e){return parseInt(e,10)})),t=[],n=[],r=[];return e.forEach((function(e){var a=i.getAchievementProcess(e);if(a)switch(a.status){case h.CAN_CLAIMED:t.push(e);break;case h.INCOMPLETE:n.push(e);break;case h.COMPLETED:r.push(e)}})),t.concat(n).concat(r)},e.totalKeys=function(){return Object.keys(this._data).length},e.getRowsByAchievementId=function(e){var t;return null!=(t=this._data[e])?t:{}},e.iterator=function(e,t){Object.values(this._data).forEach((function(e){e.forEach(t)}))},e.getAchievementStatus=function(e){var t=this.getRowsByAchievementId(e);if(!t)return h.INCOMPLETE;var n=i.getAchievementProcess(e);if(!n)return h.INCOMPLETE;if(n.status==h.CAN_CLAIMED||n.status==h.COMPLETED)return n.status;if(t.needMoney>0&&t.needMoney<=n.money)return h.CAN_CLAIMED;if(t.needVip>0&&t.needVip<=n.vip)return h.CAN_CLAIMED;if(t.needGold>0&&t.needGold<=n.gold)return h.CAN_CLAIMED;var r=0;return t.needBuildingId.length>0&&(t.needBuildingId.forEach((function(e){i.getBuildingIdUnlocked().includes(e)&&r++})),r==t.needBuildingId.length)||t.needChapterId>0&&n.chapterId==t.needChapterId?h.CAN_CLAIMED:h.INCOMPLETE},e.load=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load({bundleName:"profile",relativePath:"achievement",resType:o.TextAsset}).then(n(r().mark((function t(a){var c,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return c=s.csv2array(a.text,1,1),i=c.map(n(r().mark((function t(n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n["ID"]){t.next=3;break}return s.error("['ID'].nil"),t.abrupt("return");case 3:a={achivementId:parseInt(n["ID"],10),achivementName:n[""],achivementDesc:n[""],needMoney:parseInt(n[""],10),needVip:parseInt(n["VIP"],10),needBuildingId:null==n[""]?[]:s.splitArrNumber(n[""],"@"),rewardVip:parseInt(n["VIP"],10),rewardMoney:parseInt(n[""],10),needGold:parseInt(n[""],10),rewardGold:parseInt(n[""],10),needChapterId:parseInt(n[""],10)},e.addRow(a);case 5:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(i);case 6:case"end":return t.stop()}}),t)}))));case 2:s.log("load.achievement.total keys: "+e.totalKeys()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},d=l))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCAdHelper.ts",["cc","./CCAdmob.ts","./BannerSizeType.ts","./BannerSize.ts","./BannerAlignment.ts","./TestUnitId.ts","./CCUtils.ts","./CCAudioManager.ts","./CCDefine.ts","./ATRewardSceneScript.ts","./ATIntersitialSceneScript.ts","./CCPlayerData.ts","./CCEvent.ts"],(function(e){var d,n,t,i,r,o,l,a,A,u,s,w,R,c,C,p,f,I;return{setters:[function(e){d=e.cclegacy,n=e._decorator,t=e.sys},function(e){i=e.CCAdmob},function(e){r=e.BannerSizeType},function(e){o=e.BannerSize},function(e){l=e.BottomCenter},function(e){a=e.getTestAdUnitId,A=e.AdFormat},function(e){u=e.default},function(e){s=e.audioMgr},function(e){w=e.default,R=e.adTypeDefault,c=e.EVENT_TYPE},function(e){C=e.ATRewardSceneScript},function(e){p=e.ATIntersitialSceneScript},function(e){f=e.CCPlayerData},function(e){I=e.CCEvent}],execute:function(){var h,g;d._RF.push({},"0ccfc++wRlORI+Te3ReDo7R","CCAdHelper",void 0);var E=n.ccclass;n.property,e("default",E("CCAdHelper")(((g=function(){function e(){}return e.getAdUnitId=function(e,d){return void 0===d&&(d=""),d.length>0?d:a(e)},e.reqBannerAd=function(e,d,n,t){var a,s,w,R,c,C,p=this;void 0===e&&(e=""),void 0===d&&(d=null),void 0===n&&(n=null),void 0===t&&(t=null);var f=this.getAdUnitId(A.Banner,e);(new i).reqBannerAd(f,{type:null!=(a=null==(s=d)?void 0:s.type)?a:r.Builtin,size:null!=(w=null==(R=d)?void 0:R.size)?w:o.BANNER,alignments:null!=(c=null==(C=d)?void 0:C.alignments)?c:l},(function(e){u.log("CCAdHelper.reqBannerAd["+f+"].onAdLoaded.client: "+e.unitId),n&&n()}),(function(){u.log("CCAdHelper.reqBannerAd["+f+"].onAdFailedToLoad"),t&&t(),p.closeBannerAd()}))},e.showBannerAd=function(e,d,n,t,i,r,o,l){var a=this;if(void 0===n&&(n=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),!e)return!1;var A=e.getBannerUnitId();e.showBannerAd(d,(function(){u.log("CCAdHelper.reqBannerAd["+A+"].onAdOpened"),n&&n()}),(function(e){u.log("CCAdHelper.reqBannerAd["+A+"].onAdImpression.client: "+e.unitId),t&&t()}),(function(){u.log("CCAdHelper.reqBannerAd["+A+"].onAdClicked"),i&&i()}),(function(){u.log("CCAdHelper.reqBannerAd["+A+"].onAdSwipeGestureClicked"),r&&r()}),(function(){u.log("CCAdHelper.reqBannerAd["+A+"].onAdClosed"),o&&o(),a.closeBannerAd()}),(function(e,d){u.log("CCAdHelper.reqBannerAd["+A+"].onPaidEvent.client: "+e+" paidNTF: "+d),l&&l(d)}))},e.closeBannerAd=function(){},e.reqRewardedAd=function(d,n,t){var r=this;void 0===d&&(d=""),void 0===n&&(n=null),void 0===t&&(t=null);var o=this.getAdUnitId(A.Rewarded,d),l=function(d){u.log("CCAdHelper.reqRewardedAd["+d.unitId+"].onAdLoaded"),n&&n(d.unitId),e.queueAdRewarded.push(s),l=null},a=function(e,d){u.log("CCAdHelper.reqRewardedAd["+e.unitId+"].onAdFailedToLoad.loadAdError: "+d),t&&t(e.unitId,d),r.closeRewardedAd(),a=null},s=new i;s.reqRewardedAd(o,l,a)},e.showRewardedAd=function(e,d,n,t,i,r,o,l){var a=this;if(void 0===d&&(d=null),void 0===n&&(n=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),!e)return!1;var A=e.getRewardedAdUnitId(),s=function(e,n){u.log("CCAdHelper.reqRewardedAd["+A+"].onEarn.rewardType: "+e+" amount: "+n),d&&d(A,e,n),s=null},w=function(){u.log("CCAdHelper.reqRewardedAd["+A+"].onAdClicked."),n&&n(A),w=null},R=function(){u.log("CCAdHelper.reqRewardedAd["+A+"].onAdDismissedFullScreenContent."),t&&t(A),R=null,a.closeRewardedAd()},c=function(e){u.log("CCAdHelper.reqRewardedAd["+A+"].onAdFailedToShowFullScreenContent.adError: "+e),i&&i(A,e),c=null,a.closeRewardedAd()},C=function(){u.log("CCAdHelper.reqRewardedAd["+A+"].onAdShowedFullScreenContent."),r&&r(A),C=null},p=function(e,d){u.log("CCAdHelper.reqRewardedAd["+A+"].onPaidEvent.paidNTF: "+d),o&&o(A,d),p=null},f=function(e){u.log("CCAdHelper.reqRewardedAd["+A+"].onRewardedAdShowError.adError: "+e),l&&l(A,e),f=null,a.closeRewardedAd()};return e.showRewardedAd(s,w,R,c,C,p,f),!0},e.closeRewardedAd=function(){},e.reqRewardedInterstitialAd=function(d,n,t){var r=this;void 0===d&&(d=""),void 0===n&&(n=null),void 0===t&&(t=null);var o=this.getAdUnitId(A.RewardedInterstitial,d),l=new i,a=function(d){u.log("CCAdHelper.reqRewardedInterstitialAd["+d.unitId+"].onAdLoaded"),n&&n(d.unitId),e.queueAdRewardedInterstitial.push(l),a=null},s=function(e,d){u.log("CCAdHelper.reqRewardedInterstitialAd["+e.unitId+"].onAdFailedToLoad.loadAdError: "+d),t&&t(e.unitId,d),s=null,r.closeRewardedInterstitialAd()};l.reqRewardedInterstitialAd(o,a,s)},e.showRewardedInterstitialAd=function(e,d,n,t,i,r,o,l,a){var A=this;if(void 0===d&&(d=null),void 0===n&&(n=null),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===a&&(a=null),e){var s=e.getRewardedAdUnitId(),w=function(e,n){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onEarn.rewardType: "+e+" amount: "+n),d&&d(s,e,n),w=null},R=function(){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onAdClicked."),n&&n(s),R=null},c=function(){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onAdDismissedFullScreenContent."),t&&t(s),c=null,A.closeRewardedInterstitialAd()},C=function(e){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onAdFailedToShowFullScreenContent.adError: "+e),i&&i(s,e),C=null,A.closeRewardedInterstitialAd()},p=function(){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onRewardedInterstitialAdImpression"),r&&r(s),p=null},f=function(){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onAdShowedFullScreenContent."),o&&o(s),f=null},I=function(e,d){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onPaidEvent.paidNTF: "+d),l&&l(s,d),I=null},h=function(e){u.log("CCAdHelper.reqRewardedInterstitialAd["+s+"].onRewardedInterstitialAdShowError.adError: "+e),a&&a(s,e),h=null,A.closeRewardedAd()};e.showRewardedInterstitialAd(w,R,c,C,p,f,I,h)}},e.closeRewardedInterstitialAd=function(){},e.preloadAds=function(){if(t.isNative&&!f.isAdFree()){var d="",n="";switch(w.appConfig.at){case R.ADTYPE_ADMOB:if(d=w.getAdMobUnitIdForRewarded(),n=w.getAdMobUnitIdForRewardedInterstitial(),u.log("preloadAds[adMob].isShowAd["+this.isShowAd+"].rewardAdUnitId["+this.queueAdRewarded.length+"/"+w.ADMOB_CACHE_REWARDED_MAX+"]:"+d+" , rewardInterstitialAdUnitId["+this.queueAdRewardedInterstitial.length+"/"+w.ADMOB_CACHE_REWARDEDINTERSTITIALAD_MAX+"]: "+n+" ---------------\x3e"),this.isShowAd)return;this.queueAdRewarded.length<w.ADMOB_CACHE_REWARDED_MAX&&e.reqRewardedAd(d,(function(e){}),(function(e,d){})),this.queueAdRewardedInterstitial.length<w.ADMOB_CACHE_REWARDEDINTERSTITIALAD_MAX&&e.reqRewardedInterstitialAd(n,(function(e){}),(function(e,d){}));break;case R.ADTYPE_TOPON:if(d=w.getTopOnUnitIdForRewarded(),n=w.getTopOnUnitIdForRewardedInterstitial(),u.log("preloadAds[topOn].rewardAdUnitId["+this.queueTopOnAdRewarded.length+"/"+w.ADMOB_CACHE_REWARDED_MAX+"]:"+d+" , rewardInterstitialAdUnitId["+this.queueTopOnAdRewardedInterstitial.length+"/"+w.ADMOB_CACHE_REWARDEDINTERSTITIALAD_MAX+"]: "+n+" ---------------\x3e"),this.queueTopOnAdRewarded.length<w.ADMOB_CACHE_REWARDED_MAX){var i=new C;i.init(),i.loadAD(d),this.queueTopOnAdRewarded.push(i)}if(this.queueTopOnAdRewardedInterstitial.length<w.ADMOB_CACHE_REWARDEDINTERSTITIALAD_MAX){var r=new p;r.init(),r.loadAD(n),this.queueTopOnAdRewardedInterstitial.push(r)}break;default:return void u.log("preloadAds["+w.appConfig.at+"].unknown!")}}},e.showAds=function(d,n){var i=this;if(void 0===d&&(d=null),void 0===n&&(n=null),f.isDebug())return I.emit(c.EVENT_AD_REWARD_EARN),d&&d(),!0;if(!t.isNative)return!0;if(f.isAdFree())return I.emit(c.EVENT_AD_REWARD_EARN),d&&d(),!0;switch(w.appConfig.at){case R.ADTYPE_ADMOB:if(this.isShowAd)return!1;u.log("showAds[adMob] ---------------\x3e");var r=null;return u.randomRange(0,100)>=50?(r=e.queueAdRewarded.pop())||(r=e.queueAdRewardedInterstitial.pop()):(r=e.queueAdRewardedInterstitial.pop())||(r=e.queueAdRewarded.pop()),r?(this.isShowAd=!0,s.setMusicVolume(0),r.getRewardedAdUnitId().length>0?e.showRewardedAd(r,(function(e,n,t){I.emit(c.EVENT_AD_REWARD_EARN),d&&d()}),(function(e){}),(function(e){I.emit(c.EVENT_AD_REWARD_DISMISSED),n&&n(),s.setMusicVolume(1),i.isShowAd=!1}),(function(e,d){s.setMusicVolume(1),i.isShowAd=!1}),(function(e){}),(function(e,d){}),(function(e,d){I.emit(c.EVENT_AD_REWARD_DISMISSED),n&&n(),i.queueAdRewarded=[],i.isShowAd=!1})):r.getRewardedInterstitialAdUnitId().length>0&&e.showRewardedInterstitialAd(r,(function(e,n,t){I.emit(c.EVENT_AD_REWARD_EARN),d&&d()}),(function(e){}),(function(e){I.emit(c.EVENT_AD_REWARD_DISMISSED),n&&n(),s.setMusicVolume(1),i.isShowAd=!1}),(function(e,d){s.setMusicVolume(1),i.isShowAd=!1}),(function(e){}),(function(e){}),(function(e,d){}),(function(e,d){I.emit(c.EVENT_AD_REWARD_DISMISSED),n&&n(),i.queueAdRewardedInterstitial=[],i.isShowAd=!1})),!0):!1;case R.ADTYPE_TOPON:var o,l;if(u.log("showAds[topOn] ---------------\x3e"),this.queueTopOnAdRewarded.length>0)for(var a=0;a<this.queueTopOnAdRewarded.length;a++){var A=this.queueTopOnAdRewarded[a];if((o=A.isReady()).length){if((l=JSON.parse(o)).isReady)return this.queueTopOnAdRewarded.splice(a,1),u.log("showAds[topOn].ad["+a+"].rewarded.show ------------------\x3e"),A.showAd(d,n),!0;u.log("showAds[topOn].ad["+a+"].rewarded.status.isReady["+l.isReady+"].ignored")}else u.log("showAds[topOn].ad["+a+"].rewarded.status.nil")}if(this.queueTopOnAdRewardedInterstitial.length>0)for(var C=0;C<this.queueTopOnAdRewardedInterstitial.length;C++){var p=this.queueTopOnAdRewardedInterstitial[C];if((o=p.isReady()).length){if((l=JSON.parse(o)).isReady)return this.queueTopOnAdRewardedInterstitial.splice(C,1),u.log("showAds[topOn].ad["+C+"].rewardedInterstitial.show ------------------\x3e"),p.showAd(d,n),!0;u.log("showAds[topOn].ad["+C+"].rewardedInterstitial.status.isReady["+l.isReady+"].ignored")}else u.log("showAds[topOn].ad["+C+"].rewardedInterstitial.status.nil")}return!1;default:return void u.log("preloadAds["+w.appConfig.at+"].unknown!")}},e}()).isShowAd=!1,g.queueAdRewarded=[],g.queueAdRewardedInterstitial=[],g.queueTopOnAdRewarded=[],g.queueTopOnAdRewardedInterstitial=[],h=g))||h);d._RF.pop()}}}));

System.register("chunks:///_virtual/CCAdjust.ts",["cc","./CCDefine.ts","./CCNative.ts"],(function(t){var n,s,u,e,c;return{setters:[function(t){n=t.cclegacy,s=t._decorator,u=t.sys},function(t){e=t.default},function(t){c=t.default}],execute:function(){var a;n._RF.push({},"607bc+hxD9CV4CCQssM8AQJ","CCAdjust",void 0);var i=s.ccclass;s.property,t("default",i("CCAdjust")(a=function(){function t(){}return t.logEvent=function(t){u.isNative&&u.os==u.OS.ANDROID&&c.call(e.NATIVE_CLASS_ROOT_PATH+"/adjust/CCAdjust","AdjustEvent","(Ljava/lang/String;)V",t)},t}())||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCAdmob.ts",["cc","./BannerClient.ts","./RewardedAdClient.ts","./RewardedInterstitialAdClient.ts","./CCUtils.ts"],(function(e){var n,d,t,i,r,o;return{setters:[function(e){n=e.cclegacy,d=e._decorator},function(e){t=e.BannerClient},function(e){i=e.RewardedAdClient},function(e){r=e.RewardedInterstitialAdClient},function(e){o=e.default}],execute:function(){var a;n._RF.push({},"7f4dbHo0wFC26YpjjL7Ap6y","CCAdmob",void 0);var l=d.ccclass;d.property,e("CCAdmob",l("CCAdmob")(a=function(){function e(){this.clientBanner=null,this.clientRewardedAd=null,this.clientRewardedInterstitialAd=null}var n=e.prototype;return n.reqBannerAd=function(e,n,d,i){var r=this;this.clientBanner||(this.clientBanner=new t),this.clientBanner.load(e,{onAdLoaded:function(){o.log("reqBannerAd.onAdLoaded"),d&&d(r.clientBanner)},onAdFailedToLoad:function(e){o.log("reqBannerAd.onAdFailedToLoad.loadAdError: "+e),i&&i(),r.clientBanner.destroy()}},n)},n.getBannerUnitId=function(){return this.clientBanner?this.clientBanner.unitId:""},n.showBannerAd=function(e,n,d,t,i,r,a){var l=this;this.clientBanner&&(this.clientBanner.adListener={onAdOpened:function(){o.log("reqBannerAd.onAdOpened"),n&&n()},onAdImpression:function(){o.log("reqBannerAd.onAdImpression"),d&&d(l.clientBanner)},onAdClicked:function(){o.log("reqBannerAd.onAdClicked"),t&&t()},onAdSwipeGestureClicked:function(){o.log("reqBannerAd.onAdSwipeGestureClicked"),i&&i()},onAdClosed:function(){o.log("reqBannerAd.onAdClosed"),r&&r(),l.clientBanner.destroy()},onPaidEvent:function(e){o.log("reqBannerAd.onPaidEvent.paidNTF => adSourceId:"+e.adSourceId+" adSourceName:"+e.adSourceName+" adSourceInstanceName:"+e.adSourceInstanceName+" adSourceInstanceId:"+e.adSourceInstanceId),o.log("reqBannerAd.onPaidEvent.paidNTF => mediationGroupName:"+e.mediationGroupName+" mediationABTestName:"+e.mediationABTestName+" mediationABTestVariant:"+e.mediationABTestVariant),o.log("reqBannerAd.onPaidEvent.paidNTF => valueMicros:"+e.valueMicros.toString()+" currencyCode:"+e.currencyCode+" precision:"+e.precision.toString()),a&&a(this.bannerClient,e)}},this.clientBanner.show(e))},n.reqRewardedAd=function(e,n,d){var t=this;this.clientRewardedAd||(this.clientRewardedAd=new i);var r=function(){o.log("reqRewardedAd.onAdLoaded"),n&&n(t.clientRewardedAd),r=null},a=function(e){o.log("reqRewardedAd.onAdFailedToLoad.loadAdError: "+e+" unitId: "+t.clientRewardedAd.unitId),d&&d(t.clientRewardedAd,e),a=null,t.clientRewardedAd.destroy()},l={onAdLoaded:r,onAdFailedToLoad:a};this.clientRewardedAd.load(e,l)},n.getRewardedAdUnitId=function(){return this.clientRewardedAd?this.clientRewardedAd.unitId:""},n.showRewardedAd=function(e,n,d,t,i,r,a){var l=this;if(this.clientRewardedAd){var s=function(n,d){o.log("showRewardedAd.onEarn.rewardType: "+n+"  amount: "+d),e&&e(n,d),s=null},c=function(){o.log("showRewardedAd.onAdClicked"),n&&n(),c=null},A=function(){o.log("showRewardedAd.onAdDismissedFullScreenContent"),d&&d(),A=null,l.clientRewardedAd.destroy()},u=function(e){o.log("showRewardedAd.onAdFailedToShowFullScreenContent.adError: "+e),t&&t(e),u=null,l.clientRewardedAd.destroy()},w=function(){o.log("showRewardedAd.onAdShowedFullScreenContent"),i&&i(),w=null},h=function(e){o.log("showRewardedAd.onPaidEvent",e),r&&r(l.clientRewardedAd,e),h=null},R=function(e){o.log("showRewardedAd.onAdShowError.adError: "+e),a&&a(e),R=null,l.clientRewardedAd.destroy()};this.clientRewardedAd.rewardedListener={onEarn:s,onAdClicked:c,onAdDismissedFullScreenContent:A,onAdFailedToShowFullScreenContent:u,onAdShowedFullScreenContent:w,onPaidEvent:h,onAdShowError:R},this.clientRewardedAd.show()}},n.reqRewardedInterstitialAd=function(e,n,d){var t=this;this.clientRewardedInterstitialAd||(this.clientRewardedInterstitialAd=new r);var i=function(e){o.log("reqRewardedInterstitialAd.onAdLoaded"),n&&n(t.clientRewardedInterstitialAd),i=null},a=function(e){o.log("reqRewardedInterstitialAd.onAdFailedToLoad.loadAdError: "+e),d&&d(t.clientRewardedInterstitialAd,e),a=null,t.clientRewardedInterstitialAd.destroy()};this.clientRewardedInterstitialAd.load(e,{onAdLoaded:i,onAdFailedToLoad:a})},n.getRewardedInterstitialAdUnitId=function(){return this.clientRewardedInterstitialAd?this.clientRewardedInterstitialAd.unitId:""},n.showRewardedInterstitialAd=function(e,n,d,t,i,r,a,l){var s=this;if(this.clientRewardedInterstitialAd){var c=function(n,d){o.log("showRewardedInterstitialAd.onEarn.rewardType: "+n+" amount: "+d),e&&e(n,d),c=null},A=function(){o.log("showRewardedInterstitialAd.onAdClicked"),n&&n(),A=null},u=function(e){o.log("showRewardedInterstitialAd.onAdFailedToShowFullScreenContent.adError: "+e),t&&t(e),u=null,s.clientRewardedInterstitialAd.destroy()},w=function(){o.log("showRewardedInterstitialAd.onAdImpression"),i&&i(),w=null},h=function(e){o.log("showRewardedInterstitialAd.onPaidEvent",e),a&&a(s.clientRewardedInterstitialAd,e),h=null},R=function(e){o.log("showRewardedAd.onAdShowError.adError: "+e),l&&l(e),R=null,s.clientRewardedAd.destroy()};this.clientRewardedInterstitialAd.rewardedInterstitialListener={onEarn:c,onAdClicked:A,onAdDismissedFullScreenContent:function(){o.log("showRewardedInterstitialAd.onAdDismissedFullScreenContent"),d&&d(),s.clientRewardedInterstitialAd.destroy()},onAdFailedToShowFullScreenContent:u,onAdImpression:w,onAdShowedFullScreenContent:function(){o.log("showRewardedInterstitialAd.onAdShowedFullScreenContent"),r&&r()},onPaidEvent:h,onAdShowError:R},this.clientRewardedInterstitialAd.show()}},e}())||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCAudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCCacheRes.ts"],(function(e){var t,o,u,c,i,r,n,s,a;return{setters:[function(e){t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e.Node,i=e.director,r=e.AudioSource,n=e.Director},function(e){s=e.default,a=e.CCResType}],execute:function(){var f;u._RF.push({},"8b7bd8aGWdC9YRqP9cY0a97","CCAudioManager",void 0);var l=e("CCAudioManager",function(){function e(){this.musicSource=void 0,this.effectSourcePool=[],this.musicVolume=void 0,this.effectVolume=void 0,this.effectSourceIndex=0,i.once(n.EVENT_AFTER_SCENE_LAUNCH,this.init,this)}var u=e.prototype;return u.init=function(){this.musicVolume=1,this.effectVolume=1;var e=new c("CCAudioManager");i.getScene().addChild(e),i.addPersistRootNode(e),this.musicSource=this.createAudioSource(e,this.musicVolume);for(var t=0;t<5;t++)this.effectSourcePool.push(this.createAudioSource(e,this.effectVolume))},u.createAudioSource=function(e,t){var o=e.addComponent(r);return o.loop=!1,o.playOnAwake=!1,o.volume=t,o},u.playMusic=function(){var e=t(o().mark((function e(t,u,c){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===u&&(u=!0),void 0===c&&(c=1),e.next=4;break;case 4:s.load({bundleName:"audio",relativePath:t,resType:a.AudioClip}).then((function(e){e&&(h.musicSource.stop(),h.musicSource.clip=e,h.musicSource.loop=u,h.musicSource.volume=i.musicVolume*c,h.musicSource.play())}));case 5:case"end":return e.stop()}}),e)})));return function(t,o,u){return e.apply(this,arguments)}}(),u.replayMusic=function(){this.musicSource.stop(),this.musicSource.play()},u.pauseMusic=function(){this.musicSource.pause()},u.stopMusic=function(){this.musicSource.stop()},u.playEffect=function(){var e=t(o().mark((function e(t,u){var c=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===u&&(u=1),e.next=3;break;case 3:s.load({bundleName:"audio",relativePath:t,resType:a.AudioClip}).then((function(e){e&&c.getNextEffectSource().playOneShot(e,c.effectVolume*u)}));case 4:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),u.getNextEffectSource=function(){var e=this.effectSourcePool[this.effectSourceIndex];return this.effectSourceIndex=(this.effectSourceIndex+1)%this.effectSourcePool.length,e},u.setMusicVolume=function(e){this.musicVolume=e,this.musicSource.volume=e},u.getMusicVolume=function(){return this.musicVolume},u.setEffectVolume=function(e){this.effectVolume=e,this.effectSourcePool.forEach((function(t){return t.volume=e}))},u.getEffectVolume=function(){return this.effectVolume},e}());f=l,l.instance=new f;var h=e("audioMgr",l.instance);u._RF.pop()}}}));

System.register("chunks:///_virtual/CCAutoSpriteAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,u,a,l,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,a=t.Sprite,l=t.SpriteFrame,c=t.Rect,s=t.Component}],execute:function(){var p,h,f,m,b,y,d,g,w,v,z,C,A,S,F,x,P;o._RF.push({},"6282fkkmONP7Luh7WcS4CrV","CCAutoSpriteAnimation",void 0);var I=u.ccclass,_=u.property;t("CCAutoSpriteAnimation",(p=I("SpriteAnimation"),h=_({tooltip:""}),f=_({tooltip:""}),m=_({tooltip:""}),b=_({tooltip:""}),y=_({tooltip:",  rows x columns, "}),d=_({tooltip:""}),g=_({tooltip:""}),p((z=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,r(e,"width",z,n(e)),r(e,"height",C,n(e)),r(e,"rows",A,n(e)),r(e,"columns",S,n(e)),r(e,"count",F,n(e)),r(e,"speed",x,n(e)),r(e,"autoPlay",P,n(e)),e.sprite=null,e.currentIndex=0,e}i(e,t);var o=e.prototype;return o.start=function(){var t,e;this.sprite=null!=(t=null==(e=this.node.getComponent(a))?void 0:e.spriteFrame)?t:new l,this.count||(this.count=this.rows*this.columns),this.getFrame(0),this.autoPlay&&this.play()},o.getFrame=function(t){t>=this.count&&(t=0,this.currentIndex=0);var e=t%this.columns,i=Math.floor(t/this.columns);this.sprite.rect=new c(e*this.width,i*this.height,this.width,this.height)},o.play=function(){var t=this;this.schedule((function(){t.getFrame(t.currentIndex),t.currentIndex+=1}),this.speed)},e}(s)).prototype,"width",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),C=e(v.prototype,"height",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),A=e(v.prototype,"rows",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=e(v.prototype,"columns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=e(v.prototype,"count",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=e(v.prototype,"speed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),P=e(v.prototype,"autoPlay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=v))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCBoxCollider2D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCEvent.ts","./CCDefine.ts"],(function(t){var i,n,o,e,s,d,h,r,a,c,C,l;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,e=t.Contact2DType,s=t.Size,d=t.UITransform,h=t.Vec2,r=t.Eventify,a=t.BoxCollider2D},function(t){c=t.default},function(t){C=t.CCEvent},function(t){l=t.EVENT_TYPE}],execute:function(){var u;n._RF.push({},"45f3d0VedBN6YdgiHKGFXZU","CCBoxCollider2D",void 0);var g=o.ccclass,E=(o.property,o.executeInEditMode);o.requireComponent,t("PHY_GROUP",{DEFAULT:1,BLOCK:2,SELF:4,SELF_BULLET:8,SAFE:16,BLOCK_LEFT:32,BLOCK_RIGHT:64,SAFE_POLE:128}),t("CCBoxCollider2D",g("CCBoxCollider2D")(u=E(u=function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).originSize=new s(0,0),i.passed=!1,i}i(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},o.onEditingDidBegan=function(){c.log("onEditingDidBegan")},o.onEditingDidEnded=function(){c.log("onEditingDidEnded")},o.onEditinReturn=function(){c.log("onEditinReturn")},o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),this.on("editing-did-began",this.onEditingDidBegan,this),this.on("editing-did-ended",this.onEditingDidEnded,this),this.on("editing-return",this.onEditinReturn,this),this.on(e.BEGIN_CONTACT,this.onBeginContact,this),this.on(e.END_CONTACT,this.onEndContact,this)},o.onDisable=function(){this.off(e.BEGIN_CONTACT,this.onBeginContact,this),this.off(e.END_CONTACT,this.onEndContact,this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.onDestroy=function(){t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},o.setOriginSize=function(t,i){this.originSize=new s(t,i),this.setSize(t,i)},o.setSize=function(t,i){var n,o=(null==(n=this.node.getComponent(d))?void 0:n.anchorPoint)||new h(0,0);this.size=new s(t,i),this.offset=new h((.5-o.x)*t,(.5-o.y)*i);var e=this.node.getComponent(d)||this.node.addComponent(d);e.width=t,e.height=i},o.randomWidth=function(t,i,n){if(t>i){var o=t;t=i,i=o}return i>=1&&(i=.9),this.size.width=c.randomRangeRightClosed(n*t,n*i),this.setSize(this.size.width,this.size.height),this.size.width},o.randomHeight=function(t,i,n){if(t>i){var o=t;t=i,i=o}return i>=1&&(i=.9),this.size.height=c.randomRangeRightClosed(n*t,n*i),this.setSize(this.size.width,this.size.height),this.size.height},o.onBeginContact=function(t,i,n){C.emit(l.BEGIN_CONTACT,t,i,n)},o.onEndContact=function(t,i,n){C.emit(l.END_CONTACT,t,i,n)},n}(r(a)))||u)||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnAccelerate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelCommon.ts","./CCUtils.ts","./CCAdHelper.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCLingoData.ts","./CCDefine.ts","./CCSceneHall.ts","./CCAudioManager.ts","./CCEvent.ts","./CCEffct.ts","./CCSceneMain.ts"],(function(e){var t,s,n,i,a,o,r,l,c,p,u,h,m,S,f,g,C,d,T,R,U,A;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,n=e._decorator,i=e.ProgressBar,a=e.sp,o=e.Label},function(e){r=e.CCButton},function(e){l=e.default},function(e){c=e.CCPanelCommon},function(e){p=e.default},function(e){u=e.default},function(e){h=e.CCPlayerData},function(e){m=e.default},function(e){S=e._T},function(e){f=e.EVENT_TYPE,g=e.default,C=e.HALL_INDEX},function(e){d=e.CCSceneHall},function(e){T=e.audioMgr},function(e){R=e.CCEvent},function(e){U=e.CCEffect},function(e){A=e.CCSceneMain}],execute:function(){var P;s._RF.push({},"cade2kGIUFP0KeAHg+Rs0oM","CCBtnAccelerate",void 0);var B=n.ccclass,D=e("CCSpineStatus",function(e){return e[e.STOPPED=0]="STOPPED",e[e.STARTED=1]="STARTED",e[e.RUNNING=2]="RUNNING",e}({}));e("CCBtnAccelerate",B("CCBtnAccelerate")(P=function(e){function s(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).progressBar=void 0,t.spine=void 0,t.spine2=void 0,t.spineRuning=D.STOPPED,t.spine2Runing=D.STOPPED,t.fnTimeScaleUp=function(){var e=g.fnTimeScaleUpInterval/m.data.GameAccelRecoverMax;if(t.progressBar.progress-=e,t.progressBar.progress<=0)return t.progressBar.progress=0,t.timeScaleReset(),void t.showAcceleratePanel()},t}t(s,e);var n=s.prototype;return n.onLoad=function(){var t=this;e.prototype.onLoad&&e.prototype.onLoad.call(this),R.on(f.ACCELERATE_OFF,this.timeScaleReset,this),this.progressBar||(this.progressBar=this.node.getChildByName("ProgressBar").getComponent(i),this.progressBar&&(h.data&&(this.progressBar.progress=h.data.timeScaleUpValue),this.schedule((function(){t.restoreTimeScaleUp()}),10))),this.spine||(this.spine=this.node.getChildByName("Spine").getComponent(a.Skeleton),this.spine&&(this.spine.paused=!0,this.spineRuning=D.STOPPED)),this.spine2||(this.spine2=this.node.getChildByName("Spine2").getComponent(a.Skeleton),this.spine2&&(this.spine2.paused=!0,this.spine2Runing=D.STOPPED)),this.node.getChildByName("text").getComponent(o).string=S("UI_hall_button3")},n.onDestroy=function(){this.timeScaleReset(),R.targetOff(this),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},n.update=function(e){},n.fullRestoreTimeScaleUp=function(){h.data.timeScaleUpValue=1,this.progressBar.progress=1},n.restoreTimeScaleUp=function(){if(!(h.data.timeScaleUpValue>=1||h.getGameAccelRate()==m.data.GameAccelRate)){var e=m.data.GameAccelRecoverCycle,t=h.data.lastTimeScaleUp,s=.001*(p.NowTimeStamp()-t)/(60*e);h.data.timeScaleUpValue=h.data.lastTimeScaleUpLeftValue+s,h.data.timeScaleUpValue>1&&(h.data.timeScaleUpValue=1),this.progressBar.progress=h.data.timeScaleUpValue}},n.isTimeScaleUpDone=function(){return this.progressBar.progress=h.data.timeScaleUpValue,this.progressBar.progress<=0&&(this.progressBar.progress=0,h.data.timeScaleUpValue=0,!0)},n.timeScaleUp=function(){if(this.isTimeScaleUpDone())return this.timeScaleReset(),void this.showAcceleratePanel();h.getGameAccelRate()!=m.data.GameAccelRate&&(this.fnTimeScaleUp(),this.schedule(this.fnTimeScaleUp,g.fnTimeScaleUpInterval),h.setGameAccelerate(m.data.GameAccelRate),d.accelerate(),A.pageIndex==C.MIDDLE&&T.playEffect("btnAccelerateOn"))},n.timeScaleReset=function(e){h.setGameAccelerate(1),d.accelerate(!1,!1),this.unschedule(this.fnTimeScaleUp),h.data&&(h.data.timeScaleUpValue=this.progressBar.progress,h.data.lastTimeScaleUpLeftValue=this.progressBar.progress,h.save()),!this.spine||this.spineRuning!=D.STARTED&&this.spineRuning!=D.RUNNING||(this.reset(this.spine),this.spine.setAnimation(3,"03end",!1),this.spineRuning=D.STOPPED),!this.spine2||this.spine2Runing!=D.STARTED&&this.spine2Runing!=D.RUNNING||(this.reset(this.spine2),this.spine2.setAnimation(3,"03stop",!1),this.spine2Runing=D.STOPPED,A.pageIndex==C.MIDDLE&&T.playEffect("btnAccelerateOff"))},n.reset=function(e){null==e||e.setToSetupPose(),null==e||e.setBonesToSetupPose(),null==e||e.setSlotsToSetupPose(),null==e||e.clearAnimations(),null==e||e.clearTracks()},n.onBtnPressStart=function(e,t,s){this.spine&&this.spineRuning==D.STOPPED&&(this.reset(this.spine),this.spine.setAnimation(1,"01start",!1),this.spine.paused=!1,this.spineRuning=D.STARTED),this.spine2&&this.spine2Runing==D.STOPPED&&(this.reset(this.spine2),this.spine2.setAnimation(1,"01start",!1),this.spine2.paused=!1,this.spine2Runing=D.STARTED),h.data.lastTimeScaleUp=p.NowTimeStamp(),this.timeScaleUp()},n.onBtnPressed=function(e,t,s,n){n?this.onBtnTouchMove(e,t,s):this.timeScaleReset()},n.onBtnTouchMove=function(e,t,s){this.spine&&this.spineRuning==D.STARTED&&(this.reset(this.spine),this.spine.setAnimation(2,"02press",!1),this.spineRuning=D.RUNNING),this.spine2&&this.spine2Runing==D.STARTED&&(this.reset(this.spine2),this.spine2.setAnimation(2,"02xunhuan",!0),this.spine2Runing=D.RUNNING)},n.onBtnTouchCanceled=function(e,t,s){this.timeScaleReset()},n.showAcceleratePanel=function(){var e=this;l.showPanel(c.resObj,{title:S("UI_boost_1"),body:S("UI_boost_2"),image:"textures@Texture2D/Hall_UI/Hall_UI/panelImageAccelerate",submitIcon:"textures@Texture2D/Hall_Common/Hall_Common/common_video",submitText:S("UI_boost_3"),fnOnShow:null,fnSubmit:function(t,s,n,i){p.pushEventClickBtn(t),R.emit(f.PUSH_EVENT,"ad_2"),u.showAds((function(){e.fullRestoreTimeScaleUp(),t.hide(!1,0)}))||U.toast(d.SceneHallUI,"textures@prefabs/floatingBanner",S("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}})},s}(r))||P);s._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnAdEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCPanelAdRewards.ts"],(function(t){var e,n,o,i,r,a,s,c,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.RichText},function(t){r=t.CCButton},function(t){a=t.default},function(t){s=t.default},function(t){c=t.CCPlayerData},function(t){l=t._T},function(t){u=t.CCPanelAdRewards}],execute:function(){var h;n._RF.push({},"584a48SuctDCJW7AVNHqeH3","CCBtnAdEvent",void 0);var C=o.ccclass;o.property,t("CCBtnAdEvent",C("CCBtnAdEvent")(h=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).richtext=null,e.fnTimer=null,e}e(n,t);var o=n.prototype;return o.update=function(t){},o.onLoad=function(){var e=this;t.prototype.onLoad&&t.prototype.onLoad.call(this),this.richtext||(this.richtext=this.node.getChildByName("text").getComponent(i),a.setRichTextString(this.richtext,"<color=#FFFFFF><outline color=#000000 width=2>"+l("events_entrance")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")),this.fnTimer||(this.fnTimer=function(){e.enableUI()},this.fnTimer(),this.schedule(this.fnTimer,1))},o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),this.enableUI()},o.enableUI=function(){var t=!1,e=c.getHotTaskProcess(29);e&&1==e.status&&(t=!0),this.richtext.node.active!=t&&(this.richtext.node.active=t),this.node.active!=t&&(this.node.active=t),t&&this.unschedule(this.fnTimer)},o.onBtnPressStart=function(t,e,n){s.showPanel(u.resObj,null)},n}(r))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnBackpack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCPanelBackpack.ts","./CCPropData.ts"],(function(t){var e,n,a,o,i,r,c,s,l,u,p,h,f;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,o=t._decorator,i=t.RichText},function(t){r=t.CCButton},function(t){c=t.default},function(t){s=t.default},function(t){l=t.CCPlayerData},function(t){u=t._T},function(t){p=t.CCPanelBackpack},function(t){h=t.default,f=t.CCPropType}],execute:function(){var C;a._RF.push({},"7699fCLlTdLiqonbXtpLYtT","CCBtnBackpack",void 0);var d=o.ccclass;o.property,t("CCBtnBackpack",d("CCBtnBackpack")(C=function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).richtext=null,e.fnTimer=null,e}e(a,t);var o=a.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this.richtext||(this.richtext=this.node.getChildByName("text").getComponent(i),c.setRichTextString(this.richtext,"<color=#FFFFFF><outline color=#000000 width=2>"+u("game_text")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI"))},o.onEnable=function(){var e=this;t.prototype.onEnable&&t.prototype.onEnable.call(this),this.enableUI(),this.fnTimer||(this.fnTimer=function(){e.enableUI()},this.fnTimer(),this.schedule(this.fnTimer,1))},o.enableUI=function(){var t=l.data.backpackUnlocked;t||(t=this.isHaveMaterial())||(t=this.isHaveProp()),this.richtext.node.active!=t&&(this.richtext.node.active=t),this.node.active!=t&&(this.node.active=t),t&&this.unschedule(this.fnTimer)},o.isHaveMaterial=function(){for(var t,e=!1,a=h.keys(f.MATERIAL),o=n(a);!(t=o()).done;){var i=t.value;if(l.getPropCount(i)>0){e=!0,l.data.backpackUnlocked=!0,l.save();break}}return e},o.isHaveProp=function(){for(var t,e=!1,a=h.keys(f.PROP),o=n(a);!(t=o()).done;){var i=t.value;if(l.getPropCount(i)>0){e=!0,l.data.backpackUnlocked=!0,l.save();break}}return e},o.onBtnPressStart=function(t,e,n){s.showPanel(p.resObj,null)},a}(r))||C);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnBuilding.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSpine.ts","./CCUtils.ts","./CCPlayerData.ts","./CCPopupManager.ts","./CCPanelClanManagementItemFacilityUpgrade.ts","./CCBuildingLeftData.ts","./CCPanelClanManagementItemFacilityDetails.ts","./CCEvent.ts","./CCDefine.ts"],(function(t){var n,e,i,o,a,l,s,r,C,c,u,p,d,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.isValid,a=t.sp},function(t){l=t.CCSpine},function(t){s=t.default},function(t){r=t.CCPlayerData},function(t){C=t.default},function(t){c=t.CCPanelClanManagementItemFacilityUpgrade},function(t){u=t.default},function(t){p=t.CCPanelClanManagementItemFacilityDetails},function(t){d=t.CCEvent},function(t){f=t.EVENT_TYPE}],execute:function(){var y;e._RF.push({},"7cb6erUl19FOo5ByNCfvDw2","CCBtnBuilding",void 0);var g=i.ccclass;i.property,t("CCBtnBuilding",g("CCBtnBuilding")(y=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},i.onDestroy=function(){t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},i.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),o(this.ske)&&(this.ske.premultipliedAlpha=!1,this.ske.enableBatch=!0,this.ske.loop=!0,this.ske.setAnimationCacheMode(a.SpineAnimationCacheMode.REALTIME))},i.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this)},e.onShowPanel=function(t,n){if(void 0===n&&(n=null),!(t<0)&&r.data.leftSceneUnlocked){var e=t,i=u.getOrderIdByTypeId(e);if(t>=1e3)return e=Math.floor(t/100),i=u.getOrderIdByTypeId(e),void C.showPanel(c.resObj,{idx:i,tid:e,fnComplete:n},!0);var o=r.getCatUpgradeUsingByBuildingId(t);o&&o.buildingId>0&&-1==o.lastTrainCompleteTime?d.emit(f.COLLECT_EXP,o.buildingId):C.showPanel(p.resObj,{idx:i,tid:e,fnOnShow:null,fnOnComplete:n},!0)}},i.onBtnPressed=function(t,n,i,o){o||(s.log("onBtnPressStart["+t.name+".idx["+n+"]]"),e.onShowPanel(n))},e}(l))||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnCatHouseUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPanelCatHouseUpgrade.ts","./CCPanelCatHouseUpgradeRanking.ts","./CCPanelCatHouseUpgradeItem.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCLingoData.ts","./CCDefine.ts","./CCAdHelper.ts","./CCPanelMiniGameCollect.ts","./CCEvent.ts","./CCHostTasksData.ts","./CCAudioManager.ts"],(function(e){var t,a,n,o,r,s,i,l,u,C,d,c,f,g,p,v,h,U,H,P,m,w,T;return{setters:[function(e){t=e.inheritsLoose,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator,s=e.RichText},function(e){i=e.CCButton},function(e){l=e.default},function(e){u=e.default},function(e){C=e.CCPanelCatHouseUpgrade},function(e){d=e.CCPanelCatHouseUpgradeRanking},function(e){c=e.CCPanelCatHouseUpgradeItem},function(e){f=e.CCPlayerData},function(e){g=e.default},function(e){p=e.CCEffect},function(e){v=e.CCSceneHall},function(e){h=e._T},function(e){U=e.EVENT_TYPE},function(e){H=e.default},function(e){P=e.CCPanelMiniGameCollect},function(e){m=e.CCEvent},function(e){w=e.default},function(e){T=e.audioMgr}],execute:function(){var I;o._RF.push({},"346d6epT5JGB5chvR6s64DG","CCBtnCatHouseUpgrade",void 0);var y=r.ccclass;r.property,e("CCBtnUpgrade",y("CCBtnUpgrade")(I=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var r=o.prototype;return r.update=function(e){},r.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this);var t=this.node.getChildByName("text").getComponent(s);l.setRichTextString(t,"<color=#FFFFFF><outline color=#000000 width=2>"+h("UI_hall_button5")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},r.onBtnPressStart=function(e,t,a){o.showDetails(-1)},o.showDetails=function(e,t){void 0===t&&(t=null);var o=f.data.vip;if(o<g.data.UnlockHardwareNeedVIP)return l.log("vip: "+o+" < "+g.data.UnlockHardwareNeedVIP),p.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+h(g.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",g.data.UnlockHardwareNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI"),void T.playEffect("failed");u.showPanel(C.resObj,{fnOnShow:t,fnEliminate:function(e,t,o){var r=f.getMiniGameLeftCount(),s=g.data.HardwareGameTimesRecoverLimit;if(l.log("Eliminate hardware ("+r+"/"+s+")"),r<=0)return m.emit(U.PUSH_EVENT,"ad_10"),void(H.showAds((function(){f.addMiniGameLeftCount(g.data.HardwareGameTimesAddByReward),m.emit(U.TREASURE_HUNT_UPDATE)}))||p.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",h("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI"));var i=w.getRowsByTagId(f.data.hotTaskId);if(i&&i.needPlayMiniGameCount>0){var C=f.getHotTaskProcess(f.data.hotTaskId);0==C.status&&(C.progressCurrent+=1,f.addHotTaskProcesss(f.data.hotTaskId,C.progressCurrent))}f.subMiniGameLeftCount(),e.hide(!1,0),p.showLoading(a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.showPanel(P.resObj,null,!0,0);case 1:case"end":return e.stop()}}),e)}))))},fnRanking:function(){u.showPanel(d.resObj,null,!0)},fnUpgrade1:function(){var e=f.getCatRoomLevelUsing(1);u.showPanel(c.resObj,{typeId:1,level:e.level},!0)},fnUpgrade2:function(){var e=f.getCatRoomLevelUsing(2);u.showPanel(c.resObj,{typeId:2,level:e.level},!0)},fnUpgrade3:function(){var e=f.getCatRoomLevelUsing(3);u.showPanel(c.resObj,{typeId:3,level:e.level},!0)},fnUpgrade4:function(){var e=f.getCatRoomLevelUsing(4);u.showPanel(c.resObj,{typeId:4,level:e.level},!0)},guideType:e},!0)},o}(i))||I);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnDoubleIncome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPanelCommon.ts","./CCPopupManager.ts","./CCAdHelper.ts","./CCSundryData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCDefine.ts","./CCEvent.ts","./CCAudioManager.ts"],(function(t){var e,n,i,o,a,l,s,r,u,c,f,m,C,d,h,p,I,b;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.RichText,a=t.Label},function(t){l=t.CCButton},function(t){s=t.default},function(t){r=t.CCPanelCommon},function(t){u=t.default},function(t){c=t.default},function(t){f=t.default},function(t){m=t.CCSceneHall},function(t){C=t.CCEffect},function(t){d=t.CCPlayerData},function(t){h=t._T},function(t){p=t.EVENT_TYPE},function(t){I=t.CCEvent},function(t){b=t.audioMgr}],execute:function(){var _;n._RF.push({},"c0accvz60dP9p+aEYssv/HH","CCBtnDoubleIncome",void 0);var T=i.ccclass;i.property,t("CCBtnDoubleIncome",T("CCBtnDoubleIncome")(_=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).spriteItem=null,e.labelTimeLeft=null,e}e(n,t);var i=n.prototype;return i.update=function(t){},i.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var e=this.node.getChildByName("text").getComponent(o);s.setRichTextString(e,"<color=#FFFFFF><outline color=#000000 width=2>"+h("UI_hall_button7_1")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI"),this.spriteItem||(this.spriteItem=this.node.getChildByName("SpriteTime")),this.spriteItem&&(this.spriteItem.active=!1),this.labelTimeLeft||(this.labelTimeLeft=this.spriteItem.getChildByName("Label").getComponent(a)),this.labelTimeLeft&&this.enableTimer()},i.enableTimer=function(){var t=this,e=function(){var e=d.isAdFree();if(e)return d.setDoubleIncomeTimeLeft(f.data.ExtracCoinsTimeLimit),t.spriteItem.active=!0,t.labelTimeLeft.string="",void(t.labelTimeLeft.fontSize=32);var n=d.getDoubleIncomeTimeLeft();n>0?(t.spriteItem.active=!0,t.labelTimeLeft.string=""+s.formatTime(n),e||d.addDoubleIncomeTimeLeft(-1)):t.spriteItem.active=!1};e(),this.schedule((function(){e()}),1)},i.onBtnPressStart=function(t,e,i){if(d.data.vip<f.data.UnlockExtraCoinNeedVIP)return C.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h(f.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",f.data.UnlockExtraCoinNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI"),void b.playEffect("failed");n.showPanel()},n.showPanel=function(t){void 0===t&&(t=null),u.showPanel(r.resObj,{title:h("UI_hall_button7_1"),body:h("UI_hall_button7_2"),image:"textures@Texture2D/Hall_UI/Hall_UI/panelImageDoubleTheInCome",submitIcon:"textures@Texture2D/Hall_Common/Hall_Common/common_video",submitText:h("UI_hall_button7_4"),fnOnShow:t,fnSubmit:function(t){I.emit(p.PUSH_EVENT,"ad_3"),c.showAds((function(){d.addDoubleIncomeTimeLeft(f.data.ExtracCoinsAddtimeByAds),t.hide(!1,0)}))||C.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",h("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}})},n}(l))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnExpressDelivery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCPanelDecorationDelivery.ts"],(function(e){var t,n,i,l,a,s,o,r,c,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,l=e.Vec3,a=e.Label,s=e.Node},function(e){o=e.CCButton},function(e){r=e.default},function(e){c=e.default},function(e){u=e.CCPlayerData},function(e){h=e.CCPanelDecorationDelivery}],execute:function(){var C;n._RF.push({},"06d9dwJi0NMrZ6mtoPwz6bM","CCBtnExpressDelivery",void 0);var f=i.ccclass;i.property,e("CCBtnExpressDelivery",f("CCBtnExpressDelivery")(C=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this).labelTime=null,t}t(n,e);var i=n.prototype;return i.update=function(e){},i.enableUI=function(){var e=u.getSortedBuildingDeliveringTimedifference();if(0==e.length)this.labelTime.node.active=!1,this.unscheduleAllCallbacks(),this.node.active=!1;else{var t=u.data.leftSceneUnlocked||u.data.rightSceneUnlocked||u.isHaveProp();this.node.position=new l(0,t?400:250,0),this.labelTime.node.active=!0,this.labelTime.string=""+r.formatTime(e[0])}},i.onEnable=function(){var e=this;(this.labelTime||(this.labelTime=this.node.getChildByName("text").getComponent(a),this.labelTime))&&(this.enableUI(),this.schedule((function(){e.enableUI()}),.1))},i.onDisable=function(){this.node.off(s.EventType.TOUCH_START,this.onBtnPressStart,this),this.labelTime&&this.unscheduleAllCallbacks()},i.onBtnPressStart=function(e,t,n){c.showPanel(h.resObj,null)},n}(o))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnGames.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCLingoData.ts","./CCDefine.ts","./CCEvent.ts","./CCPanelMiniGameList.ts"],(function(t){var n,e,o,i,s,a,u,c,r,l,C;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.RichText},function(t){s=t.CCButton},function(t){a=t.default},function(t){u=t.default},function(t){c=t._T},function(t){r=t.EVENT_TYPE},function(t){l=t.CCEvent},function(t){C=t.CCPanelMiniGameList}],execute:function(){var f;e._RF.push({},"aa308Bf8r9N2L2AdsjSqGe3","CCBtnGames",void 0);var h=o.ccclass;o.property,t("CCBtnGames",h("CCBtnGames")(f=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(i);a.setRichTextString(n,"<color=#FFFFFF><outline color=#000000 width=2>"+c("buildingRight_gametext1")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI"),l.on(r.SHOW_RIGHT_MINIGAME_PANEL,this.onShowRightMiniGamePanel,this)},o.onShowRightMiniGamePanel=function(t){void 0===t&&(t=0),this.scheduleOnce((function(){u.showPanel(C.resObj,{fnOnShow:null},!0)}),t)},o.onBtnPressStart=function(t,n,e){u.showPanel(C.resObj)},e}(s))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelHotTask.ts"],(function(t){var n,e,o,r,u,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.CCButton},function(t){u=t.default},function(t){s=t.CCPanelHotTask}],execute:function(){var c;e._RF.push({},"1d4a0wAYF5AFq2SFzMoSihR","CCBtnHelper",void 0);var a=o.ccclass;o.property,t("CCBtnHelper",a("CCBtnHelper")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onBtnPressStart=function(t,n,e){u.showPanel(s.resObj,null)},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnLeftClanManagement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCLingoData.ts","./CCPanelClanManagement.ts"],(function(t){var n,e,o,a,r,i,u,c,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.RichText},function(t){r=t.CCButton},function(t){i=t.default},function(t){u=t.default},function(t){c=t._T},function(t){l=t.CCPanelClanManagement}],execute:function(){var C;e._RF.push({},"605b2NsfBdMgIBZU1dZnRC+","CCBtnLeftClanManagement",void 0);var s=o.ccclass;o.property,t("CCBtnLeftClanManagement",s("CCBtnLeftClanManagement")(C=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onstart=function(){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(a);i.setRichTextString(n,"<color=#FFFFFF><outline color=#cb9458 width=2>"+c("MenuBar3")+"</outline></color>")},o.onBtnPressStart=function(t,n,e){u.showPanel(l.resObj,null,!0)},e}(r))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnLeftMatch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCLingoData.ts","./CCPanelMatch.ts","./CCPlayerData.ts","./CCPanelMatchRound.ts","./CCCatCompeti.ts","./CCEvent.ts","./CCDefine.ts"],(function(t){var n,e,o,a,r,c,i,C,s,u,h,f,l,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.RichText},function(t){r=t.CCButton},function(t){c=t.default},function(t){i=t.default},function(t){C=t._T},function(t){s=t.CCPanelMatch},function(t){u=t.CCPlayerData},function(t){h=t.CCPanelMatchRound},function(t){f=t.default},function(t){l=t.CCEvent},function(t){p=t.EVENT_TYPE}],execute:function(){var d;e._RF.push({},"502ecAFnMdHX6aPyXj/+iHm","CCBtnLeftMatch",void 0);var y=o.ccclass;o.property,t("CCBtnLeftMatch",y("CCBtnLeftMatch")(d=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onstart=function(){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(a);c.setRichTextString(n,"<color=#FFFFFF><outline color=#cb9458 width=2>"+C("MenuBar2")+"</outline></color>"),l.on(p.SHOW_LEFT_MATCH_PANEL,e.onShowPanel,this)},o.onDestroy=function(){l.targetOff(this),t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},e.onShowPanel=function(){var t=0,n=u.data.matchChapterId;if(n>0){var e=f.getChapterData(n);if(u.getMatchProcessRoundIdWonMax(n)<e.roundId){if(!u.getMatchProcessCompleted(n))return t=f.getIdxByChapterId(n),void i.showPanel(h.resObj,{idx:t,fromChapter:!1},!0)}else if(f.isChapterMax(n))t=f.getIdxByChapterId(n);else{var o=f.getChapterDataNext(n);o&&(t=f.getIdxByChapterId(o.chapterId))}}i.showPanel(s.resObj,{chapterIdx:t},!0)},o.onBtnPressStart=function(t,n,o){e.onShowPanel()},e}(r))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnLeftSponsorShip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCLingoData.ts","./CCPanelSeekSponsor.ts"],(function(t){var n,o,e,r,i,s,u,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.RichText},function(t){i=t.CCButton},function(t){s=t.default},function(t){u=t.default},function(t){c=t._T},function(t){a=t.CCPanelSeekSponsor}],execute:function(){var p;o._RF.push({},"1a09dj6mLhLZJ3EGMpTX30d","CCBtnLeftSponsorShip",void 0);var l=e.ccclass;e.property,t("CCBtnLeftSponsorShip",l("CCBtnLeftSponsorShip")(p=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.update=function(t){},e.onstart=function(){},e.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(r);s.setRichTextString(n,"<color=#FFFFFF><outline color=#cb9458 width=2>"+c("MenuBar1")+"</outline></color>")},e.onBtnPressStart=function(t,n,o){u.showPanel(a.resObj,null,!0)},o}(i))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnManagement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPanelManagement.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCGuideData.ts"],(function(t){var e,n,o,i,a,u,r,s,C,l,c,d,p,E,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.RichText},function(t){a=t.CCButton},function(t){u=t.default},function(t){r=t.default},function(t){s=t.CCPanelManagement},function(t){C=t._T},function(t){l=t.CCEvent},function(t){c=t.default,d=t.EVENT_TYPE},function(t){p=t.CCPlayerData,E=t.CC_NEWBIE_GUIDE_TYPE},function(t){f=t.default}],execute:function(){var g;n._RF.push({},"1c688Z5DphH46ARh1TuJom6","CCBtnManagement",void 0);var m=o.ccclass;o.property,t("CCBtnManagement",m("CCBtnManagement")(g=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var e=this.node.getChildByName("text").getComponent(i);u.setRichTextString(e,"<color=#FFFFFF><outline color=#000000 width=2>"+C("UI_hall_button1")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},o.onBtnPressStart=function(t,e,n){if(r.showPanel(s.resObj,null),c.ENABLE_NEWBIE_GUIDE){if(c.isMinimailistUser()&&0==p.getNewbieGuideStepsCompleted(E.DEFAULT)){var o=f.getFirstMinimailistStep(E.DEFAULT);p.updateNewbieGuideStepsCompleted(E.DEFAULT,o,!1)}if(4==p.getNewbieGuideStepsCompleted(E.DEFAULT)){var i=f.getRowsNext(E.DEFAULT,p.getNewbieGuideStepsCompleted(E.DEFAULT));i&&(p.updateNewbieGuideStepsCompleted(E.DEFAULT,i.orderId),(i=f.getRowsNext(E.DEFAULT,i.orderId))&&l.emit(d.NEWBIE_GUIDE_ACTION_REFRESH,i.orderId))}}},n}(a))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnPromotion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPanelOutside.ts","./CCAdHelper.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCPanelOutsideUpgrade.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCAudioManager.ts"],(function(t){var e,n,a,o,i,l,r,u,s,d,c,f,C,p,U,h,v,I;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.RichText},function(t){i=t.CCButton},function(t){l=t.default},function(t){r=t.default},function(t){u=t.CCPanelOutside},function(t){s=t.default},function(t){d=t.CCPlayerData},function(t){c=t.default},function(t){f=t.CCEffect},function(t){C=t.CCSceneHall},function(t){p=t.CCPanelOutsideUpgrade},function(t){U=t._T},function(t){h=t.CCEvent},function(t){v=t.EVENT_TYPE},function(t){I=t.audioMgr}],execute:function(){var _;n._RF.push({},"ee323kAhuJFI5r9R2Mr2SWo","CCBtnPromotion",void 0);var g=a.ccclass;a.property,t("CCBtnPromotion",g("CCBtnPromotion")(_=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.update=function(t){},a.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var e=this.node.getChildByName("text").getComponent(o);l.setRichTextString(e,"<color=#FFFFFF><outline color=#000000 width=2>"+U("UI_hall_button2")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},a.onBtnPressStart=function(t,e,a){n.showDetails()},n.showDetails=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=null);var n=d.data.vip;if(n<c.data.OutsideLevelUpNeedVIP)return l.log("vip: "+n+" < "+c.data.OutsideLevelUpNeedVIP),f.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",""+U(c.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",c.data.OutsideLevelUpNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI"),void I.playEffect("failed");r.showPanel(u.resObj,{fnBtnVideo:function(t,e,n){d.data.leaflet>=c.data.OutSideFlyerRecoverMax?f.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",U("FacadeUI4"),"textures@Texture2D/Hall_UI/Hall_UI"):(h.emit(v.PUSH_EVENT,"ad_6"),s.showAds((function(){d.addLeaflet(c.data.OutSideFlyerRecoverCountByAds),h.emit(v.OUTSIDE_LEAFLET_REWARD)}))||f.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",U("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI"))},fnBtnUpgrade:function(){var t=d.data.vip;if(t<c.data.OutsideLevelUpNeedVIP)return l.log("vip: "+t+" < "+c.data.OutsideLevelUpNeedVIP),void f.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",""+U(c.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",c.data.OutsideLevelUpNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI");r.showPanel(p.resObj,null,!0)},fnOnShow:function(t){e&&e(t)}},t)},n}(i))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnRanking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPanelCommon.ts","./CCPopupManager.ts","./CCAdHelper.ts","./CCSundryData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCDefine.ts","./CCEvent.ts","./CCAudioManager.ts"],(function(t){var n,e,o,a,i,l,u,r,C,s,c,f,d,_,p,h,m;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.RichText},function(t){i=t.CCButton},function(t){l=t.default},function(t){u=t.CCPanelCommon},function(t){r=t.default},function(t){C=t.default},function(t){s=t.default},function(t){c=t.CCSceneHall},function(t){f=t.CCEffect},function(t){d=t.CCPlayerData},function(t){_=t._T},function(t){p=t.EVENT_TYPE},function(t){h=t.CCEvent},function(t){m=t.audioMgr}],execute:function(){var g;e._RF.push({},"6854bqLGChCM4omHkVOsWDa","CCBtnRanking",void 0);var x=o.ccclass;o.property,t("CCBtnRanking",x("CCBtnRanking")(g=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(a);l.setRichTextString(n,"<color=#FFFFFF><outline color=#000000 width=2>"+_("buildingRight_popup_text18")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},o.onBtnPressStart=function(t,n,e){if(d.data.vip<s.data.UnlockExtraCoinNeedVIP)return f.toast(c.SceneHallUI,"textures@prefabs/floatingBanner",""+_(s.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",s.data.UnlockExtraCoinNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI"),void m.playEffect("failed");r.showPanel(u.resObj,{title:_("UI_hall_button7_1"),body:_("UI_hall_button7_2"),image:"textures@Texture2D/Hall_UI/Hall_UI/panelImageDoubleTheInCome",submitIcon:"textures@Texture2D/Hall_Common/Hall_Common/common_video",submitText:_("UI_hall_button7_4"),fnOnShow:null,fnSubmit:function(t){h.emit(p.PUSH_EVENT,"ad_3"),C.showAds((function(){d.addDoubleIncomeTimeLeft(s.data.ExtracCoinsAddtimeByAds),t.hide(!1,0)}))||f.toast(c.SceneHallUI,"textures@prefabs/floatingBanner",_("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}})},e}(i))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnRecharge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPanelRecharge.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCAdHelper.ts","./CCEffct.ts","./CCSceneHall.ts","./CCDefine.ts","./CCEvent.ts","./CCAudioManager.ts","./CCLingoData.ts"],(function(t){var e,n,o,a,c,r,i,l,u,s,f,C,p,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){a=t.CCButton},function(t){c=t.CCPanelRecharge},function(t){r=t.default},function(t){i=t.CCPlayerData},function(t){l=t.default},function(t){u=t.CCEffect},function(t){s=t.CCSceneHall},function(t){f=t.EVENT_TYPE},function(t){C=t.CCEvent},function(t){p=t.audioMgr},function(t){d=t._T}],execute:function(){var h;n._RF.push({},"6d928B41ZRMEL1gDfDSBc2D","CCBtnRecharge",void 0);var y=o.ccclass;o.property,t("CCBtnRecharge",y("CCBtnRecharge")(h=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this)},o.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.onBtnPressStart=function(t,e,n){r.showPanel(c.resObj,{RPM:i.data.RPM,RL:i.data.RL,money:Math.floor(i.data.RR),fnReceive:function(t,e){p.playEffect("reward"),s.collectMoney(e),t.hide()},fnReceiveDouble:function(t,e){C.emit(f.PUSH_EVENT,"ad_1"),l.showAds((function(){p.playEffect("reward"),s.collectMoney(2*e),t.hide(!1,0)}))||u.toast(s.SceneHallUI,"textures@prefabs/floatingBanner",d("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}})},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnRechargeGold.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCAdHelper.ts","./CCEffct.ts","./CCSceneHall.ts","./CCDefine.ts","./CCEvent.ts","./CCAudioManager.ts","./CCLingoData.ts","./CCPanelRechargeGold.ts"],(function(t){var n,e,o,a,c,l,i,r,u,s,f,C,d,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.CCButton},function(t){c=t.default},function(t){l=t.CCPlayerData},function(t){i=t.default},function(t){r=t.CCEffect},function(t){u=t.CCSceneHall},function(t){s=t.EVENT_TYPE},function(t){f=t.CCEvent},function(t){C=t.audioMgr},function(t){d=t._T},function(t){p=t.CCPanelRechargeGold}],execute:function(){var h;e._RF.push({},"abc78C1WHNEKYTUHu6K2aT6","CCBtnRechargeGold",void 0);var R=o.ccclass;o.property,t("CCBtnRechargeGold",R("CCBtnRechargeGold")(h=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this)},o.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.onBtnPressStart=function(t,n,o){e.showDetails()},e.showDetails=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=null),c.showPanel(p.resObj,{RPMG:l.data.RPMG,RLG:l.data.RLG,RRG:Math.floor(l.data.RRG),fnReceive:function(t,n){C.playEffect("reward"),u.collectGold(n),t.hide()},fnReceiveDouble:function(t,n){f.emit(s.PUSH_EVENT,"ad_14"),i.showAds((function(){C.playEffect("reward"),u.collectGold(2*n),t.hide(!1,0)}))||r.toast(u.SceneHallUI,"textures@prefabs/floatingBanner",d("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},fnOnShow:function(t){n&&n(t)}},t)},e}(a))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnSecrets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPanelSecrets.ts","./CCDefine.ts","./CCPlayerData.ts","./CCTopOnHelper.ts","./CCStats.ts","./CCError.ts"],(function(t){var e,n,o,s,a,r,u,c,i,l,C,p,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.profiler},function(t){a=t.CCButton},function(t){r=t.default},function(t){u=t.default},function(t){c=t.CCPanelSecrets},function(t){i=t.default},function(t){l=t.CCPlayerData},function(t){C=t.CCTopOnHelper},function(t){p=t.default},function(t){f=t.default}],execute:function(){var h;n._RF.push({},"6cb6apI79lIZ7iF3qgzQ76Z","CCBtnSecrets",void 0);var d=o.ccclass;o.property,t("CCBtnSecrets",d("CCBtnSecrets")(h=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).debugPanel=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},o.update=function(t){},o.onBtnPressStart=function(t,e,n){t.showPanel(t,e,n)},o.showPanel=function(t,e,n){if(!i.ENABLE_PRODUCTION_MODE&&i.ENABLE_DEBUG_MODE&&!i.ENABLE_CHANNEL_TEST)return s.isShowingStats()?(s.hideStats(),l.setDebug(!1)):(s.showStats(),p.setColor(),f.init(),l.setDebug(!0)),void C.showDebuggerUI();u.show(c.resObj,null,{mode:u.CacheMode.Normal}).then((function(t){switch(t){case u.ShowResult.Done:break;case u.ShowResult.Failed:r.log("popup ... Failed");break;case u.ShowResult.Waiting:r.log("popup ... Waiting")}}))},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCLingoData.ts","./CCPanelShop.ts"],(function(t){var o,n,e,r,i,u,c,a,s;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.RichText},function(t){i=t.CCButton},function(t){u=t.default},function(t){c=t.default},function(t){a=t._T},function(t){s=t.CCPanelShop}],execute:function(){var l;n._RF.push({},"d463843v/5K17JqVJ15SFi6","CCBtnShop",void 0);var p=e.ccclass;e.property,t("CCBtnShop",p("CCBtnShop")(l=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.update=function(t){},e.onstart=function(){},e.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var o=this.node.getChildByName("text").getComponent(r);u.setRichTextString(o,"<color=#FFFFFF><outline color=#000000 width=2>"+a("UI_hall_button6")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},e.onBtnPressStart=function(t,o,n){c.showPanel(s.resObj)},n}(i))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCBtnTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCPopupManager.ts","./CCPanelTask.ts","./CCLingoData.ts"],(function(t){var n,o,e,a,r,s,u,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,a=t.RichText},function(t){r=t.CCButton},function(t){s=t.default},function(t){u=t.default},function(t){c=t.CCPanelTask},function(t){i=t._T}],execute:function(){var l;o._RF.push({},"6dcd3uYfetHmqBDbkvBBIpl","CCBtnTask",void 0);var C=e.ccclass;e.property,t("CCBtnTask",C("CCBtnTask")(l=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.update=function(t){},e.onstart=function(){},e.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this);var n=this.node.getChildByName("text").getComponent(a);s.setRichTextString(n,"<color=#FFFFFF><outline color=#000000 width=2>"+i("UI_hall_button4")+"</outline></color>","textures@Texture2D/Hall_UI/Hall_UI")},e.onBtnPressStart=function(t,n,o){u.showPanel(c.resObj,{fromSpecialNpc:!1})},o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCBuildingData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCSundryData.ts","./CCPlayerData.ts"],(function(e){var t,n,r,a,i,u,d,s,l,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator},function(e){u=e.default},function(e){d=e.default,s=e.CCResType},function(e){l=e.default},function(e){o=e.CCPlayerData}],execute:function(){var c,p;a._RF.push({},"c44f4dO/wNJdrxskgni39dO","CCBuildingData",void 0);var f=i.ccclass,_=(i.property,e("BuildingStatus",function(e){return e[e.NONE=-1]="NONE",e[e.PURCHASED=0]="PURCHASED",e[e.IN_USE=1]="IN_USE",e[e.CAN_BUY=2]="CAN_BUY",e[e.DELIVERING=3]="DELIVERING",e[e.VIP_NOT_ENOUGH=4]="VIP_NOT_ENOUGH",e[e.MONEY_NOT_ENOUGH=5]="MONEY_NOT_ENOUGH",e[e.GOLD_NOT_ENOUGH=6]="GOLD_NOT_ENOUGH",e[e.OUTSIDE_LEVEL_NOT_ENOUGH=7]="OUTSIDE_LEVEL_NOT_ENOUGH",e[e.PREVIOUS_LEVEL_NOT_UNLOCKED=8]="PREVIOUS_LEVEL_NOT_UNLOCKED",e}({})));e("default",f("CCBuildingData")(((p=function(){function e(){}return e.addRow=function(e,t){this._data[e.typeId]||(this._data[e.typeId]=[]),this._texData[e.typeId]||(this._texData[e.typeId]=[]),this._data[e.typeId].push(e),this._texData[e.typeId].push(t)},e.sort=function(){Object.values(this._data).forEach((function(e){e.sort((function(e,t){return e.level-t.level}))})),Object.values(this._texData).forEach((function(e){e.sort((function(e,t){return e.level-t.level}))}))},e.keys=function(){return Object.keys(this._data)},e.keysAndName=function(){return Object.values(this._data).map((function(e){return[e[0].typeId,e[0].typeName]}))},e.totalKeys=function(){return Object.keys(this._data).length},e.totalRows=function(){return Object.values(this._data).reduce((function(e,t){return e+t.length}),0)},e.getRowsByTypeId=function(e){var t;return null!=(t=this._data[e])?t:[]},e.iterator=function(e,t){Object.values(this._data).forEach((function(n){e(n[0].typeId,n[0].typeName),n.forEach(t)}))},e.iteratorRowsByTypeId=function(e,t){var n;(null!=(n=this._data[e])?n:[]).forEach(t)},e.getRowByTypeIdAndLevel=function(e,t){var n;return(null!=(n=this._data[e])?n:[]).find((function(e){return e.level==t}))},e.getTextureByTypeIdAndLevel=function(e,t){var n;return(null!=(n=this._texData[e])?n:[]).find((function(e){return e.level==t}))},e.getTextureByTypeId=function(e){var t;return null!=(t=this._texData[e])?t:[]},e.getUnlockedRowByTypeIdAndLevel=function(e,t){var n=[],r=100*e+t;return this.iterator((function(e,t){}),(function(a){o.data.vip>=a.needVip&&(a.needPreBuildId==r||a.typeId==e&&a.level==t+1)&&n.push(a)})),n},e.getBuildingStatus=function(e,t){var n=this.getRowByTypeIdAndLevel(e,t);if(!n)return _.NONE;var r=o.getBuildingLevelUsing(e).level,a=o.getBuildingDelivering(100*e+t).level,i=o.getBuildingLevelUnlocked(e).level,u=o.getBuildingIdUnlocked(),d=o.getBuildingIdPurchased(),s=o.data,l=s.money,c=s.vip,p=s.outsideLevel,f=100*e+t;if(d.includes(f))return r==t?_.IN_USE:a==t?_.DELIVERING:_.PURCHASED;if(n.needPreBuildId>=0){var v=this.getPreviousRidFixed(n.typeId,n.level),I=Math.floor(v/100),E=v%100;if(v>0&&!u.includes(v))return _.PREVIOUS_LEVEL_NOT_UNLOCKED;if(n.typeId==I&&i<E&&E<n.level)return _.PREVIOUS_LEVEL_NOT_UNLOCKED}if(p<n.needOutsideLevel)return _.OUTSIDE_LEVEL_NOT_ENOUGH;if(n.needGold>0&&(o.data.gold||0)<n.needGold)return _.GOLD_NOT_ENOUGH;return c<n.needVip?_.VIP_NOT_ENOUGH:l<n.needMoney?_.MONEY_NOT_ENOUGH:_.CAN_BUY},e.getPreviousRidFixed=function(e,t){var n=this.getRowByTypeIdAndLevel(e,t);return n.needPreBuildId>0?n.needPreBuildId:1==t?0:100*n.typeId+(n.level>1?n.level-1:n.level)},e.load=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.load({bundleName:"profile",relativePath:"building",resType:s.TextAsset}).then(n(r().mark((function t(a){var i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return i=u.csv2array(a.text,1,1),o=i.map(n(r().mark((function t(a){var i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a[""]){t.next=3;break}return u.error("[''].nil"),t.abrupt("return");case 3:if(i=l.getTexture(a[""])){t.next=7;break}return u.error("[''].spriteFrameName.nil"),t.abrupt("return");case 7:return o="Texture2D/"+i+"/"+i+"/"+i+u.paddding(a[""],2),"Building34"==a[""]&&(o=a[""]<10?"Texture2D/"+i+"/"+i+"-0/"+i+u.paddding(a[""],2):"Texture2D/"+i+"/"+i+"-1/"+i+u.paddding(a[""],2)),t.next=11,d.load({bundleName:"textures",relativePath:o,resType:s.SpriteFrame}).then(n(r().mark((function t(n){var d,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return u.error("CCCacheRes.load: "+o+" ... nil"),t.abrupt("return");case 3:d={typeId:parseInt(a.ID,10),typeName:a[""],name:a[""],desc:a[""],level:parseInt(a[""],10),transportDelay:parseInt(a[""],10),needVip:parseInt(a["VIP"],10),needOutsideLevel:parseInt(a[""],10),needPreBuildId:parseInt(a["ID"],10),needMoney:parseInt(a[""],10),needGold:parseInt(a["100"],10)||0,rewardVip:parseInt(a["VIP"],10),rewardRecharge:parseInt(a[""],10),rewardConsume:parseInt(a[""],10),storeLimit:parseInt(a[""],10),rechargeInterval:parseFloat(a[""])},s={level:d.level,spriteFrameName:i,spriteFrame:n},e.addRow(d,s);case 6:case"end":return t.stop()}}),t)}))));case 11:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(o);case 6:e.sort();case 7:case"end":return t.stop()}}),t)}))));case 2:u.log("load.building.total keys: "+e.totalKeys()+" total rows: "+e.totalRows()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"texData",get:function(){return this._texData},set:function(e){this._texData=e}}]),e}())._data={},p._texData={},c=p))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCBuildingLeftData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(t){var e,n,r,a,u,i,s,o,c;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator},function(t){i=t.default},function(t){s=t.default,o=t.CCResType},function(t){c=t.CCPlayerData}],execute:function(){var l,d;a._RF.push({},"1e26aYH4hdC95BiUX5pPK5Q","CCBuildingLeftData",void 0);var f=u.ccclass,p=(u.property,t("BuildingLeftStatus",function(t){return t[t.NONE=-1]="NONE",t[t.PURCHASED=0]="PURCHASED",t[t.IN_USE=1]="IN_USE",t[t.CAN_BUY=2]="CAN_BUY",t[t.VIP_NOT_ENOUGH=3]="VIP_NOT_ENOUGH",t[t.PROP_NOT_ENOUGH=4]="PROP_NOT_ENOUGH",t[t.MONEY_NOT_ENOUGH=5]="MONEY_NOT_ENOUGH",t}({})));t("default",f("CCBuildingLeftData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.typeId]||(this._data[t.typeId]=[]),this._data[t.typeId].push(t)},t.sort=function(){Object.values(this._data).forEach((function(t){t.sort((function(t,e){return t.level-e.level}))}))},t.keys=function(){return Object.keys(this._data)},t.keysAndName=function(){return Object.values(this._data).map((function(t){return[t[0].typeId,t[0].typeName]}))},t.totalKeys=function(){return Object.keys(this._data).length},t.totalRows=function(){return Object.values(this._data).reduce((function(t,e){return t+e.length}),0)},t.getRowsByTypeId=function(t){var e;return null!=(e=this._data[t])?e:[]},t.iterator=function(t,e){Object.values(this._data).forEach((function(n){t(n[0].typeId,n[0].typeName),n.forEach(e)}))},t.iteratorRowsByTypeId=function(t,e){var n;(null!=(n=this._data[t])?n:[]).forEach(e)},t.getRowByTypeIdAndLevel=function(t,e){var n;return(null!=(n=this._data[t])?n:[]).find((function(t){return t.level==e}))||{}},t.getMaxLevelByTypeId=function(t){var e,n=null!=(e=this._data[t])?e:[],r=Object.values(n).sort((function(t,e){return e.level-t.level}));return 0==r.length?0:r[0].level},t.getOrderIdByTypeId=function(t){return Object.keys(this._data).map(Number).sort((function(t,e){return t-e})).indexOf(t)},t.getBuildingStatus=function(t,e){var n=this.getRowByTypeIdAndLevel(t,e);if(!n)return p.NONE;var r=c.getBuildingLevelUsing(t).level,a=c.getBuildingIdPurchased(),u=c.data,i=u.vip,s=u.money,o=100*t+e;if(a.includes(o))return r==e?p.IN_USE:p.PURCHASED;if(i<n.needVip)return p.VIP_NOT_ENOUGH;if(2==n.needProps.length){var l=n.needProps[0],d=n.needProps[1];if(c.getPropCount(l)<d)return p.PROP_NOT_ENOUGH}return s<n.needMoney?p.MONEY_NOT_ENOUGH:p.CAN_BUY},t.load=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.load({bundleName:"profile",relativePath:"buildingLeft",resType:o.TextAsset}).then(n(r().mark((function e(a){var u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return u=i.csv2array(a.text,1,1),s=u.map(n(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ID){e.next=3;break}return i.error("['ID'].nil"),e.abrupt("return");case 3:a={typeId:parseInt(n.ID,10),typeName:n[""]||"",desc:n[""]||"",level:parseInt(n[""],10)||0,needVip:parseInt(n["VIP"],10)||0,needMoney:parseInt(n[""],10)||0,needProps:null!=n[""]&&n[""].includes("@")?i.splitArrNumber(n[""],"@"):[],trainDuration:parseInt(n[""],10)||0,trainExp:parseInt(n[""],10)||0},t.addRow(a);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(s);case 6:t.sort();case 7:case"end":return e.stop()}}),e)}))));case 2:i.log("load.buildingLeft.total keys: "+t.totalKeys()+" total rows: "+t.totalRows()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},l=d))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCBuildingRightData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCDefine.ts"],(function(e){var t,n,r,a,i,u,l,d,o,s,c;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator},function(e){u=e.default},function(e){l=e.default,d=e.CCResType},function(e){o=e.default},function(e){s=e.CCPlayerData},function(e){c=e.default}],execute:function(){var f,p;a._RF.push({},"33059re2ztGoLmqwLzgqSfD","CCBuildingRightData",void 0);var _=i.ccclass,g=(i.property,e("BuildingRightStatus",function(e){return e[e.NONE=-1]="NONE",e[e.PURCHASED=0]="PURCHASED",e[e.IN_USE=1]="IN_USE",e[e.CAN_BUY=2]="CAN_BUY",e[e.DELIVERING=3]="DELIVERING",e[e.PROP_NOT_ENOUGH=4]="PROP_NOT_ENOUGH",e[e.MONEY_NOT_ENOUGH=5]="MONEY_NOT_ENOUGH",e[e.GOLD_NOT_ENOUGH=6]="GOLD_NOT_ENOUGH",e[e.PREVIOUS_LEVEL_NOT_UNLOCKED=7]="PREVIOUS_LEVEL_NOT_UNLOCKED",e}({})));e("default",_("CCBuildingRightData")(((p=function(){function e(){}return e.addRow=function(e,t){this._data[e.typeId]||(this._data[e.typeId]=[]),this._texData[e.typeId]||(this._texData[e.typeId]=[]),this._data[e.typeId].push(e),this._texData[e.typeId].push(t)},e.sort=function(){Object.values(this._data).forEach((function(e){e.sort((function(e,t){return e.level-t.level}))})),Object.values(this._texData).forEach((function(e){e.sort((function(e,t){return e.level-t.level}))}))},e.keys=function(){return Object.keys(this._data)},e.keysAndName=function(){return Object.values(this._data).map((function(e){return[e[0].typeId,e[0].typeName]}))},e.totalKeys=function(){return Object.keys(this._data).length},e.totalRows=function(){return Object.values(this._data).reduce((function(e,t){return e+t.length}),0)},e.getRowsByTypeId=function(e){var t;return null!=(t=this._data[e])?t:[]},e.iterator=function(e,t){Object.values(this._data).forEach((function(n){e(n[0].typeId,n[0].typeName),n.forEach(t)}))},e.iteratorRowsByTypeId=function(e,t){var n;(null!=(n=this._data[e])?n:[]).forEach(t)},e.getRowByTypeIdAndLevel=function(e,t){var n;return(null!=(n=this._data[e])?n:[]).find((function(e){return e.level==t}))||{}},e.getTextureByTypeIdAndLevel=function(e,t){var n;return(null!=(n=this._texData[e])?n:[]).find((function(e){return e.level==t}))||{}},e.getTextureByTypeId=function(e){var t;return null!=(t=this._texData[e])?t:[]},e.getUnlockedRowByTypeIdAndLevel=function(e,t){var n=[],r=100*e+t;return this.iterator((function(e,t){}),(function(a){(a.needPreBuildId==r||a.typeId==e&&a.level==t+1)&&n.push(a)})),n},e.getBuildingStatus=function(e,t){var n=this.getRowByTypeIdAndLevel(e,t);if(!n)return g.NONE;var r=s.getBuildingLevelUsing(e).level,a=s.getBuildingDelivering(100*e+t).level,i=s.getBuildingLevelUnlocked(e).level,u=s.getBuildingIdUnlocked(),l=s.getBuildingIdPurchased(),d=s.data,o=d.money,c=(d.props,100*e+t);if(l.includes(c))return r==t?g.IN_USE:a==t?g.DELIVERING:g.PURCHASED;if(n.needPreBuildId>=0){var f=this.getPreviousRidFixed(n.typeId,n.level),p=Math.floor(f/100),_=f%100;if(f>0&&!u.includes(f))return g.PREVIOUS_LEVEL_NOT_UNLOCKED;if(n.typeId==p&&i<_&&_<n.level)return g.PREVIOUS_LEVEL_NOT_UNLOCKED}if(n.needGold>0&&(s.data.gold||0)<n.needGold)return g.GOLD_NOT_ENOUGH;if(2==n.needProps.length){var h=n.needProps[0],N=n.needProps[1];if(s.getPropCount(h)<N)return g.PROP_NOT_ENOUGH}return o<n.needMoney?g.MONEY_NOT_ENOUGH:g.CAN_BUY},e.getPreviousRidFixed=function(e,t){var n=this.getRowByTypeIdAndLevel(e,t);return n.needPreBuildId>0?n.needPreBuildId:1==t?0:100*n.typeId+(n.level>1?n.level-1:n.level)},e.getNumOfChallange=function(e,t){return this.getRowByTypeIdAndLevel(e,t).rewardChallengeNum||0},e.getNumOfChallangeMax=function(){var e=0,t=s.getBuildingIdPurchased();this.iterator((function(e,t){}),(function(n){t.includes(100*n.typeId+n.level)&&n.rewardChallengeNum>0&&(e+=n.rewardChallengeNum)}));var n=c.appConfig.mg.t-c.ORIGIN_MINIGAME_NUM_OF_CHALLANGE;return 0!=n&&(c.ORIGIN_MINIGAME_NUM_OF_CHALLANGE=c.appConfig.mg.t,s.addNumOfChallange(n)),c.appConfig.mg.t+e},e.load=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.load({bundleName:"profile",relativePath:"buildingRight",resType:d.TextAsset}).then(n(r().mark((function t(a){var i,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return i=u.csv2array(a.text,1,1),s=i.map(n(r().mark((function t(a){var i,s,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a[""]){t.next=3;break}return u.error("[''].nil"),t.abrupt("return");case 3:if(i=o.getTexture(a[""])){t.next=7;break}return u.error("[''].spriteFrameName.nil"),t.abrupt("return");case 7:if(s="",c=parseInt(a.ID,10)||0){t.next=12;break}return u.error("['ID'].nil"),t.abrupt("return");case 12:return s=c>=36&&c<=39?"Texture2D/Hall_Right/Hall_Right_1/"+i+u.paddding(a[""],2):"Texture2D/Hall_Right/Hall_Right_2/"+i+u.paddding(a[""],2),t.next=15,l.load({bundleName:"textures",relativePath:s,resType:d.SpriteFrame}).then(n(r().mark((function t(n){var l,d;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return u.error("CCCacheRes.load: "+s+" ... nil"),t.abrupt("return");case 3:l={typeId:c,typeName:a[""]||"",name:a[""]||"",desc:a[""]||"",level:parseInt(a[""],10)||0,transportDelay:parseInt(a[""],10)||0,needPreBuildId:parseInt(a["ID"],10)||0,needMoney:parseInt(a[""],10)||0,needGold:parseInt(a[""],10)||0,needProps:null!=a[""]&&a[""].includes("@")?u.splitArrNumber(a[""],"@"):[],rewardChallengeNum:parseInt(a[""],10)||0,rewardMiniGameIdUnlocked:parseInt(a[""],10)||0,rewardRecharge:parseInt(a[""],10)||0,storeLimit:parseInt(a[""],10)||0},d={level:l.level,spriteFrameName:i,spriteFrame:n},e.addRow(l,d);case 6:case"end":return t.stop()}}),t)}))));case 15:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(s);case 6:e.sort();case 7:case"end":return t.stop()}}),t)}))));case 2:u.log("load.buildingRight.total keys: "+e.totalKeys()+" total rows: "+e.totalRows()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"texData",get:function(){return this._texData},set:function(e){this._texData=e}}]),e}())._data={},p._texData={},f=p))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCAudioManager.ts"],(function(t){var e,n,o,i,s,r,h,l,a,u,p,c,d,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,h=t.Node,l=t.NodeEventType,a=t.UITransform,u=t.Vec3,p=t.Sprite,c=t.Button},function(t){d=t.default},function(t){T=t.audioMgr}],execute:function(){var f,C,v,g,w,S,P,O,y,B,E,m,b,U,M,_,H,N,L;s._RF.push({},"e0ee5n+ZdtHfZFbfMxrlGEp","CCButton",void 0);var x=r.ccclass,D=r.property;t("CCButton",(f=x("CCButton"),C=D({displayName:"Idx",tooltip:""}),v=D({displayName:"Scale",tooltip:""}),g=D({displayName:"LongPress Threshold",tooltip:""}),w=D({displayName:"Stop Propagation",tooltip:",true"}),S=D({displayName:"preventSwallow",tooltip:",  false\n true,\n: true "}),P=D({displayName:"clickThreshold",tooltip:","}),O=D({displayName:"popUpCloseDuration",tooltip:""}),y=D({displayName:"origin position",tooltip:""}),f((m=e((E=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"Idx",m,i(e)),o(e,"scaleEnable",b,i(e)),o(e,"longPressThreshold",U,i(e)),o(e,"stopPropagation",M,i(e)),o(e,"preventSwallow",_,i(e)),o(e,"clickThreshold",H,i(e)),o(e,"popUpCloseDuration",N,i(e)),o(e,"posOrigin",L,i(e)),e.targetCaller=i(e),e.fnOnBtnPressStart=e.onBtnPressStart,e.fnOnBtnPressed=e.onBtnPressed,e.fnOnBtnTouchMove=e.onBtnTouchMove,e.fnOnBtnTouchCanceled=e.onBtnTouchCanceled,e.useCapture=!1,e.isPressed=!1,e.touchStartTime=0,e.touchEndTime=0,e.longPressTimer=null,e}n(e,t);var s=e.prototype;return s.copyFn=function(t){t&&(t.fnOnBtnPressed=this.fnOnBtnPressed,t.fnOnBtnPressStart=this.fnOnBtnPressStart,t.fnOnBtnTouchCanceled=this.fnOnBtnTouchCanceled,t.fnOnBtnTouchMove=this.fnOnBtnTouchMove,t.targetCaller=this.targetCaller)},s.enableButton=function(t){this.enabled=t,this.interactable=t,this.node&&(this.node.active=t)},s.enableCCButtonListenerWithoutTarget=function(t,e,n,o,i,s){var r,l,a,u,p,c,d,T;(void 0===e&&(e=!1),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),this.useCapture=e,n&&(this.fnOnBtnPressStart=n),o&&(this.fnOnBtnPressed=o),i&&(this.fnOnBtnTouchMove=i),s&&(this.fnOnBtnTouchCanceled=s),t)?(null==(r=this.node)||r.on(h.EventType.TOUCH_START,this.onTouchStart,this,this.useCapture),null==(l=this.node)||l.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this,this.useCapture),null==(a=this.node)||a.on(h.EventType.TOUCH_END,this.onTouchEnd,this,this.useCapture),null==(u=this.node)||u.on(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this,this.useCapture)):(null==(p=this.node)||p.off(h.EventType.TOUCH_START,this.onTouchStart,this,this.useCapture),null==(c=this.node)||c.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this,this.useCapture),null==(d=this.node)||d.off(h.EventType.TOUCH_END,this.onTouchEnd,this,this.useCapture),null==(T=this.node)||T.off(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this,this.useCapture))},s.enableCCButtonListener=function(t,e,n,o,i,s,r){var l,a,u,p,c,d,T,f;(void 0===n&&(n=!1),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),void 0===r&&(r=null),this.targetCaller=t||this,this.useCapture=n,o&&(this.fnOnBtnPressStart=o),i&&(this.fnOnBtnPressed=i),s&&(this.fnOnBtnTouchMove=s),r&&(this.fnOnBtnTouchCanceled=r),null==(l=this.node)||l.off(h.EventType.TOUCH_START,this.onTouchStart,this,this.useCapture),null==(a=this.node)||a.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this,this.useCapture),null==(u=this.node)||u.off(h.EventType.TOUCH_END,this.onTouchEnd,this,this.useCapture),null==(p=this.node)||p.off(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this,this.useCapture),this.enableButton(!1),e)&&(null==(c=this.node)||c.on(h.EventType.TOUCH_START,this.onTouchStart,this,this.useCapture),null==(d=this.node)||d.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this,this.useCapture),null==(T=this.node)||T.on(h.EventType.TOUCH_END,this.onTouchEnd,this,this.useCapture),null==(f=this.node)||f.on(h.EventType.TOUCH_CANCEL,this.onTouchCancel,this,this.useCapture),this.enableButton(!0))},s.isLongPress=function(){return this.touchStartTime>0&&Date.now()-this.touchStartTime>=this.longPressThreshold},s.clearLongPressTimer=function(){this.longPressTimer&&(this.unschedule(this.longPressTimer),this.longPressTimer=null)},s.onLoad=function(){var e,n,o,i;null==(e=this.node)||e.on(l.TOUCH_START,this.onTouchStart,this),null==(n=this.node)||n.on(l.TOUCH_MOVE,this.onTouchMove,this),null==(o=this.node)||o.on(l.TOUCH_END,this.onTouchEnd,this),null==(i=this.node)||i.on(l.TOUCH_CANCEL,this.onTouchCancel,this),t.prototype.onLoad&&t.prototype.onLoad.call(this)},s.onDestroy=function(){var e,n,o,i;this.clearLongPressTimer(),null==(e=this.node)||e.off(l.TOUCH_START,this.onTouchStart,this),null==(n=this.node)||n.off(l.TOUCH_MOVE,this.onTouchMove,this),null==(o=this.node)||o.off(l.TOUCH_END,this.onTouchEnd,this),null==(i=this.node)||i.off(l.TOUCH_CANCEL,this.onTouchCancel,this),t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},s.onTouchStart=function(t){var e,n=this;if(this.touchEndTime>0&&d.NowTimeStamp()-this.touchEndTime<this.clickThreshold)return t.propagationStopped=!0,void(t.preventSwallow=!1);var o=t.getUILocation();if((null==(e=this.node.getComponent(a))?void 0:e.getBoundingBoxToWorld()).contains(o)){if(this.preventSwallow)return t.preventSwallow=this.preventSwallow,this.stopPropagation=!this.preventSwallow,void d.log("onTouchStart["+this.name+"].preventSwallow["+this.preventSwallow+"].stopPropagation["+this.stopPropagation+"] ---\x3e "+d.showParentTree(this.node));this.scaleEnable&&this.node.setScale(this.node.scale.x>0?.95:-.95,this.node.scale.y>0?.95:-.95,1),T.playEffect("click"),this.fnOnBtnPressStart&&this.fnOnBtnPressStart(this.targetCaller,this.Idx,t),this.touchStartTime=Date.now(),this.longPressTimer=function(){n.isLongPress()&&(n.fnOnBtnPressed&&n.fnOnBtnPressed(n.targetCaller,n.Idx,t,!0),t.propagationStopped=n.stopPropagation),n.isPressed=!0},this.schedule(this.longPressTimer,this.longPressThreshold/1e3)}},s.onTouchMove=function(t){var e,n=t.getUILocation(),o=null==(e=this.node.getComponent(a))?void 0:e.getBoundingBoxToWorld();if(this.preventSwallow)return t.preventSwallow=this.preventSwallow,this.stopPropagation=!this.preventSwallow,void d.log("onTouchMove["+this.name+"].preventSwallow["+this.preventSwallow+"].stopPropagation["+this.stopPropagation+"] ---\x3e "+d.showParentTree(this.node));this.isPressed&&(this.scaleEnable&&this.node.setScale(this.node.scale.x>0?.95:-.95,this.node.scale.y>0?.95:-.95,1),o.contains(n)?(this.fnOnBtnTouchMove&&this.fnOnBtnTouchMove(this.targetCaller,this.Idx,t),this.isPressed=!0):this.onTouchCancel(t))},s.onTouchEnd=function(t){return this.preventSwallow?(t.preventSwallow=this.preventSwallow,this.stopPropagation=!this.preventSwallow,void d.log("onTouchEnd["+this.name+"].preventSwallow["+this.preventSwallow+"].stopPropagation["+this.stopPropagation+"] ---\x3e "+d.showParentTree(this.node))):(this.scaleEnable&&this.node.setScale(this.node.scale.x>0?1:-1,this.node.scale.y>0?1:-1,1),this.clearLongPressTimer(),this.touchEndTime>0&&d.NowTimeStamp()-this.touchEndTime<this.clickThreshold?(t.propagationStopped=!0,void(t.preventSwallow=!1)):(this.touchEndTime=Date.now(),this.isLongPress()?this.fnOnBtnTouchCanceled&&this.fnOnBtnTouchCanceled(this.targetCaller,this.Idx,t):this.fnOnBtnPressed&&this.fnOnBtnPressed(this.targetCaller,this.Idx,t,!1),void(t.propagationStopped=this.stopPropagation)))},s.onTouchCancel=function(t){if(this.preventSwallow)return t.preventSwallow=this.preventSwallow,this.stopPropagation=!this.preventSwallow,void d.log("onTouchCancel["+this.name+"].preventSwallow["+this.preventSwallow+"].stopPropagation["+this.stopPropagation+"] ---\x3e "+d.showParentTree(this.node));this.isPressed&&(this.isPressed=!1,this.scaleEnable&&this.node.setScale(this.node.scale.x>0?1:-1,this.node.scale.y>0?1:-1,1),this.clearLongPressTimer(),this.fnOnBtnTouchCanceled&&this.fnOnBtnTouchCanceled(this.targetCaller,this.Idx,t),t.propagationStopped=this.stopPropagation)},s.onBtnPressStart=function(t,e,n){},s.onBtnPressed=function(t,e,n,o){},s.onBtnTouchMove=function(t,e,n){},s.onBtnTouchCanceled=function(t,e,n){},s.onMoveIn=function(){this.node.setPosition(this.posOrigin.clone())},s.onMoveOut=function(){var t=d.GetDesignResolutionSize();this.node.setPosition(new u(this.posOrigin.x-t.width,this.posOrigin.y,this.posOrigin.z))},s.setGray=function(t,e,n){void 0===n&&(n=null);var o=this.getComponent(p);o&&(o.grayscale=t);var i=this.node.getChildByName("Sprite");i&&(i.getComponent(p).grayscale=t),this.enableCCButtonListener(this,!0,!1,n||this.onBtnPressStart),this.preventSwallow=e},s.setSiblingBtnGray=function(t,n){this.node.parent.children.forEach((function(o){var i=o.getComponent(e);i&&i.setGray(t,n)}))},e}(c)).prototype,"Idx",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(E.prototype,"scaleEnable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=e(E.prototype,"longPressThreshold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),M=e(E.prototype,"stopPropagation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=e(E.prototype,"preventSwallow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(E.prototype,"clickThreshold",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),N=e(E.prototype,"popUpCloseDuration",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),L=e(E.prototype,"posOrigin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),B=E))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCCacheRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(e){var t,a,r,n,i,l,s,o,u,h,c,v,d,p,f,P,C,m,g,A,y,b,S,k,T;return{setters:[function(e){t=e.inheritsLoose,a=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){i=e.cclegacy,l=e._decorator,s=e.assetManager,o=e.isValid,u=e.resources,h=e.AudioClip,c=e.sp,v=e.Prefab,d=e.SpriteFrame,p=e.SpriteAtlas,f=e.ImageAsset,P=e.TextAsset,C=e.JsonAsset,m=e.Asset,g=e.Font,A=e.UITransform,y=e.Texture2D,b=e.Size,S=e.Component,k=e.instantiate},function(e){T=e.default}],execute:function(){var x,D;i._RF.push({},"c4698e3b0hOwocr1YVlj3qs","CCCacheRes",void 0);var F=l.ccclass,_=(e("default",F("CCCacheRes")(((D=function(e){function i(){var t;return(t=e.call(this)||this)._remoteUrl="",t}t(i,e);var l=i.prototype;return l.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this)},l.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this)},l.onDisable=function(){e.prototype.onDisable&&e.prototype.onDisable.call(this)},l.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},i.clearLRU=function(){s.cacheManager.clearLRU()},i.clearCache=function(){s.cacheManager.clearCache()},i.releaseAssets=function(e){s.releaseAsset(e)},i.releaseAssetsAll=function(){s.releaseAll()},i.loadFromCache=function(e,t){var a=i.fontCache,r=i.assetCache,n=i.jsonAssetCache,l=i.textAssetCache,s=i.imageAssetCache,u=i.spriteFrameCache,h=i.atlasCache,c=i.prefabCache,v=i.skeletonDataCache,d=i.acCache;if(e.resType===_.Font&&a.has(e.relativePath)){var p=a.get(e.relativePath);if(o(p))return t&&t(p),!0;a.delete(e.relativePath)}if(e.resType===_.Asset&&r.has(e.relativePath)){var f=r.get(e.relativePath);if(o(f))return t&&t(f),!0;a.delete(e.relativePath)}if(e.resType===_.JsonAsset&&n.has(e.relativePath)){var P=n.get(e.relativePath);if(o(P))return t&&t(P),!0;n.delete(e.relativePath)}if(e.resType===_.TextAsset&&l.has(e.relativePath)){var C=l.get(e.relativePath);if(o(C))return t&&t(C),!0;l.delete(e.relativePath)}if(e.resType===_.ImageAsset&&s.has(e.relativePath)){var m=s.get(e.relativePath);if(o(m))return t&&t(m),!0;s.delete(e.relativePath)}if(e.resType===_.SpriteFrame&&u.has(e.relativePath)){var g=u.get(e.relativePath);if(o(g))return t&&t(g),!0;u.delete(e.relativePath)}if(e.resType===_.SpriteAtlas&&h.has(e.relativePath)){var A=h.get(e.relativePath);if(o(A))return t&&t(A),!0;h.delete(e.relativePath)}if(e.resType===_.Prefab&&c.has(e.relativePath)){var y=c.get(e.relativePath);if(o(y))return t&&t(y),!0;c.delete(e.relativePath)}if(e.resType===_.SkeletonData&&v.has(e.relativePath)){var b=v.get(e.relativePath);if(o(b))return t&&t(b),!0;v.delete(e.relativePath)}if(e.resType===_.AudioClip&&d.has(e.relativePath)){var S=d.get(e.relativePath);if(o(S))return t&&t(S),!0;d.delete(e.relativePath)}return!1},i.loadFromCacheSync=function(e){var t=i.fontCache,a=i.assetCache,r=i.jsonAssetCache,n=i.textAssetCache,l=i.imageAssetCache,s=i.spriteFrameCache,u=i.atlasCache,h=i.prefabCache,c=i.skeletonDataCache,v=i.acCache;if(e.resType===_.Font&&t.has(e.relativePath)){var d=t.get(e.relativePath);if(o(d))return d;t.delete(e.relativePath)}if(e.resType===_.Asset&&a.has(e.relativePath)){var p=a.get(e.relativePath);if(o(p))return p;t.delete(e.relativePath)}if(e.resType===_.JsonAsset&&r.has(e.relativePath)){var f=r.get(e.relativePath);if(o(f))return f;r.delete(e.relativePath)}if(e.resType===_.TextAsset&&n.has(e.relativePath)){var P=n.get(e.relativePath);if(o(P))return P;n.delete(e.relativePath)}if(e.resType===_.ImageAsset&&l.has(e.relativePath)){var C=l.get(e.relativePath);if(o(C))return C;l.delete(e.relativePath)}if(e.resType===_.SpriteFrame&&s.has(e.relativePath)){var m=s.get(e.relativePath);if(o(m))return m;s.delete(e.relativePath)}if(e.resType===_.SpriteAtlas&&u.has(e.relativePath)){var g=u.get(e.relativePath);if(o(g))return g;u.delete(e.relativePath)}if(e.resType===_.Prefab&&h.has(e.relativePath)){var A=h.get(e.relativePath);if(o(A))return A;h.delete(e.relativePath)}if(e.resType===_.SkeletonData&&c.has(e.relativePath)){var y=c.get(e.relativePath);if(o(y))return y;c.delete(e.relativePath)}if(e.resType===_.AudioClip&&v.has(e.relativePath)){var b=v.get(e.relativePath);if(o(b))return b;v.delete(e.relativePath)}return null},i.load=function(e){var t=this;return new Promise((function(a){if(!t.loadFromCache(e,(function(e){a(e)}))){var r=i.fontCache,n=i.assetCache,l=i.jsonAssetCache,o=i.textAssetCache,A=i.imageAssetCache,y=i.spriteFrameCache,b=i.atlasCache,S=i.prefabCache,k=i.skeletonDataCache,x=i.acCache;u.load(e.relativePath,(function(t,i){if(!t)switch(e.resType){case _.Font:return r.set(e.relativePath,i),void a(i);case _.Asset:return n.set(e.relativePath,i),void a(i);case _.JsonAsset:return l.set(e.relativePath,i),void a(i);case _.TextAsset:return o.set(e.relativePath,i),void a(i);case _.ImageAsset:return A.set(e.relativePath,i),void a(i);case _.SpriteFrame:return y.set(e.relativePath,i),void a(i);case _.SpriteAtlas:return b.set(e.relativePath,i),void a(i);case _.Prefab:return S.set(e.relativePath,i),void a(i);case _.SkeletonData:return k.set(e.relativePath,i),void a(i);case _.AudioClip:return x.set(e.relativePath,i),void a(i);default:return void T.error("resources.load.resObj: "+JSON.stringify(e)+" , resType: "+e.resType+" ... unknown type")}if(!e.bundleName.length)return a(null),void T.error("load.relativePath: "+e.relativePath+" , resources.load: "+t);s.loadBundle(e.bundleName,(function(t,i){if(t)return a(null),void T.error("load.relativePath: "+e.relativePath+" , loadBundle: "+t);switch(e.resType){case _.Font:i.load(e.relativePath,g,(function(t,n){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , Font.load: "+t);r.set(e.relativePath,n),a(n)}));break;case _.Asset:i.load(e.relativePath,m,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , Asset.load: "+t);n.set(e.relativePath,r),a(r)}));break;case _.JsonAsset:i.load([e.relativePath],C,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , JsonAsset.load: "+t);l.set(e.relativePath,r[0]),a(r[0])}));break;case _.TextAsset:i.load([e.relativePath],P,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , TextAsset.load: "+t);o.set(e.relativePath,r[0]),a(r[0])}));break;case _.ImageAsset:i.load(e.relativePath,f,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , ImageAsset.load: "+t);A.set(e.relativePath,r),a(r)}));break;case _.SpriteAtlas:i.load(e.relativePath,p,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , SpriteAtlas.load: "+t);b.set(e.relativePath,r),a(r)}));break;case _.SpriteFrame:i.load(e.relativePath,d,null,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , SpriteFrame.load: "+t);y.set(e.relativePath,r),a(r)}));break;case _.Prefab:i.load(e.relativePath,v,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , Prefab.load: "+t);S.set(e.relativePath,r),a(r)}));break;case _.SkeletonData:i.load(e.relativePath,c.SkeletonData,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , SkeletonData.load: "+t);k.set(e.relativePath,r),a(r)}));break;case _.AudioClip:i.load(e.relativePath,h,(function(t,r){if(t)return a(null),void T.error("loadBundle.relativePath: "+e.relativePath+" , AudioClip.load: "+t);x.set(e.relativePath,r),a(r)}));break;default:T.error("loadBundle.resObj: "+JSON.stringify(e)+" , resType: "+e.resType+" ... unknown type")}}))}))}}))},i.loadSpriteFrameAndBindFromAtlas=function(e,t,a,r){if(void 0===r&&(r=!0),t&&e&&o(e)){var n,i=t.getSpriteFrame(a);if(i){if(e.spriteFrame=i,r)if(o(e.node))null==(n=e.node.getComponent(A))||n.setContentSize(i.originalSize)}else T.error("CCCacheRes.loadSpriteFrameAndBindFromAtlas: spriteFrameName: "+a+" not found in atlas: "+t.name)}},i.loadSpriteFrameAndBind=function(e,t,a,r,n,l){if(void 0===a&&(a=!0),e&&0!=t.length&&o(e)){var s=t.split("@");2==s.length&&i.load({bundleName:s[0],relativePath:s[1],resType:_.SpriteFrame}).then((function(t){if(t&&o(e)){var i;if(e.spriteFrame=t,a)if(o(e.node))null==(i=e.node.getComponent(A))||i.setContentSize(t.originalSize);n&&n(r,e)}else l&&l(r)}))}},i.loadSpriteFrameAndBindSync=function(){var e=r(n().mark((function e(t){var a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.length){e.next=2;break}return e.abrupt("return");case 2:if(2==(a=t.split("@")).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,i.load({bundleName:a[0],relativePath:a[1],resType:_.SpriteFrame});case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.loadSpriteAtlasAndBind=function(e,t){if(0!=e.length){var a=e.split("@");2==a.length&&i.load({bundleName:a[0],relativePath:a[1],resType:_.SpriteAtlas}).then((function(e){t&&t(e)}))}},i.loadSpriteAtlasAndBindSync=function(){var e=r(n().mark((function e(t){var a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.length){e.next=2;break}return e.abrupt("return");case 2:if(2==(a=t.split("@")).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,i.load({bundleName:a[0],relativePath:a[1],resType:_.SpriteAtlas});case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.getInstantiate=function(){var e=r(n().mark((function e(t,a,r,i){var l,s,o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=null),void 0===i&&(i=null),0!==t.length){e.next=4;break}return e.abrupt("return",null);case 4:if(2===(l=t.split("@")).length){e.next=7;break}return e.abrupt("return",null);case 7:return e.prev=7,e.next=10,this.load({bundleName:l[0],relativePath:l[1],resType:_.Prefab});case 10:if(o=e.sent){e.next=13;break}return e.abrupt("return",null);case 13:return u=(a?null==(s=k(o))?void 0:s.getComponent(a):k(o))||null,i&&i(r,u),e.abrupt("return",u);case 18:return e.prev=18,e.t0=e.catch(7),T.error("getInstantiate.prefabPath: "+t+" ... error: "+e.t0),e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,this,[[7,18]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),i.loadSpine=function(e,t,a,r){void 0===a&&(a=null),void 0===r&&(r=null),i.load({bundleName:"textures",relativePath:e.includes("man")?"Spine/man/"+e:"Spine/cat/"+e,resType:_.SkeletonData}).then((function(n){n&&(i._skeletonDataCache[e]=n,i.bindSkeltonData(t,n,a,r))}))},i.loadSpineSync=function(){var e=r(n().mark((function e(t,a){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load({bundleName:"textures",relativePath:t.includes("man")?"Spine/man/"+t:"Spine/cat/"+t,resType:_.SkeletonData});case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:i._skeletonDataCache[t]=r,i.bindSkeltonData(a,r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l.loadSpineByRemote=function(e,t,a,r,n){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),e)if(a){var l="",o="",u="",h="",v="";if(t&&t.length>0){if(1==t.length)u=e+"/"+t[0]+".json",h=e+"/"+t[0]+".atlas",v=e+"/"+t[0]+".png";else if(2==t.length)u=e+"/"+t[0]+".json",h=e+"/"+t[0]+".atlas",v=e+"/"+t[1]+".png";else{if(3!=t.length)return void(n&&n("loadSpineByRemote.failed.resSuffix.length > 3"));u=e+"/"+t[0]+".json",h=e+"/"+t[1]+".atlas",v=e+"/"+t[2]+".png"}o=t[t.length-1],l=t[0]}else o=e.split("/")[e.split("/").length-1],l=o,u=e+"/"+o+".json",h=e+"/"+o+".atlas",v=e+"/"+o+".png";if(i._skeletonDataCache[u])i.bindSkeltonData(a,i._skeletonDataCache[u],r,n);else{var d=T.NowTimeStamp();s.loadRemote(u+"?"+d,{ext:".txt"},(function(e,t){e?n&&n("loadSpineByRemote.jsonUrl:"+u+" ---\x3e "+e):s.loadRemote(h+"?"+d,{ext:".atlas"},(function(e,p){e?n&&n("loadSpineByRemote.atlasUrl:"+h+" ---\x3e "+e):s.loadRemote(v+"?"+d,(function(e,s){if(e)n&&n("loadSpineByRemote.texUrl:"+v+" ---\x3e "+e);else{var h=new c.SkeletonData;h.skeletonJson=t.text,h.atlasText=p.text;var d=new y;d.image=s,h.textures=[d],h.textureNames=[o+".png"],h.name=l,i._skeletonDataCache[u]=h,i.bindSkeltonData(a,h,r,n)}}))}))}))}}else n&&n("loadSpineByRemote.ske.nil");else n&&n("loadSpineByRemote.remoteUri.nil")},i.bindSkeltonData=function(e,t,a,r){if(void 0===t&&(t=null),void 0===a&&(a=null),void 0===r&&(r=null),!t)return r&&r("bindSkeltonData.skData.nil"),!1;if(!o(e.node))return r&&r("bindSkeltonData.ske.node.nil"),!1;if(o(e.node.parent)&&e.node.parent&&null!=e.node.parent&&e.node.parent.getComponent(A)){var n=t.getRuntimeData();e.node.parent.getComponent(A).setContentSize(new b(n.width,n.height))}return e.node.active=!1,e.skeletonData=t,e.premultipliedAlpha=!1,e.enableBatch=!0,e.node.active=!0,a&&a(),!0},a(i,[{key:"remoteUrl",get:function(){return this._remoteUrl},set:function(e){this._remoteUrl=e}}],[{key:"fontCache",get:function(){return i._fontCache}},{key:"assetCache",get:function(){return i._assetCache}},{key:"jsonAssetCache",get:function(){return i._jsonAssetCache}},{key:"textAssetCache",get:function(){return i._textAssetCache}},{key:"imageAssetCache",get:function(){return i._imageAssetCache}},{key:"spriteFrameCache",get:function(){return i._spriteFrameCache}},{key:"atlasCache",get:function(){return i._atlasCache}},{key:"prefabCache",get:function(){return i._prefabCache}},{key:"skeletonDataCache",get:function(){return i._skeletonDataCache}},{key:"acCache",get:function(){return i._acCache}}]),i}(S))._fontCache=new Map,D._assetCache=new Map,D._jsonAssetCache=new Map,D._textAssetCache=new Map,D._imageAssetCache=new Map,D._spriteFrameCache=new Map,D._atlasCache=new Map,D._prefabCache=new Map,D._skeletonDataCache=new Map,D._acCache=new Map,x=D))||x),e("CCResType",function(e){return e[e.Font=1]="Font",e[e.Asset=2]="Asset",e[e.JsonAsset=3]="JsonAsset",e[e.TextAsset=4]="TextAsset",e[e.ImageAsset=5]="ImageAsset",e[e.SpriteFrame=6]="SpriteFrame",e[e.SpriteAtlas=7]="SpriteAtlas",e[e.Prefab=8]="Prefab",e[e.SkeletonData=9]="SkeletonData",e[e.AudioClip=10]="AudioClip",e}({})));e("CCResObj",(function(){this.bundleName=void 0,this.relativePath=void 0,this.resType=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/CCCatCompeti.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var n,r,e,a,u,o,i,d;return{setters:[function(t){n=t.createClass,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator},function(t){o=t.default},function(t){i=t.default,d=t.CCResType}],execute:function(){var s,c;a._RF.push({},"1eba03exoJPEYKR/KR3oPp/","CCCatCompeti",void 0);var f=u.ccclass;u.property,t("default",f("CCCatCompetiData")(((c=function(){function t(){}return t.addRow=function(t){this._data[t.chapterId]&&null!=this._data[t.chapterId]||(this._data[t.chapterId]=[]),this._data[t.chapterId].push(t)},t.keys=function(){return Object.keys(this._data).map((function(t){return parseInt(t,10)}))},t.totalKeys=function(){return Object.keys(this._data).length},t.totalRows=function(){return Object.values(this._data).reduce((function(t,n){return t+n.length}),0)},t.getChapterIdMin=function(){var t=this.keys().sort((function(t,n){return t-n}));return t.length>0?t[0]:0},t.getChapterIdMax=function(){var t=this.keys().sort((function(t,n){return n-t}));return t.length>0?t[0]:0},t.totalRoundByChapterId=function(t){return Object.values(this._data[t])},t.totalRoundLeft=function(t,n){return this.totalRoundByChapterId(t).filter((function(t){return t.roundId>n}))},t.getRoundRewardProps=function(t){var n=new Set;return t.rewardProps.forEach((function(t){n.add(t[0])})),[].concat(n)},t.getChapterRewardProps=function(t){var n=new Set;return this._data[t].forEach((function(t){t.rewardProps.forEach((function(t){n.add(t[0])}))})),[].concat(n)},t.getChapterData=function(t){var n=this._data[t][0],r=this._data[t][this.totalRoundByChapterId(t).length-1];return{id:n.id,chapterId:n.chapterId,chapterName:n.chapterName,roundId:r.roundId,needMoney:n.needMoney,needVip:n.needVip,needBuildingId:n.needBuildingId,enemyPower:n.enemyPower,rewardProps:this.getChapterRewardProps(t).map((function(t){return[t]}))}},t.getIdxByChapterId=function(t){return this.keys().indexOf(t)},t.getChapterDataPrev=function(t){var n=this.keys().filter((function(n){return n<t})).sort((function(t,n){return n-t}));if(0===n.length)return null;var r=n[0];return this.getChapterData(r)},t.getChapterDataNext=function(t){var n=this.keys().filter((function(n){return n>t})).sort((function(t,n){return t-n}));if(0===n.length)return null;var r=n[0];return this.getChapterData(r)},t.isChapterMin=function(t){return 0==this.keys().filter((function(n){return n<t})).length},t.isChapterMax=function(t){return 0==this.keys().filter((function(n){return n>t})).length},t.getRoundData=function(t,n){return this._data[t].find((function(t){return t.roundId===n}))},t.getRoundDataNext=function(t,n){var r=this._data[t].filter((function(t){return t.roundId>n}));return 0===r.length?null:r.sort((function(t,n){return t.roundId-n.roundId}))[0]},t.getRoundDataList=function(t){return this._data[t]||[]},t.isRoundMin=function(t,n){return 0==this._data[t].filter((function(t){return t.roundId<n})).length},t.isRoundMax=function(t,n){return 0==this._data[t].filter((function(t){return t.roundId>n})).length},t.getRoundIdDiffList=function(t,n,r,e,a){void 0===r&&(r=0),void 0===e&&(e=!0),void 0===a&&(a=!0);var u=this.getRoundDataList(t),o=[];return(o=r<0?u.filter((function(t){return e?t.roundId<=n:t.roundId<n})).sort((function(t,n){return a?t.roundId-n.roundId:n.roundId-t.roundId})).slice(0,Math.abs(r)).map((function(t){return t.roundId})):r>0?u.filter((function(t){return e?t.roundId>=n:t.roundId>n})).sort((function(t,n){return a?t.roundId-n.roundId:n.roundId-t.roundId})).slice(0,r).map((function(t){return t.roundId})):[n]).sort((function(t,n){return t-n})),o},t.iterator=function(t){Object.values(this._data).forEach((function(n){n.forEach(t)}))},t.load=function(){var n=r(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.load({bundleName:"profile",relativePath:"CatCompeti",resType:d.TextAsset}).then(r(e().mark((function n(a){var u,i;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=2;break}return n.abrupt("return");case 2:return u=o.csv2array(a.text,1,1),i=u.map(r(e().mark((function n(r){var a;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.ID){n.next=3;break}return o.error("['ID'].nil"),n.abrupt("return");case 3:a={id:parseInt(r.ID,10),chapterId:parseInt(r[""],10),chapterName:r[""]||"",roundId:parseInt(r[""],10),needMoney:parseInt(r["()"],10),needVip:parseInt(r["(vip)"],10),needBuildingId:parseInt(r[""],10),enemyPower:parseInt(r[""],10),rewardProps:o.splitArrNumberByArrString(o.splitArrString(r[""],";"),"@")},t.addRow(a);case 5:case"end":return n.stop()}}),n)})))),n.next=6,Promise.all(i);case 6:case"end":return n.stop()}}),n)}))));case 2:o.log("load.CatCompeti.total rows: "+t.totalKeys()+" rows: "+t.totalRows()+" ... OK");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},s=c))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCCatData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(e){var t,a,n,r,s,u,o,c,i;return{setters:[function(e){t=e.createClass,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator},function(e){u=e.default},function(e){o=e.default,c=e.CCResType},function(e){i=e.CCPlayerData}],execute:function(){var l,d;r._RF.push({},"b690b25rGRIdougvvd3jPdj","CCCatData",void 0);var p=s.ccclass,f=(s.property,e("MAX_CAT_LEVEL",3)),C=e("CatStatus",function(e){return e[e.CAN_BUY=0]="CAN_BUY",e[e.CAN_UPGRADE=1]="CAN_UPGRADE",e[e.ALREADY_BUY=2]="ALREADY_BUY",e[e.LOCKED=3]="LOCKED",e}({}));e("default",p("CCCatData")(((d=function(){function e(){}return e.addRow=function(e){this._data[e.tagId]=e},e.keys=function(){return Object.keys(this._data)},e.totalKeys=function(){return Object.keys(this._data).length},e.getRowsByTagId=function(e){var t;return null!=(t=this._data[e])?t:{}},e.getRowsByTagIdAll=function(e){var t,a,n,r;return[null!=(t=this._data[4*e+1])?t:{},null!=(a=this._data[4*e+2])?a:{},null!=(n=this._data[4*e+3])?n:{},null!=(r=this._data[4*e+4])?r:{}]},e.getCatStatus=function(e){i.data.vip,i.data.score;var t=this.getRowsByTagId(e);if(!t)return C.LOCKED;var a=i.getCatLevelUnlocked(e);if(a)switch(a.level){case 0:return C.CAN_BUY;case f:return C.ALREADY_BUY;default:return 0==t.needMoney[a.level]&&0==t.needVip[a.level]&&0==t.needScore[a.level]?C.ALREADY_BUY:C.CAN_UPGRADE}return C.CAN_BUY},e.load=function(){var t=a(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.load({bundleName:"profile",relativePath:"cat",resType:c.TextAsset}).then(a(n().mark((function t(r){var s,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return s=u.csv2array(r.text,1,1),o=s.map(a(n().mark((function t(a){var r,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.ID){t.next=3;break}return u.error("['ID'].nil"),t.abrupt("return");case 3:for(r={tagId:parseInt(a.ID,10),name:a["ID"],desc:a[""],ratio:parseInt(a[""],10),playTime:[],rewardMoney:[],needMoney:[],needVip:[],needScore:[],spineId:a["id"],skineId:parseInt(a["id"],10),actionIdle:u.splitArrString(a[""],"@")},s=0;s<f;s++)r.playTime.push(parseInt(a[""+(s+1)],10)),r.rewardMoney.push(parseInt(a[""+(s+1)],10)),r.needMoney.push(parseInt(a[""+(s+1)],10)),r.needVip.push(parseInt(a["VIP"+(s+1)],10)),r.needScore.push(parseInt(a[""+(s+1)],10));e.addRow(r);case 6:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(o);case 6:case"end":return t.stop()}}),t)}))));case 2:u.log("load.cat.total rows: "+e.totalKeys()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},l=d))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCCatFoodData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,a,r,n,o,s,u,c;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,o=t._decorator},function(t){s=t.default},function(t){u=t.default,c=t.CCResType}],execute:function(){var i,d;n._RF.push({},"15eaaskaa9Au6ZlacXaUHlg","CCCatFoodData",void 0);var f=o.ccclass;o.property,t("default",f("CCCatFoodData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.tagId]=t},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.getRowsByTagId=function(t){var e;return null!=(e=this._data[t])?e:{}},t.getRowsByVip=function(t){return Object.values(this._data).filter((function(e){return e.needVip<=t}))},t.load=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load({bundleName:"profile",relativePath:"catfood",resType:c.TextAsset}).then(a(r().mark((function e(n){var o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return o=s.csv2array(n.text,1,1),u=o.map(a(r().mark((function e(a){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ID){e.next=3;break}return s.error("['ID'].nil"),e.abrupt("return");case 3:n={tagId:parseInt(a.ID,10),name:a[""],rewardFish:parseInt(a[""],10),needVip:parseInt(a["VIP"],10),ratio:parseInt(a[""],10)},t.addRow(n);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(u);case 6:case"end":return e.stop()}}),e)}))));case 2:s.log("load.catfood.total rows: "+t.totalKeys()+" ... ok");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},i=d))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCCatRoomData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPlayerData.ts","./CCUtils.ts","./CCCacheRes.ts","./CCSundryData.ts"],(function(t){var e,n,a,r,u,o,s,i,c,l;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator},function(t){o=t.CCPlayerData},function(t){s=t.default},function(t){i=t.default,c=t.CCResType},function(t){l=t.default}],execute:function(){var d,f;r._RF.push({},"8ea0euOUDhChr8fKTLO9kIq","CCCatRoomData",void 0);var p=u.ccclass,h=(u.property,t("CatRoomStatus",function(t){return t[t.OUTDATE=0]="OUTDATE",t[t.IN_USE=1]="IN_USE",t[t.CAN_BUY=2]="CAN_BUY",t[t.LOCKED=3]="LOCKED",t}({})));t("default",p("CCCatRoomData")(((f=function(){function t(){}return t.addRow=function(t,e){this._data[t.typeId]||(this._data[t.typeId]=[]),this._texData[t.typeId]||(this._texData[t.typeId]=[]),this._data[t.typeId].push(t),this._texData[t.typeId].push(e)},t.sort=function(){Object.values(this._data).forEach((function(t){t.sort((function(t,e){return t.level-e.level}))})),Object.values(this._texData).forEach((function(t){t.sort((function(t,e){return t.level-e.level}))}))},t.keys=function(){return Object.keys(this._data)},t.keysAndName=function(){return Object.values(this._data).map((function(t){return[t[0].typeId,t[0].typeName]}))},t.totalKeys=function(){return Object.keys(this._data).length},t.totalRows=function(){return Object.values(this._data).reduce((function(t,e){return t+e.length}),0)},t.getRowsByTypeId=function(t){var e;return null!=(e=this._data[t])?e:[]},t.iterator=function(t,e){Object.values(this._data).forEach((function(n){t(n[0].typeId,n[0].typeName),n.forEach(e)}))},t.iteratorRowsByTypeId=function(t,e){var n;(null!=(n=this._data[t])?n:[]).forEach(e)},t.getRowByTypeIdAndLevel=function(t,e){var n;return(null!=(n=this._data[t])?n:[]).find((function(t){return t.level==e}))},t.getTextureByTypeIdAndLevel=function(t,e){var n;return(null!=(n=this._texData[t])?n:[]).find((function(t){return t.level==e}))},t.getTextureByTypeId=function(t){var e;return null!=(e=this._texData[t])?e:[]},t.getNextRowByTypeIdAndLevel=function(t,e){var n;return(null!=(n=this._data[t])?n:[]).find((function(t){return t.level>e}))},t.getNextTextureByTypeIdAndLevel=function(t,e){var n;return(null!=(n=this._texData[t])?n:[]).find((function(t){return t.level>e}))},t.getCatRoomStatus=function(t,e){var n=this.getRowByTypeIdAndLevel(t,e);if(!n)return h.LOCKED;if(o.getCatRoomLevelUsing(t).level<e&&o.data.vip<n.needVip)return h.LOCKED;return h.CAN_BUY},t.load=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load({bundleName:"profile",relativePath:"catroom",resType:c.TextAsset}).then(n(a().mark((function e(r){var u,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return u=s.csv2array(r.text,1,1),o=u.map(n(a().mark((function e(r){var u,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r[""]){e.next=3;break}return s.error("[''].nil"),e.abrupt("return");case 3:return u=l.getTexture("CatRoomPart"+r[""]),o="Texture2D/Hall_Common/Hall_Common/"+u,e.next=7,i.load({bundleName:"textures",relativePath:o,resType:c.SpriteFrame}).then(n(a().mark((function e(n){var i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return s.error("CCCacheRes.load: "+o+" ... nil"),e.abrupt("return");case 3:i={typeId:parseInt(r[""],10)||0,level:parseInt(r[""],10)||0,name:r[""],desc:r[""],score:parseInt(r[""],10)||0,needMoney:parseInt(r[""],10)||0,needFish:parseInt(r[""],10)||0,needVip:parseInt(r["VIP"],10)||0,needGold:parseInt(r["100"],10)||0},c={level:i.level,spriteFrameName:u,spriteFrame:n},t.addRow(i,c);case 6:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(o);case 6:t.sort();case 7:case"end":return e.stop()}}),e)}))));case 2:s.log("load.catroom.total type: "+t.totalKeys()+" total rows: "+t.totalRows()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"texData",get:function(){return this._texData},set:function(t){this._texData=t}}]),t}())._data={},f._texData={},d=f))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCCatUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var t,r,n,a,s,o,u,c;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){o=e.default},function(e){u=e.default,c=e.CCResType}],execute:function(){var i,l;a._RF.push({},"61abbOdDWZB1LsADvIZxUko","CCCatUpgrade",void 0);var p=s.ccclass;s.property,e("default",p("CCCatUpgradeData")(((l=function(){function e(){}return e.addRow=function(e){this._data[e.level]=e},e.sort=function(e){return void 0===e&&(e=!0),Object.values(this._data).sort((function(t,r){return e?t.level-r.level:r.level-t.level}))},e.keys=function(){return Object.keys(this._data)},e.totalKeys=function(){return Object.keys(this._data).length},e.getMaxLevel=function(){var e=this.sort(!1);return 0==e.length?0:e[0].level},e.getRowByLevel=function(e){return this._data[e]},e.iterator=function(e,t){Object.values(this._data).forEach((function(r){e(r[0].level),r.forEach(t)}))},e.load=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load({bundleName:"profile",relativePath:"CatUpg",resType:c.TextAsset}).then(r(n().mark((function t(a){var s,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return s=o.csv2array(a.text,1,1),u=s.map(r(n().mark((function t(r){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r[""]){t.next=3;break}return o.error("[''].nil"),t.abrupt("return");case 3:a={level:parseInt(r[""],10)||0,needPorp100:parseInt(r[""],10)||0,needPorp109:parseInt(r["-"],10)||0,needPorp110:parseInt(r["-"],10)||0,needPorp111:parseInt(r["-"],10)||0,needPorp112:parseInt(r["-"],10)||0,needPorp113:parseInt(r["-"],10)||0,needPorp114:parseInt(r["-"],10)||0,needExp:parseInt(r[""],10)||0,power:parseInt(r[""],10)||0,cd:parseInt(r["CD"],10)||0,coldDown:parseInt(r[""],10)||0,needBuildingLevel:parseInt(r[""],10)||0},e.addRow(a);case 5:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(u);case 6:e.sort();case 7:case"end":return t.stop()}}),t)}))));case 2:o.log("load.CatUpg.total type: "+e.totalKeys()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},i=l))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCClippingNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCDefine.ts","./CCEvent.ts","./env","./CCUtils.ts","./CCFadeLabel.ts","./CCLingoData.ts","./CCButton.ts","./CCSpineXiaoShou.ts","./CCPopupManager.ts"],(function(e){var t,i,n,o,a,s,r,l,p,d,h,c,u,g,C,N,m,f,y,T,b,v,E,S,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Node,l=e.SpriteFrame,p=e.Vec3,d=e.UITransform,h=e.Mask,c=e.isValid,u=e.instantiate,g=e.Widget,C=e.BlockInputEvents,N=e.Component},function(e){m=e.EVENT_TYPE},function(e){f=e.CCEvent},function(e){y=e.DEV},function(e){T=e.default},function(e){b=e.CCFadeLabel},function(e){v=e._T},function(e){E=e.CCButton},function(e){S=e.CCSpineXiaoShou},function(e){O=e.default}],execute:function(){var D,L,w,B,k,I,P,_,M,X,R,F,A,G,W,z,U,H,V;a._RF.push({},"fced16Vj79CWb11gXwym8Cg","CCClippingNode",void 0);var j=s.ccclass,x=s.property;e("CCClippingNode",(D=j("CCClippingNode"),L=x({type:[r],displayName:""}),w=x({type:[r],displayName:""}),B=x({type:Boolean,displayName:""}),k=x({type:[l],displayName:""}),I=x({type:b,displayName:""}),P=x({type:S,displayName:y}),_=x({type:p,displayName:y}),M=x({type:p,displayName:y}),D((F=t((R=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"originTargetNode",F,o(t)),n(t,"stencilNode",A,o(t)),n(t,"inverted",G,o(t)),n(t,"spriteFrame",W,o(t)),n(t,"LabelFade",z,o(t)),n(t,"SpineXiaoshou",U,o(t)),n(t,"SpineXiaoshouOffsetPos",H,o(t)),n(t,"SpineXiaoshouWithCloseBtnOffsetPos",V,o(t)),t.mask=[],t.maskNodePos=new p(0,0,0),t.copyTargetNode=[],t.fnOnEnable=[],t.fnOnDisable=[],t}i(t,e);var a=t.prototype;return a.start=function(){},a.update=function(e){},a.onLoad=function(){var e=this;if(this.stencilNode&&0!==this.stencilNode.length){var t=0;this.stencilNode.forEach((function(i){i.getComponent(d)||i.addComponent(d),e.mask[t]=i.getComponent(h)||i.addComponent(h),e.mask[t].inverted=e.inverted,e.mask[t].type=h.Type.SPRITE_STENCIL,e.mask[t].spriteFrame=e.spriteFrame[t],t++}))}},a.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.showClickHand(p.ZERO,!1),f.on(m.NEWBIE_GUIDE_SET_CLIPPINGNODE,this.setClippingNodeByPath,this),f.on(m.NEWBIE_GUIDE_TIPS_REFRESH,this.onNewbieGuideTipsRefresh,this),f.on(m.NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE,this.clearCopyTargetNode,this)},a.onDisable=function(){this.clearCopyTargetNodeAll(),this.unscheduleAllCallbacks(),f.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.clearCopyTargetNodeAll=function(){for(var e=0;e<this.copyTargetNode.length;e++)this.clearCopyTargetNode(e)},a.onNewbieGuideTipsRefresh=function(e,t){void 0===t&&(t=""),T.log("onNewbieGuideTipsRefresh.enable: "+e+" text: "+t),this.LabelFade&&(this.LabelFade.node.active=e,this.LabelFade.string=v(t))},a.clearCopyTargetNode=function(e){if(void 0===e&&(e=0),this.SpineXiaoshou&&(this.SpineXiaoshou.node.active=!1),this.copyTargetNode[e]&&(this.fnOnDisable[e]&&this.fnOnDisable[e](this.originTargetNode[e],this.copyTargetNode[e]),this.stencilNode[e].removeChild(this.copyTargetNode[e]),this.copyTargetNode[e]=null),!this.originTargetNode[e])return f.emit(m.NEWBIE_GUIDE_ENABLE_BLOCK,!0,!0),!1;var t,i;c(this.originTargetNode[e])&&(this.originTargetNode[e].active||(1!=this.originTargetNode[e].keepDisabled&&(null==(t=this.originTargetNode[e].getComponent(E))||t.enableCCButtonListenerWithoutTarget(!0)),1!=this.originTargetNode[e].keepDisabled&&(null==(i=this.originTargetNode[e].getComponent(E))||i.enableButton(!0))));return!0},a.setClippingNodeByPath=function(e,t,i,n,o,a,s){var r,l,h,c,N,y=this;if(void 0===t&&(t=.5),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0),void 0===a&&(a=this.SpineXiaoshouOffsetPos),void 0===s&&(s=0),this.stencilNode[s]&&e){var T;this.clearCopyTargetNode(s),this.fnOnEnable[s]=i,this.fnOnDisable[s]=n,this.originTargetNode[s]=e,f.emit(m.NEWBIE_GUIDE_ENABLE_BLOCK,!0,!1);var b=this.originTargetNode[s].getComponent(d);if(b){var v=b.convertToWorldSpaceAR(p.ZERO);T=this.stencilNode[s].parent.getComponent(d).convertToNodeSpaceAR(v),this.stencilNode[s].setPosition(T);var S=this.stencilNode[s].getComponent(d);null==S||S.setContentSize(b.contentSize),this.maskNodePos=b.convertToWorldSpaceAR(new p(0,0,0))}else T=new p(0,0,0),this.stencilNode[s].setPosition(T);if(this.copyTargetNode[s]=u(this.originTargetNode[s]),null==(r=this.originTargetNode[s].getComponent(E))||r.enableCCButtonListenerWithoutTarget(!1),null==(l=this.originTargetNode[s].getComponent(E))||l.enableButton(!1),this.copyTargetNode[s].getComponent(g)&&(this.copyTargetNode[s].getComponent(g).enabled=!1),null==(h=this.originTargetNode[s].getComponent(E))||h.copyFn(this.copyTargetNode[s].getComponent(E)),this.fnOnEnable[s]&&this.fnOnEnable[s](this.originTargetNode[s],this.copyTargetNode[s]),this.copyTargetNode[s].parent=this.stencilNode[s],this.copyTargetNode[s].addComponent(C),this.spriteFrame&&(this.mask[s].spriteFrame=this.spriteFrame[s]),b){var O=b.anchorPoint.clone(),D=b.contentSize.clone();this.stencilNode[s].getComponent(d).width=D.width,this.stencilNode[s].getComponent(d).height=D.height,this.stencilNode[s].getComponent(d).setAnchorPoint(O)}var L=this.getComponent(d).convertToNodeSpaceAR(this.maskNodePos.clone());this.stencilNode[s].setPosition(L),this.copyTargetNode[s].setPosition(new p(0,0,0)),null==(c=this.copyTargetNode[s].getComponent(E))||c.enableCCButtonListenerWithoutTarget(!1),null==(N=this.copyTargetNode[s].getComponent(E))||N.enableButton(!0),this.mask[s].node.active=!0,this.hideClickHand(),this.scheduleOnce((function(){var e;y.fnOnEnable[s]&&y.fnOnEnable[s](y.originTargetNode[s],y.copyTargetNode[s]),null==(e=y.copyTargetNode[s].getComponent(E))||e.enableCCButtonListenerWithoutTarget(!0),o&&y.showClickHand(L.clone().add(a))}),t),this.onOrderRender()}},a.onOrderRender=function(){T.reOrderRenderByName(O.container,["panelCatHouseUpgrade","panelCatHouseUpgradeRanking","panelManagement","panelManagementDecorationDetails","panelOutside","panelHotTask","panelCommon","panelRechargeGold","panelMiniGameList","panelMiniGameListItem","panelMiniGameListItemDetails","panelClanManagement","panelClanManagementItemFacilityUpgrade","panelClanManagementItemFacilityDetails","panelClanManagementItemMemberUpgrade","panelMatch","panelMatchItemChapter","panelMatchRound","panelMiniGameCatAndMouse","panelMiniGameCatAndMouseEvent","panelMiniGameCatAndMouseQA","panelMiniGameLuckyDrawsItem","SceneNewbieAnimation","spineGuide"])},a.hideClickHand=function(){this.SpineXiaoshou&&this.SpineXiaoshou.spine&&(this.SpineXiaoshou.node.active=!1)},a.showClickHand=function(e,t){void 0===t&&(t=!0),this.SpineXiaoshou&&this.SpineXiaoshou.spine&&(this.SpineXiaoshou.node.active=t,this.SpineXiaoshou.spine.loop=!1,this.SpineXiaoshou.spine.clearTracks(),this.SpineXiaoshou.node.position=e,this.SpineXiaoshou.spine.setAnimation(0,"zhiyin2",!0),this.SpineXiaoshou.spine.setCompleteListener((function(e){})))},t}(N)).prototype,"originTargetNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(R.prototype,"stencilNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(R.prototype,"inverted",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=t(R.prototype,"spriteFrame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"LabelFade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(R.prototype,"SpineXiaoshou",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(R.prototype,"SpineXiaoshouOffsetPos",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(30,-30,0)}}),V=t(R.prototype,"SpineXiaoshouWithCloseBtnOffsetPos",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,0,0)}}),X=R))||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCDailyTaskData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPlayerData.ts","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var a,t,n,r,s,d,o,i,u;return{setters:[function(e){a=e.createClass,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator},function(e){d=e.CCPlayerData},function(e){o=e.default},function(e){i=e.default,u=e.CCResType}],execute:function(){var c,l;r._RF.push({},"b73c7wqLypMS775hWSWyv0P","CCDailyTaskData",void 0);var p=s.ccclass,y=(s.property,e("DailyTaskStatus",function(e){return e[e.GOING=0]="GOING",e[e.GOTO=1]="GOTO",e[e.CAN_CLAIMED=2]="CAN_CLAIMED",e[e.COMPLETED=3]="COMPLETED",e}({})));e("default",p("CCDailyTaskData")(((l=function(){function e(){}return e.addRow=function(e){this._data[e.taskId]=e},e.keys=function(){return Object.keys(this._data).map((function(e){return parseInt(e,10)}))},e.totalKeys=function(){return Object.keys(this._data).length},e.keysByVip=function(){var a=this,t=d.data.dailyTaskVipToday,n=d.data.dailyTaskGoldStoreLimitToday,r=e.keys().filter((function(e){var r=a._data[e];return 2==r.needVipRange.length&&r.needVipRange[0]<=t&&t<r.needVipRange[1]||2==r.needGoldStoreLimit.length&&r.needGoldStoreLimit[0]<=n&&n<r.needGoldStoreLimit[1]})),s=[],o=[],i=[];return r.forEach((function(e){var t=d.getDailyTaskProcess(e);if(t)if(a.getRowsByTaskId(e).needTaskCompletedNum>0)s.push(e);else switch(t.status){case y.CAN_CLAIMED:s.push(e);break;case y.GOING:case y.GOTO:o.push(e);break;case y.COMPLETED:i.push(e)}})),s.concat(o).concat(i)},e.getRowsByTaskId=function(e){var a;return null!=(a=this._data[e])?a:{}},e.iterator=function(e){Object.values(this._data).forEach((function(a){a.forEach(e)}))},e.getDailyTaskStatus=function(e){var a=this.getRowsByTaskId(e);if(!a)return y.GOING;var t=d.getDailyTaskProcess(e);return t?t.status==y.CAN_CLAIMED||t.status==y.COMPLETED?t.status:a.needTaskCompletedNum>0&&a.needTaskCompletedNum<=t.taskCompletedNum||a.needEarnMoney>0&&a.needEarnMoney<=t.earnMoney||a.needClientBuyIn>0&&a.needClientBuyIn<=t.clientBuyIn||a.needRecharge>0&&a.needRecharge<=t.recharge||a.needSoldCofee>0&&a.needSoldCofee<=t.soldCofee||a.needSendFlyers>0&&a.needSendFlyers<=t.sendFlyers||a.needTakeSpecialTask>0&&a.needTakeSpecialTask<=t.takeSpecialTask||a.needSoldCake>0&&a.needSoldCake<=t.soldCake||a.needEarnGold>0&&a.needEarnGold<=t.earnGold||a.needTrainNumber>0&&a.needTrainNumber<=t.trainNumber||a.needMatchesNumber>0&&a.needMatchesNumber<=t.matchesNumber?y.CAN_CLAIMED:a.needSendFlyers>t.sendFlyers?y.GOTO:y.GOING:y.GOING},e.load=function(){var a=t(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.load({bundleName:"profile",relativePath:"dailytasks",resType:u.TextAsset}).then(t(n().mark((function a(r){var s,d;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r){a.next=2;break}return a.abrupt("return");case 2:return s=o.csv2array(r.text,1,1),d=s.map(t(n().mark((function a(t){var r;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.ID){a.next=3;break}return o.error("['ID'].nil"),a.abrupt("return");case 3:r={taskId:parseInt(t.ID,10),taskName:t[""],needTaskCompletedNum:parseInt(t[""],10),needEarnMoney:parseInt(t[""],10),needClientBuyIn:parseInt(t[""],10),needRecharge:parseInt(t[""],10),needSoldCofee:parseInt(t["26"],10),needSendFlyers:parseInt(t[""],10),needTakeSpecialTask:parseInt(t[""],10),needSoldCake:parseInt(t["27"],10),needTrainNumber:parseInt(t[""],10),needMatchesNumber:parseInt(t[""],10),needVipRange:o.splitArrNumber(t[""],"@"),rewardMoney:parseInt(t[""],10),needEarnGold:parseInt(t[""],10),needGoldStoreLimit:o.splitArrNumber(t[""],"@"),rewardGold:parseInt(t["100"],10)},e.addRow(r);case 5:case"end":return a.stop()}}),a)})))),a.next=6,Promise.all(d);case 6:case"end":return a.stop()}}),a)}))));case 2:o.log("load.dailytask.total rows: "+e.totalKeys()+" ... OK");case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),a(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},c=l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCDataRepoter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCHttp.ts","./CCNative.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCFirebaseCrashlytics.ts","./CCFirebaseRemoteConfig.ts","./CCFirebaseAnalytics.ts","./CCJWT.ts","./CCTopOnHelper.ts","./CCPay.ts"],(function(e){var t,i,r,n,a,o,s,u,p,l,c,g,h,f,d,v,b,E,S,N,C,U,T,y,D,m,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,p=e.CCString,l=e.sys,c=e.game,g=e.Game,h=e.view,f=e.Component},function(e){d=e.default},function(e){v=e.default},function(e){b=e.default},function(e){E=e.CCEvent},function(e){S=e.default,N=e.EVENT_TYPE},function(e){C=e.CCPlayerData},function(e){U=e.default},function(e){T=e.default},function(e){y=e.default},function(e){D=e.default},function(e){m=e.CCTopOnHelper},function(e){w=e.default}],execute:function(){var k,_,P,O,R,I,A,G,H,L,B,M,F,J,x,V,z,W,K,Y,j,q,X,Q;s._RF.push({},"6a9ecO/TvJBN5y0xdalwk5J","CCDataRepoter",void 0);var Z=u.ccclass,$=u.property;e("default",(k=Z("CCDataRepoter"),_=$({type:p,tooltip:"DeviceUrlDebug"}),P=$({type:p,tooltip:"DeviceUrlRelease"}),O=$({type:p,tooltip:"EventUrlDebug"}),R=$({type:p,tooltip:"EventUrlRelease"}),I=$({type:p,tooltip:"PurchaseUrlDebug"}),A=$({type:p,tooltip:"PurchaseUrlRelease"}),G=$({type:p,tooltip:"NewbieGuideStepUrlDebug"}),H=$({type:p,tooltip:"NewbieGuideStepUrlRelease"}),L=$({type:p,tooltip:"HotTaskUrlDebug"}),B=$({type:p,tooltip:"HotTaskUrlRelease"}),k(((Q=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"DeviceUrlDebug",J,n(t)),r(t,"DeviceUrlRelease",x,n(t)),r(t,"EventUrlDebug",V,n(t)),r(t,"EventUrlRelease",z,n(t)),r(t,"PurchaseUrlDebug",W,n(t)),r(t,"PurchaseUrlRelease",K,n(t)),r(t,"NewbieGuideStepUrlDebug",Y,n(t)),r(t,"NewbieGuideStepUrlRelease",j,n(t)),r(t,"HotTaskUrlDebug",q,n(t)),r(t,"HotTaskUrlRelease",X,n(t)),t.DeviceUrl="",t.EventUrl="",t.PurchaseUrl="",t.NewbieGuideStepUrl="",t.HotTaskUrl="",t}i(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),b.init((function(){var e=[[S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_APP,S.appConfig],[S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_ADMOBUNITID,S.adMobUnitIdConfig],[S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_TOPON,S.adTopOnConig],[S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP,S.iapConfig]];T.init(e,(function(e,t){var i=CryptoJS.enc.Base64.parse(e).toString(CryptoJS.enc.Utf8),r=CryptoJS.enc.Base64.parse(t).toString(CryptoJS.enc.Utf8);switch(d.log("CCFirebaseRemoteConfig["+i+"]: "+r),i){case S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_APP:var n=S.appConfig.fug;S.appConfig.fua;if(l.os==l.OS.ANDROID&&n){var a=b.get("versionCode")||0;E.emit(N.UPDATE_START,a),S.updateAppConfig(r)}else l.os,l.OS.IOS,S.updateAppConfig(r);break;case S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_ADMOBUNITID:S.updateAdMobUnitIdConfig(r);break;case S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_TOPON:S.updateTopOnConfig(r);break;case S.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP:S.updateIapConfig(r);break;default:return}})),U.init(),U.setUserId(b.get("deviceId")),U.setCrashlyticsCollectionEnabled(!0),y.setUserId(b.get("deviceId")),y.setAnalyticsCollectionEnabled(!S.ENABLE_DEBUG_MODE);var t=y.getFirebaseInstanceId();d.log("FID: "+t),m.init(S.ENABLE_TOPON_LOG,S.adTopOnConig[l.os].aid,S.adTopOnConig[l.os].ak);var i=S.getIapProductIds();w.init(i,(function(e,t){var i=JSON.parse(t);d.log("CCPay.statusCode["+e+"].info["+t+"]"),E.emit(N.SHOP_PURCHASE_STATUS,e,i)}))}))&&(E.on(N.PUSH_EVENT,this.pushEvent,this),E.on(N.PURCHASE_EVENT,this.pushPurchase,this),E.on(N.NEWBIE_GUIDE_STEP_EVENT,this.pushNewbieGuideStep,this),E.on(N.HOTTASK_EVENT,this.pushHotTask,this),this.DeviceUrl=S.ENABLE_DEBUG_MODE?this.DeviceUrlDebug.toString():this.DeviceUrlRelease.toString(),this.EventUrl=S.ENABLE_DEBUG_MODE?this.EventUrlDebug.toString():this.EventUrlRelease.toString(),this.PurchaseUrl=S.ENABLE_DEBUG_MODE?this.PurchaseUrlDebug.toString():this.PurchaseUrlRelease.toString(),this.NewbieGuideStepUrl=S.ENABLE_DEBUG_MODE?this.NewbieGuideStepUrlDebug.toString():this.NewbieGuideStepUrlRelease.toString(),this.HotTaskUrl=S.ENABLE_DEBUG_MODE?this.HotTaskUrlDebug.toString():this.HotTaskUrlRelease.toString(),d.log("DeviceUrl: "+this.DeviceUrl),d.log("EventUrl: "+this.EventUrl),d.log("PurchaseUrl: "+this.PurchaseUrl),d.log("NewbieGuideStepUrl: "+this.NewbieGuideStepUrl),d.log("HotTaskUrl: "+this.HotTaskUrl),d.evalUrl(this.DeviceUrl)&&this.uploadDevice(),d.evalUrl(this.EventUrl)&&this.schedule(this.uploadEvent,10),d.evalUrl(this.PurchaseUrl)&&this.schedule(this.uploadPurchase,10),d.evalUrl(this.NewbieGuideStepUrl)&&this.schedule(this.uploadNewbieGuideStep,10),d.evalUrl(this.HotTaskUrl)&&this.schedule(this.uploadHotTask,10)),c.on(g.EVENT_HIDE,this.gameHide,this),c.on(g.EVENT_SHOW,this.gameShow,this)},s.onDestroy=function(){d.log("onDestroy"),E.targetOff(this),this.unscheduleAllCallbacks(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},s.gameHide=function(){d.log("gameHide --------------\x3e"),b.init(null)&&(this.pushEvent("logout"),this.uploadEvent(),this.uploadPurchase(),this.uploadNewbieGuideStep(),this.uploadHotTask())},s.gameShow=function(){d.log("gameShow --------------\x3e"),b.init(null)&&(this.pushEvent("login"),this.uploadEvent(),this.uploadPurchase(),this.uploadNewbieGuideStep(),this.uploadHotTask())},s.getOSType=function(){switch(l.os){case"Android":return 1;case"iOS":return 2;case"Windows":return 3;case"OS X":return 4}return 0},s.uploadDevice=function(){d.log("getDesignResolutionSize(): "+h.getDesignResolutionSize().toString());var e=b.get("packageName"),t=b.get("versionName"),i=(b.get("versionCode"),b.get("deviceId")),r=b.get("androidId"),n=b.get("androidVersion"),a=b.get("id"),o=(b.get("display"),b.get("product"),b.get("device"),b.get("board"),b.get("manufacturer")),s=b.get("brand"),u=b.get("model"),p=(b.get("hardware"),b.get("sku"),b.get("abis64bit"),b.get("isTablet")),c=b.get("batteryLevel").toString(),g=b.get("batteryStatus").toString(),f=b.get("cpuCount").toString(),v=b.get("totalMemory").toString();b.get("freeMemory");this.PostDevice({Type:"1",Data:JSON.stringify({packageName:e,appVer:t,osType:this.getOSType().toString(),sysVer:n.length>0?n+" "+a:l.osVersion,deviceId:i,deviceType:p?"Tablet":"Mobile",deviceBrand:o+" "+s,deviceModel:u,lang:l.language,langCode:l.languageCode,resolution:h.getViewportRect().size.toString(),network:l.getNetworkType().toString(),idfa:"0",idfv:"0",imei:"0",androidId:r,batteryLevel:c,batteryStatus:g,operatingSystemFamily:"0",processorType:"0",processorFrequency:"0",processorCount:f,systemMemorySize:v,supportsAccelerometer:"0",supportsGyroscope:"0",supportsLocationService:"0",supportsVibration:"0",supportsAudio:"0",graphicsMemorySize:"0",graphicsDeviceName:"0",graphicsDeviceID:"0",graphicsDeviceVendor:"0",graphicsDeviceVendorID:"0",graphicsDeviceType:"0",graphicsDeviceVersion:"0",graphicsUVStartsAtTop:"0",graphicsShaderLevel:"0",supportedRenderTargetCount:"0",npotSupport:"0",maxTextureSize:"0",area:S.ENABLE_CHANNEL_AREA.toString()})}).then((function(e){var t=e[0],i=e[1];d.log("[UD]["+t+"].rsp: "+JSON.stringify(i))})).catch((function(e){d.log("[UD].err: "+e)}))},s.uploadEvent=function(){if(0!=this.EventUrl.length){for(var e=[];t.eventList.length>0;){var i=t.eventList.shift();e.push(i)}if(0!=e.length){var r=b.get("packageName"),n=b.get("deviceId");this.PostEvent({Type:"2",Data:JSON.stringify({packageName:r,deviceId:n,eventName:JSON.stringify(e)})}).then((function(i){var r=i[0],n=i[1];d.log("[UE]["+r+"].rsp: "+JSON.stringify(n)),r||e.forEach((function(e){t.eventList.push(e)}))})).catch((function(e){d.log("[UE].err: "+e)}))}}},s.pushEvent=function(e,i){(void 0===i&&(i=0),0!=e.length)&&(C.isAdFree()&&e.startsWith("ad_")||(d.pushGameEvent(e),-1!=i&&(e=e+":"+Math.ceil(i>0?i:d.NowTimeStamp()/1e3).toString()),t.eventList.push(e)))},s.uploadPurchase=function(){if(0!=this.PurchaseUrl.length){for(var e=[];t.purchaseList.length>0;){var i=t.purchaseList.shift();e.push(i)}if(0!=e.length){var r=b.get("packageName"),n=b.get("deviceId");this.PostPurchase({Type:"3",Data:JSON.stringify({packageName:r,deviceId:n,eventName:JSON.stringify(e)})}).then((function(i){var r=i[0],n=i[1];d.log("[UP]["+r+"].rsp: "+JSON.stringify(n)),r||e.forEach((function(e){t.purchaseList.push(e)}))})).catch((function(e){d.log("[UP].err: "+e)}))}}},s.pushPurchase=function(e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),0!=e.length&&(d.pushGameEvent(e),e=e+":"+Math.ceil(r>0?r:d.NowTimeStamp()/1e3).toString()+":"+i,t.purchaseList.push(e))},s.uploadNewbieGuideStep=function(){if(0!=this.NewbieGuideStepUrl.length){for(var e=[];t.newbieGuideStepList.length>0;){var i=t.newbieGuideStepList.shift();e.push(i)}if(d.log("uploadNewbieGuideStep.sendArr["+e.length+"]: "+e),0!=e.length){var r=b.get("packageName"),n=b.get("deviceId");this.PostNewbieGuideStep({Type:"4",Data:JSON.stringify({packageName:r,deviceId:n,eventName:JSON.stringify(e)})}).then((function(i){var r=i[0],n=i[1];d.log("[UN]["+r+"].rsp: "+JSON.stringify(n)),r||e.forEach((function(e){t.newbieGuideStepList.push(e)}))})).catch((function(e){d.log("[UN].err: "+e)}))}}},s.pushNewbieGuideStep=function(e,i){void 0===i&&(i=0),0!=e.length&&(d.pushGameEvent(e),e=e+":"+Math.ceil(i>0?i:d.NowTimeStamp()/1e3).toString(),d.log("pushNewbieGuideStep: "+e),t.newbieGuideStepList.push(e))},s.uploadHotTask=function(){if(0!=this.HotTaskUrl.length){for(var e=[];t.hotTaskList.length>0;){var i=t.hotTaskList.shift();e.push(i)}if(d.log("uploadHotTask.sendArr["+e.length+"]: "+e),0!=e.length){var r=b.get("packageName"),n=b.get("deviceId");this.PostHotTask({Type:"5",Data:JSON.stringify({packageName:r,deviceId:n,eventName:JSON.stringify(e)})}).then((function(i){var r=i[0],n=i[1];d.log("[UH]["+r+"].rsp: "+JSON.stringify(n)),r||e.forEach((function(e){t.hotTaskList.push(e)}))})).catch((function(e){d.log("[UH].err: "+e)}))}}},s.pushHotTask=function(e,i){void 0===i&&(i=0),0!=e.length&&(d.pushGameEvent(e),e=e+":"+Math.ceil(i>0?i:d.NowTimeStamp()/1e3).toString(),t.hotTaskList.push(e))},s.PostDevice=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.appConfig.ee){e.next=3;break}return d.warn("CCDataRepoter.PushDevice: eventRepoter is not enabled!"),e.abrupt("return");case 3:if(v.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,v.Post(this.DeviceUrl+"/api/mini/event",t,D.generateJWT(t,b.get("packageName"),d.NowTimeStamp(),S.appConfig.ee.sl,S.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.PostEvent=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.appConfig.ee){e.next=3;break}return d.warn("CCDataRepoter.PushEvent: eventRepoter is not enabled!"),e.abrupt("return");case 3:if(v.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,v.Post(this.EventUrl+"/api/mini/event",t,D.generateJWT(t,b.get("packageName"),d.NowTimeStamp(),S.appConfig.ee.sl,S.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.PostPurchase=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.appConfig.ee){e.next=3;break}return d.warn("CCDataRepoter.PushPurchase: eventRepoter is not enabled!"),e.abrupt("return");case 3:if(v.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,v.Post(this.PurchaseUrl+"/api/mini/event",t,D.generateJWT(t,b.get("packageName"),d.NowTimeStamp(),S.appConfig.ee.sl,S.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.PostNewbieGuideStep=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.appConfig.ee){e.next=3;break}return d.warn("CCDataRepoter.PushNewbieGuideStep: eventRepoter is not enabled!"),e.abrupt("return");case 3:if(v.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,v.Post(this.NewbieGuideStepUrl+"/api/mini/event",t,D.generateJWT(t,b.get("packageName"),d.NowTimeStamp(),S.appConfig.ee.sl,S.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.PostHotTask=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.appConfig.ee){e.next=3;break}return d.warn("CCDataRepoter.PushHotTask: eventRepoter is not enabled!"),e.abrupt("return");case 3:if(v.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,v.Post(this.HotTaskUrl+"/api/mini/event",t,D.generateJWT(t,b.get("packageName"),d.NowTimeStamp(),S.appConfig.ee.sl,S.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(f)).eventList=[],Q.purchaseList=[],Q.newbieGuideStepList=[],Q.hotTaskList=[],J=t((F=Q).prototype,"DeviceUrlDebug",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(F.prototype,"DeviceUrlRelease",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=t(F.prototype,"EventUrlDebug",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=t(F.prototype,"EventUrlRelease",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=t(F.prototype,"PurchaseUrlDebug",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),K=t(F.prototype,"PurchaseUrlRelease",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=t(F.prototype,"NewbieGuideStepUrlDebug",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=t(F.prototype,"NewbieGuideStepUrlRelease",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=t(F.prototype,"HotTaskUrlDebug",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=t(F.prototype,"HotTaskUrlRelease",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=F))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCDebug.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(e){var t,n,a,r,i,o,u,s,l,C,g,d,c,m,D,p,h,b,_;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,r=e.director,i=e.Canvas,o=e.DynamicAtlasManager,u=e.macro,s=e.view,l=e.Node,C=e.UITransform,g=e.Layers,d=e.ScrollView,c=e.Layout,m=e.v3,D=e.isValid,p=e.Component,h=e.SpriteFrame,b=e.Sprite},function(e){_=e.default}],execute:function(){var A,y;n._RF.push({},"e52223FEaZHC6q10+v10PwS","CCDebug",void 0);var x=a.ccclass;a.property,e("CCDebug",x("CCDebug")(((y=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},n.showDynamicAtlasDebug=function(){var e,t=null==(e=r.getScene().getComponentInChildren(i))?void 0:e.node,n=o.instance;_.log("CCDebug ---\x3e CLEANUP_IMAGE_CACHE: "+u.CLEANUP_IMAGE_CACHE),_.log("CCDebug ---\x3e DynamicAtlasManager.enabled: "+n.enabled),_.log("CCDebug ---\x3e DynamicAtlasManager.textureBleeding: "+n.textureBleeding),_.log("CCDebug ---\x3e DynamicAtlasManager.textureSize: "+n.textureSize),_.log("CCDebug ---\x3e DynamicAtlasManager.maxAtlasCount: "+n.maxAtlasCount),_.log("CCDebug ---\x3e DynamicAtlasManager.atlasCount: "+n.atlasCount),_.log("CCDebug ---\x3e DynamicAtlasManager.maxFrameSize: "+n.maxFrameSize),this._showDebug=!this._showDebug;var a=this._debugNode;if(this._showDebug){var p=function(e){!function(t){for(var n=0;n<t._atlasIndex;n++){var a=new l(t.name||"ATLAS");a.layer=g.Enum.UI_2D;var r=t._atlases[n]._texture,i=new h;i.texture=r,a.addComponent(b).spriteFrame=i,a.parent=e}}(n)};if(a&&a.isValid){var A=a.getChildByName("CONTENT");A.destroyAllChildren(),p(A)}else{var y=s.getVisibleSize().width,x=s.getVisibleSize().height,v=(a=new l("DYNAMIC_ATLAS_DEBUG_NODE")).addComponent(C);v.width=y,v.height=x,a.setSiblingIndex(0),a.parent=t,a.layer=g.Enum.UI_2D;var f=a.addComponent(d),S=new l("CONTENT"),E=S.addComponent(c);E.type=c.Type.VERTICAL,E.resizeMode=c.ResizeMode.CONTAINER;var N=S.addComponent(C);S.parent=a,N.width=n.textureSize,N.anchorY=1,S.position=m(n.textureSize,0,0),S.layer=g.Enum.UI_2D,f.content=S,p(S),this._debugNode=a}return a}a&&D(a)&&(a.parent=null,a.destroy()),this._debugNode=a},n}(p))._debugNode=null,y._showDebug=!1,A=y))||A);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCDebugPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCMapData.ts","./CCSceneHall.ts","./CCPathManager.ts","./CCDefine.ts","./CCTileData.ts","./Npc.ts","./CCButton.ts","./CCSceneMain.ts","./CCEvent.ts"],(function(t){var i,e,s,n,o,l,h,r,d,a,_,c,u,g,C,p,m,b,f,T,k,S,v,D,E,B,P,A,y,w,G,L,H;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,h=t.Vec2,r=t.Color,d=t.UITransform,a=t.Graphics,_=t.find,c=t.Sprite,u=t.Vec3,g=t.Label,C=t.Texture2D,p=t.SpriteFrame,m=t.view,b=t.Node,f=t.Button,T=t.math,k=t.profiler},function(t){S=t.default},function(t){v=t.default},function(t){D=t.CCSceneHall},function(t){E=t.CCPathManager},function(t){B=t.HALL_INDEX,P=t.EVENT_TYPE,A=t.default},function(t){y=t.CCTileData},function(t){w=t.Npc},function(t){G=t.CCButton},function(t){L=t.CCSceneMain},function(t){H=t.CCEvent}],execute:function(){var x,R,O,U,N,I,M,W,F,z,V,q,K,Y,j,X,Z,J,Q,$,tt,it,et;o._RF.push({},"5df394ybH1Ek60DEb+B4MF2","CCDebugPanel",void 0);var st=l.ccclass,nt=l.property,ot=l.executeInEditMode;t("CCDebugPanel",(x=st("CCDebugPanel"),R=nt({displayName:"",tooltip:"",min:.1,max:1,step:.05,slide:!0}),O=nt({displayName:"",tooltip:""}),U=nt({displayName:"",tooltip:""}),N=nt({displayName:"",tooltip:""}),I=nt({displayName:"",tooltip:""}),M=nt({displayName:"",tooltip:"",serializable:!0}),W=nt({displayName:"",tooltip:"",serializable:!0}),F=nt({displayName:"",tooltip:"",serializable:!0}),z=nt({displayName:"",tooltip:""}),V=nt({displayName:"",tooltip:""}),x(q=ot((Y=i((K=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=t.call.apply(t,[this].concat(o))||this,s(i,"panelHeightRatio",Y,n(i)),s(i,"panelFillColor",j,n(i)),s(i,"panelStrokeColor",X,n(i)),s(i,"panelLineWidth",Z,n(i)),s(i,"showGrid",J,n(i)),s(i,"gridRows",Q,n(i)),s(i,"gridCols",$,n(i)),s(i,"gridLineWidth",tt,n(i)),s(i,"gridFillColor",it,n(i)),s(i,"gridStrokeColor",et,n(i)),i._resizeHandler=null,i._isDragging=!1,i._dragStartPos=new h,i._dragEndPos=new h,i._lastDragEndPos=new h,i._gridWidth=0,i._gridHeight=0,i._tileWidth=0,i._tileHeight=0,i._gridBlock=[],i._gridConsumer=[],i._transform=null,i._graphics=null,i._btnShowGrid=null,i._btnLockGrid=null,i._btnSettingGrid=null,i._btnDeleteGrid=null,i._btnPreview=null,i._btnClose=null,i._btnSave=null,i._btnAddBlock=null,i._btnDeleteBlock=null,i._btnCleanBlock=null,i._btnAddConsumer=null,i._btnDeleteConsumer=null,i._btnCleanConsumer=null,i._btnShowFps=null,i._panelSettingGrid=null,i._isLockGrid=!1,i._isPreview=!1,i._isAddBlock=!1,i._isDeleteBlock=!1,i._isCleanBlock=!1,i._isAddConsumer=!1,i._isDeleteConsumer=!1,i._isCleanConsumer=!1,i._isShowFps=!1,i.isAltKeyDown=!1,i.SpritePos=null,i.LabelPos=null,i.lastPanelHeightRatio=.5,i.lastPanelFillColor=new r(0,0,0,180),i.lastPanelStrokeColor=new r(0,0,0,180),i.lastPanelLineWidth=5,i.lastShowGrid=!0,i.lastGridRows=10,i.lastGridCols=10,i.lastGridLineWidth=5,i.lastGridFillColor=new r(0,0,0,180),i.lastGridStrokeColor=new r(0,0,0,180),i._hall=null,i}e(i,t);var o=i.prototype;return o.initDebugPanel=function(){var t,i;(this._transform=this.node.getComponent(d)||this.node.addComponent(d),this._graphics=this.node.getComponent(a)||this.node.addComponent(a),this.SpritePos)||(this.SpritePos=null==(t=_("SpritePos",this.node))?void 0:t.getComponent(c),this.SpritePos&&(this.SpritePos.node.setPosition(new u(-9999,0,0)),this.LabelPos||(this.LabelPos=null==(i=_("LabelPos",this.SpritePos.node))?void 0:i.getComponent(g),this.LabelPos&&(this.LabelPos.string=""))));this.initUIControls(),this.updatePanelAppearance()},o.updatePanelAppearance=function(){if(this._transform&&this._graphics){var t=this.getComponent(d).contentSize,i=t.width,e=t.height*this.panelHeightRatio;this._transform.setContentSize(i,e),this.node.position.equals(u.ZERO)&&this.node.setPosition(0,t.height/2),this._graphics.clear(),this.lastPanelFillColor=this._graphics.fillColor.clone(),this.lastPanelStrokeColor=this._graphics.strokeColor.clone(),this.lastPanelLineWidth=this._graphics.lineWidth,this._graphics.fillColor=this.panelFillColor.clone(),this._graphics.rect(0,0,i,e),this._graphics.fill(),this._graphics.strokeColor=this.panelStrokeColor.clone(),this._graphics.rect(0,0,i,e),this._graphics.stroke(),this.showGrid&&this.drawGrid(),this._graphics.fillColor=this.lastPanelFillColor.clone(),this._graphics.strokeColor=this.lastPanelStrokeColor.clone(),this._graphics.lineWidth=this.lastPanelLineWidth;var s=70,n=0+s+20,o=[this._btnShowGrid,this._btnLockGrid,this._btnSettingGrid,this._btnDeleteGrid,this._btnPreview,this._btnClose,this._btnSave],l=o.length,h=(i/2-10*(l+1))/l,r=S.GetDesignResolutionSize(),a=L.pageIndex==B.LEFT?0:L.pageIndex-L.pageIndexLast>0?(L.pageIndex-B.MIDDLE)*r.width:-(L.pageIndex-B.MIDDLE)*r.width;o.forEach((function(t,i){if(t){var e=10+h/2+i*(h+10)+a;t.setPosition(new u(e,n,0));var s=t.getComponent(d);s&&(s.width=h,s.height=40)}})),n=0+(s=10)+20,l=(o=[this._btnAddBlock,this._btnDeleteBlock,this._btnCleanBlock,this._btnAddConsumer,this._btnDeleteConsumer,this._btnCleanConsumer,this._btnShowFps]).length,o.forEach((function(t,i){if(t){var e=10+h/2+i*(h+10)+a;t.setPosition(new u(e,n,0));var s=t.getComponent(d);s&&(s.width=h,s.height=40)}}))}},o.drawGrid=function(){var t=this;if(this._graphics&&this._transform){var i=this.gridRows,e=this.gridCols,s=0,n=0,o=0,l=0;this._dragStartPos.x>this._dragEndPos.x?(s=this._dragEndPos.x,o=this._dragStartPos.x):(s=this._dragStartPos.x,o=this._dragEndPos.x),this._dragStartPos.y>this._dragEndPos.y?(n=this._dragEndPos.y,l=this._dragStartPos.y):(n=this._dragStartPos.y,l=this._dragEndPos.y),this._gridWidth=o-s,this._gridHeight=l-n,this._graphics.lineWidth=this.gridLineWidth,this._graphics.fillColor=this.gridFillColor.clone(),this._graphics.rect(s,n,this._gridWidth,this._gridHeight),this._graphics.fill(),this._graphics.strokeColor=this.gridStrokeColor.clone(),this._graphics.rect(s-this.gridLineWidth,n-this.gridLineWidth,this._gridWidth+2*this.gridLineWidth,this._gridHeight+2*this.gridLineWidth),this._graphics.stroke(),this._tileWidth=this._gridWidth/e,this._tileHeight=this._gridHeight/i;for(var h=0;h<i;h++)for(var d=0;d<e;d++){var a=s+d*this._tileWidth,_=n+h*this._tileHeight,c=this._tileWidth,u=this._tileHeight;this._graphics.strokeColor=r.BLACK,this._graphics.rect(a,_,c,u),this._graphics.stroke()}this._gridBlock&&(this._graphics.strokeColor=r.RED,this._graphics.lineWidth=5,this._gridBlock.forEach((function(i){var e,s,n,o,l=E._tile2Position(i);t._graphics.fillColor=new r(255,0,0,50),null==(e=t._graphics)||e.rect(l.x,l.y,t._tileWidth,t._tileHeight),null==(s=t._graphics)||s.fill(),null==(n=t._graphics)||n.rect(l.x,l.y,t._tileWidth,t._tileHeight),null==(o=t._graphics)||o.stroke()}))),this._gridConsumer&&(this._graphics.strokeColor=r.GREEN,this._graphics.lineWidth=5,this._gridConsumer.forEach((function(i){var e,s,n,o,l=E._tile2Position(i);t._graphics.fillColor=new r(0,0,255,50),null==(e=t._graphics)||e.rect(l.x,l.y,t._tileWidth,t._tileHeight),null==(s=t._graphics)||s.fill(),null==(n=t._graphics)||n.rect(l.x,l.y,t._tileWidth,t._tileHeight),null==(o=t._graphics)||o.stroke()}))),this._isCleanBlock=!1}},o.createColorSpriteFrame=function(){for(var t=new C,i=new Uint8Array(4096),e=0;e<i.length;e+=4)i[e]=255,i[e+1]=255,i[e+2]=255,i[e+3]=255;t.reset({width:32,height:32,format:C.PixelFormat.RGBA8888}),t.uploadData(i);var s=new p;return s.texture=t,s},o.initUIControls=function(){var t,i,e,s,n,o,l,h,r,a,_,c,u,g,C,p,m,b,f,T,k,S,v,D,E,B,P,A,y,w;this._transform||(this._transform=this.node.getComponent(d)||this.node.addComponent(d)),this._btnShowGrid=null!=(t=null==(i=this.node)?void 0:i.getChildByName("btnShowGrid"))?t:null,this._btnLockGrid=null!=(e=null==(s=this.node)?void 0:s.getChildByName("btnLockGrid"))?e:null,this._btnSettingGrid=null!=(n=null==(o=this.node)?void 0:o.getChildByName("btnSettingGrid"))?n:null,this._btnDeleteGrid=null!=(l=null==(h=this.node)?void 0:h.getChildByName("btnDeleteGrid"))?l:null,this._btnPreview=null!=(r=null==(a=this.node)?void 0:a.getChildByName("btnPreview"))?r:null,this._btnSave=null!=(_=null==(c=this.node)?void 0:c.getChildByName("btnSave"))?_:null,this._btnClose=null!=(u=null==(g=this.node)?void 0:g.getChildByName("btnClose"))?u:null,this._panelSettingGrid=null!=(C=null==(p=this.node)?void 0:p.getChildByName("panelSettingGrid"))?C:null,this._panelSettingGrid&&(this._panelSettingGrid.active=!1),this._btnAddBlock=null!=(m=null==(b=this.node)?void 0:b.getChildByName("btnAddBlock"))?m:null,this._btnDeleteBlock=null!=(f=null==(T=this.node)?void 0:T.getChildByName("btnDeleteBlock"))?f:null,this._btnCleanBlock=null!=(k=null==(S=this.node)?void 0:S.getChildByName("btnCleanBlock"))?k:null,this._btnAddConsumer=null!=(v=null==(D=this.node)?void 0:D.getChildByName("btnAddConsumer"))?v:null,this._btnDeleteConsumer=null!=(E=null==(B=this.node)?void 0:B.getChildByName("btnDeleteConsumer"))?E:null,this._btnCleanConsumer=null!=(P=null==(A=this.node)?void 0:A.getChildByName("btnCleanConsumer"))?P:null,this._btnShowFps=null!=(y=null==(w=this.node)?void 0:w.getChildByName("btnShowFps"))?y:null},o.update=function(){this.panelHeightRatio===this.lastPanelHeightRatio&&this.panelFillColor.equals(this.lastPanelFillColor)&&this.panelStrokeColor.equals(this.lastPanelStrokeColor)&&this.showGrid==this.lastShowGrid&&this.gridRows==this.lastGridRows&&this.gridCols==this.lastGridCols&&this.gridFillColor.equals(this.lastGridFillColor)&&this.gridStrokeColor.equals(this.lastGridStrokeColor)&&this.gridLineWidth==this.lastGridLineWidth&&this._dragEndPos==this._lastDragEndPos&&!this._isDragging&&!this._isLockGrid||(this.updatePanelAppearance(),this.lastPanelHeightRatio=this.panelHeightRatio,this.lastPanelFillColor=this.panelFillColor.clone(),this.lastPanelStrokeColor=this.panelStrokeColor.clone(),this.lastShowGrid=this.showGrid,this.lastGridRows=this.gridRows,this.lastGridCols=this.gridCols,this.lastGridFillColor=this.gridFillColor.clone(),this.lastGridStrokeColor=this.gridStrokeColor.clone(),this.lastGridLineWidth=this.gridLineWidth,this._lastDragEndPos=this._dragEndPos)},o.onLoad=function(){var t=this;this._resizeHandler=function(){t.updatePanelAppearance()},m.on("canvas-resize",this._resizeHandler),this.node.active=!1,this.showGrid=this.node.active,this.initDebugPanel()},o.onEnable=function(){var t,i,e,s,n,o,l,r,d=this;H.on(P.EVENT_KEY_ALT_DOWN,this.onKeyAltDown,this),H.emit(P.EVENT_DEBUG_PANEL_ENABLED,!0),this.switchButtonText(this._btnShowGrid,this.showGrid,"",""),this.switchButtonText(this._btnLockGrid,this._isLockGrid,"",""),this.touchOn(),this.btnOff(),this.btnOn(),null==(t=this._btnClose)||t.off(b.EventType.TOUCH_END,this.onClose,this),null==(i=this._btnClose)||i.on(b.EventType.TOUCH_END,this.onClose,this);var a=null==(e=this._btnClose)?void 0:e.getComponent(f);a&&(a.enabled=!0,a.transition=f.Transition.NONE,a.transition=f.Transition.SPRITE);var _=v.load();this._dragStartPos=new h(_.sx,_.sy),this._dragEndPos=new h(_.ex,_.ey),this.gridRows=null!=(s=_.rows)?s:this.gridRows,this.gridCols=null!=(n=_.cols)?n:this.gridCols,this._gridWidth=null!=(o=_.width)?o:this._gridWidth,this._gridHeight=null!=(l=_.height)?l:this._gridHeight,this._tileWidth=this._gridWidth/this.gridCols,this._tileHeight=this._gridHeight/this.gridRows,this._gridBlock=[],_.matrix&&_.matrix.forEach((function(t,i){t.forEach((function(t,e){1==t&&d._gridBlock.push(new h(e,i))}))})),this._gridConsumer=null!=(r=_.consumer)?r:[];var c=0,u=0;c=this._dragStartPos.x>this._dragEndPos.x?this._dragEndPos.x:this._dragStartPos.x,u=this._dragStartPos.y>this._dragEndPos.y?this._dragEndPos.y:this._dragStartPos.y,E.setGrid(c,u,this.gridRows,this.gridCols,this._gridWidth,this._gridHeight,this._gridBlock)},o.onDisable=function(){H.emit(P.EVENT_DEBUG_PANEL_ENABLED,!1),H.targetOff(this),this.btnOff(),this.touchOff()},o.onDestroy=function(){this._resizeHandler&&(m.off("canvas-resize",this._resizeHandler),this._resizeHandler=null)},o.onEditor=function(){S.log("Edit button clicked!")},o.touchOn=function(){this.node.on(b.EventType.TOUCH_START,this.onTouchStart2,this),this.node.on(b.EventType.TOUCH_MOVE,this.onTouchMove2,this),this.node.on(b.EventType.TOUCH_END,this.onTouchEnd2,this),this.node.on(b.EventType.TOUCH_CANCEL,this.onTouchEnd2,this),this.node.on(b.EventType.MOUSE_MOVE,this.onTouchMove2,this)},o.touchOff=function(){this.node.off(b.EventType.TOUCH_START,this.onTouchStart2,this),this.node.off(b.EventType.TOUCH_MOVE,this.onTouchMove2,this),this.node.off(b.EventType.TOUCH_END,this.onTouchEnd2,this),this.node.off(b.EventType.TOUCH_CANCEL,this.onTouchEnd2,this),this.node.off(b.EventType.MOUSE_MOVE,this.onTouchMove2,this)},o.btnOn=function(){var t,i,e,s,n,o,l,h,r,d,a,_,c,u,g;null==(t=this._btnShowGrid)||t.on(b.EventType.TOUCH_START,this.onShowGrid,this),null==(i=this._btnLockGrid)||i.on(b.EventType.TOUCH_START,this.onLockGridStart,this),null==(e=this._btnLockGrid)||e.on(b.EventType.TOUCH_END,this.onLockGrid,this),null==(s=this._btnSettingGrid)||s.on(b.EventType.TOUCH_START,this.onSettingGrid,this),null==(n=this._btnDeleteGrid)||n.on(b.EventType.TOUCH_START,this.onDeleteGrid,this),null==(o=this._btnPreview)||o.on(b.EventType.TOUCH_START,this.onPreview,this),null==(l=this._btnSave)||l.on(b.EventType.TOUCH_START,this.onSave,this),null==(h=this._btnClose)||h.on(b.EventType.TOUCH_END,this.onClose,this),null==(r=this._btnAddBlock)||r.on(b.EventType.TOUCH_START,this.onAddBlock,this),null==(d=this._btnDeleteBlock)||d.on(b.EventType.TOUCH_START,this.onDeleteBlock,this),null==(a=this._btnCleanBlock)||a.on(b.EventType.TOUCH_START,this.onCleanBlock,this),null==(_=this._btnAddConsumer)||_.on(b.EventType.TOUCH_START,this.onAddConsumer,this),null==(c=this._btnDeleteConsumer)||c.on(b.EventType.TOUCH_START,this.onDeleteConsumer,this),null==(u=this._btnCleanConsumer)||u.on(b.EventType.TOUCH_START,this.onCleanConsumer,this),null==(g=this._btnShowFps)||g.on(b.EventType.TOUCH_START,this.onShowFps,this)},o.btnOff=function(){var t,i,e,s,n,o,l,h,r,d,a,_,c,u,g;null==(t=this._btnShowGrid)||t.off(b.EventType.TOUCH_START,this.onShowGrid,this),null==(i=this._btnLockGrid)||i.off(b.EventType.TOUCH_START,this.onLockGridStart,this),null==(e=this._btnLockGrid)||e.off(b.EventType.TOUCH_END,this.onLockGrid,this),null==(s=this._btnSettingGrid)||s.off(b.EventType.TOUCH_START,this.onSettingGrid,this),null==(n=this._btnDeleteGrid)||n.off(b.EventType.TOUCH_START,this.onDeleteGrid,this),null==(o=this._btnPreview)||o.off(b.EventType.TOUCH_START,this.onPreview,this),null==(l=this._btnSave)||l.off(b.EventType.TOUCH_START,this.onSave,this),null==(h=this._btnClose)||h.off(b.EventType.TOUCH_END,this.onClose,this),null==(r=this._btnAddBlock)||r.off(b.EventType.TOUCH_START,this.onAddBlock,this),null==(d=this._btnDeleteBlock)||d.off(b.EventType.TOUCH_START,this.onDeleteBlock,this),null==(a=this._btnCleanBlock)||a.off(b.EventType.TOUCH_START,this.onCleanBlock,this),null==(_=this._btnAddConsumer)||_.off(b.EventType.TOUCH_START,this.onAddConsumer,this),null==(c=this._btnDeleteConsumer)||c.off(b.EventType.TOUCH_START,this.onDeleteConsumer,this),null==(u=this._btnCleanConsumer)||u.off(b.EventType.TOUCH_START,this.onCleanConsumer,this),null==(g=this._btnShowFps)||g.off(b.EventType.TOUCH_START,this.onShowFps,this)},o.onKeyAltDown=function(t){this.isAltKeyDown=t,this.SpritePos&&(this.SpritePos.node.active=t),this.node.off(b.EventType.MOUSE_MOVE,this.onTouchMove2,this),t&&this.node.on(b.EventType.MOUSE_MOVE,this.onTouchMove2,this)},o.onTouchStart2=function(t){var i=this;if(this.showGrid&&(!this._isLockGrid||(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)&&!(this._isAddBlock&&this._isDeleteBlock&&this._isAddConsumer&&this._isDeleteConsumer))){this._isDragging=!0;var e=S.GetDesignResolutionSize(),s=L.pageIndex==B.LEFT?0:L.pageIndex-L.pageIndexLast>0?(L.pageIndex-B.MIDDLE)*e.width:-(L.pageIndex-B.MIDDLE)*e.width;if(this._isLockGrid&&(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)){var n=new h;if(t.getUILocation(n),n.add2f(s,0),n.x<this._dragStartPos.x&&n.y<this._dragStartPos.y||n.x>this._dragEndPos.x&&n.y>this._dragEndPos.y)return;var o=E._position2Tile(new u(n.x,n.y,0));if(o.x<0||o.y<0||o.x>=E.gridCols||o.y>=E.gridRows)return;var l=E._tile2Position(o);if(!this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)if(this._isAddBlock||!this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)if(this._isAddBlock||this._isDeleteBlock||!this._isAddConsumer||this._isDeleteConsumer){if(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||!this._isDeleteConsumer)return void S.log("onTouchStart2._isAddBlock:"+this._isAddBlock+" _isDeleteBlock:"+this._isDeleteBlock+" _isAddConsumer:"+this._isAddConsumer+" _isDeleteConsumer:"+this._isDeleteConsumer);this._gridConsumer.forEach((function(t,e){t.x===o.x&&t.y===o.y&&i._gridConsumer.splice(e,1)}))}else{this._gridConsumer.some((function(t){return t.x===o.x&&t.y===o.y}))||this._gridConsumer.push(o)}else this._gridBlock.forEach((function(t,e){t.equals(o)&&i._gridBlock.splice(e,1)}));else this._gridBlock.some((function(t){return t.equals(o)}))||this._gridBlock.push(o);S.log("onTouchStart2.blockPos"+n+" tile:"+o+" oriPos:"+l+" _gridBlock:"+this._gridBlock.length+" _gridConsumer:"+this._gridConsumer.length)}else t.getUILocation(this._dragStartPos),this._dragStartPos.add2f(s,0),this._dragEndPos=this._dragStartPos.clone(),this._lastDragEndPos=this._dragStartPos.clone(),S.log("onTouchStart2._dragStartPos:"+this._dragStartPos+" _dragEndPos:"+this._dragEndPos+" _lastDragEndPos:"+this._lastDragEndPos+" ")}},o.showPos=function(t){var i=S.GetDesignResolutionSize(),e=L.pageIndex==B.LEFT?0:L.pageIndex-L.pageIndexLast>0?(L.pageIndex-B.MIDDLE)*i.width:-(L.pageIndex-B.MIDDLE)*i.width,s=new h;t.getUILocation(s),s.add2f(e,0);var n=E._position2Tile(new u(s.x,s.y,0));S.log("showPos: "+n),this.SpritePos&&(this.SpritePos.node.setPosition(new u(s.x,s.y,0)),this.LabelPos.string="("+n.x+","+n.y+")")},o.onTouchMove2=function(t){var i=this;if(this.showGrid&&this.isAltKeyDown&&this.showPos(t),this.showGrid&&(!this._isLockGrid||(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)&&!(this._isAddBlock&&this._isDeleteBlock&&this._isAddConsumer&&this._isDeleteConsumer))){var e=S.GetDesignResolutionSize(),s=L.pageIndex==B.LEFT?0:L.pageIndex-L.pageIndexLast>0?(L.pageIndex-B.MIDDLE)*e.width:-(L.pageIndex-B.MIDDLE)*e.width;if(this._isLockGrid&&(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)){var n=new h;if(t.getUILocation(n),n.add2f(s,0),n.x<this._dragStartPos.x&&n.y<this._dragStartPos.y||n.x>this._dragEndPos.x&&n.y>this._dragEndPos.y)return;var o=E._position2Tile(new u(n.x,n.y,0));if(o.x<0||o.y<0||o.x>=E.gridCols||o.y>=E.gridRows)return;var l=E._tile2Position(o);if(!this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)if(this._isAddBlock||!this._isDeleteBlock||this._isAddConsumer||this._isDeleteConsumer)if(this._isAddBlock||this._isDeleteBlock||!this._isAddConsumer||this._isDeleteConsumer){if(this._isAddBlock||this._isDeleteBlock||this._isAddConsumer||!this._isDeleteConsumer)return void S.log("onTouchMove2._isAddBlock:"+this._isAddBlock+" _isDeleteBlock:"+this._isDeleteBlock+" _isAddConsumer:"+this._isAddConsumer+" _isDeleteConsumer:"+this._isDeleteConsumer);this._gridConsumer.forEach((function(t,e){t.x===o.x&&t.y===o.y&&i._gridConsumer.splice(e,1)}))}else{this._gridConsumer.some((function(t){return t.x===o.x&&t.y===o.y}))||this._gridConsumer.push(o)}else this._gridBlock.forEach((function(t,e){t.equals(o)&&i._gridBlock.splice(e,1)}));else this._gridBlock.some((function(t){return t.equals(o)}))||this._gridBlock.push(o);S.log("onTouchMove2.blockPos"+n+" oriPos:"+l+" tile:"+o+" _gridBlock:"+this._gridBlock.length+" _gridConsumer:"+this._gridConsumer.length)}else this._lastDragEndPos=this._dragEndPos.clone(),t.getUILocation(this._dragEndPos),this._dragEndPos.add2f(s,0)}},o.onTouchEnd2=function(t){!this.showGrid||this._isLockGrid&&(!this._isAddBlock&&!this._isDeleteBlock||this._isAddBlock&&this._isDeleteBlock||!this._isAddConsumer&&!this._isDeleteConsumer||this._isAddConsumer&&this._isDeleteConsumer)},o.onShowGrid=function(){if(this.showGrid=!this.showGrid,S.log(":"+this.showGrid+" "),this.switchButtonText(this._btnShowGrid,this.showGrid,"",""),this.showGrid){var t=h.ceil(this._dragStartPos,this._dragStartPos),i=h.ceil(this._dragEndPos,this._dragEndPos);t.equals(i)||(S.log("onShowGrid._dragStartPos:"+this._dragStartPos+" _dragEndPos:"+this._dragEndPos+" "),this._isLockGrid||(this._isLockGrid=!this._isLockGrid,S.log(":"+this._isLockGrid+" "),this.switchButtonText(this._btnLockGrid,this._isLockGrid,"","")))}},o.onLockGridStart=function(t){t.propagationStopped=!0},o.onLockGrid=function(){this._isDragging=this._isLockGrid,this._isLockGrid=!this._isLockGrid,S.log(":"+this._isLockGrid+" "),this.switchButtonText(this._btnLockGrid,this._isLockGrid,"","")},o.onSettingGrid=function(){var t;this._panelSettingGrid&&(this._panelSettingGrid.active=!(null!=(t=this._panelSettingGrid)&&t.active))},o.onAddBlockStart=function(t){t.propagationStopped=!0},o.onAddBlock=function(){var t;if(this._isLockGrid){var i;if(this._isAddBlock=!this._isAddBlock,null==(t=this._btnAddBlock)||t.off(b.EventType.TOUCH_START,this.onAddBlock,this),this._btnAddBlock.getComponent(f).enabled=!1,this._btnAddBlock.getComponent(f).interactable=!1,this._isAddBlock)this._isDeleteBlock=!1,null==(i=this._btnDeleteBlock)||i.on(b.EventType.TOUCH_START,this.onDeleteBlock,this),this._btnDeleteBlock.getComponent(f).enabled=!0,this._btnDeleteBlock.getComponent(f).interactable=!0,this._btnAddConsumer.getComponent(f).enabled=!1,this._btnAddConsumer.getComponent(f).interactable=!1,this._isAddConsumer=!1,this._btnDeleteConsumer.getComponent(f).enabled=!1,this._btnDeleteConsumer.getComponent(f).interactable=!1,this._isDeleteConsumer=!1;S.log(":"+this._isAddBlock+" ")}},o.onDeleteBlock=function(){var t;if(this._isLockGrid){var i;if(this._isDeleteBlock=!this._isDeleteBlock,null==(t=this._btnDeleteBlock)||t.off(b.EventType.TOUCH_START,this.onDeleteBlock,this),this._btnDeleteBlock.getComponent(f).enabled=!1,this._btnDeleteBlock.getComponent(f).interactable=!1,this._isDeleteBlock)this._isAddBlock=!1,null==(i=this._btnAddBlock)||i.on(b.EventType.TOUCH_START,this.onAddBlock,this),this._btnAddBlock.getComponent(f).enabled=!0,this._btnAddBlock.getComponent(f).interactable=!0,this._btnAddConsumer.getComponent(f).enabled=!1,this._btnAddConsumer.getComponent(f).interactable=!1,this._isAddConsumer=!1,this._btnDeleteConsumer.getComponent(f).enabled=!1,this._btnDeleteConsumer.getComponent(f).interactable=!1,this._isDeleteConsumer=!1;S.log(":"+this._isDeleteBlock+" ")}},o.onCleanBlock=function(){this._isLockGrid&&(this._gridBlock=[],this._isCleanBlock=!0,S.log(""))},o.onAddConsumer=function(){var t;if(this._isLockGrid){var i;if(this._isAddConsumer=!this._isAddConsumer,null==(t=this._btnAddConsumer)||t.off(b.EventType.TOUCH_START,this.onAddConsumer,this),this._btnAddConsumer.getComponent(f).enabled=!1,this._btnAddConsumer.getComponent(f).interactable=!1,this._isAddConsumer)this._isDeleteConsumer=!1,null==(i=this._btnDeleteConsumer)||i.on(b.EventType.TOUCH_START,this.onDeleteConsumer,this),this._btnDeleteConsumer.getComponent(f).enabled=!0,this._btnDeleteConsumer.getComponent(f).interactable=!0,this._btnAddBlock.getComponent(f).enabled=!1,this._btnAddBlock.getComponent(f).interactable=!1,this._isAddBlock=!1,this._btnDeleteBlock.getComponent(f).enabled=!1,this._btnDeleteBlock.getComponent(f).interactable=!1,this._isDeleteBlock=!1;S.log(":"+this._isAddConsumer+" ")}},o.onDeleteConsumer=function(){var t;if(this._isLockGrid){var i;if(this._isDeleteConsumer=!this._isDeleteConsumer,null==(t=this._btnDeleteConsumer)||t.off(b.EventType.TOUCH_START,this.onDeleteConsumer,this),this._btnDeleteConsumer.getComponent(f).enabled=!1,this._btnDeleteConsumer.getComponent(f).interactable=!1,this._isDeleteConsumer)this._isAddConsumer=!1,null==(i=this._btnAddConsumer)||i.on(b.EventType.TOUCH_START,this.onAddConsumer,this),this._btnAddConsumer.getComponent(f).enabled=!0,this._btnAddConsumer.getComponent(f).interactable=!0,this._btnAddBlock.getComponent(f).enabled=!1,this._btnAddBlock.getComponent(f).interactable=!1,this._isAddBlock=!1,this._btnDeleteBlock.getComponent(f).enabled=!1,this._btnDeleteBlock.getComponent(f).interactable=!1,this._isDeleteBlock=!1;S.log(":"+this._isDeleteConsumer+" ")}},o.onCleanConsumer=function(){this._isLockGrid&&(this._gridConsumer=[],this._isCleanConsumer=!0,S.log(""))},o.onChangeGrid=function(t,i){this.gridRows=t,this.gridCols=i,this._panelSettingGrid.active=!1,E.gridRows=t,E.gridCols=i,this.onSave(),this._isCleanBlock=!0},o.onSave=function(){if(this._isLockGrid){var t=0,i=0,e=0,s=0;this._dragStartPos.x>this._dragEndPos.x?(t=Math.floor(this._dragEndPos.x),e=Math.floor(this._dragStartPos.x)):(t=Math.floor(this._dragStartPos.x),e=Math.floor(this._dragEndPos.x)),this._dragStartPos.y>this._dragEndPos.y?(i=Math.floor(this._dragEndPos.y),s=Math.floor(this._dragStartPos.y)):(i=Math.floor(this._dragStartPos.y),s=Math.floor(this._dragEndPos.y)),this._gridWidth=Math.abs(t-e),this._gridHeight=Math.abs(i-s),this._tileWidth=this._gridWidth/this.gridCols,this._tileHeight=this._gridHeight/this.gridRows,E.setGrid(t,i,this.gridRows,this.gridCols,this._gridWidth,this._gridHeight,this._gridBlock),v.data={version:A.mapVersion,sx:t,sy:i,ex:e,ey:s,width:this._gridWidth,height:this._gridHeight,rows:this.gridRows,cols:this.gridCols,matrix:E.matrix,consumer:this._gridConsumer,lastUpdateTime:S.NowTimeStamp()},v.save(),S.log("")}},o.onDeleteGrid=function(){this._isLockGrid&&(this._lastDragEndPos=new h(0,0),this._dragEndPos=new h(0,0),this._dragStartPos=new h(0,0),S.log("._dragStartPos:"+this._dragStartPos+" _dragEndPos:"+this._dragEndPos+" _lastDragEndPos:"+this._lastDragEndPos+" "))},o.onClose=function(){S.log(""),this.node.active=!1},o.onPreview=function(){if(this._isLockGrid){var t;if(this._isPreview=!this._isPreview,S.log(""),!this._hall)if(this._hall=null==(t=this.node)||null==(t=t.parent)?void 0:t.getComponent(D),!this._hall)return;var i=T.randomRangeInt(1,118);D.addNpc(w,D.Hall_Area_Middle,"man"+("000"+i).slice(-3),"",-1,.5,[].concat(A.copyTileIn(),[new y(18,16)],A.copyTileOut()),!1,!1,!0),i=T.randomRangeInt(1,118),D.addNpc(w,D.Hall_Area_Middle,"man"+("000"+i).slice(-3),"",-1,.5,[].concat(A.copyTileIn(),[new y(0,49)],A.copyTileOut()),!1,!1,!0);var e=v.data.consumer.length,s=T.randomRangeInt(0,e-1),n=v.data.consumer[s],o=new y(n.x,n.y);i=T.randomRangeInt(1,118),D.addNpc(w,D.Hall_Area_Middle,"man"+("000"+i).slice(-3),"",-1,.5,[].concat(A.copyTileIn(),[o],A.copyTileOut()),!1,!1,!0)}},o.onShowFps=function(){this._isShowFps=!this._isShowFps,S.log(""),this._isShowFps?k.showStats():k.hideStats()},o.enableOtherButton=function(t){var i,e,s,n,o,l,h,r,d,a,_,c,u=null==(i=this._btnLockGrid)?void 0:i.getComponent(f),g=null==(e=this._btnSettingGrid)?void 0:e.getComponent(f),C=null==(s=this._btnDeleteGrid)?void 0:s.getComponent(f),p=null==(n=this._btnPreview)?void 0:n.getComponent(f),m=null==(o=this._btnSave)?void 0:o.getComponent(f),b=null==(l=this._btnAddBlock)?void 0:l.getComponent(f),T=null==(h=this._btnDeleteBlock)?void 0:h.getComponent(f),k=null==(r=this._btnCleanBlock)?void 0:r.getComponent(f),S=null==(d=this._btnAddConsumer)?void 0:d.getComponent(f),v=null==(a=this._btnDeleteConsumer)?void 0:a.getComponent(f),D=null==(_=this._btnCleanConsumer)?void 0:_.getComponent(f),E=null==(c=this._btnShowFps)?void 0:c.getComponent(f);u&&(u.enabled=t,u.interactable=t),g&&(g.enabled=t,g.interactable=t),C&&(C.enabled=t,C.interactable=t),p&&(p.enabled=t,p.interactable=t),m&&(m.enabled=t,m.interactable=t),b&&(b.enabled=t,b.interactable=t),T&&(T.enabled=t,T.interactable=t),k&&(k.enabled=t,k.interactable=t),S&&(S.enabled=t,S.interactable=t),v&&(v.enabled=t,v.interactable=t),D&&(D.enabled=t,D.interactable=t),E&&(E.enabled=t,E.interactable=t)},o.switchButtonText=function(t,i,e,s){var n;t&&null!=(n=t.getComponent(f))&&n.getComponentInChildren(g)&&(t.getComponent(f).getComponentInChildren(g).string=i?s:e)},i}(G)).prototype,"panelHeightRatio",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),j=i(K.prototype,"panelFillColor",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,0,0,100)}}),X=i(K.prototype,"panelStrokeColor",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,255,0,255)}}),Z=i(K.prototype,"panelLineWidth",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),J=i(K.prototype,"showGrid",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Q=i(K.prototype,"gridRows",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$=i(K.prototype,"gridCols",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),tt=i(K.prototype,"gridLineWidth",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),it=i(K.prototype,"gridFillColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,0,0,180)}}),et=i(K.prototype,"gridStrokeColor",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,0,0,180)}}),q=K))||q)||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCDefine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTileData.ts","./env","./TestUnitId.ts","./CCUtils.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCNative.ts","./CCPurchaseData.ts","./CCPropData.ts"],(function(E){var _,e,n,t,i,l,a,A,I,N,T,R,O,o,r,C,D,d,s,P,u,S,L,H,M,c,B,g,G,U,f,p,h,v,F,m,w,V,b,W,Y,K,y,x,J;return{setters:[function(E){_=E.createForOfIteratorHelperLoose},function(E){e=E.cclegacy,n=E._decorator,t=E.Vec3,i=E.sys,l=E.profiler},function(E){a=E.CCTileData},function(E){A=E.HTML5,I=E.NATIVE,N=E.ANDROID,T=E.IOS,R=E.MAC,O=E.WINDOWS,o=E.OHOS,r=E.OPEN_HARMONY,C=E.WECHAT,D=E.WECHAT_MINI_PROGRAM,d=E.BAIDU,s=E.XIAOMI,P=E.ALIPAY,u=E.TAOBAO,S=E.TAOBAO_MINIGAME,L=E.BYTEDANCE,H=E.OPPO,M=E.VIVO,c=E.HUAWEI,B=E.COCOSPLAY,g=E.EDITOR,G=E.EDITOR_NOT_IN_PREVIEW,U=E.PREVIEW,f=E.BUILD,p=E.TEST,h=E.DEBUG,v=E.DEV,F=E.MINIGAME,m=E.RUNTIME_BASED,w=E.SUPPORT_JIT,V=E.JSB},function(E){b=E.AdFormat},function(E){W=E.default},function(E){Y=E.CCPlayerData},function(E){K=E.default},function(E){y=E.default},function(E){x=E.CCPurchaseData},function(E){J=E.default}],execute:function(){var X,k;e._RF.push({},"02f064zn7VMeKymB/4D9BIf","CCDefine",void 0);var q=n.ccclass,Q=E("adTypeDefault",function(E){return E[E.ADTYPE_ADMOB=0]="ADTYPE_ADMOB",E[E.ADTYPE_TOPON=1]="ADTYPE_TOPON",E}({})),z=E("BuildingTypeId",function(E){return E[E.Hall_cash_register_level=10]="Hall_cash_register_level",E[E.Hall_cat_tree_level11=11]="Hall_cat_tree_level11",E[E.Hall_cushion_level12=12]="Hall_cushion_level12",E[E.Hall_cat_tree_level13=13]="Hall_cat_tree_level13",E[E.Hall_cushion_level14=14]="Hall_cushion_level14",E[E.Hall_cat_tree_level15=15]="Hall_cat_tree_level15",E[E.Hall_cushion_level16=16]="Hall_cushion_level16",E[E.Hall_souvenir_level=17]="Hall_souvenir_level",E[E.Hall_drink_level=18]="Hall_drink_level",E[E.Hall_aircondition_level=19]="Hall_aircondition_level",E[E.Hall_cat_tree_level20=20]="Hall_cat_tree_level20",E[E.Hall_cushion_level21=21]="Hall_cushion_level21",E[E.Hall_cat_tree_level22=22]="Hall_cat_tree_level22",E[E.Hall_cushion_level23=23]="Hall_cushion_level23",E[E.Hall_cat_tree_level24=24]="Hall_cat_tree_level24",E[E.Hall_cushion_level25=25]="Hall_cushion_level25",E[E.Hall_coffee_machine_level=26]="Hall_coffee_machine_level",E[E.Hall_dessert_level=27]="Hall_dessert_level",E[E.Hall_vase_level=28]="Hall_vase_level",E[E.Hall_speaker_level=29]="Hall_speaker_level",E[E.Hall_wifi_level=30]="Hall_wifi_level",E[E.Hall_door_level=31]="Hall_door_level",E[E.Hall_wallpaper_level=32]="Hall_wallpaper_level",E[E.Hall_floor_level=33]="Hall_floor_level",E[E.Hall_carpet_level=34]="Hall_carpet_level",E[E.Hall_wall_level=35]="Hall_wall_level",E[E.Hall_Right_Bar=36]="Hall_Right_Bar",E[E.Hall_Right_Stage=37]="Hall_Right_Stage",E[E.Hall_Right_Groomer_left=38]="Hall_Right_Groomer_left",E[E.Hall_Right_Groomer_right=39]="Hall_Right_Groomer_right",E[E.Hall_Right_Exercise_left=40]="Hall_Right_Exercise_left",E[E.Hall_Right_Exercise_right=41]="Hall_Right_Exercise_right",E[E.Hall_Right_Swing_left=42]="Hall_Right_Swing_left",E[E.Hall_Right_Swing_right=43]="Hall_Right_Swing_right",E[E.Hall_Left_BM_TaoQuanQuanTian=44]="Hall_Left_BM_TaoQuanQuanTian",E[E.Hall_Left_BM_DaDiS=45]="Hall_Left_BM_DaDiS",E[E.Hall_Left_BM_BaiBan=46]="Hall_Left_BM_BaiBan",E[E.Hall_Left_BM_PaoBJ=47]="Hall_Left_BM_PaoBJ",E[E.Hall_Left_BM_MuZhuang=48]="Hall_Left_BM_MuZhuang",E}({})),Z=(E("default",q("CCDefine")(((k=function(){function E(){}return E.checkEnvEnabled=function(){0==E.EnvEnabled.size&&(E.EnvEnabled.set(Z.HTML5,A),E.EnvEnabled.set(Z.NATIVE,I),E.EnvEnabled.set(Z.ANDROID,N),E.EnvEnabled.set(Z.IOS,T),E.EnvEnabled.set(Z.MAC,R),E.EnvEnabled.set(Z.WINDOWS,O),E.EnvEnabled.set(Z.OHOS,o),E.EnvEnabled.set(Z.OPEN_HARMONY,r),E.EnvEnabled.set(Z.WECHAT,C),E.EnvEnabled.set(Z.WECHAT_MINI_PROGRAM,D),E.EnvEnabled.set(Z.BAIDU,d),E.EnvEnabled.set(Z.XIAOMI,s),E.EnvEnabled.set(Z.ALIPAY,P),E.EnvEnabled.set(Z.TAOBAO,u),E.EnvEnabled.set(Z.TAOBAO_MINIGAME,S),E.EnvEnabled.set(Z.BYTEDANCE,L),E.EnvEnabled.set(Z.OPPO,H),E.EnvEnabled.set(Z.VIVO,M),E.EnvEnabled.set(Z.HUAWEI,c),E.EnvEnabled.set(Z.COCOSPLAY,B),E.EnvEnabled.set(Z.EDITOR,g),E.EnvEnabled.set(Z.EDITOR_NOT_IN_PREVIEW,G),E.EnvEnabled.set(Z.PREVIEW,U),E.EnvEnabled.set(Z.BUILD,f),E.EnvEnabled.set(Z.TEST,p),E.EnvEnabled.set(Z.DEBUG,h),E.EnvEnabled.set(Z.DEV,v),E.EnvEnabled.set(Z.MINIGAME,F),E.EnvEnabled.set(Z.RUNTIME_BASED,m),E.EnvEnabled.set(Z.SUPPORT_JIT,w),E.EnvEnabled.set(Z.JSB,V))},E.getEnvEnabled=function(E){return this.EnvEnabled.get(E)||!1},E.copyTiles=function(E){var _=[];return E.forEach((function(E){_.push(E.copy())})),_},E.copyTileIn=function(){return this.copyTiles(this.tileIn)},E.copyTileOut=function(){return this.copyTiles(this.tileOut)},E.getTileIdxFromFront=function(E){return this.tileFront.findIndex((function(_){return _.equals(E)}))},E.getTileByIdx=function(E){return this.tileFront[E]||null},E.getNextTileForFront=function(E){var _=this.tileFront.findIndex((function(_){return _.equals(E)}));return-1==_||_==this.tileFront.length-1?null:this.tileFront[_+1]},E.addTilesForBuilding=function(E,_){this.tileConsumer.set(E,_)},E.getTilesForBuilding=function(E){return this.tileConsumer.get(E)},E.getBuildingIdForTile=function(E){for(var e,n=_(this.tileConsumer);!(e=n()).done;){var t=e.value,i=t[0];if(t[1].some((function(_){return _.equals(E)})))return i}return 0},E.getBuildingIdForTilesRange=function(E){for(var e,n=_(this.tileConsumer);!(e=n()).done;){var t=e.value,i=t[0],l=t[1],a=Math.min(l[0].x,l[2].x),A=Math.max(l[1].x,l[3].x),I=Math.min(l[0].y,l[2].y),N=Math.max(l[1].y,l[3].y);if(E.x>=a&&E.x<=A&&E.y>=I&&E.y<=N)return i}return 0},E.getTilesForCatTree=function(E){return this.tileCatTree.get(E)},E.getCatTreeIdForTile=function(E){for(var e,n=_(this.tileCatTree);!(e=n()).done;){var t=e.value,i=t[0];if(t[1].some((function(_){return _.equals(E)})))return i}return 0},E.isMinimailistUser=function(){return this.appConfig.mu},E.init=function(){if(!i.isNative||y.initEad(E.NATIVE_MINISDK_AK,E.NATIVE_MINISDK_AI,E.NATIVE_MINISDK_XK,E.NATIVE_MINISDK_XS)){var _=Y.load();if(_.version!=E.profileVersion&&(_.version=E.profileVersion,_.name!=K.data.DefaultName&&(_.name=K.data.DefaultName),Y.save()),E.ENABLE_CHANNEL_TEST){var e=1e10;Y.data.money=e,Y.data.vip=e,Y.data.gold=e,Y.data.exp=e;J.iterator((function(_){Y.addPropCount(_.typeId,-Y.getPropCount(_.typeId)),_.typeId==E.PROP_MONEY_ID||_.typeId==E.PROP_VIP_ID||_.typeId==E.PROP_GOLD_ID||_.typeId==E.PROP_EXP_ID?Y.addPropCount(_.typeId,e):Y.addPropCount(_.typeId,1e4)}))}if(Y.setDebug(E.ENABLE_DEBUG_MODE),(E.ENABLE_PRODUCTION_MODE||E.ENABLE_CHANNEL_TEST)&&l.hideStats(),Y.setGameAccelerate(1),Y.resetNumOfBubbles(),Y.resetStaffLevelUsingInitial(),Y.resetSpecialNpcWorkingStatus(),Y.resetQuickRepairCushionTypeIdAndPos(),Y.setRewardTourGuideCustomNum(0),i.isNative){var n=x.load();if(n.version!=E.purchaseVersion){n.version=E.purchaseVersion;var t=x.save();W.log("ret: "+t),n=x.load()}}}},E.updateAppConfig=function(E){this.appConfig=JSON.parse(E),W.log("updateAppConfig: "+JSON.stringify(this.appConfig))},E.getAdMobUnitIdForBanner=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adMobUnitIdConfig.adUnitId[i.os][b.Banner])||""},E.getAdMobUnitIdForInterstitial=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adMobUnitIdConfig.adUnitId[i.os][b.Interstitial])||""},E.getAdMobUnitIdForRewarded=function(E){return this.ENABLE_DEBUG_MODE?"":W.random(this.adMobUnitIdConfig.adUnitId[i.os][b.Rewarded])||""},E.getAdMobUnitIdForRewardedInterstitial=function(E){return this.ENABLE_DEBUG_MODE?"":W.random(this.adMobUnitIdConfig.adUnitId[i.os][b.RewardedInterstitial])||""},E.getAdMobUnitIdForNative=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adMobUnitIdConfig.adUnitId[i.os][b.Native])||""},E.updateAdMobUnitIdConfig=function(E){this.adMobUnitIdConfig=JSON.parse(E),W.log("updateAdMobUnitIdConfig: "+JSON.stringify(this.adMobUnitIdConfig))},E.getTopOnUnitIdForBanner=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adTopOnConig[i.os][b.Banner.toString()])||""},E.getTopOnUnitIdForInterstitial=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adTopOnConig[i.os][b.Interstitial.toString()])||""},E.getTopOnUnitIdForRewarded=function(E){return W.random(this.adTopOnConig[i.os][b.Rewarded.toString()])||""},E.getTopOnUnitIdForRewardedInterstitial=function(E){return this.ENABLE_DEBUG_MODE?"":W.random(this.adTopOnConig[i.os][b.RewardedInterstitial.toString()])||""},E.getTopOnUnitIdForNative=function(){return this.ENABLE_DEBUG_MODE?"":W.random(this.adTopOnConig[i.os][b.Native.toString()])||""},E.updateTopOnConfig=function(E){this.adTopOnConig=JSON.parse(E),W.log("updateTopOnConfig: "+JSON.stringify(this.adTopOnConig))},E.getIapItemNum=function(){return this.iapConfig[i.os].length},E.getIapItemByIdx=function(E){return this.iapConfig[i.os][E]},E.getIapItemBySkuId=function(E){for(var e,n=_(this.iapConfig[i.os]);!(e=n()).done;){var t=e.value;if(t.productId==E)return t}return null},E.getIapProductIds=function(){var E,_=i.os;return E=this.iapConfig[_].map((function(E){return E.productId})).filter((function(E){return!!E})),W.log("getIapProductIds.skuIds["+E+"]"),E},E.updateIapConfig=function(E){this.iapConfig=JSON.parse(E),W.log("updateIapConfig: "+JSON.stringify(this.iapConfig))},E}()).appConfig={vn:"1.2.082202",vc:12082202,pu:"",aid:0,fug:!0,fua:!0,ee:{en:!0,sl:"@^@",sk:"qmPlus"},ep:!0,at:Q.ADTYPE_TOPON,gwid:"",mg:{t:1,a:2,m:14},ss:3,ssn:3,mu:!1},k.adTopOnConig={Android:{aid:"",ak:"",1:[],2:[],3:[],4:[],5:[]},iOS:{aid:"",ak:"",1:[],2:[],3:[],4:[],5:[]}},k.adMobUnitIdConfig={adUnitId:{Android:{1:[],2:[],3:[],4:[],5:[]},iOS:{1:[],2:[],3:[],4:[],5:[]}},weight:{Android:{1:1,2:1,3:1,4:1,5:1},iOS:{1:1,2:1,3:1,4:1,5:1}}},k.iapConfig={Android:[{id:101,type:0,bg:"shopItem1",name:"SHOP_ITEM_NAME1",desc:"",disRatio:0,disPrice:.99,reward:4e5,canPurchasedTimes:-1,productId:"money_2_099",eventName:"od_5"},{id:102,type:0,bg:"shopItem2",name:"SHOP_ITEM_NAME2",desc:"",disRatio:.6266,disPrice:1.49,reward:15e5,canPurchasedTimes:-1,productId:"money_2_149",eventName:"od_6"},{id:103,type:0,bg:"shopItem3",name:"SHOP_ITEM_NAME3",desc:"",disRatio:.7,disPrice:1.99,reward:25e5,canPurchasedTimes:-1,productId:"money_2_199",eventName:"od_7"},{id:104,type:1,bg:"shopItem4",name:"SHOP_ITEM_NAME4",desc:"SHOP_ITEM_DESC4",disRatio:.7504,disPrice:4.99,reward:0,canPurchasedTimes:1,productId:"money_2_499",eventName:"od_8"}],iOS:[{id:10001,type:0,bg:"shopItem1",name:"SHOP_ITEM_NAME1",desc:"",disRatio:0,disPrice:.99,reward:4e5,canPurchasedTimes:-1,productId:"money_2_099",eventName:"od_5"},{id:10002,type:0,bg:"shopItem2",name:"SHOP_ITEM_NAME2",desc:"",disRatio:.6266,disPrice:1.49,reward:15e5,canPurchasedTimes:-1,productId:"money_2_149",eventName:"od_6"},{id:10003,type:0,bg:"shopItem3",name:"SHOP_ITEM_NAME3",desc:"",disRatio:.7,disPrice:1.99,reward:25e5,canPurchasedTimes:-1,productId:"money_2_199",eventName:"od_7"},{id:10004,type:1,bg:"shopItem4",name:"SHOP_ITEM_NAME4",desc:"SHOP_ITEM_DESC4",disRatio:.7504,disPrice:4.99,reward:0,canPurchasedTimes:1,productId:"money_2_499",eventName:"od_8"}]},k.MINIGAME_LIST=[["1","buildingRight_popup_text28","buildingRight_gametext10","buildingRight_gametext11"],["2","buildingRight_popup_text16","buildingRight_gametext5","buildingRight_gametext6"],["3","buildingRight_popup_text17","buildingRight_gametext7","buildingRight_gametext8","buildingRight_gametext9"],["4","buildingRight_popup_text15","buildingRight_gametext2","buildingRight_gametext3","buildingRight_gametext4"]],k.ENABLE_PRODUCTION_MODE=!0,k.ENABLE_CHANNEL_TEST=(k.ENABLE_PRODUCTION_MODE,!1),k.ENABLE_CHANNEL_AREA=2,k.ENABLE_DEBUG_MODE=!k.ENABLE_PRODUCTION_MODE&&(k.ENABLE_CHANNEL_TEST,!0),k.ENABLE_TOPON_LOG=!!k.ENABLE_DEBUG_MODE,k.NATIVE_ENABLE_IN_APP_UPDATE=!k.ENABLE_PRODUCTION_MODE,k.NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING=!k.NATIVE_ENABLE_IN_APP_UPDATE,k.PROP_MONEY_ID=0,k.PROP_VIP_ID=1,k.PROP_EXP_ID=2,k.PROP_DRIEDFISH_ID=3,k.PROP_GOLD_ID=100,k.ENABLE_DEBUG_CAT_SPEED_RATIO=(k.ENABLE_PRODUCTION_MODE,1),k.ORIGIN_MINIGAME_NUM_OF_CHALLANGE=k.appConfig.mg.t,k.MINIGAME_AUDIO_BGM_ROOT="minigame/",k.MINIGAME_AUDIO_EFFECT_PREFIX=k.MINIGAME_AUDIO_BGM_ROOT+"effect/",k.LEFT_SCENE_EFFECT_ROOT="left/",k.ALLOW_GENERATE_SPECIAL_NPC=!1,k.ENABLE_DECORATION_AUTO_DRESS_UP=!0,k.ENABLE_TTF_CULLING_LOG=(k.ENABLE_DEBUG_MODE,!1),k.ADMOB_CACHE_REWARDED_MAX=1,k.ADMOB_CACHE_REWARDEDINTERSTITIALAD_MAX=0,k.NATIVE_PACKAGE_NAME="com.playcatgames.catcafe",k.NATIVE_CLASS_ROOT_PATH="com/ccminisdk/libccminisdk",k.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_APP="appConfig",k.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_ADMOBUNITID="adMobUnitIdConfig",k.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_TOPON="topOnConfig",k.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP="iapConfig",k.NATIVE_MINISDK_AK="3051988d-4d8a-4c",k.NATIVE_MINISDK_AI="a4-b4e7-f8a0849a",k.NATIVE_MINISDK_XK="wtf!are'u kidding?",k.NATIVE_MINISDK_XS=1,k.NATIVE_ENABLE_EAD=!0,k.NATIVE_PURCHASE_OBFUSCATED_KEY=[109,111,116,104,101,114,102,117,99,107,101,114],k.BACKUP_NEXT_TIME=6e5,k.ENABLE_DEBUG_GENERATE_NPC=(k.ENABLE_DEBUG_MODE,!0),k.ENABLE_DEBUG_GENERATE_CAT=(k.ENABLE_DEBUG_MODE,!0),k.ENABLE_DEBUG_CONSUMER_MONEY_COVERAGE_TESTING=(k.ENABLE_DEBUG_MODE,!1),k.ENABLE_DEBUG_NPC_ACCELERATE_FACTOR=(k.ENABLE_DEBUG_MODE,1),k.ENABLE_DEBUG_GENERATE_NPC_GUEST_RATIO=(k.ENABLE_DEBUG_MODE,0),k.ENABLE_DEBUG_GENERATE_NPC_CONSUMER_RATIO=(k.ENABLE_DEBUG_MODE,0),k.ENABLE_DEBUG_GENERATE_NPC_PLAYER_RATIO=(k.ENABLE_DEBUG_MODE,0),k.ENABLE_DEBUG_GENERATE_NPC_DELAY=(k.ENABLE_DEBUG_MODE,0),k.ENABLE_NEWBIE_GUIDE=(k.ENABLE_PRODUCTION_MODE,!0),k.ENABLE_NEWBIE_CONTINUE=(k.ENABLE_DEBUG_MODE,!1),k.ENABLE_NEWBIE_NPC_ABS_PATH="Canvas/PageView/view/content/Middle/SceneHall/",k.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP=33,k.ENABLE_GENERATE_NPC_RIGHT_SCENE_ONLY=!1,k.ENABLE_GENERATE_NPC_RIGHT_SCENE_RATIO=20,k.ENABLE_RIGHT_SCENE_PLAYTIME=60,k.REQ_BANNER=!1,k.DAILY_SPECIAL_TASK_COUNTDOWN=0,k.newbieAniMax=6,k.mapVersion=2,k.profileVersion=1,k.purchaseVersion=1,k.spineNpcPrefix="Spine_",k.spineNpcPrefixLength=k.spineNpcPrefix.length,k.fnTimeScaleUpInterval=.1,k.spineNpcScale=1.2,k.spineNpcWalkSpeed=.3,k.INFINITY_VEC3=new t(99999,0,0),k.queueCushion=new Map([[z.Hall_cushion_level12,[!1,!1]],[z.Hall_cushion_level14,[!1,!1]],[z.Hall_cushion_level16,[!1,!1]],[z.Hall_cushion_level21,[!1,!1]],[z.Hall_cushion_level23,[!1,!1]],[z.Hall_cushion_level25,[!1,!1]]]),k.queuePlayCat=new Map([[z.Hall_cushion_level12,[!1,!1]],[z.Hall_cushion_level14,[!1,!1]],[z.Hall_cushion_level16,[!1,!1]],[z.Hall_cushion_level21,[!1,!1]],[z.Hall_cushion_level23,[!1,!1]],[z.Hall_cushion_level25,[!1,!1]]]),k.queueBuildingRight=new Map([]),k.prepareNpcUnlockedExclude=[1001,1002,1003,1004],k.searchPathPointTryCount=100,k.searchPathPointRange=[-50,50],k.excludePathPoint=[new a(44,23),new a(45,23),new a(46,23)],k.EnvEnabled=new Map,k.tileIn=[new a(20,11),new a(26,11)],k.tileOut=[new a(26,12),new a(26,11),new a(28,11)],k.tileFront=[new a(18,16),new a(19,16),new a(20,16),new a(21,16),new a(22,16),new a(23,16),new a(24,16),new a(25,15),new a(26,15),new a(26,14),new a(26,13),new a(26,12),new a(25,11),new a(24,11),new a(23,11),new a(22,11)],k.tileFrontRight=[new a(45,31)],k.tileRightPlay=new Map([[z.Hall_Right_Stage,[new a(42,18),new a(48,18)]],[z.Hall_Right_Groomer_left,[new a(37,26)]],[z.Hall_Right_Groomer_right,[new a(52,26)]],[z.Hall_Right_Exercise_left,[new a(35,39)]],[z.Hall_Right_Exercise_right,[new a(55,39)]],[z.Hall_Right_Swing_left,[new a(35,49)]],[z.Hall_Right_Swing_right,[new a(55,49)]]]),k.buildingStageCatOffset=[[[-5,217],[35,143],[-43,163],[-5,100]],[[-47,143],[5,233],[50,161],[16,107],[16,50]],[[37,215]],[[7,75],[-55,127]],[[11,83],[-92,126],[-5,160],[92,211],[100,122]],[[4,112],[-57,172],[55,200],[0,256],[-100,70],[130,150]],[[-40,100],[0,166]],[[-20,37],[-30,167],[-30,105],[-82,87],[-150,147],[118,127]]],k.buildingGroomerCatOffset=new t(0,100,0),k.buildingExerciseCatOffset=new t(-5,56,0),k.buildingSwingCatOffset=new t(0,60,0),k.tileConsumer=new Map([[z.Hall_souvenir_level,[new a(0,15),new a(4,15),new a(0,16),new a(4,16)]],[z.Hall_drink_level,[new a(5,15),new a(9,15),new a(5,16),new a(9,16)]],[z.Hall_coffee_machine_level,[new a(1,43),new a(12,43),new a(1,49),new a(12,49)]],[z.Hall_dessert_level,[new a(16,43),new a(26,43),new a(16,49),new a(26,49)]]]),k.tileCatTree=new Map([[z.Hall_cushion_level12,[new a(2,25),new a(12,23)]],[z.Hall_cushion_level14,[new a(17,25),new a(27,23)]],[z.Hall_cushion_level16,[new a(2,33),new a(12,31)]],[z.Hall_cushion_level21,[new a(17,33),new a(27,31)]],[z.Hall_cushion_level23,[new a(2,41),new a(12,39)]],[z.Hall_cushion_level25,[new a(17,41),new a(27,39)]]]),X=k))||X),E("HALL_INDEX",function(E){return E[E.LEFT=0]="LEFT",E[E.MIDDLE=1]="MIDDLE",E[E.RIGHT=2]="RIGHT",E}({})),E("StaffType",function(E){return E[E.RECEPTION=1]="RECEPTION",E[E.CLEANER=2]="CLEANER",E[E.SERVER=3]="SERVER",E[E.SALER=4]="SALER",E[E.SECURITY=5]="SECURITY",E[E.REPAIRMAN=6]="REPAIRMAN",E[E.CASHIER=7]="CASHIER",E}({})),E("SpecialNpcType",function(E){return E[E.NONE=0]="NONE",E[E.NPCName2001=1]="NPCName2001",E[E.NPCName2002=2]="NPCName2002",E[E.NPCName2003=3]="NPCName2003",E[E.NPCName2004=4]="NPCName2004",E[E.NPCName2005=5]="NPCName2005",E[E.NPCName2006=6]="NPCName2006",E[E.NPCName2007=7]="NPCName2007",E}({})),E("MINIGAME_IDX",function(E){return E[E.BRIDGE=0]="BRIDGE",E[E.JUMPING_FUN=1]="JUMPING_FUN",E[E.DRAGONFLY=2]="DRAGONFLY",E[E.BUBBLE_PAWS=3]="BUBBLE_PAWS",E}({})),E("EVENT_TYPE",function(E){return E.LOADING_PROGRESS_UPDATE="LOADING_PROGRESS_UPDATE",E.ACTIVATE_LOGIN_BTN="ACTIVATE_LOGIN_BTN",E.DECORATION_BUY="DECORATION_BUY",E.DECORATION_DELIVERED="DRCORATION_DELIVERED",E.DECORATION_DELIVERING="DECORATION_DELIVERING",E.DECORATION_FILLMONEY="DECORATION_FILLMONEY",E.DECORATION_RIGHT_FILLMONEY="DECORATION_RIGHT_FILLMONEY",E.REFRESH_BUILDING="REFRESH_BUILDING",E.REFRESH_BUILDING_LEFT="REFRESH_BUILDING_LEFT",E.REFRESH_BUILDING_RIGHT="REFRESH_BUILDING_RIGHT",E.STAFF_SKILLS_RECOVERING="STAFF_SKILLS_RECOVERING",E.STAFF_FIRST_CLICKED="STAFF_FIRST_CLICKED",E.STAFF_UPGRADING="STAFF_UPGRADING",E.STAFF_ACCLERATOR="STAFF_ACCELERATOR",E.STAFF_FILLMONEY="STAFF_FILLMONEY",E.OUTSIDE_LEAFLET_REWARD="OUTSIDE_LEAFLET_REWARD",E.OUTSIDE_LEAFLET_UPGRADED="OUTSIDE_LEAFLET_UPGRADED",E.CAT_REFRESH="CAT_REFRESH",E.TAKE_DROPPED_MONEY="TAKE_DROPPED_MONEY",E.TAKE_DROPPED_VIP="TAKE_DROPPED_VIP",E.CATCH_SPECIAL_NPC="CATCH_SPECIAL_NPC",E.TRY_CATCH_THIEF="TRY_CATCH_THIEF",E.TRY_CATCH_BEGGER="TRY_CATCH_BEGGER",E.TRY_CATCH_MAGNETO="TRY_CATCH_MAGNETO",E.BEGGER_ENTER="BEGGER_ENTER",E.BEGGER_LEAVE="BEGGER_LEAVE",E.CAT_TREE_TAKE_DAMAGE="CAT_TREE_TAKE_DAMAGE",E.CAT_TREE_WAITTING_STAFF_REPAIR="CAT_TREE_WAITTING_STAFF_REPAIR",E.CAT_TREE_STAFF_REPAIRING="CAT_TREE_STAFF_REPAIRING",E.CAT_TREE_STAFF_REPAIRED="CAT_TREE_STAFF_REPAIRED",E.CAT_TREE_QUICK_REPAIR="CAT_TREE_QUICK_REPAIR",E.DROP_MONEY="DROP_MONEY",E.GENERATE_TOUR_NPC="GENERATE_TOUR_NPC",E.PRE_LEAVE="PRE_LEAVE",E.REFRESH_UI="REFRESH_UI",E.LEAFLET_NOT_ENOUGH="LEAFLET_NOT_ENOUGH",E.NUM_OF_CHALLANGE_UPDATE="NUM_OF_CHALLANGE_UPDATE",E.GENERATE_OUTSIDE_NPC="GENERATE_OUTSIDE_NPC",E.TREASURE_HUNT_UPDATE="TREASURE_HUNT_UPDATE",E.NPC_UNLOCKED="NPC_UNLOCKED",E.HOT_TASK_COMPLETED="HOT_TASK_COMPLETED",E.TASK_REFRESH="TASK_REFRESH",E.ACHIEVEMENT_REFRESH="ACHIEVEMENT_REFRESH",E.HIDE_PANEL="HIDE_PANEL",E.DAILY_SPECIAL_TASK_GERNERATED="DAILY_SPECIAL_TASK_GERNERATED",E.SKIP_NEWBIE_ANIMATION="SKIP_NEWBIE_ANIMATION",E.GAME_LOOP="GAME_LOOP",E.PLAY_CAT="PLAY_CAT",E.PLAY_CAT_RIGHT="PLAY_CAT_RIGHT",E.NEWBIE_GUIDE_SET_CLIPPINGNODE="NEWBIE_GUIDE_SET_CLIPPINGNODE",E.NEWBIE_GUIDE_ACTION_REFRESH="NEWBIE_GUIDE_ACTION_REFRESH",E.NEWBIE_GUIDE_TIPS_REFRESH="NEWBIE_GUIDE_TIPS_REFRESH",E.NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE="NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE",E.NEWBIE_GUIDE_ENABLE_BLOCK="NEWBIE_GUIDE_ENABLE_BLOCK",E.ACCELERATE_OFF="ACCELERATE_OFF",E.PUSH_EVENT="PUSH_EVENT",E.PURCHASE_EVENT="PURCHASE_EVENT",E.NEWBIE_GUIDE_STEP_EVENT="NEWBIE_GUIDE_STEP_EVENT",E.HOTTASK_EVENT="HOTTASK_EVENT",E.SHOP_REFRESH="SHOP_REFRESH",E.NEED_NOTIFY="NEED_NOTIFY",E.SHOP_PURCHASE_STATUS="SHOP_PURCHASE_STATUS",E.UPDATE_START="UPDATE_START",E.UPDATE_COMPLETED="UPDATE_COMPLETED",E.MINIGAME_REWARD_CHECK="MINIGAME_REWARD_CHECK",E.MINIGAME_NOT_ENOUGH_PANEL_CLOSE="MINIGAME_NOT_ENOUGH_PANEL_CLOSE",E.EVENT_KEY_CTRL_DOWN="EVENT_KEY_CTRL_DOWN",E.EVENT_KEY_ALT_DOWN="EVENT_KEY_ALT_DOWN",E.EVENT_DEBUG_PANEL_ENABLED="EVENT_DEBUG_PANEL_ENABLED",E.EVENT_MAIN_PAGE_TURNING="EVENT_MAIN_PAGE_TURNING",E.BEGIN_CONTACT="BEGIN_CONTACT",E.END_CONTACT="END_CONTACT",E.SHOW_TIMER="SHOW_TIMER",E.REFRESH_FOOTER="REFRESH_FOOTER",E.SHOW_RIGHT_MINIGAME_PANEL="SHOW_RIGHT_MINIGAME_PANEL",E.REFRESH_ACCELERATE_ANIMATION="REFRESH_ACCELERATE_ANIMATION",E.ENABLE_DELIVERING="ENABLE_DELIVERING",E.DELIVERING_TIMEOUT="DELIVERING_TIMEOUT",E.GOTO_NEXT="GOTO_NEXT",E.CLAN_FACILITY_REFRESH="CLAN_FACILITY_REFRESH",E.CLAN_MEMBER_REFRESH="CLAN_MEMBER_REFRESH",E.SEEK_SPONSOR_REFRESH="SEEK_SPONSOR_REFRESH",E.SEEK_SPONSOR_LUCKY_DRAW="SEEK_SPONSOR_LUCKY_DRAW",E.ENABLE_TRAIN="ENABLE_TRAIN",E.COLLECT_EXP="COLLECT_EXP",E.REFRESH_PROP_UI="REFRESH_PROP_UI",E.EVENT_AD_REWARD_EARN="EVENT_AD_REWARD_EARN",E.EVENT_AD_REWARD_DISMISSED="EVENT_AD_REWARD_DISMISSED",E.EVENT_AD_REWARD_CLAIMED="EVENT_AD_REWARD_CLAIMED",E.SHOW_LEFT_MATCH_PANEL="SHOW_LEFT_MATCH_PANEL",E.CHECK_GUIDE="CHECK_GUIDE",E}({})),E("EnvType",function(E){return E[E.HTML5=0]="HTML5",E[E.NATIVE=1]="NATIVE",E[E.ANDROID=2]="ANDROID",E[E.IOS=3]="IOS",E[E.MAC=4]="MAC",E[E.WINDOWS=5]="WINDOWS",E[E.OHOS=6]="OHOS",E[E.OPEN_HARMONY=7]="OPEN_HARMONY",E[E.WECHAT=8]="WECHAT",E[E.WECHAT_MINI_PROGRAM=9]="WECHAT_MINI_PROGRAM",E[E.BAIDU=10]="BAIDU",E[E.XIAOMI=11]="XIAOMI",E[E.ALIPAY=12]="ALIPAY",E[E.TAOBAO=13]="TAOBAO",E[E.TAOBAO_MINIGAME=14]="TAOBAO_MINIGAME",E[E.BYTEDANCE=15]="BYTEDANCE",E[E.OPPO=16]="OPPO",E[E.VIVO=17]="VIVO",E[E.HUAWEI=18]="HUAWEI",E[E.COCOSPLAY=19]="COCOSPLAY",E[E.EDITOR=20]="EDITOR",E[E.EDITOR_NOT_IN_PREVIEW=21]="EDITOR_NOT_IN_PREVIEW",E[E.PREVIEW=22]="PREVIEW",E[E.BUILD=23]="BUILD",E[E.TEST=24]="TEST",E[E.DEBUG=25]="DEBUG",E[E.DEV=26]="DEV",E[E.MINIGAME=27]="MINIGAME",E[E.RUNTIME_BASED=28]="RUNTIME_BASED",E[E.SUPPORT_JIT=29]="SUPPORT_JIT",E[E.JSB=30]="JSB",E}({})));e._RF.pop()}}}));

System.register("chunks:///_virtual/CCDelivery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCSceneHall.ts"],(function(e){var i,t,n,o,r,a,s,l,h,g,d,c,p,u,f,m,v,C;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Canvas,l=e.find,h=e.Sprite,g=e.Rect,d=e.UITransform,c=e.Size,p=e.RichText,u=e.tween,f=e.Vec3,m=e.Component},function(e){v=e.default},function(e){C=e.CCSceneHall}],execute:function(){var y,H,w,P,b,S,z,B,x;r._RF.push({},"a94e65j1N1PmIKUiTfdgrzd","CCDelivery",void 0);var A=a.ccclass,D=a.property;a.executeInEditMode,e("CCDelivery",(y=A("CCDelivery"),H=D({displayName:"typeId"}),w=D({displayName:"level"}),P=D({displayName:"originPos"}),y((z=i((S=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"typeId",z,o(i)),n(i,"level",B,o(i)),n(i,"originPos",x,o(i)),i.realHeight=0,i.autoAnimation=!1,i.selfHeight=0,i.spriteFrame=null,i.text="",i.imageAtlas="",i}t(i,e);var r=i.prototype;return r.onLoad=function(){var e,i;if(this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(s).enabled=!0),this.spriteFrame){var t=l("Background/SpriteFrame/SpriteItem",this.node);if(t){var n=t.getComponent(h);if(n){var o=this.spriteFrame.clone(),r=o.originalSize,a=new g(0,0,r.width,r.height);if(a.width>a.height){var u=a.width/100;a.width=100,a.height/=u}else{var f=a.height/100;a.width/=f,a.height=100}n.spriteFrame=o,t.getComponent(d).setContentSize(new c(a.width,a.height))}}}var m=l("Background/RichText",this.node);m&&v.setRichTextString(m.getComponent(p),this.text,this.imageAtlas),this.node.setPosition(this.originPos.clone()),this.selfHeight=null==(e=this.node.getComponent(d))?void 0:e.height,this.realHeight=(null==(i=C.topDelivery)?void 0:i.getComponent(d).height)||this.selfHeight,this.node.getComponent(d).height=this.realHeight;var y=this.realHeight-this.selfHeight;y>0&&(this.node.getChildByName("Background").getComponent(d).height=this.realHeight,this.node.getChildByName("Background").children.forEach((function(e){var i=e.position.clone();e.setPosition(i.x,i.y-y)}))),v.log("originPos: "+this.originPos.clone()+" selfHeight: "+this.selfHeight+" realHeight: "+this.realHeight+" diff: "+y),this.autoAnimation&&this.doAnimation()},r.doAnimation=function(){var e=this;this.node.position=this.originPos.clone(),u(this.node).to(.5,{position:new f(0,this.originPos.clone().y-this.realHeight,0)}).delay(3).to(.5,{position:this.originPos.clone()}).call((function(){e.node.active=!1,e.node.children&&e.node.removeAllChildren(),e.node.removeFromParent(),e.node.destroy()})).start()},i}(m)).prototype,"typeId",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=i(S.prototype,"level",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=i(S.prototype,"originPos",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(0,873,0)}}),b=S))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCDrawData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(t){var e,r,n,a,u,o,i,c,s;return{setters:[function(t){e=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator},function(t){o=t.default},function(t){i=t.default,c=t.CCResType},function(t){s=t.CCPlayerData}],execute:function(){var f,l;a._RF.push({},"9210fSyLMNBoI8rpUpDYAch","CCDrawData",void 0);var d=u.ccclass;u.property,t("default",d("CCDrawData")(((l=function(){function t(){}return t.addRow=function(t){var e=t.propItem[0];this._data[e]||(this._data[e]=[]),this._data[e].push(t)},t.sort=function(){Object.values(this._data).forEach((function(t){t.sort((function(t,e){return t.weight-e.weight}))}))},t.keys=function(){return Object.keys(this._data).map(Number)},t.getRowsByRowIdx=function(t,e,r,n,a){void 0===e&&(e=4),void 0===r&&(r=!0),void 0===n&&(n=!1),void 0===a&&(a=!1);var u=[];r?Object.values(this._data).forEach((function(t){t.length>0&&u.push(t[0])})):Object.values(this._data).forEach((function(t){var e;return(e=u).push.apply(e,t)})),n&&(u=u.filter((function(t){return s.getPropCount(t.propItem[0])>0}))),u.sort((function(t,e){return a?t.weight-e.weight:e.weight-t.weight}));var o=t*e;return Array.from({length:e},(function(t,e){var r;return null!=(r=u[o+e])?r:{}}))},t.totalKeys=function(){return Object.keys(this._data).length},t.totalRows=function(t,e){var r;return void 0===t&&(t=-1),void 0===e&&(e=!0),r=e?Object.values(this._data).filter((function(t){return t.length>0})).length:Object.values(this._data).reduce((function(t,e){return t+e.length}),0),-1===t||t<=0?r:Math.ceil(r/t)},t.totalWeight=function(t){if(void 0===t&&(t=-1),this._data[t]||(this._data[t]=[]),-1===t)return Object.values(this._data).reduce((function(t,e){return t+e.reduce((function(t,e){return t+e.weight}),0)}),0);var e=this._data[t];return e?e.reduce((function(t,e){return t+e.weight}),0):0},t.pick=function(t,e,r){void 0===t&&(t=-1),void 0===e&&(e=1),void 0===r&&(r=!0);var n=[];if(-1===t?Object.values(this._data).forEach((function(t){var e;return(e=n).push.apply(e,t)})):n=this._data[t]||[],0===n.length)return[];for(var a=n.slice(),u=[],i=0;i<e;i++){var c=a.reduce((function(t,e){return t+e.weight}),0);if(c<=0||0===a.length)break;for(var s=Math.random()*c,f=-1,l=0;l<a.length;l++)if((s-=a[l].weight)<0){f=l;break}if(!(f>=0))break;u.push(a[f]),r&&a.splice(f,1)}var d=Object.values(u).map((function(t){return[t.propItem[0],t.propItem[1]]})).join("|");return o.log("pick.propId["+t+"].count["+e+"].removePicked["+r+"] ... "+d),u},t.load=function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load({bundleName:"profile",relativePath:"draw",resType:c.TextAsset}).then(r(n().mark((function e(a){var u,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return u=o.csv2array(a.text,1,1),i=u.map(r(n().mark((function e(r){var a,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=parseInt(r["ID"],10))){e.next=4;break}return o.error("['ID'].nil"),e.abrupt("return");case 4:u={orderId:a,weight:parseInt(r[""],10)||0,propItem:o.splitArrNumber(r[""],"@")},t.addRow(u);case 6:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)}))));case 2:o.log("load.draw.total keys: "+t.totalKeys()+" rows: "+t.totalRows(-1,!1)+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},f=l))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCEffct.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCCacheRes.ts","./CCDelivery.ts","./CCBuildingData.ts","./CCFloatingBanner.ts","./CCSundryData.ts","./CCLingoData.ts","./CCSpineMoney.ts","./CCSpineQiehuan.ts","./CCSpineWantPlay.ts","./CCSpinePlayCat.ts","./CCSpineBubbles.ts","./CCSpineSaoba.ts","./CCSpineXiaoShou.ts","./CCSpineChouqi.ts","./CCSpinePohuai.ts","./CCSpinePohuaibo.ts","./CCSpineVip.ts","./CCFloatingTips.ts","./CCFullSize.ts","./CCSpineXiuli.ts","./CCSpineGuide.ts","./CCPanelOutside.ts","./CCBuildingRightData.ts","./CCSpineLoading.ts","./CCPopupManager.ts","./CCSceneHall.ts","./CCSpinePole.ts","./CCSpineSaHua.ts","./CCSpineHezuo.ts"],(function(n){var e,t,i,o,a,d,l,u,s,r,p,c,C,f,v,h,g,m,y,S,I,b,x,P,w,B,T,L,A,H,k,F,_,D,E,U,G,R;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){i=n.cclegacy,o=n._decorator,a=n.Vec3,d=n.Vec2,l=n.UITransform,u=n.Size,s=n.find},function(n){r=n.default},function(n){p=n.CCDelivery},function(n){c=n.default},function(n){C=n.CCFloatingBanner},function(n){f=n.default},function(n){v=n._T},function(n){h=n.CCSpineMoney},function(n){g=n.CCSpineQiehuan},function(n){m=n.CCSpineWantPlay},function(n){y=n.CCSpinePlayCat},function(n){S=n.CCSpineBubbles},function(n){I=n.CCSpineSaoba},function(n){b=n.CCSpineXiaoShou},function(n){x=n.CCSpineChouqi},function(n){P=n.CCSpinePohuai},function(n){w=n.CCSpinePohuaibo},function(n){B=n.CCSpineVip},function(n){T=n.CCFloatingTips},function(n){L=n.CCFullSize},function(n){A=n.CCSpineXiuli},function(n){H=n.CCSpineGuide},function(n){k=n.CCPanelOutside},function(n){F=n.default},function(n){_=n.CCSpineLoading},function(n){D=n.default},function(n){E=n.CCSceneHall},function(n){U=n.CCSpinePole},function(n){G=n.CCSpineSaHua},function(n){R=n.CCSpineHezuo}],execute:function(){var M;i._RF.push({},"02cc691NvpHjLHUE9MJMTyx","CCEffct",void 0);var N=o.ccclass;n("CCEffect",N("CCEffect")(M=function(){function n(){}return n.dropdownBuildingDelivered=function(n,e,t,i,o){n&&0!=e.length&&(2==e.split("@").length&&r.getInstantiate(e,p).then((function(e){var a,d;if(e&&(0==o?(a=c.getRowByTypeIdAndLevel(t,i),d=c.getTextureByTypeIdAndLevel(t,i)):(a=F.getRowByTypeIdAndLevel(t,i),d=F.getTextureByTypeIdAndLevel(t,i)),a)){var l=e;l.originPos=n.position.clone(),l.autoAnimation=!0,l.typeId=t,l.level=i,l.text=v(f._data.Building_Delivery,"<color=#79ec70>"+v(a.name)+"</color>"),l.imageAtlas="textures@Texture2D/Hall_UI/Hall_UI",d&&(l.spriteFrame=d.spriteFrame),n.parent.addChild(l.node),l.node.active=!0}})))},n.dropdownBuildingUnlocked=function(n,e,t,i,o){n&&0!=e.length&&(2==e.split("@").length&&r.getInstantiate(e,p).then((function(e){var a,d;if(e&&(0==o?(a=c.getRowByTypeIdAndLevel(t,i),d=c.getTextureByTypeIdAndLevel(t,i)):(a=F.getRowByTypeIdAndLevel(t,i),d=F.getTextureByTypeIdAndLevel(t,i)),a)){var l=e;l.originPos=n.position.clone(),l.autoAnimation=!0,l.typeId=t,l.level=i,l.text=v(f._data.Building_Unlock,"<color=#79ec70>"+v(a.name)+"</color>"),l.imageAtlas="textures@Texture2D/Hall_UI/Hall_UI",d&&(l.spriteFrame=d.spriteFrame),n.parent.addChild(l.node),l.node.active=!0}})))},n.dropSpineMoney=function(n,e,t,i,o,d,l,u){(void 0===o&&(o=0),void 0===d&&(d=0),void 0===l&&(l=0),void 0===u&&(u=null),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,h).then((function(e){if(e){var s=e;s.node.name="spineMoney",s.money=o,s.fnPressed=u,s.animationEndPos=i,n.addChild(s.node),s.node.position=t.clone().add(new a(d,l,0)),s.enableSpine(!0)}})))},n.dropSpineVip=function(n,e,t,i,o,d,l,u){(void 0===o&&(o=0),void 0===d&&(d=0),void 0===l&&(l=0),void 0===u&&(u=null),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,B).then((function(e){if(e){var s=e;s.node.name="spineVip",s.vip=o,s.fnPressed=u,s.animationEndPos=i,n.addChild(s.node),s.node.position=t.clone().add(new a(d,l,0))}})))},n.dropSpineSaoba=function(n,e,t,i,o,d,l){(void 0===o&&(o=0),void 0===d&&(d=0),void 0===l&&(l=null),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,I).then((function(e){if(e){var u=e;u.node.name="spineSaoba",u.fnPressed=l,u.animationEndPos=i,n.addChild(u.node),u.node.position=t.clone().add(new a(o,d,0))}})))},n.clickHand=function(n,e,t,i,o,a){(void 0===i&&(i=new d(0,0)),void 0===o&&(o=null),void 0===a&&(a=!0),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,b).then((function(e){if(e){var d=e;d.node.name="spineXiaoshou",d.moveable=a,n.addChild(d.node),d.node.position=t.clone().add3f(i?i.x:0,i?i.y:0,0),o&&o(d)}})))},n.wantPlay=function(n,e,t,i,o,a,l){(void 0===o&&(o=0),void 0===a&&(a=!1),void 0===l&&(l=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,m).then((function(e){if(e){var d=e;d.node.name="spineWantPlay",d.catId=o,d.freePos=i,d.scaleEnable=!1,d.isNotExists=a,n.addChild(d.node),d.node.position=t.clone().add3f(l?l.x:0,l?l.y:0,0)}})))},n.chouqi=function(n,e,t,i,o){(void 0===i&&(i=null),void 0===o&&(o=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,x).then((function(e){if(e){var a=e;a.node.name="spineChouqi",n.addChild(a.node),a.node.position=t.clone().add3f(o?o.x:0,o?o.y:0,0),i&&i(a)}})))},n.pohuai=function(n,e,t,i,o,a,l){(void 0===a&&(a=new d(0,0)),void 0===l&&(l=null),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,P).then((function(e){if(e){var d=e;d.node.name="spinePohuai"+i.toString(),n.addChild(d.node),d.node.position=o.clone().add3f(a?a.x:0,a?a.y:0,0),d.cushionTypeId=t,d.brokenPos=i,l&&l(d)}})))},n.pohuaibo=function(n,e,t,i,o){(void 0===i&&(i=null),void 0===o&&(o=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,w).then((function(e){if(e){var a=e;a.node.name="spinePohuaibo",n.addChild(a.node),a.node.position=t.clone().add3f(o?o.x:0,o?o.y:0,0),i&&i(a)}})))},n.xiuli=function(n,e,t,i,o,a,l,u,s){(void 0===l&&(l=null),void 0===u&&(u=null),void 0===s&&(s=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,A).then((function(e){if(e){var d=e;d.node.name="spineXiuli"+a,d.fnComplete=u,n.addChild(d.node),d.node.position=o.clone().add3f(s?s.x:0,s?s.y:0,0),d.cushionTypeId=t,d.brokenPos=i,l&&l()}})))},n.qiehuan=function(n,e,t,i,o,a){(void 0===o&&(o=null),void 0===a&&(a=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,g).then((function(e){if(e){var d=e;d.node.name="spineQiehuan"+i,d.fnComplete=o,n.addChild(d.node),d.node.position=t.clone().add3f(a?a.x:0,a?a.y:0,0)}})))},n.playCat=function(n,e,t,i,o,a,l){(void 0===o&&(o=0),void 0===a&&(a=[]),void 0===l&&(l=new d(0,0)),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,y).then((function(e){if(e){var d=e;d.node.name="spinePlayCat"+i,d.catId=o,d.freePos=i,d.actionCustom=a,n.addChild(d.node),d.node.position=t.clone().add3f(l?l.x:0,l?l.y:0,0)}})))},n.toast=function(n,e,t,i){(void 0===t&&(t=""),void 0===i&&(i=""),n&&0!=e.length)&&(2==e.split("@").length&&r.getInstantiate(e,C).then((function(e){if(e){var o=e;o.text=t,o.imageAtlas=i,n.addChild(o.node)}})))},n.floatingTips=function(n,e,t,i,o,d,s,p){var c,C;if((void 0===i&&(i=0),void 0===o&&(o=0),void 0===d&&(d=""),void 0===s&&(s=""),void 0===p&&(p=null),n&&0!=e.length)&&2==e.split("@").length){var f=null==n?void 0:n.getComponent(l);if(f){var v=(null==n||null==(c=n.getComponent(L))?void 0:c.designWidth)||f.width,h=(null==n||null==(C=n.getComponent(L))?void 0:C.designHeight)||f.height,g=new u(v,h);r.getInstantiate(e,T).then((function(e){if(e){var l=e;l.text=d,l.imageAtlas=s,l.fnComplete=p,n.addChild(l.node),l.node.position=new a(t.x+i-.5*g.width,t.y+o+20-.5*g.height,0)}}))}}},n.bubbles=function(n,e,t,i,o,a,l){var u;if((void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a=0),void 0===l&&(l=new d(0,0)),n&&0!=e.length)&&2==e.split("@").length){var s=(null==(u=n.getChildByName("spineBubbles"))?void 0:u.getComponent(S))||null;s||r.getInstantiate(e,S).then((function(e){if(e){var d=e;d.name="spineBubbles",d.text=i,d.imageAtlas=o,d.bubbleType=a,n.addChild(d.node),d.node.position=t.clone().add3f(l?l.x:0,l?l.y:0,0)}}))}},n.guide=function(n,e,t,i,o,a){var d;if((void 0===i&&(i=!0),void 0===o&&(o=0),void 0===a&&(a=0),n&&0!=e.length)&&(2==e.split("@").length&&(!i||E.canGenerateNpcByUnlockedPreProb(!0)))){var l=(null==(d=n.getChildByName("spineGuide"))?void 0:d.getComponent(H))||null;if(l){if(l.node.active)return;return l.currentGuideType=t,void(l.node.active=!0)}r.getInstantiate(e,H).then((function(e){if(e){var i=e;i.name="spineGuide",n.addChild(i.node),i.currentGuideType=t,i.typeId=o,i.level=a,i.node.active=!0}}))}},n.outside=function(){var n=e(t().mark((function n(e,i){var o,a,d,l;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&0!=i.length){n.next=2;break}return n.abrupt("return",null);case 2:if(2==i.split("@").length){n.next=5;break}return n.abrupt("return",null);case 5:if(!(a=(null==(o=e.getChildByName("outside"))?void 0:o.getComponent(k))||null)){n.next=9;break}return a.node.active=!0,n.abrupt("return",a);case 9:return n.next=11,r.getInstantiate(i,k);case 11:if(d=n.sent){n.next=14;break}return n.abrupt("return",null);case 14:return(l=d).name="outside",e.addChild(l.node),l.node.active=!0,n.abrupt("return",d);case 19:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),n.showPole=function(n,e,t,i,o){var a;if((void 0===o&&(o=null),n&&0!=e.length)&&2==e.split("@").length){var d="spinePole"+t,l=(null==(a=n.getChildByName(d))?void 0:a.getComponent(U))||null;if(l)return l.node.active=!0,l.reset(),l.startGrowUp(),l.fnCompleted=o,l.node.position=i.clone(),l;r.getInstantiate(e,U).then((function(e){if(e){var t=e;t.node.name=d,t.fnCompleted=o,n.addChild(t.node),t.node.position=i.clone()}}))}},n.sahua=function(n,e,t){return n&&0!=e.length?2!=e.split("@").length?null:void r.getInstantiate(e,G).then((function(e){if(e){var i=e;i.name="sahua",n.addChild(i.node),i.node.position=t.clone(),i.node.active=!0}})):null},n.hezuo=function(n,e,t,i,o,a){var d;if(void 0===i&&(i=[]),void 0===o&&(o=null),void 0===a&&(a=null),!n||0==e.length)return null;if(2!=e.split("@").length)return null;var l="spineHezuo",u=(null==(d=n.getChildByName(l))?void 0:d.getComponent(R))||null;if(u)return u.reset(),u.node.position=t.clone(),u.rewardIds=i,u.fnFirstCompleted=o,u.fnCompleted=a,u.node.active=!0,u;r.getInstantiate(e,R).then((function(e){e&&((u=e).name=l,u.node.position=t.clone(),u.rewardIds=i,u.fnFirstCompleted=o,u.fnCompleted=a,n.addChild(u.node))}))},n.showLoading=function(){var n=e(t().mark((function n(e,i){var o,a,d,l;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===i&&(i=null),o=s("spineLoading",D.container)){n.next=13;break}return"textures@prefabs/spineLoading",n.next=6,r.getInstantiate("textures@prefabs/spineLoading",_);case 6:if(d=n.sent){n.next=9;break}return n.abrupt("return",null);case 9:a=d,o.name="CCSpineLoading",(l=s("Canvas"))&&l.addChild(o);case 13:return(a=o.getComponent(_))||(a=o.addComponent(_)),a.fnWaiting=e,a.fnCaller=i,n.next=19,a.doAnimation(a);case 19:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),n}())||M);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCError.ts",["cc"],(function(e){var n,t,r,o,i,a,d,l,c,p,s,C,g,m,v,h,u,w;return{setters:[function(e){n=e.cclegacy,t=e._decorator,r=e.ImageAsset,o=e.Texture2D,i=e.SpriteFrame,a=e.Node,d=e.UITransform,l=e.view,c=e.size,p=e.v3,s=e.BlockInputEvents,C=e.Sprite,g=e.Color,m=e.Label,v=e.v2,h=e.Button,u=e.NodeEventType,w=e.director}],execute:function(){var f;n._RF.push({},"f1cefv9eitA+pmXCDvDYV6F","CCError",void 0);var E=t.ccclass;t.property,e("default",E("CCError")(f=function(){function e(){}e.init=function(){};var n=e.prototype;return n.createSpriteFrame=function(e,n){for(var t=e.height,a=e.width,d=n,l=new Uint8Array(t*a*4),c=0;c<l.byteLength/4;++c)l[4*c+0]=d.r,l[4*c+1]=d.g,l[4*c+2]=d.b,l[4*c+3]=d.a;var p=new r;p.reset({_data:l,_compressed:!1,width:a,height:t,format:o.PixelFormat.RGBA8888});var s=new o;s.image=p;var C=new i;return C.texture=s,C.packable=!1,C},n.createErrorDialog=function(e,n,t){var r=new a("ErrorDialog"),o=r.addComponent(d),i=l.getVisibleSize(),f=c(i.width,i.height);o.contentSize=f,r.setPosition(p(0,0)),r.addComponent(s);var E=new a("Background");E.addComponent(d).contentSize=f;var A=E.addComponent(C);A.sizeMode=C.SizeMode.CUSTOM,A.spriteFrame=this.createSpriteFrame(c(300,200),new g(255,255,255,255)),E.parent=r;var S=new a("content"),z=S.addComponent(d),F=S.addComponent(m);F.string=e,F.overflow=m.Overflow.CLAMP,F.horizontalAlign=m.HorizontalAlign.LEFT,F.verticalAlign=m.VerticalAlign.TOP,F.enableWrapText=!0,z.contentSize=c(.85*i.width,.7*i.height),F.color=new g(0,0,0,255),F.fontSize=24,S.getComponent(d).anchorPoint=v(.5,.5),S.position=p(0,0),S.parent=r;var T=new a("ConfirmBtn");T.addComponent(d).contentSize=c(100,40),T.addComponent(C).spriteFrame=this.createSpriteFrame(c(100,40),new g(0,255,0,255));T.addComponent(h);var y=new a("Label"),N=y.addComponent(m);N.string="",N.horizontalAlign=m.HorizontalAlign.CENTER,N.verticalAlign=m.VerticalAlign.CENTER,y.parent=T,T.position=p(-150,-f.height/2+50),T.parent=r;var b=new a("CancelBtn");b.addComponent(d).contentSize=c(100,40),b.addComponent(C).spriteFrame=this.createSpriteFrame(c(100,40),new g(128,128,128,255));b.addComponent(h);var _=new a("Label"),B=_.addComponent(m);return B.string="",B.horizontalAlign=m.HorizontalAlign.CENTER,B.verticalAlign=m.VerticalAlign.CENTER,_.parent=b,b.position=p(150,-f.height/2+50),b.parent=r,b.on(u.TOUCH_END,(function(){null==t||t(),r.destroy()})),T.on(u.TOUCH_END,(function(){null==n||n(),r.destroy()})),w.getScene().getChildByName("Canvas").addChild(r),r},e}())||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,c=t._decorator,i=t.EventTarget}],execute:function(){var s,o;e._RF.push({},"db3f0zFs9tGVLL1RBKlP5pj","CCEvent",void 0);var r=c.ccclass;c.property,t("CCEvent",r("CCEvent")(((o=function(t){n(c,t);var e=c.prototype;function c(){return t.call(this)||this}return e.start=function(){},e.update=function(t){},c.getInstance=function(){return this.instance||(this.instance=new c),this.instance},c.on=function(t,n,e){this.getInstance().on(t,n,e)},c.off=function(t){this.getInstance().off(t)},c.targetOff=function(t){this.getInstance().targetOff(t)},c.emit=function(t){for(var n,e=arguments.length,c=new Array(e>1?e-1:0),i=1;i<e;i++)c[i-1]=arguments[i];(n=this.getInstance()).emit.apply(n,[t].concat(c))},c}(i)).instance=void 0,s=o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCEventData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,r,a,u,c,o,s;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator},function(t){c=t.default},function(t){o=t.default,s=t.CCResType}],execute:function(){var i,d;a._RF.push({},"fcd1daYQSpKg5t6Etaamlfc","CCEventData",void 0);var f=u.ccclass;u.property,t("default",f("CCEventData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.typeId]=t},t.keys=function(){return Object.values(this._data).map((function(t){return t.typeId}))},t.totalRows=function(){return Object.keys(this._data).length},t.totalWatchedCount=function(){var t=0;return Object.values(this._data).forEach((function(e){t+=e.needWatchAdCount})),t},t.getMaxCount=function(){var t=0;return Object.values(this._data).forEach((function(e){e.needWatchAdCount>t&&(t=e.needWatchAdCount)})),t},t.getRowsByTypeId=function(t){return this._data[t]||null},t.iterator=function(t){Object.values(this._data).forEach((function(e){t(e)}))},t.load=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.load({bundleName:"profile",relativePath:"Events",resType:s.TextAsset}).then(n(r().mark((function e(a){var u,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return u=c.csv2array(a.text,1,1),o=u.map(n(r().mark((function e(n){var a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=parseInt(n[""],10))){e.next=4;break}return c.error("[''].nil"),e.abrupt("return");case 4:u={typeId:a,needWatchAdCount:parseInt(n[""],10)||0,rewardPropIdRange:c.splitArrNumber(n[""]||"","@"),rewardNumRange:c.splitArrNumber(n[""]||"","@")},t.addRow(u);case 6:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(o);case 6:case"end":return e.stop()}}),e)}))));case 2:c.log("load.event.total rows: "+t.totalRows()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},i=d))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCEventNpcData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,r,a,s,c,u,o;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator},function(t){c=t.default},function(t){u=t.default,o=t.CCResType}],execute:function(){var i,p;a._RF.push({},"310de8IgZpMqoFQixNOPc7v","CCEventNpcData",void 0);var d=s.ccclass;s.property,t("default",d("CCEventNpcData")(((p=function(){function t(){}return t.addRow=function(t){this._data[t.tagId]=t},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.getRowsByTagId=function(t){var e;return null!=(e=this._data[t])?e:{}},t.getEventTypes=function(){var t=Object.values(this._data).map((function(t){return t.eventType}));return Array.from(new Set(t))},t.iterator=function(t){Object.values(this._data).forEach((function(e){t(e)}))},t.load=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load({bundleName:"profile",relativePath:"eventnpc",resType:o.TextAsset}).then(n(r().mark((function e(a){var s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return s=c.csv2array(a.text,1,1),u=s.map(n(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ID){e.next=3;break}return c.error("['ID'].nil"),e.abrupt("return");case 3:a={tagId:parseInt(n.ID,10),resId:n["ID"],name:n["ID"],appearLimit:parseInt(n[""],10),needVip:parseInt(n["VIP"],10),needBuildingId:parseInt(n[""],10),eventType:parseInt(n["12"],10),desc:n[""],intro1:n["1"],intro2:n["2"]},t.addRow(a);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(u);case 6:case"end":return e.stop()}}),e)}))));case 2:c.log("load.eventnpc.total rows: "+t.totalKeys()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},i=p))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCFacadeData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPlayerData.ts","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var t,a,r,n,s,c,o,u,i;return{setters:[function(e){t=e.createClass,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e._decorator},function(e){c=e.CCPlayerData},function(e){o=e.default},function(e){u=e.default,i=e.CCResType}],execute:function(){var l,d;n._RF.push({},"c829bcSGdRA4YW50+k5ok3o","CCFacadeData",void 0);var f=s.ccclass,p=(s.property,e("FacadeStatus",function(e){return e[e.COMPLETED=0]="COMPLETED",e[e.CANNOT_UPGRADE=1]="CANNOT_UPGRADE",e[e.CAN_UPGRADE=2]="CAN_UPGRADE",e}({})));e("default",f("CCFacadeData")(((d=function(){function e(){}return e.addRow=function(e){this._data[e.level]=e},e.keys=function(){return Object.keys(this._data).map((function(e){return parseInt(e,10)}))},e.totalKeys=function(){return Object.keys(this._data).length},e.getRowsByLevel=function(e){return this._data[e]},e.iterator=function(e){Object.values(this._data).forEach((function(t){t.forEach(e)}))},e.getFacadeStatus=function(e){var t=this.getRowsByLevel(e);if(!t)return p.CANNOT_UPGRADE;var a=c.getOutsideProcess(e),r=c.data.money,n=c.data.vip;return t.level>0&&t.level<=a.level?p.COMPLETED:t.needMoney>=0&&t.needMoney<=r||t.needVip>=0&&t.needVip<=n?p.CAN_UPGRADE:p.CANNOT_UPGRADE},e.load=function(){var t=a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.load({bundleName:"profile",relativePath:"facade",resType:i.TextAsset}).then(a(r().mark((function t(n){var s,c;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return s=o.csv2array(n.text,1,1),c=s.map(a(r().mark((function t(a){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a[""]){t.next=3;break}return o.error("[''].nil"),t.abrupt("return");case 3:n={level:parseInt(a[""],10),name:a[""],desc:a[""],needMoney:parseInt(a[""],10),needVip:parseInt(a["VIP"],10),minTimeIntervalForNpcAppear:parseFloat(a[""]),maxTimeIntervalForNpcAppear:parseFloat(a[""]),restoreTimeForflyers:parseInt(a[""],10)},e.addRow(n);case 5:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(c);case 6:case"end":return t.stop()}}),t)}))));case 2:o.log("load.facade.total rows: "+e.totalKeys()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},l=d))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCFadeLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,a,i,r;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,a=o.UIOpacity,i=o.tween,r=o.Label}],execute:function(){var l;e._RF.push({},"1cadfMMKoNNI7yZboo3Y9QR","CCFadeLabel",void 0);var c=n.ccclass;n.property,o("CCFadeLabel",c("CCFadeLabel")(l=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n.onLoad=function(){o.prototype.onLoad&&o.prototype.onLoad.call(this),this.getComponent(a)||this.addComponent(a)},n.onEnable=function(){o.prototype.onEnable&&o.prototype.onEnable.call(this),this.doAnimation()},n.onDisable=function(){this.unscheduleAllCallbacks(),o.prototype.onDisable&&o.prototype.onDisable.call(this)},n.doAnimation=function(){i(this.node.getComponent(a)).repeatForever(i().to(1,{opacity:0}).to(1,{opacity:255})).start()},e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCFiles.ts",["cc","./CCUtils.ts","./CCNative.ts","./CCDefine.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator},null,null,null],execute:function(){var r,i;e._RF.push({},"57e18w/hQJM1JFj18LJCcNP","CCFiles",void 0);var u=n.ccclass;t("CCFOLDER_TYPE",function(t){return t.CACHE="/Caches",t}({})),t("default",u("CCFiles")(((i=function(){function t(){}return t.getWritablePath=function(t,e,n){return[!1,"",""]},t.writeStringToFile=function(t,e){return!1},t.readStringFromFile=function(t){return""},t}()).writablePath="",r=i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCFirebaseAnalytics.ts",["cc","./CCDefine.ts","./CCNative.ts"],(function(e){var t,a,i,s,n;return{setters:[function(e){t=e.cclegacy,a=e._decorator,i=e.sys},function(e){s=e.default},function(e){n=e.default}],execute:function(){var c;t._RF.push({},"67b47AfslpEMblJaO0Y68ca","CCFirebaseAnalytics",void 0);var l=a.ccclass;a.property,e("default",l("CCFirebaseAnalytics")(c=function(){function e(){}return e.setUserId=function(e){i.isNative&&i.os==i.OS.ANDROID&&n.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseAnalytics","setUserId","(Ljava/lang/String;)V",e)},e.setAnalyticsCollectionEnabled=function(e){i.isNative&&i.os==i.OS.ANDROID&&n.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseAnalytics","setAnalyticsCollectionEnabled","(Z)V",e)},e.getFirebaseInstanceId=function(){return i.isNative&&i.os==i.OS.ANDROID?n.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseAnalytics","getFirebaseInstanceId","()Ljava/lang/String;"):""},e.setSessionTimeoutDuration=function(e){i.isNative&&i.os==i.OS.ANDROID&&n.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseAnalytics","setSessionTimeoutDuration","(J)V",e)},e.logEvent=function(e,t){i.isNative&&i.os==i.OS.ANDROID&&n.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseAnalytics","logEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCFirebaseCrashlytics.ts",["cc","./CCDefine.ts","./CCNative.ts"],(function(e){var s,i,t,a,r;return{setters:[function(e){s=e.cclegacy,i=e._decorator,t=e.sys},function(e){a=e.default},function(e){r=e.default}],execute:function(){var n;s._RF.push({},"87392GzIjJCKrqTRCSbrVqm","CCFirebaseCrashlytics",void 0);var C=i.ccclass;i.property,e("default",C("CCFirebaseCrashlytics")(n=function(){function e(){}return e.init=function(){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","init","()V")},e.setUserId=function(e){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","setUserId","(Ljava/lang/String;)V",e)},e.setCrashlyticsCollectionEnabled=function(e){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","setCrashlyticsCollectionEnabled","(Z)V",e)},e.isCrashlyticsCollectionEnabled=function(){return!!t.isNative&&(t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","isCrashlyticsCollectionEnabled","()Z"))},e.didCrashOnPreviousExecution=function(){return!!t.isNative&&(t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","didCrashOnPreviousExecution","()Z"))},e.sendUnsentReports=function(){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","sendUnsentReports","()V")},e.deleteUnsentReports=function(){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","deleteUnsentReports","()V")},e.log=function(e){t.isNative&&t.os==t.OS.ANDROID&&r.call(a.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseCrashlytics","deleteUnsentReports","(Ljava/lang/String;)V",e)},e}())||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/CCFirebaseRemoteConfig.ts",["cc","./CCUtils.ts","./CCDefine.ts","./CCNative.ts"],(function(i){var t,e,a,n,s,o;return{setters:[function(i){t=i.cclegacy,e=i._decorator,a=i.sys},function(i){n=i.default},function(i){s=i.default},function(i){o=i.default}],execute:function(){var r,c;t._RF.push({},"3b0cbAVBKhDKbrhXLK8sYlK","CCFirebaseRemoteConfig",void 0);var l=e.ccclass,u=(e.property,i("default",l("CCFirebaseRemoteConfig")(((c=function(){function i(){}return i.init=function(i,t){var e=JSON.stringify(i);return n.log("CCFirebaseRemoteConfig.init["+this.isInited+"]isNative["+a.isNative+"]: "+e),!!a.isNative&&(!!this.isInited||(this.isInited=!0,this.callFromNativa=t,void(a.os==a.OS.ANDROID&&o.call(s.NATIVE_CLASS_ROOT_PATH+"/firebase/CCFirebaseRemoteConfig","init","(Ljava/lang/String;)V",e))))},i.updateFromNative=function(i,t){n.log("updateFromNative key: "+i+", value: "+t),a.isNative&&this.callFromNativa&&this.callFromNativa(i,t)},i}()).isInited=!1,c.callFromNativa=null,r=c))||r));window.CCFirebaseRemoteConfig=u,t._RF.pop()}}}));

System.register("chunks:///_virtual/CCFixFooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCNative.ts","./CCEvent.ts","./CCDefine.ts","./CCBoxCollider2D.ts"],(function(e){var t,i,n,r,o,a,s,l,u,c,h,f,p,d,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.CCString,l=e.UITransform,u=e.Vec3,c=e.BoxCollider2D,h=e.Component},function(e){f=e.default},function(e){p=e.default},function(e){d=e.CCEvent},function(e){g=e.EVENT_TYPE},function(e){C=e.CCBoxCollider2D}],execute:function(){var y,b,m,z,v,x,S,P,F,N,B,E,H,w,D,R,O,Y,_,I,L;o._RF.push({},"17ebcKf1VlLRZGHs5mGux26","CCFixFooter",void 0);var T=a.ccclass,G=a.property;e("CCFixFooter",(y=T("CCFixFooter"),b=G({displayName:"Y"}),m=G({displayName:""}),z=G({type:Boolean,displayName:""}),v=G({displayName:"Y"}),x=G({displayName:""}),S=G({displayName:""}),P=G({type:[s],displayName:"",visible:!0,serializable:!0}),F=G({displayName:"Y"}),N=G({displayName:""}),y((H=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"needSetPos",H,r(t)),n(t,"resizeHeight",w,r(t)),n(t,"needCalcCutoutScreen",D,r(t)),n(t,"offsetY",R,r(t)),n(t,"needEventOn",O,r(t)),n(t,"resizeChidlren",Y,r(t)),n(t,"childNamePrefix",_,r(t)),n(t,"childrenSetPos",I,r(t)),n(t,"childrenResizeHeight",L,r(t)),t}i(t,e);var o=t.prototype;return o.onEnable=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.needEventOn&&d.on(g.REFRESH_FOOTER,this.refresh,this),this.refresh()},o.onDisable=function(){this.needEventOn&&d.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.refresh=function(){var e=this,t=this.node.getComponent(l);if(t){var i=t.anchorPoint.clone(),n=(f.GetSafeAreaRect(),f.GetSafeAreaInsetsOrigin()),r=p.get("isCutoutScreen")||!1,o=p.get("statusBarHeight")||0,a=p.get("safeInsetBottom")||0,s=p.get("navigationBarHeight")||0;if(f.log("isCutoutScreen: "+r+" statusBarHeight: "+o+" safeInsetBottom: "+a+" navigationBarHeight: "+s),this.resizeHeight&&(t.height-=n.y,r&&this.needCalcCutoutScreen&&(t.height+=o,f.log("saFixed: "+n+" ap: "+i+" trans: "+t.height+" isCutoutScreen: "+r))),this.needSetPos){var h=-n.height/2+(1==i.y?t.height:0)+(r?n.y:0)+this.offsetY+s;f.log("saFixed: "+n+" ap: "+i+" trans: "+t.height+" isCutoutScreen: "+r+" yFixed: "+h),this.node.setPosition(this.node.position.x,h,0),this.node.posFixed=new u(this.node.position.x,h,0)}if(this.resizeChidlren){var d,g,y=null,b=n.y<0?-n.y:n.y;return this.recursionByPrefix(this.node,(function(i){if(e.childrenResizeHeight){if(!(t=i.getComponent(l)))return!0;t.height+=r&&e.needCalcCutoutScreen?b+o:b,(y=i.getComponent(C))?(d=y.size.clone(),y.setOriginSize(d.width,d.height+(r&&e.needCalcCutoutScreen?b+o:b))):(y=i.getComponent(c))&&(y.size.height+=b,y.offset.y+=b/2,r&&e.needCalcCutoutScreen&&(y.size.height+=o,y.offset.y+=o/2))}if(e.childrenSetPos){if(y=i.getComponent(c))return!0;g=i.position.clone(),f.log("element["+i.name+"].pos["+g+"]"),e.resizeHeight&&i.setPosition(g.x,g.y+(r&&e.needCalcCutoutScreen?n.y-o:n.y))}return!0})),-n.y}}},o.recursionByPrefix=function(e,t){var i=this;e.children.forEach((function(e){for(var n=0;n<i.childNamePrefix.length;n++)if(e.name.startsWith(i.childNamePrefix[n])){if(!t)return;t(e)&&i.recursionByPrefix(e,t);break}}))},t}(h)).prototype,"needSetPos",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=t(E.prototype,"resizeHeight",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=t(E.prototype,"needCalcCutoutScreen",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=t(E.prototype,"offsetY",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(E.prototype,"needEventOn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=t(E.prototype,"resizeChidlren",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=t(E.prototype,"childNamePrefix",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(E.prototype,"childrenSetPos",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=t(E.prototype,"childrenResizeHeight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=E))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCFixHeader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCNative.ts"],(function(e){var t,i,n,r,o,a,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.UITransform,l=e.Component},function(e){u=e.default},function(e){c=e.default}],execute:function(){var p,f,h,d,C,y,g,b,m,S,v;o._RF.push({},"8f8b9HdIh1EU5deQ5u1N50M","CCFixHeader",void 0);var z=a.ccclass,H=a.property;e("CCFixHeader",(p=z("CCFixHeader"),f=H({displayName:"Y"}),h=H({type:Boolean,displayName:""}),d=H({type:Boolean,displayName:""}),C=H({type:Number,displayName:"Y"}),p((b=t((g=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"needSetPos",b,r(t)),n(t,"resizeHeight",m,r(t)),n(t,"needCalcCutoutScreen",S,r(t)),n(t,"offsetY",v,r(t)),t}i(t,e);var o=t.prototype;return o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.refresh()},o.refresh=function(){var e=this.node.getComponent(s);if(e){var t=e.anchorPoint.clone(),i=(u.GetSafeAreaRect(),u.GetDesignResolutionSize(),u.GetSafeAreaInsetsOrigin()),n=c.get("isCutoutScreen")||!1,r=(c.get("safeInsetTop"),c.get("statusBarHeight")||0);if(this.resizeHeight&&n&&this.needCalcCutoutScreen&&(e.height+=r),this.needSetPos){var o=i.height/2-(0==t.y?e.height:0)+(n&&this.needCalcCutoutScreen?r:0)+this.offsetY;this.node.setPosition(this.node.position.x,o)}}},t}(l)).prototype,"needSetPos",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=t(g.prototype,"resizeHeight",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(g.prototype,"needCalcCutoutScreen",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=t(g.prototype,"offsetY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCFloatingBanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCCacheRes.ts","./CCUtils.ts"],(function(t){var e,n,o,i,a,r,l,s,c,u,d,h,p,g,C,f,m,v,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Sprite,s=t.RichText,c=t.Canvas,u=t.isValid,d=t.UITransform,h=t.Size,p=t.find,g=t.Vec3,C=t.tween,f=t.UIOpacity,m=t.Component},function(t){v=t.DEV},function(t){b=t.default},function(t){y=t.default}],execute:function(){var B,S,z,L,T,A,k;a._RF.push({},"836c7gsC6FOJYKO3K2NWRnS","CCFloatingBanner",void 0);var w=r.ccclass,x=r.property;t("CCFloatingBanner",(B=w("CCFloatingBanner"),S=x({type:l,tooltip:v}),z=x({type:s,tooltip:v}),B((A=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"SpriteBackground",A,i(e)),o(e,"LabelToast",k,i(e)),e.text="",e.imageAtlas="",e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!0),this.LabelToast&&(this.imageAtlas.length>0?b.loadSpriteAtlasAndBind(this.imageAtlas,(function(e){u(t.LabelToast)?(t.text.length>0&&(t.LabelToast.string=t.text,t.resizeBackground()),t.LabelToast.imageAtlas=e):y.error("LabelToast.richtext.nil")})):this.text.length>0&&(this.LabelToast.string=this.text,this.resizeBackground())),this.doAnimation()},a.resizeBackground=function(){var t,e,n=null==(t=this.LabelToast)||null==(t=t.getComponent(d))?void 0:t.contentSize.clone(),o=null==(e=this.SpriteBackground)||null==(e=e.getComponent(d))?void 0:e.contentSize.clone();n&&o&&o.height-n.height<20&&this.SpriteBackground.node.getComponent(d).setContentSize(new h(o.width,n.height+20))},a.onDisable=function(){this.unscheduleAllCallbacks(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},a.update=function(t){},a.doAnimation=function(){var t,e=this,n=p("Canvas/Background",this.node);if(n){(null==(t=this.node)?void 0:t.parent).getComponent(d).height,n.getComponent(d).contentSize.clone();this.node.position=new g(0,0,0);var o=C(this.node.getComponent(f)).to(1,{opacity:255}).to(.5,{opacity:0}),i=C(this.node).delay(1).to(.5,{position:new g(0,100,0)}).call((function(){e.node.active=!1,e.node.children&&e.node.removeAllChildren(),e.node.removeFromParent(),e.node.destroy()}));o.start(),i.start()}},e}(m)).prototype,"SpriteBackground",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"LabelToast",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCFloatingTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCCacheRes.ts","./CCUtils.ts"],(function(t){var e,n,i,o,a,l,s,r,c,p,h,u,d,f,C,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.RichText,r=t.Vec3,c=t.Canvas,p=t.isValid,h=t.tween,u=t.UIOpacity,d=t.Component},function(t){f=t.DEV},function(t){C=t.default},function(t){g=t.default}],execute:function(){var b,m,y,v,T;a._RF.push({},"3a075e/hHFFh6flenAYeb3Y","CCFloatingTips",void 0);var A=l.ccclass,L=l.property;t("CCFloatingTips",(b=A("CCFloatingTips"),m=L({type:s,tooltip:f}),b((T=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"LabelToast",T,o(e)),e.originPos=new r(0,0,0),e.text="",e.imageAtlas="",e.fnComplete=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),this.LabelToast&&(this.imageAtlas.length>0?C.loadSpriteAtlasAndBind(this.imageAtlas,(function(e){p(t.LabelToast)?(t.text.length>0&&(t.LabelToast.string=t.text),t.LabelToast.imageAtlas=e):g.error("LabelToast.richtext.nil")})):this.text.length>0&&(this.LabelToast.string=this.text))},a.onEnable=function(){this.doAnimation()},a.onDisable=function(){this.unscheduleAllCallbacks(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},a.update=function(t){},a.doAnimation=function(){var t,e=this;null==(t=this.node)||t.parent;this.node.position=new r(0,0,0).clone();var n=h(this.node.getComponent(u)).to(1,{opacity:0}),i=h(this.node).by(1,{position:new r(0,100,0)}).call((function(){e.fnComplete&&e.fnComplete(),e.node.active=!1,e.node.children&&e.node.removeAllChildren(),e.node.removeFromParent(),e.node.destroy()}));n.start(),i.start()},e}(d)).prototype,"LabelToast",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCFullSize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCNative.ts"],(function(e){var t,i,n,r,o,a,h,s,d,l,c,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,h=e.view,s=e.UITransform,d=e.Sprite,l=e.Widget,c=e.Component},function(e){u=e.default},function(e){p=e.DEV},function(e){f=e.default}],execute:function(){var g,m,C,y,w,v,z,b,x,F,S,A,I,R,D;o._RF.push({},"4f76eLM00VKi4TtIqLcr+qy","CCFullSize",void 0);var N=a.ccclass,U=a.property;a.executeInEditMode,e("CCFullSize",(g=N("CCFullSize"),m=U({displayName:"",tooltip:p}),C=U({displayName:"",tooltip:p}),y=U({displayName:",",tooltip:p}),w=U({displayName:",",tooltip:p}),v=U({displayName:"",tooltip:p}),z=U({displayName:"",tooltip:p}),g((F=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bothAdapt",F,r(t)),n(t,"dynamicAdapt",S,r(t)),n(t,"designWidth",A,r(t)),n(t,"designHeight",I,r(t)),n(t,"resizeChidlren",R,r(t)),n(t,"childNamePrefix",D,r(t)),t}i(t,e);var o=t.prototype;return o.update=function(e){},o.onLoad=function(){h.on("canvas-resize",this.fixUI,this),this.fixUI()},o.onDestroy=function(){this.fixUI&&(h.off("canvas-resize",this.fixUI,this),this.fixUI=null)},o.resizeChildren=function(e,t,i){var n=this;if(e){var r=e.getComponent(s);r&&(r.width=t,r.height=i);var o=!1;this.resizeChidlren&&(o=!0),o&&e.children.forEach((function(e){if(!(n.childNamePrefix.length>0)||e.name.startsWith(n.childNamePrefix)){if(r=e.getComponent(s)){r.width=t,r.height=i;var o=e.getComponent(d);if(o&&o.sizeMode===d.SizeMode.CUSTOM&&o.type===d.Type.TILED){var a=d.Assembler.getAssembler(o);a&&(r.width=t,r.height=i,a.markForUpdateRenderData&&a.markForUpdateRenderData(),a.updateRenderData&&a.updateRenderData(o))}}n.resizeChildren(e,t,i)}}))}},o.fixUI=function(){var e=this.node.getComponent(s);if(e){var t=u.GetDesignResolutionSize(),i=u.GetVisibleSize(),n=(u.GetViewportRect(),u.GetSafeAreaRect()),r=u.GetSafeAreaInsetsOrigin(),o=f.get("isCutoutScreen"),a=e.contentSize,h=1;if(this.bothAdapt)return e.width=parseFloat(n.width.toFixed(2)),e.height=parseFloat(n.height.toFixed(2)),void this.resizeChildren(this.node,parseFloat(n.width.toFixed(2)),parseFloat(n.height.toFixed(2)));if(this.dynamicAdapt){var d=f.get("statusBarHeight")||0,l=i.height-(o?r.y-d:0),c=i.width/l;return h=1,h=t.width/t.height<c?r.width/a.width:(r.height-(o?r.y-d:0))/a.height,h=parseFloat(h.toFixed(2)),e.width=parseFloat((a.width*h).toFixed(2)),void(e.height=parseFloat((a.height*h).toFixed(2)))}this.designWidth>0&&this.designHeight>0?this.fixHeight(this.designWidth):this.designWidth>0?this.fixWidth():this.designHeight>0&&this.fixHeight(0)}},o.fixWidth=function(){var e=this.node.getComponent(s);if(e){var t=u.GetViewportRect(),i=e.width/t.width;e.width=t.width*(i>1?i:1)}},o.fixHeight=function(e){var t=this.node.getComponent(s);if(t){var i=u.GetViewportRect(),n=u.GetSafeAreaRect(),r=u.GetSafeAreaInsetsOrigin(),o=f.get("isCutoutScreen"),a=t.height/i.height;u.log("trans: "+t.contentSize+" vr: "+i+" ratio: "+a+" sa: "+n+" isCutoutScreen: "+o+" saFixed: "+r),t.height=n.height,e>0&&(t.width=e*a),o&&this.resizeChidlren&&this.node.children.forEach((function(e){e.getComponent(l)||e.setPosition(e.getPosition().subtract3f(0,r.y,0).clone())}))}},t}(c)).prototype,"bothAdapt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=t(x.prototype,"dynamicAdapt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=t(x.prototype,"designWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(x.prototype,"designHeight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(x.prototype,"resizeChidlren",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(x.prototype,"childNamePrefix",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=x))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCGoodsData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var r,n,e,a,o,u,c,i;return{setters:[function(t){r=t.createClass,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator},function(t){u=t.default},function(t){c=t.default,i=t.CCResType}],execute:function(){var s,d;a._RF.push({},"cff74qnz9hGuboSU4hVV5Sp","CCGoodsData",void 0);var f=o.ccclass;o.property,t("CCGoodsDataType",function(t){return t[t.EXCHANGE_PROP=1]="EXCHANGE_PROP",t[t.EXCHANGE_RECHARGE=2]="EXCHANGE_RECHARGE",t[t.IAP_NOADS=3]="IAP_NOADS",t[t.IAP_DIAMOND=4]="IAP_DIAMOND",t}({})),t("default",f("CCGoodsData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.typeId]||(this._data[t.typeId]=[]),this._data[t.typeId].push(t)},t.keys=function(t){var r=[];return Object.values(this._data).forEach((function(t){return r.push.apply(r,t)})),r.filter((function(r){return r.typeId==t})).map((function(t){return t.typeId}))},t.keysAndName=function(t){var r=[];return Object.values(this._data).forEach((function(t){return r.push.apply(r,t)})),r.filter((function(r){return r.typeId==t})).map((function(t){return[t.typeId,t.orderId]}))},t.totalRowsByTypeId=function(t){var r=[];return Object.values(this._data).forEach((function(t){return r.push.apply(r,t)})),r.filter((function(r){return r.typeId==t})).length},t.totalRows=function(){var t=0;return Object.values(this._data).forEach((function(r){return t+=r.length})),t},t.getIdxByTypeIdAndOrderId=function(t,r){return Object.values(this._data).forEach((function(n,e){n.forEach((function(n,e){if(n.typeId==t&&n.orderId==r)return n}))})),null},t.getRowsByTypeAndRowIdx=function(t,r,n){var e=[];Object.values(this._data).forEach((function(t){return e.push.apply(e,t)}));var a=e.filter((function(r){return r.typeId==t})).sort((function(t,r){return t.orderId-r.orderId})),o=r*n;return Array.from({length:n},(function(t,r){var n;return null!=(n=a[o+r])?n:null}))},t.getRowsByTypeAndPos=function(t,r,n){var e=Math.floor(r/n),a=r%n;return this.getRowsByTypeAndRowIdx(t,e,n)[a]},t.iterator=function(t){Object.values(this._data).forEach((function(r){r.forEach((function(r){return t(r)}))}))},t.pick=function(t,r,n){void 0===r&&(r=1),void 0===n&&(n=!0);var e=[];if(Object.values(this._data).forEach((function(r){return r.filter((function(r){return r.typeId==t})).forEach((function(t){return e.push(t)}))})),0===e.length)return[];for(var a=e.slice(),o=[],c=null,i=0;i<r;i++)if(null!=(c=u.random(a))&&0!=c.discount.length){var s=c.reward,d=s[0],f=s[1],p=c.discount.length>1?u.random(c.discount):c.discount[0];if(o.push([c.orderId,d,f,c.price,p,0]),n){var l=a.indexOf(c);l>-1&&a.splice(l,1)}}var h=Object.values(o).map((function(t){return[t]})).join("|");return u.log("pick.type["+t+"].count["+r+"].removePicked["+n+"] ... "+h),o},t.load=function(){var r=n(e().mark((function r(){return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.load({bundleName:"profile",relativePath:"goods",resType:i.TextAsset}).then(n(e().mark((function r(a){var o,c;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a){r.next=2;break}return r.abrupt("return");case 2:return o=u.csv2array(a.text,1,1),c=o.map(n(e().mark((function r(n){var a,o;return e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=(a=parseInt(n[""],10))){r.next=4;break}return u.error("[''].nil"),r.abrupt("return");case 4:o={orderId:a,typeId:parseInt(n[""],10),reward:u.splitArrNumber(n["IDX"],"@"),price:parseFloat(n["X"]),discount:u.splitArrNumber(n[""],"@"),iapProductId:n["id"]||"",iapDiscountDuration:parseInt(n[""],10)||0,iapCooldownDuration:parseInt(n["CD"],10)||0},t.addRow(o);case 6:case"end":return r.stop()}}),r)})))),r.next=6,Promise.all(c);case 6:case"end":return r.stop()}}),r)}))));case 2:u.log("load.goods.total rows: "+t.totalRows()+" ... OK");case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),r(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},s=d))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCGooglePlayInAppUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCNative.ts","./CCDefine.ts","./CCEvent.ts","./CCPopupManager.ts","./CCPanelNetworkRetry.ts","./CCLottie.ts"],(function(t){var e,a,n,o,A,p,l,r,E,i,u,s,_;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,o=t.sys,A=t.Component},function(t){p=t.default},function(t){l=t.default},function(t){r=t.EVENT_TYPE,E=t.default},function(t){i=t.CCEvent},function(t){u=t.default},function(t){s=t.CCPanelNetworkRetry},function(t){_=t.default}],execute:function(){var C;a._RF.push({},"e9419z2hXNLr4c05grzUfkm","CCGooglePlayInAppUpdate",void 0);var c=n.ccclass,P=(n.property,t("InAppUpdateStatus",function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.UPDATE_NOT_AVAILABLE=1]="UPDATE_NOT_AVAILABLE",t[t.UPDATE_AVAILABLE=2]="UPDATE_AVAILABLE",t[t.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS=3]="DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS",t[t.CANCELED=4]="CANCELED",t[t.FAILED=5]="FAILED",t}({}))),f=t("default",c("CCGooglePlayInAppUpdate")(C=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).updateStart=!1,e}e(a,t);var n=a.prototype;return n.onEnable=function(){p.log("CCGooglePlayInAppUpdate.onEnable"),i.on(r.UPDATE_START,this.onUpdateStart,this)},n.onDisable=function(){p.log("CCGooglePlayInAppUpdate.onDisable"),this.unscheduleAllCallbacks(),i.targetOff(this)},n.onUpdateRetry=function(t,e){var a=this;i.emit(r.UPDATE_COMPLETED),u.showPanel(s.resObj,{isNetworkErr:e,fnRetry:function(e){_.show("loading.json",.5),E.NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING=!1,a.updateStart=!1,i.emit(r.UPDATE_START,t)}},!0,0)},n.onUpdateStart=function(t){var e=this;if(o.isNative&&o.os==o.OS.ANDROID)if(p.log("IAU["+t+"/"+E.appConfig.vc+"].fug["+E.appConfig.fug+"/"+E.appConfig.fua+"].NATIVE_ENABLE_IN_APP_UPDATE["+E.NATIVE_ENABLE_IN_APP_UPDATE+"].NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING["+E.NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING+"].check..."),E.ENABLE_CHANNEL_TEST||!E.NATIVE_ENABLE_IN_APP_UPDATE||E.NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING)i.emit(r.UPDATE_COMPLETED);else if(t>=E.appConfig.vc)i.emit(r.UPDATE_COMPLETED);else if(E.appConfig.fug)if(a.checkForGooglePlayInAppUpdate()){E.NATIVE_GOOGLE_IN_APP_UPDATE_CHECKING=!0;this.schedule((function n(){var o=a.inAppUpdateStatus();switch(o){case P.UPDATE_NOT_AVAILABLE:p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].not available!"),e.unschedule(n),i.emit(r.UPDATE_COMPLETED);break;case P.UPDATE_AVAILABLE:if(p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].update..."),e.updateStart)break;if(!a.startUpdateForGooglePlayInAppUpdate())return p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].update...start.failed, restart game and try it again~"),e.unschedule(n),void e.onUpdateRetry(t,!1);e.updateStart=!0;break;case P.DEVELOPER_TRIGGERED_UPDATE_IN_PROGRESS:p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].progress..."),e.unschedule(n),e.onUpdateRetry(t,!1);break;case P.CANCELED:return p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].canceled, restart game and try it again~"),e.unschedule(n),void e.onUpdateRetry(t,!1);case P.FAILED:return p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].failed, restart game and try it again~"),e.unschedule(n),void e.onUpdateRetry(t,!0);default:return p.log("IAU["+t+"/"+E.appConfig.vc+"].status["+o+"].WTF"),e.unschedule(n),void e.onUpdateRetry(t,!1)}}),1)}else i.emit(r.UPDATE_COMPLETED);else i.emit(r.UPDATE_COMPLETED)},a.checkForGooglePlayInAppUpdate=function(){if(!o.isNative)return!1;if(o.os==o.OS.ANDROID){var t=l.call(E.NATIVE_CLASS_ROOT_PATH+"/googleplay/CCGooglePlayInAppUpdate","checkForUpdate","()Z");if(null!=t&&null!=t)return t}return!1},a.inAppUpdateStatus=function(){if(!o.isNative)return P.UNKNOWN;if(o.os==o.OS.ANDROID){var t=l.call(E.NATIVE_CLASS_ROOT_PATH+"/googleplay/CCGooglePlayInAppUpdate","inAppUpdateStatus","()I");if(null!=t&&null!=t)return t}return P.UNKNOWN},a.startUpdateForGooglePlayInAppUpdate=function(){if(!o.isNative)return!1;if(o.os==o.OS.ANDROID){var t=l.call(E.NATIVE_CLASS_ROOT_PATH+"/googleplay/CCGooglePlayInAppUpdate","startUpdate","()Z");if(null!=t&&null!=t)return t}return!1},a}(A))||C);window.CCGooglePlayInAppUpdate=f,a._RF.pop()}}}));

System.register("chunks:///_virtual/CCGoogleSignIn.ts",["cc","./CCUtils.ts","./CCDefine.ts","./CCNative.ts"],(function(i){var n,s,t,e,o,a;return{setters:[function(i){n=i.cclegacy,s=i._decorator,t=i.sys},function(i){e=i.default},function(i){o=i.default},function(i){a=i.default}],execute:function(){var r,g;n._RF.push({},"7822dK+gOJL1pxO0Xe/AzC+","CCGoogleSignIn",void 0);var c=s.ccclass,u=(s.property,i("default",c("CCGoogleSignIn")(((g=function(){function i(){}return i.signIn=function(i,n){if(e.log("CCGoogleSignIn.signIn.isProcessing["+this.isProcessing+"].isNative["+t.isNative+"]: "+i),!t.isNative)return!1;this.isProcessing=!0,this.signInFromNativa=n,t.os==t.OS.ANDROID&&a.call(o.NATIVE_CLASS_ROOT_PATH+"/firebase/CCGoogleSignIn","signIn","(Ljava/lang/String;)V",i)},i.signInWithFirebaseIdToken=function(i,n){if(e.log("CCGoogleSignIn.signInWithFirebaseIdToken.isProcessing["+this.isProcessing+"].isNative["+t.isNative+"]: "+i),!t.isNative)return!1;this.isProcessing=!0,this.signInFromNativa=n,t.os==t.OS.ANDROID&&a.call(o.NATIVE_CLASS_ROOT_PATH+"/firebase/CCGoogleSignIn","signInWithFirebaseIdToken","(Ljava/lang/String;)V",i)},i.signOut=function(i){if(!t.isNative)return!1;this.signOutFromNativa=i,t.os==t.OS.ANDROID&&a.call(o.NATIVE_CLASS_ROOT_PATH+"/firebase/CCGoogleSignIn","signOut","()V")},i.signInFromNative=function(n,s){if(t.isNative){var o=CryptoJS.enc.Base64.parse(s).toString(CryptoJS.enc.Utf8);e.log("signInFromNative.isSucceed["+n+"].valueStr["+o+"]"),this.signInFromNativa&&this.signInFromNativa(n,o),i.isProcessing=!1}},i.signOutFromNative=function(i,n){if(t.isNative){var s=CryptoJS.enc.Base64.parse(n).toString(CryptoJS.enc.Utf8);e.log("signOutFromNative.isSucceed["+i+"].valueStr["+s+"]"),this.signOutFromNativa&&this.signOutFromNativa(i,s)}},i}()).isProcessing=!1,g.signInFromNativa=null,g.signOutFromNativa=null,r=g))||r));window.CCGoogleSignIn=u,n._RF.pop()}}}));

System.register("chunks:///_virtual/CCGuideData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCDefine.ts"],(function(E){var _,t,e,n,N,r,T,A,i;return{setters:[function(E){_=E.createClass,t=E.asyncToGenerator,e=E.regeneratorRuntime},function(E){n=E.cclegacy,N=E._decorator},function(E){r=E.default},function(E){T=E.default,A=E.CCResType},function(E){i=E.default}],execute:function(){var I,C;n._RF.push({},"71584rWpzlJ0JTQFDQwr9xq","CCGuideData",void 0);var L=N.ccclass,a=(N.property,E("GuideClickType",function(E){return E[E.GOTO_NEXT=-1]="GOTO_NEXT",E[E.NORMAL=0]="NORMAL",E[E.CLOUSE_PANEL=1]="CLOUSE_PANEL",E[E.BTN_MANAGEMENT=2]="BTN_MANAGEMENT",E[E.PANEL_MANAGEMENT_BUY=3]="PANEL_MANAGEMENT_BUY",E[E.BTN_WANTPLAY=4]="BTN_WANTPLAY",E[E.BTN_ACCERLERATE=5]="BTN_ACCERLERATE",E[E.DROPED_MONEY=6]="DROPED_MONEY",E[E.BTN_OUTSIDE=7]="BTN_OUTSIDE",E[E.OUTSIDE_NPC=8]="OUTSIDE_NPC",E[E.OUTSIDE_ALL=9]="OUTSIDE_ALL",E[E.OUTSIDE_CLOSE=10]="OUTSIDE_CLOSE",E[E.BTN_HOTTASK=11]="BTN_HOTTASK",E[E.PANEL_MANAGEMENT_HIGHTLIGHT=12]="PANEL_MANAGEMENT_HIGHTLIGHT",E[E.PANEL_MANAGEMENT_FAST_DELIVERY=13]="PANEL_MANAGEMENT_FAST_DELIVERY",E[E.PANEL_MANAGEMENT_BTN_USE=14]="PANEL_MANAGEMENT_BTN_USE",E[E.BTN_DOUBLE_INCOME=15]="BTN_DOUBLE_INCOME",E[E.PANEL_DOUBLE_INCOME_AD=16]="PANEL_DOUBLE_INCOME_AD",E[E.PANEL_CAT_HOUSE_UPGRADE=17]="PANEL_CAT_HOUSE_UPGRADE",E[E.PANEL_CAT_HOUSE_UPGRADE_RANKING=18]="PANEL_CAT_HOUSE_UPGRADE_RANKING",E[E.PANEL_CAT_HOUSE_UPGRADE_RANKING_CLOSE=19]="PANEL_CAT_HOUSE_UPGRADE_RANKING_CLOSE",E[E.PANEL_CAT_HOUSE_UPGRADE_MINIGAME=20]="PANEL_CAT_HOUSE_UPGRADE_MINIGAME",E[E.PANEL_CAT_HOUSE_UPGRADE_PART=21]="PANEL_CAT_HOUSE_UPGRADE_PART",E[E.PANEL_CAT_HOUSE_UPGRADE_PART_BTN_SUBMIT=22]="PANEL_CAT_HOUSE_UPGRADE_PART_BTN_SUBMIT",E[E.PANEL_OUTSIDE_BTN=23]="PANEL_OUTSIDE_BTN",E[E.PANEL_OUTSIDE_UPGRADE_BTN_SUBMIT=24]="PANEL_OUTSIDE_UPGRADE_BTN_SUBMIT",E[E.RIGHT_SCENE_RECHARGE_GOLD=25]="RIGHT_SCENE_RECHARGE_GOLD",E[E.RIGHT_SCENE_RECHARGE_GOLD_CLAIMED=26]="RIGHT_SCENE_RECHARGE_GOLD_CLAIMED",E[E.RIGHT_SCENE_BTN_BUILDING_DETAILS=3701]="RIGHT_SCENE_BTN_BUILDING_DETAILS",E[E.RIGHT_SCENE_BTN_BUILDING_DETAILS_BUY=27]="RIGHT_SCENE_BTN_BUILDING_DETAILS_BUY",E[E.RIGHT_SCENE_BTN_MINIGAME=28]="RIGHT_SCENE_BTN_MINIGAME",E[E.RIGHT_SCENE_BTN_MINIGAME_ITEM=29]="RIGHT_SCENE_BTN_MINIGAME_ITEM",E[E.RIGHT_SCENE_BTN_MINIGAME_ITEM_START=30]="RIGHT_SCENE_BTN_MINIGAME_ITEM_START",E[E.LEFT_SCENE_OPEN_WOODEN_BOX=4700]="LEFT_SCENE_OPEN_WOODEN_BOX",E[E.LEFT_SCENE_BTN_BUILDING_PAOBUJI_BUY=31]="LEFT_SCENE_BTN_BUILDING_PAOBUJI_BUY",E[E.LEFT_SCENE_BTN_BUILDING_CLOSE=32]="LEFT_SCENE_BTN_BUILDING_CLOSE",E[E.LEFT_SCENE_BTN_BUILDING_PAOBUJI=47]="LEFT_SCENE_BTN_BUILDING_PAOBUJI",E[E.LEFT_SCENE_ARRANGE_MEMBER=33]="LEFT_SCENE_ARRANGE_MEMBER",E[E.LEFT_SCENE_CLICK_ACCELERATE_PROP_ID=1001]="LEFT_SCENE_CLICK_ACCELERATE_PROP_ID",E[E.LEFT_SCENE_CLICK_ACCELERATE_PROP_USE=34]="LEFT_SCENE_CLICK_ACCELERATE_PROP_USE",E[E.LEFT_SCENE_CLICK_BTN_CLAIMED=35]="LEFT_SCENE_CLICK_BTN_CLAIMED",E[E.LEFT_SCENE_BTN_FACILITY_DETAILS_CLOSE=36]="LEFT_SCENE_BTN_FACILITY_DETAILS_CLOSE",E[E.LEFT_SCENE_CLICK_MEMBER_MANAGE=37]="LEFT_SCENE_CLICK_MEMBER_MANAGE",E[E.LEFT_SCENE_CLICK_MEMBER_UPGRADE=38]="LEFT_SCENE_CLICK_MEMBER_UPGRADE",E[E.LEFT_SCENE_CLICK_MEMBER_UPGRADE_BTN=39]="LEFT_SCENE_CLICK_MEMBER_UPGRADE_BTN",E[E.LEFT_SCENE_CLICK_MEMBER_UPGRADE_CHILD_CLOSE=40]="LEFT_SCENE_CLICK_MEMBER_UPGRADE_CHILD_CLOSE",E[E.LEFT_SCENE_CLICK_MEMBER_UPGRADE_CLOSE=41]="LEFT_SCENE_CLICK_MEMBER_UPGRADE_CLOSE",E[E.LEFT_SCENE_CLICK_MATCH_CHAPTER_BTN=42]="LEFT_SCENE_CLICK_MATCH_CHAPTER_BTN",E[E.LEFT_SCENE_CLICK_MATCH_ROUND_START_GAME_BTN=43]="LEFT_SCENE_CLICK_MATCH_ROUND_START_GAME_BTN",E[E.PANEL_MANAGEMENT_BUILDING_CAT_TREE=1101]="PANEL_MANAGEMENT_BUILDING_CAT_TREE",E[E.PANEL_MANAGEMENT_BUILDING_CUSHION=1201]="PANEL_MANAGEMENT_BUILDING_CUSHION",E}({})),E("GuideDataRow",function(){function E(E){this.orderId=void 0,this.needVip=void 0,this.needBuildingLevel=void 0,this.desc=void 0,this.playAniIn=void 0,this.playAniIn2=void 0,this.playAniOut=void 0,this.playToast=void 0,this.clickType=void 0,this.con1=void 0,this.con2=void 0,this.con3=void 0,this.mu=void 0,Object.assign(this,E)}return E.prototype.toString=function(){return"GuideDataRow: { \n            orderId: "+this.orderId+", \n            needVip: "+this.needVip+", \n            needBuildingLevel: "+this.needBuildingLevel+', \n            desc: "'+this.desc+'", \n            playAniIn: '+this.playAniIn+", \n            playAniIn2: "+this.playAniIn2+", \n            playAniOut: "+this.playAniOut+", \n            playToast: "+this.playToast+", \n            clickType: "+this.clickType+", \n            con1: "+this.con1+", \n            con2: "+this.con2+", \n            con3: "+this.con3+" \n        }"},E}()));E("default",L("CCGuideData")(((C=function(){function E(){}return E.addRow=function(E){this._data[E.orderId]=E},E.keys=function(){return Object.keys(this._data)},E.totalKeys=function(){return Object.keys(this._data).length},E.maxStep=function(E){var _=i.isMinimailistUser(),t=Object.values(this._data).filter((function(t){return Math.floor(t.orderId/100)==E&&(!_||t.mu)})).sort((function(E,_){return E.orderId-_.orderId})).pop();return t?t.orderId:0},E.getRowsByOrderId=function(E){var _;return null!=(_=this._data[E])?_:{}},E.getRowsNext=function(E,_){var t=i.isMinimailistUser();return Object.values(this._data).find((function(e){return Math.floor(e.orderId/100)==E&&e.orderId>_&&(!t||e.mu)}))},E.getFullSteps=function(E){var _=i.isMinimailistUser();return Object.values(this._data).filter((function(t){return Math.floor(t.orderId/100)==E&&(!_||t.mu)})).map((function(E){return E.orderId}))},E.getFirstMinimailistStep=function(E){var _=Object.values(this._data).filter((function(_){return Math.floor(_.orderId/100)==E})).map((function(E){return[E.orderId,E.mu]})),t=_.findIndex((function(E){return!0===E[1]}));return t<=0?0:_[t-1][0]},E.getRowsByBuildingLevel=function(E,_){for(var t=null,e=null,n=0,N=Object.values(this._data);n<N.length;n++){var r=N[n];Math.floor(r.orderId/100)==E&&r.needBuildingLevel>0&&r.needBuildingLevel===_&&((!t||r.orderId<t.orderId)&&(t=r),(!e||r.orderId>e.orderId)&&(e=r))}return{min:t,max:e}},E.getClickTypeEquail=function(E,_){return Object.values(this._data).filter((function(t){return Math.floor(t.orderId/100)==E&&t.clickType==_}))},E.load=function(){var _=t(e().mark((function _(){return e().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,T.load({bundleName:"profile",relativePath:"guide",resType:A.TextAsset}).then(t(e().mark((function _(n){var N,T;return e().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(n){_.next=2;break}return _.abrupt("return");case 2:return N=r.csv2array(n.text,1,1),T=N.map(t(e().mark((function _(t){var n;return e().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(t["ID"]){_.next=3;break}return r.error("['ID'].nil"),_.abrupt("return");case 3:n=new a({orderId:parseInt(t["ID"],10),needVip:parseInt(t["VIP"],10),needBuildingLevel:parseInt(t[""],10),desc:t[""],playAniIn:parseInt(t[""],10),playAniIn2:parseInt(t[""],10),playAniOut:parseInt(t[""],10),playToast:parseInt(t["toast"],10),clickType:parseInt(t[""],10),con1:parseFloat(t[""]),con2:parseInt(t[""],10),con3:parseInt(t[""],10),mu:"0"!=t[""]}),E.addRow(n);case 5:case"end":return _.stop()}}),_)})))),_.next=6,Promise.all(T);case 6:case"end":return _.stop()}}),_)}))));case 2:r.log("load.guide.total rows: "+E.totalKeys()+" ... OK");case 3:case"end":return _.stop()}}),_)})));return function(){return _.apply(this,arguments)}}(),_(E,null,[{key:"data",get:function(){return this._data},set:function(E){this._data=E}}]),E}())._data={},I=C))||I);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCHostTasksData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,a,r,s,o,u,c;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},function(t){o=t.default},function(t){u=t.default,c=t.CCResType}],execute:function(){var i,d;r._RF.push({},"38affLpKapMRpvzBdR6UzE7","CCHostTasksData",void 0);var p=s.ccclass;s.property,t("default",p("CCHostTasksData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.tagId]=t},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.getRowsByTagId=function(t){return this._data[t]||null},t.getFirstTaskId=function(){return 0===this.totalKeys()?0:parseInt(Object.keys(this._data).at(0),10)},t.getNextTaskId=function(t){if(0===this.totalKeys())return 0;var e=Object.keys(this._data),n=e.indexOf(t.toString());return-1===n?0:n==e.length-1?-1:parseInt(e[n+1],10)||0},t.load=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load({bundleName:"profile",relativePath:"hosttasks",resType:c.TextAsset}).then(n(a().mark((function e(r){var s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return s=o.csv2array(r.text,1,1),u=s.map(n(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ID){e.next=3;break}return o.error("['ID'].nil"),e.abrupt("return");case 3:r={tagId:parseInt(n.ID,10),name:n[""],needBuildingId:parseInt(n[""],10),needCatId:parseInt(n[""],10),needSendLeafletCount:parseInt(n[""],10),needNpcId:parseInt(n[""],10),needPlayMiniGameCount:parseInt(n[""],10),needCatPartId:parseInt(n[""],10),rewardMoney:parseInt(n[""],10),needUnlockRight:parseInt(n[""],10),needUnlockLeft:parseInt(n[""],10),needPlayRightGameCount:parseInt(n[""],10),rewardGold:parseInt(n["100"],10),needCatTeamMemberLevel:parseInt(n[""],10),needMatchesNumber:parseInt(n[""],10)},t.addRow(r);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(u);case 6:case"end":return e.stop()}}),e)}))));case 2:o.log("load.hosttasks.total rows: "+t.totalKeys()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},i=d))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCHttp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(t){var r,e,n,u,a,o;return{setters:[function(t){r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){n=t.cclegacy,u=t._decorator,a=t.sys},function(t){o=t.default}],execute:function(){var s;n._RF.push({},"97430uCkzRDNbYvuCqi90WV","CCHttp",void 0);var c=u.ccclass;t("default",c("CCHttp")(s=function(){function t(){}return t.Request=function(){var t=r(e().mark((function t(r,n,u){var a,s,c,i,p;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n?"?"+new URLSearchParams(n).toString():"",s=r+a,c={"Content-Type":"application/json"},(null==u?void 0:u.length)>0&&(c.Authorization=""+u),o.log("CCHttp GET Request: "+s),t.next=8,fetch(s,{method:"GET",headers:c});case 8:if((i=t.sent).ok){t.next=11;break}return t.abrupt("return","HTTP GET Error: "+i.status+" "+i.statusText);case 11:return t.next=13,i.json();case 13:return p=t.sent,t.abrupt("return",p);case 17:return t.prev=17,t.t0=t.catch(0),o.error("CCHttp GET Error: "+t.t0),t.abrupt("return",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(r,e,n){return t.apply(this,arguments)}}(),t.Post=function(){var t=r(e().mark((function t(r,n,u){var a,s,c;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={"Content-Type":"application/json"},(null==u?void 0:u.length)>0&&(a.Authorization=""+u),o.log("CCHttp POST Request: "+r+", Body: "+JSON.stringify(n)),t.next=6,fetch(r,{method:"POST",headers:a,body:JSON.stringify(n)});case 6:if((s=t.sent).ok){t.next=9;break}return t.abrupt("return","HTTP POST Error: "+s.status+" "+s.statusText);case 9:return t.next=11,s.json();case 11:return c=t.sent,t.abrupt("return",[!0,c]);case 15:return t.prev=15,t.t0=t.catch(0),o.error("CCHttp POST Error: "+t.t0),t.abrupt("return",[!1,t.t0]);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(r,e,n){return t.apply(this,arguments)}}(),t.isNetworkAvailable=function(){var t=a.isNative?a.getNetworkType()!==a.NetworkType.NONE:navigator.onLine;return t||o.error("isNetworkAvailable: "+t),t},t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCIAPConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCCacheRes.ts","./CCUtils.ts"],(function(t){var n,e,r,a,o,u,i,s,I;return{setters:[function(t){n=t.createForOfIteratorHelperLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,u=t.sys},function(t){i=t.default,s=t.CCResType},function(t){I=t.default}],execute:function(){var _,c;a._RF.push({},"36788WGpKdL5bNlwJde7D9p","CCIAPConfig",void 0);var f=o.ccclass;o.property,t("CCIapItemType",function(t){return t[t.CURRENCY=0]="CURRENCY",t[t.ADFREE=1]="ADFREE",t[t.ZHANLING=2]="ZHANLING",t[t.TWO_IN_ONE_PRIVILEGE=3]="TWO_IN_ONE_PRIVILEGE",t[t.TWO_IN_ONE_GIFT=4]="TWO_IN_ONE_GIFT",t[t.FUND_VIP=5]="FUND_VIP",t[t.FUND_CAT=6]="FUND_CAT",t}({})),t("default",f("CCIapConfig")(((c=function(){function t(){}return t.get=function(t){return this._data[t]||{}},t.set=function(t,n){this._data[t]=n},t.getString=function(t){var n=this._data[t];if(!n)return"";try{return JSON.stringify(n)}catch(t){return I.error("CCIapConfig.getString stringify error: "+t),""}},t.getAllIapProductIds=function(){for(var t,e=[],r=n(this._configNames);!(t=r()).done;){var a=t.value,o=this.getIapProductIds(a);e.push.apply(e,o)}return e},t.getAllIapItemBySkuId=function(t){for(var e,r=n(this._configNames);!(e=r()).done;){var a=e.value,o=this.getIapItemBySkuId(a,t);if(o)return o}return null},t.getIapItemNum=function(t){return this._data[t][u.os].length},t.getIapItemByIdx=function(t,n){return this._data[t][u.os][n]},t.getIapItemBySkuId=function(t,e){for(var r,a=n(this._data[t][u.os]);!(r=a()).done;){var o=r.value;if(o.productId==e)return o}return null},t.getIapProductIds=function(t){var n,e=u.os;return n=this._data[t][e].map((function(t){return t.productId})).filter((function(t){return!!t})),I.log("getIapProductIds.skuIds["+n+"]"),n},t.updateIapConfig=function(t,n){this._data[t]=JSON.parse(n),I.log("updateIapConfig["+t+"]: "+JSON.stringify(this._data[t]))},t.loadAll=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.load(t.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_2IN1);case 2:return n.next=4,t.load(t.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP);case 4:return n.next=6,t.load(t.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_FUND);case 6:return n.next=8,t.load(t.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_ZHANLING);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),t.load=function(){var n=e(r().mark((function n(a){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.load({bundleName:"profile",relativePath:a,resType:s.JsonAsset}).then(e(r().mark((function n(e){var o,u;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:o=JSON.stringify(e.json),I.log("load."+a+" ... OK"),u=JSON.parse(o),t.set(a,u),t._configNames.includes(a)||t._configNames.push(a);case 7:case"end":return n.stop()}}),n)}))));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t}()).NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP="iapConfig",c.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_ZHANLING="iapZhanLingConfig",c.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_2IN1="iap2In1Config",c.NATIVE_FIREBASE_REMOTE_CONFIG_KEY_IAP_FUND="iapFundConfig",c._configNames=[],c._data=[],_=c))||_);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCItemList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCItemTemplate.ts"],(function(e){var t,i,r,n,o,a,l,c,u,s,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SpriteFrame,c=e.Prefab,u=e.instantiate,s=e.Component},function(e){m=e.CCItemTemplate}],execute:function(){var p,f,b,h,C,y,d,g,I,P,v,z,w,L,F;o._RF.push({},"0a3ccrcPh1FH7JTT4t3ZjKO","CCItemList",void 0);var T=a.ccclass,S=a.property,_=e("CCItem",(p=T("CCItem"),f=S(l),p((C=t((h=function(){i(this,"id",C,this),i(this,"itemName",y,this),i(this,"itemPrice",d,this),i(this,"iconSF",g,this)}).prototype,"id",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=t(h.prototype,"itemName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=t(h.prototype,"itemPrice",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=t(h.prototype,"iconSF",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));e("CCItemList",(I=T("CCItemList"),P=S([_]),v=S(c),I((L=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"items",L,n(t)),i(t,"itemPrefab",F,n(t)),t}return r(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.items.length;++e){var t=u(this.itemPrefab),i=this.items[e];this.node.addChild(t),t.getComponent(m).init(i)}},t}(s)).prototype,"items",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(w.prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=w))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCItemTemplate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,l,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Sprite,c=e.Label,u=e.Component}],execute:function(){var p,s,m,f,b,y,g,h,C,d;o._RF.push({},"f8ece+Ibs1Pbb9Vtvsk06CK","CCItemTemplate",void 0);var v=a.ccclass,P=a.property;e("CCItemTemplate",(p=v("CCItemTemplate"),s=P(l),m=P(c),f=P(c),p((g=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"id",g,n(t)),r(t,"icon",h,n(t)),r(t,"itemName",C,n(t)),r(t,"itemPrice",d,n(t)),t}return i(t,e),t.prototype.init=function(e){this.id=e.id,this.icon.spriteFrame=e.iconSF,this.itemName.string=e.itemName,this.itemPrice.string=e.itemPrice.toString()},t}(u)).prototype,"id",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=t(y.prototype,"icon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(y.prototype,"itemName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"itemPrice",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCJWT.ts",["cc","./CCUtils.ts"],(function(t,e){var r,n,i,c;return{setters:[function(t){r=t.cclegacy,n=t.sys,i=t._decorator},function(t){c=t.default}],execute:function(){var s,a;r._RF.push({},"5e89bDga6pDGIhOPx2JlPt/","CCJWT",void 0),n.isNative||e.import("./index.mjs_cjs=&original=3.js").then((function(t){CryptoJS=t.default}));var o=i.ccclass;t("default",o("CCJWT")(((a=function(){function t(){}return t.base64UrlEncode=function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(JSON.stringify(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.sign=function(t,e){return CryptoJS.HmacSHA256(t,e).toString(CryptoJS.enc.Base64).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.slot=function(t,e,r,n){return c.md5(""+r.toString()+n+e+n+t)},t.generateJWT=function(t,e,r,n,i){var s=c.md5(JSON.stringify(t)),a={I:e,T:r.toString(),V:this.slot(s,e,r,n)},o=this.base64UrlEncode(this.header),u=this.base64UrlEncode(a),l=o+"."+u+"."+this.sign(o+"."+u,i);return c.log("payload: "+JSON.stringify(a)+" jwt: "+l),l},t}()).header={alg:"HS256",typ:"JWT"},s=a))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCKeyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCDebugPanel.ts","./CCUtils.ts","./CCDebug.ts","./CCPlayerData.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts"],(function(e){var n,t,o,i,a,s,d,l,r,y,C,u,E,c,D,p,_,h,T,P,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,d=e.input,l=e.Input,r=e.find,y=e.KeyCode,C=e.PhysicsSystem2D,u=e.EPhysics2DDrawFlags,E=e.Component},function(e){c=e.CCDebugPanel},function(e){D=e.default},function(e){p=e.CCDebug},function(e){_=e.CCPlayerData},function(e){h=e.CCSceneHall},function(e){T=e.CCEvent},function(e){P=e.default,f=e.EVENT_TYPE}],execute:function(){var g,K,v,b,A;a._RF.push({},"ba87bn4+kVBq6eXnM2QSg3E","CCKeyManager",void 0);var w=s.ccclass,k=s.property;e("default",(g=w("CCKeyManager"),K=k({serializable:!0,displayName:"",tooltip:""}),g((A=n((b=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).debugPanel=null,n.lastKeyPressTime=0,o(n,"doublePressInterval",A,i(n)),n.isCtrlKeyDown=!1,n.isAltKeyDown=!1,n}t(n,e);var a=n.prototype;return a.onLoad=function(){var e;(d.on(l.EventType.KEY_DOWN,this.onKeyDown,this),d.on(l.EventType.KEY_UP,this.onKeyUp,this),this.debugPanel)||(this.debugPanel=null==(e=r("DebugPanel",this.node))?void 0:e.getComponent(c))},a.onDestroy=function(){d.on(l.EventType.KEY_DOWN,this.onKeyDown,this),d.on(l.EventType.KEY_UP,this.onKeyUp,this)},a.onKeyDown=function(e){if(!P.ENABLE_PRODUCTION_MODE){if(e.keyCode===y.BACK_QUOTE){if(this.debugPanel){var n=Date.now();return(n-this.lastKeyPressTime<=this.doublePressInterval||0==this.lastKeyPressTime)&&(this.debugPanel.node.active=!this.debugPanel.node.active,this.debugPanel.node.active?C.instance.debugDrawFlags=u.All:C.instance.debugDrawFlags=u.None),void(this.lastKeyPressTime=n)}}else e.keyCode===y.CTRL_LEFT?(this.isCtrlKeyDown=!this.isCtrlKeyDown,T.emit(f.EVENT_KEY_CTRL_DOWN,this.isCtrlKeyDown)):e.keyCode==y.ALT_LEFT?(this.isAltKeyDown=!this.isAltKeyDown,T.emit(f.EVENT_KEY_ALT_DOWN,this.isAltKeyDown)):e.keyCode===y.ESCAPE?p.showDynamicAtlasDebug():e.keyCode===y.F1?(h.addMoney(1e3),h.addVip(1e3),h.addGold(1e3)):e.keyCode===y.F2?(h.addMoney(1e4),h.addVip(1e4),h.addGold(1e4)):e.keyCode===y.F3?(h.addMoney(1e6),h.addVip(1e6),h.addGold(1e6)):e.keyCode===y.F4?h.addVip(-1e4):e.keyCode==y.F9?h.addExp(1e4):e.keyCode===y.NUM_DECIMAL?(h.addMoney(-_.data.money),h.addVip(-_.data.vip),h.addGold(-_.data.gold)):e.keyCode==y.SHIFT_LEFT?P.ENABLE_DEBUG_CAT_SPEED_RATIO*=2:e.keyCode==y.SHIFT_RIGHT&&(P.ENABLE_DEBUG_CAT_SPEED_RATIO/=2,P.ENABLE_DEBUG_CAT_SPEED_RATIO<1&&(P.ENABLE_DEBUG_CAT_SPEED_RATIO=1));D.log("onKeyDown.event:"+e.keyCode)}},a.onKeyUp=function(e){D.log("onKeyUp.event:"+e.keyCode)},a.start=function(){},a.update=function(e){},n}(E)).prototype,"doublePressInterval",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),v=b))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCLabelFixed.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,n,s,l,o,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,l=e._decorator,o=e.Enum,h=e.UITransform,u=e.Label}],execute:function(){var f,d,c,p,b,g,y,x;s._RF.push({},"98329BRvtRD7qhsF2uLnKBb","CCLabelFixed",void 0);var v=l.ccclass,L=l.property,m=function(e){return e[e.NONE=0]="NONE",e[e.WIDTH=1]="WIDTH",e[e.BYTE=2]="BYTE",e}(m||{});e("default",(f=L({type:o(m),serializable:!0,displayName:"",tooltip:"WIDTH\nBYTE  12  "}),d=L({serializable:!0,displayName:""}),c=L({serializable:!0,displayName:" ...",tooltip:" 123456   123..."}),v((g=t((b=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(t,"fixedType",g,a(t)),r(t,"fixedValue",y,a(t)),r(t,"fixedString",x,a(t)),t.aLabel="",t.oldLabel="",t.isRefresh=!1,t}i(t,e);var s=t.prototype;return s.refreshView=function(){var e,t;if(!this.isRefresh&&this.node){this.isRefresh=!0;var i=this.oldLabel=this.aLabel;switch(this.fixedType){case m.WIDTH:this.fixedValue<this.fontSize&&(this.fixedValue=this.fontSize),(null!=(e=null==(t=this.node.getComponent(h))?void 0:t.width)?e:0)>this.fixedValue&&this.labelWidth(i),this.markForUpdateRenderData(!0);break;case m.BYTE:this.fixedValue<2&&(this.fixedValue=2),this.getLabelByteLength(i)>this.fixedValue&&this.labelByte(i)}this.isRefresh=!1}},s.labelWidth=function(e){for(var t,i=e.length-1;i>0;i--){var r,a;if(t=e.substr(0,i),this.string=t,null!=(r=null==(a=this.node.getComponent(h))?void 0:a.width)?r:0<this.fixedValue)return this.string=t+this.fixedString,void this.markForUpdateRenderData(!0)}},s.labelByte=function(e){for(var t,i=e.length-1;i>0;i--)if(t=e.substr(0,i),this.getLabelByteLength(t)<=this.fixedValue)return this.string=t+this.fixedString,void this.markForUpdateRenderData(!0)},s.getLabelByteLength=function(e,t){return void 0===t&&(t="**"),e.replace(/[^\x00-\xff]/g,t).length},n(t,[{key:"string",get:function(){return this.aLabel},set:function(e){this.aLabel=e,this.updateRenderData(),this.refreshView()}}]),t}(u)).prototype,"fixedType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.NONE}}),y=t(b.prototype,"fixedValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),x=t(b.prototype,"fixedString",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"..."}}),p=b))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCLabelTyping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts"],(function(e){var t,i,n,s,r,a,o,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Label},function(e){l=e.CCButton},function(e){p=e.default}],execute:function(){var h,c,u,d,y,g,C,f,b,m,T,x,L;r._RF.push({},"f1718GGyKFK+rjI9idQaPmL","CCLabelTyping",void 0);var S=a.ccclass,v=a.property;e("CCLabelTyping",(h=S("CCLabelTyping"),c=v({type:o,displayName:""}),u=v({displayName:""}),d=v({displayName:"(s)"}),y=v({displayName:""}),g=v({displayName:"(s),0="}),h((b=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"label",b,s(t)),n(t,"textContent",m,s(t)),n(t,"textSpeed",T,s(t)),n(t,"speedAccelerateRatio",x,s(t)),n(t,"restoreDelay",L,s(t)),t.typingIndex=0,t.isTyping=!1,t.isPaused=!1,t.startTime=0,t.currentSpeedAccelerateRatio=1,t.fnCompleted=null,t.lastCharTime=0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this)},r.onDestroy=function(){this.stopTyping(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},r.startTyping=function(e,t){void 0===t&&(t=null),this.label?(this.enableCCButtonListenerWithoutTarget(!0),this.enabled=!0,this.stopTyping(),this.textContent=e,this.typingIndex=0,this.isPaused=!1,this.isTyping=!0,this.fnCompleted=t,this.label.string="",this.startTime=p.NowTimeStamp(),this.scheduleNextChar()):p.error("label.nil")},r.stopTyping=function(){this.isTyping=!1,this.isPaused=!1,this.typingIndex=0,this.textContent="",this.currentSpeedAccelerateRatio=1},r.pauseTyping=function(){this.isPaused=!0},r.resumeTyping=function(){this.isPaused&&this.isTyping&&(this.isPaused=!1,this.scheduleNextChar())},r.onTap=function(){var e=this;p.log("onTap.........."),this.restoreDelay<0&&(this.restoreDelay=0),this.currentSpeedAccelerateRatio=this.speedAccelerateRatio,this.currentSpeedAccelerateRatio<0&&(this.currentSpeedAccelerateRatio=1),this.restoreDelay>0&&this.scheduleOnce((function(){e.currentSpeedAccelerateRatio=1}),this.restoreDelay)},r.scheduleNextChar=function(){var e=this;if(!this.label||!this.isTyping||this.isPaused||this.typingIndex>=this.textContent.length)return this.enableCCButtonListenerWithoutTarget(!1),this.enabled=!1,void(this.fnCompleted&&this.fnCompleted());var t=this.textSpeed/this.currentSpeedAccelerateRatio,i=0===this.typingIndex?this.startTime:this.lastCharTime,n=p.NowTimeStamp(),s=i+1e3*t,r=parseFloat((Math.max(0,s-n)/1e3).toFixed(2));r>0?this.scheduleOnce((function(){e.label.string+=e.textContent[e.typingIndex],e.typingIndex++,e.lastCharTime=s,e.scheduleNextChar()}),r):(this.label.string+=this.textContent[this.typingIndex],this.typingIndex++,this.lastCharTime=n,this.scheduleNextChar())},t}(l)).prototype,"label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(f.prototype,"textContent",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=t(f.prototype,"textSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),x=t(f.prototype,"speedAccelerateRatio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),L=t(f.prototype,"restoreDelay",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),C=f))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCLingoData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPlayerData.ts","./CCUtils.ts","./CCCacheRes.ts","./CCDefine.ts"],(function(t){var n,e,r,a,l,o,u,i,s,c,f;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator},function(t){o=t.LingoType,u=t.CCPlayerData},function(t){i=t.default},function(t){s=t.default,c=t.CCResType},function(t){f=t.default}],execute:function(){var d,p;a._RF.push({},"dde80Wfh+RCLJT1/vx+ohrp","CCLingoData",void 0);var g=l.ccclass,h=(l.property,t("_T",(function(t){for(var n,e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return null!=(n=h.get.apply(h,[t].concat(r)))?n:""})),t("default",g("CCLingoData")(((p=function(){function t(){}return t.clear=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._data={};case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t.addRow=function(t){this._data[t.tagId]=t},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.getRowsByTagId=function(t){var n;return null!=(n=this._data[t])?n:{}},t.get=function(t){var n,e;if(null==t||null==t)return"";if(0==t.length)return"";for(var r=null!=(null==(n=u.data)?void 0:n.lingoType)?u.data.lingoType:this.GLOBAL_LINGO_TYPE,a=arguments.length,l=new Array(a>1?a-1:0),o=1;o<a;o++)l[o-1]=arguments[o];var s=i.formatString.apply(i,[null==(e=this._data[t])?void 0:e.lang[r]].concat(l));return s},t.load=function(){var n=e(r().mark((function n(){var a,l,o,u,d,p=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.load({bundleName:"profile",relativePath:"lingo",resType:c.TextAsset});case 2:if(a=n.sent){n.next=5;break}return n.abrupt("return");case 5:if(0!=(l=i.csv2array(a.text,1,1)).length){n.next=8;break}return n.abrupt("return");case 8:return t.clear(),o=l.map(e(r().mark((function n(e){var a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e["ID"]){n.next=3;break}return i.error("['ID'].nil"),n.abrupt("return");case 3:a={tagId:e["ID"],lang:[null==e[""]?"":e[""].replaceAll("##","'").replaceAll("#",'"').replaceAll("@@","\n").replaceAll("@",","),null==e[""]?"":e[""].replaceAll("@@","\n").replaceAll("@",",")]},t.addRow(a),f.ENABLE_TTF_CULLING_LOG&&(a.lang[0].split("").forEach((function(t){return p._dataEn.add(t)})),a.lang[1].split("").forEach((function(t){return p._dataCn.add(t)})));case 7:case"end":return n.stop()}}),n)})))),f.ENABLE_TTF_CULLING_LOG&&(u=Array.from(this._dataEn).sort(this.sortEnglish),d=Array.from(this._dataCn).sort((function(t,n){return t.localeCompare(n,"zh-CN")})),i.log("load.lingo._dataEn["+u.length+"]: "+u.join("")),i.log("load.lingo._dataCn["+d.length+"]: "+d.join(""))),n.next=14,Promise.all(o);case 14:i.log("load.lingo.total rows: "+t.totalKeys()+" ... OK");case 15:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),n(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}()).GLOBAL_LINGO_TYPE=o.EN,p._dataEn=new Set,p._dataCn=new Set,p._data={},p.sortEnglish=function(t,n){var e=/^[A-Z]$/.test(t),r=/^[A-Z]$/.test(n);if(e&&!r)return-1;if(!e&&r)return 1;var a=/^[a-z]$/.test(t),l=/^[a-z]$/.test(n);if(a&&!l)return-1;if(!a&&l)return 1;var o=/^[0-9]$/.test(t),u=/^[0-9]$/.test(n);return o&&!u?-1:!o&&u?1:t.localeCompare(n)},d=p))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCLogicSpecialNpc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCDefine.ts","./CCPlayerData.ts","./CCSceneHall.ts","./CCUtils.ts","./Npc.ts","./CCSpecialNpc2001.ts","./CCEventNpcData.ts","./CCSundryData.ts","./CCEvent.ts","./CCSpecialNpc2005.ts","./CCSpecialNpc2004.ts","./CCSpecialNpc2006.ts","./CCSpecialNpc2002.ts","./CCSpecialNpc2003.ts","./CCSpecialNpc2007.ts","./CCPathManager.ts"],(function(e){var a,t,i,n,c,p,l,o,s,N,r,C,u,f,S,m,d,h,g,P,E,k,y,v;return{setters:[function(e){a=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,n=e.Component},function(e){c=e.default,p=e.EVENT_TYPE,l=e.SpecialNpcType},function(e){o=e.CCPlayerData,s=e.CC_NEWBIE_GUIDE_TYPE,N=e.StaffSkillsStatus},function(e){r=e.CCSceneHall},function(e){C=e.default},function(e){u=e.NPC_TYPE},function(e){f=e.CCSpecialNpc2001},function(e){S=e.default},function(e){m=e.default},function(e){d=e.CCEvent},function(e){h=e.CCSpecialNpc2005},function(e){g=e.CCSpecialNpc2004},function(e){P=e.CCSpecialNpc2006},function(e){E=e.CCSpecialNpc2002},function(e){k=e.CCSpecialNpc2003},function(e){y=e.CCSpecialNpc2007},function(e){v=e.CCPathManager}],execute:function(){var L,T;t._RF.push({},"6c8d5xwGWtIS7eMnJpC5XVA","CCLogicSpecialNpc",void 0);var I=i.ccclass;i.property,e("CCLogicSpecialNpc",I("CCLogicSpecialNpc")(((T=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.checkInvalid()},i.checkInvalid=function(){var e=this;c.ENABLE_NEWBIE_GUIDE&&o.getNewbieGuideStepsCompleted(s.DEFAULT)<c.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP?this.scheduleOnce((function(){e.checkInvalid()}),5):(d.on(p.DAILY_SPECIAL_TASK_GERNERATED,this.onDailySpecialTaskGenerate,this),this.doWork())},i.doWork=function(){t.specialNpc=[null,null,null,null,null,null,null,null],c.ALLOW_GENERATE_SPECIAL_NPC=!0,d.on(p.PRE_LEAVE,this.onPreLeave,this),t.fnLoop||(t.fnLoop=function(){t.loop()},this.scheduleOnce((function(){t.fnLoop()}),1),this.schedule(t.fnLoop,C.randomRange(m.data.SpCusComePassSecondOnlineRange[0],m.data.SpCusComePassSecondOnlineRange[1]))),t.fnLoopSpecial||(t.fnLoopSpecial=function(){t.loopSpecial()},this.scheduleOnce((function(){t.fnLoopSpecial()}),1),this.schedule(t.fnLoopSpecial,5))},i.onDestroy=function(){d.targetOff(this),this.unscheduleAllCallbacks(),t.fnLoop=null,t.fnLoopSpecial=null,C.recyleNode(t.specialNpc),t.lastSpecialNpcUsed=-1,e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},i.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this)},i.onDisable=function(){e.prototype.onDisable&&e.prototype.onDisable.call(this)},t.isSpecialNpcWorking=function(e,a){var t;if(null==this.specialNpc)return!1;var i=this.specialNpc[e];return!!i&&(null==(t=i.getComponent(a))||null==(t=t.node)?void 0:t.active)},t.loop=function(){var e=this,a=m.data.SpCusComeLimitPerDay;a<1||(o.getSpecialNpcAppearTimeTotal()>=a||S.getEventTypes().forEach((function(a){e.runningByEventType(a)})))},t.runningByEventType=function(e){var a=[];if(this.isCanSetSpecialNpcUsing(l.NPCName2001,e)){if(this.isSpecialNpcWorking(l.NPCName2001,f))return}else a.push(l.NPCName2001);if(this.isCanSetSpecialNpcUsing(l.NPCName2002,e)){if(this.isSpecialNpcWorking(l.NPCName2002,E))return}else a.push(l.NPCName2002);if(this.isCanSetSpecialNpcUsing(l.NPCName2003,e)){if(this.isSpecialNpcWorking(l.NPCName2003,k))return}else a.push(l.NPCName2003);if(this.isCanSetSpecialNpcUsing(l.NPCName2004,e)){if(this.isSpecialNpcWorking(l.NPCName2004,g))return}else a.push(l.NPCName2004);if(this.isCanSetSpecialNpcUsing(l.NPCName2005,e)){if(this.isSpecialNpcWorking(l.NPCName2005,h))return}else a.push(l.NPCName2005);if(this.isCanSetSpecialNpcUsing(l.NPCName2006,e)){if(this.isSpecialNpcWorking(l.NPCName2006,P))return}else a.push(l.NPCName2006);var t=[];S.iterator((function(e){t.push(e.appearLimit)}));for(var i=0,n=t.map((function(e){return i+=e})),c=0,p=-1,o=0;o<10;o++){c=C.randomRange(0,i);for(var s=0;s<n.length;s++)if(c<n[s]){if(a.includes(s+1))continue;p=s;break}if(-1!=p)break}if(-1!=p)switch(p+1){case l.NPCName2001:this.generateSpecialNpc(l.NPCName2001,f,"man"+(l.NPCName2001+this.npcStep),!0);break;case l.NPCName2002:this.generateSpecialNpc(l.NPCName2002,E,"man"+(l.NPCName2002+this.npcStep),!0);break;case l.NPCName2003:this.generateSpecialNpc(l.NPCName2003,k,"man"+(l.NPCName2003+this.npcStep),!0);break;case l.NPCName2004:this.generateSpecialNpc(l.NPCName2004,g,"man"+(l.NPCName2004+this.npcStep),!0);break;case l.NPCName2005:this.generateSpecialNpc(l.NPCName2005,h,"man"+(l.NPCName2005+this.npcStep),!0);break;case l.NPCName2006:this.generateSpecialNpc(l.NPCName2006,P,"man"+(l.NPCName2006+this.npcStep),!0);break;default:return void C.log("specialNpcIdx: "+p+".unknown!")}else C.log("specialNpc["+(p+1)+"] can't using!")},i.onDailySpecialTaskGenerate=function(){t.loopSpecial()},t.loopSpecial=function(){if(c.ENABLE_DEBUG_GENERATE_NPC&&v.walkable.length){var e=o.getDailySpecialTaskProcess();if(e&&e.generated&&(!e.accepted&&!e.completed&&!e.claimed||e.accepted&&e.completed&&!e.claimed)&&this.isCanSetSpecialNpcUsing(l.NPCName2007,-1,!1)){if(this.isSpecialNpcWorking(l.NPCName2007,y))return;this.generateSpecialNpc(l.NPCName2007,y,"man0"+(m.data.NPCSpecialTask[0]-1e3),!1)}}},t.generateSpecialNpc=function(e,a,t,i){var n=this;void 0===i&&(i=!0),c.ENABLE_DEBUG_GENERATE_NPC&&(this.specialNpc[e]?this.specialNpc[e].getComponent(a).data.fnComplete&&this.specialNpc[e].getComponent(a).data.fnComplete():(this.specialNpc[e]=r.addNpc(a,r.Hall_Area_Middle,t,"default",-1,o.getSpineWalkSpeed(),[c.tileIn[0].copy(),c.tileIn[0].copy()],!0,!1,!0,!0,(function(t){n.specialNpc[e].getComponent(a).data.fnComplete&&n.specialNpc[e].getComponent(a).data.fnComplete()})),this.specialNpc[e].getComponent(a).data.type=u.SPECIAL,this.specialNpc[e].getComponent(a).data.tiles=c.copyTileIn(),this.specialNpc[e].getComponent(a).data.tilesLeft=c.copyTileIn(),this.specialNpc[e].getComponent(a).data.skinName="default",this.specialNpc[e].getComponent(a).data.npcId=e,this.specialNpc[e].getComponent(a).data.fnComplete=this.preEnter.bind(this,e,a,null,this.specialNpc[e],i)))},t.getWorkingDuration=function(e){switch(e){case l.NPCName2001:return m.data.SpCusThiefParams[1];case l.NPCName2002:case l.NPCName2003:return 0;case l.NPCName2004:return m.data.SpCusBegParams[1];case l.NPCName2005:return m.data.SpCusRichManParams[2];case l.NPCName2006:case l.NPCName2007:return 0}},t.getSpecialNpcUnlocked=function(e,a){void 0===a&&(a=!0);var t=e+this.npcStep;if(a&&null==S.getRowsByTagId(t))return;return o.getSpecialNpcUnlocked(t)},t.isCanSetSpecialNpcUsing=function(e,a,t){void 0===t&&(t=!0);var i,n=e+this.npcStep;if(t){if(null==(i=S.getRowsByTagId(n)))return!1;if(i.eventType!=a)return!1}var c=this.getSpecialNpcUnlocked(e,t);if(null==c){if(t){if(i.needVip>o.data.vip)return!1;if(i.needBuildingId>0&&!o.getBuildingIdUnlocked().includes(i.needBuildingId))return!1}else if(e==l.NPCName2007&&m.data.NPCSpecialTask[1]>o.data.vip)return!1;o.setSpecialNpcUnlocked(n,{workingStatus:N.IDLE,todayEnableCount:0,todayHitCount:0,skillsUsingCount:0,lastEnableTime:C.NowTimeStamp(),workingDuration:this.getWorkingDuration(e),isInitial:!1}),c=o.getSpecialNpcUnlocked(n)}return!(c.workingDuration>=0&&t&&c.todayEnableCount>=i.appearLimit)},t.preEnter=function(e,a,t,i,n){void 0===n&&(n=!0);var c,p=e+this.npcStep;if(!n||null!=(c=S.getRowsByTagId(p))){var s=this.getSpecialNpcUnlocked(e,n);if(null!=s){if(s.workingStatus==N.IDLE){if(!s.isInitial&&n){if(null==(c=S.getRowsByTagId(p)))return;if(s.todayEnableCount>=c.appearLimit)return}s.todayEnableCount++,s.todayHitCount=0,s.skillsUsingCount=0,s.workingStatus=N.WORKING,s.lastEnableTime=C.NowTimeStamp()}if(s.workingStatus==N.WORKING){if(s.isInitial)return;if(e==l.NPCName2006&&0==o.getQueueCushionBrokenCount(!1))return;s.isInitial=!0,i.getComponent(a).enter(t),o.pushSpecialNpcAppearTime()}}}},i.onPreLeave=function(e){var a,i,n=e-t.npcStep;switch(n){case l.NPCName2001:i=f;break;case l.NPCName2002:i=E;break;case l.NPCName2003:i=k;break;case l.NPCName2004:i=g;break;case l.NPCName2005:i=h;break;case l.NPCName2006:i=P;break;case l.NPCName2007:i=y;default:return}null==(a=t.specialNpc[n])||null==(a=a.getComponent(i))||a.preLeave()},t}(n)).lastSpecialNpcUsed=-1,T.specialNpc=null,T.npcStep=2e3,T.fnLoop=null,T.fnLoopSpecial=null,L=T))||L);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCLogicStaff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCDefine.ts","./CCPlayerData.ts","./CCSceneHall.ts","./CCTileData.ts","./CCUtils.ts","./CCStaffCashier.ts","./CCStaffRepairMan.ts","./CCStaffSecurity.ts","./CCStaffSaler.ts","./CCStaffServer.ts","./CCStaffCleaner.ts","./CCStaffReception.ts","./Npc.ts","./CCEvent.ts","./CCPathManager.ts"],(function(t){var e,n,a,i,f,l,o,s,p,S,C,E,R,d,u,r,c,g,A,I,h,L;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.Component},function(t){f=t.EVENT_TYPE,l=t.default,o=t.StaffType},function(t){s=t.CCPlayerData,p=t.StaffSkillsStatus},function(t){S=t.CCSceneHall},function(t){C=t.CCTileData},function(t){E=t.default},function(t){R=t.CCStaffCashier},function(t){d=t.CCStaffRepairMan},function(t){u=t.CCStaffSecurity},function(t){r=t.CCStaffSaler},function(t){c=t.CCStaffServer},function(t){g=t.CCStaffCleaner},function(t){A=t.CCStaffReception},function(t){I=t.NPC_TYPE},function(t){h=t.CCEvent},function(t){L=t.CCPathManager}],execute:function(){var m,N;n._RF.push({},"47063GQzd9NX5y3WIXEGR3Q","CCLogicStaff",void 0);var T=a.ccclass;a.property,t("CCLogicStaff",T("CCLogicStaff")(((N=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),n.staff=[null,null,null,null,null,null,null,null],n.fnLoop||(n.fnLoop=function(){n.loop()},this.scheduleOnce((function(){n.fnLoop()}),0),this.schedule(n.fnLoop,1))},a.onDestroy=function(){h.targetOff(this),this.unscheduleAllCallbacks(),n.fnLoop=null,E.recyleNode(n.staff),t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},a.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),h.on(f.CAT_TREE_WAITTING_STAFF_REPAIR,this.onWaittingStaffRepair,this)},a.onDisable=function(){this.unscheduleAllCallbacks(),h.targetOff(this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},n.loop=function(){var t=this;if(l.ENABLE_DEBUG_GENERATE_NPC&&L.walkable.length){var e=s.getStaffLevelUsing(o.RECEPTION);e&&(this.staff[o.RECEPTION]?this.enterOrLeave(o.RECEPTION,A,null,this.staff[o.RECEPTION]):(this.staff[o.RECEPTION]=S.addNpc(A,S.Hall_Area_Middle,"man"+o.RECEPTION,"default",4,s.getSpineWalkSpeed(),[new C(18,11),new C(18,11)],!0,!1,!1,!1,(function(t){null==t||t.timeScale(s.getSpineAnimationSpeed()),null==t||t.setSpeed(s.getSpineWalkSpeed()),(e=s.getStaffLevelUsing(o.RECEPTION)).workingStatus==p.WORKING||e.workingStatus==p.IDLE&&(null==t||t.animation(1,"idle2"))})),this.staff[o.RECEPTION].getComponent(A).data.type=I.STAFF,this.staff[o.RECEPTION].getComponent(A).data.skinName="default",this.staff[o.RECEPTION].getComponent(A).data.npcId=o.RECEPTION,this.staff[o.RECEPTION].getComponent(A).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.CLEANER))&&(this.staff[o.CLEANER]?this.enterOrLeave(o.CLEANER,g,null,this.staff[o.CLEANER]):(this.staff[o.CLEANER]=S.addNpc(g,S.Hall_Area_Middle,"man"+o.CLEANER,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!1,(function(e){null==e||e.timeScale(2*s.getSpineAnimationSpeed()),null==e||e.setSpeed(2*s.getSpineWalkSpeed()),t.enterOrLeave(o.CLEANER,g,null,e.node)})),this.staff[o.CLEANER].getComponent(g).data.type=I.STAFF,this.staff[o.CLEANER].getComponent(g).data.tiles=l.copyTileIn(),this.staff[o.CLEANER].getComponent(g).data.tilesLeft=l.copyTileIn(),this.staff[o.CLEANER].getComponent(g).data.skinName="default",this.staff[o.CLEANER].getComponent(g).data.npcId=o.CLEANER,this.staff[o.CLEANER].getComponent(g).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.SERVER))&&(this.staff[o.SERVER]?this.enterOrLeave(o.SERVER,c,null,this.staff[o.SERVER]):(this.staff[o.SERVER]=S.addNpc(c,S.Hall_Area_Middle,"man"+o.SERVER,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!0,(function(e){null==e||e.timeScale(1.5*s.getSpineAnimationSpeed()),null==e||e.setSpeed(1.5*s.getSpineWalkSpeed()),t.enterOrLeave(o.SERVER,c,null,e.node)})),this.staff[o.SERVER].getComponent(c).data.type=I.STAFF,this.staff[o.SERVER].getComponent(c).data.tiles=l.copyTileIn(),this.staff[o.SERVER].getComponent(c).data.tilesLeft=l.copyTileIn(),this.staff[o.SERVER].getComponent(c).data.skinName="default",this.staff[o.SERVER].getComponent(c).data.npcId=o.SERVER,this.staff[o.SERVER].getComponent(c).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.SALER))&&(this.staff[o.SALER]?this.enterOrLeave(o.SALER,r,null,this.staff[o.SALER]):(this.staff[o.SALER]=S.addNpc(r,S.Hall_Area_Middle,"man"+o.SALER,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!0,(function(e){null==e||e.timeScale(1.5*s.getSpineAnimationSpeed()),null==e||e.setSpeed(1.5*s.getSpineWalkSpeed()),t.enterOrLeave(o.SALER,r,null,e.node)})),this.staff[o.SALER].getComponent(r).data.type=I.STAFF,this.staff[o.SALER].getComponent(r).data.tiles=l.copyTileIn(),this.staff[o.SALER].getComponent(r).data.tilesLeft=l.copyTileIn(),this.staff[o.SALER].getComponent(r).data.skinName="default",this.staff[o.SALER].getComponent(r).data.npcId=o.SALER,this.staff[o.SALER].getComponent(r).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.SECURITY))&&(this.staff[o.SECURITY]?this.enterOrLeave(o.SECURITY,u,null,this.staff[o.SECURITY]):(this.staff[o.SECURITY]=S.addNpc(u,S.Hall_Area_Middle,"man"+o.SECURITY,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!0,(function(e){null==e||e.timeScale(2*s.getSpineAnimationSpeed()),null==e||e.setSpeed(2*s.getSpineWalkSpeed()),t.enterOrLeave(o.SECURITY,u,null,e.node)})),this.staff[o.SECURITY].getComponent(u).data.type=I.STAFF,this.staff[o.SECURITY].getComponent(u).data.tiles=l.copyTileIn(),this.staff[o.SECURITY].getComponent(u).data.tilesLeft=l.copyTileIn(),this.staff[o.SECURITY].getComponent(u).data.skinName="default",this.staff[o.SECURITY].getComponent(u).data.npcId=o.SECURITY,this.staff[o.SECURITY].getComponent(u).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.REPAIRMAN))&&(this.staff[o.REPAIRMAN]?this.enterOrLeave(o.REPAIRMAN,d,null,this.staff[o.REPAIRMAN]):(this.staff[o.REPAIRMAN]=S.addNpc(d,S.Hall_Area_Middle,"man"+o.REPAIRMAN,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!0,(function(e){null==e||e.timeScale(s.getSpineAnimationSpeed()),null==e||e.setSpeed(s.getSpineWalkSpeed()),t.enterOrLeave(o.REPAIRMAN,d,null,e.node)})),this.staff[o.REPAIRMAN].getComponent(d).data.type=I.STAFF,this.staff[o.REPAIRMAN].getComponent(d).data.tiles=l.copyTileIn(),this.staff[o.REPAIRMAN].getComponent(d).data.tilesLeft=l.copyTileIn(),this.staff[o.REPAIRMAN].getComponent(d).data.skinName="default",this.staff[o.REPAIRMAN].getComponent(d).data.npcId=o.REPAIRMAN,this.staff[o.REPAIRMAN].getComponent(d).preventSwallow=!0)),(e=s.getStaffLevelUsing(o.CASHIER))&&(this.staff[o.CASHIER]?this.enterOrLeave(o.CASHIER,R,null,this.staff[o.CASHIER]):(this.staff[o.CASHIER]=S.addNpc(R,S.Hall_Area_Middle,"man"+o.CASHIER,"default",-1,s.getSpineWalkSpeed(),[l.tileIn[0].copy(),l.tileIn[0].copy()],!0,!0,!0,!0,(function(e){null==e||e.timeScale(2*s.getSpineAnimationSpeed()),null==e||e.setSpeed(2*s.getSpineWalkSpeed()),t.enterOrLeave(o.CASHIER,R,null,e.node)})),this.staff[o.CASHIER].getComponent(R).data.type=I.STAFF,this.staff[o.CASHIER].getComponent(R).data.tiles=l.copyTileIn(),this.staff[o.CASHIER].getComponent(R).data.tilesLeft=l.copyTileIn(),this.staff[o.CASHIER].getComponent(R).data.skinName="default",this.staff[o.CASHIER].getComponent(R).data.npcId=o.CASHIER,this.staff[o.CASHIER].getComponent(R).preventSwallow=!0))}},n.enterOrLeave=function(t,e,n,a){var i=s.getStaffLevelUsing(t);if(null!=i&&null!=a.getComponent(L)){if(t==o.REPAIRMAN){if(0==s.getQuickRepairCushionTypeId()&&-1==s.getQuickRepairCushionPos())return;if(s.getStaffLevelUsingInitial(t))return;return s.setStaffLevelUsingInitial(t,!0),void a.getComponent(e).enter(n)}if(i.workingStatus==p.WORKING){if(s.getStaffLevelUsingInitial(t))return;s.setStaffLevelUsingInitial(t,!0),a.getComponent(e).enter(n)}else if(i.workingStatus==p.IDLE){if(!s.getStaffLevelUsingInitial(t))return;s.setStaffLevelUsingInitial(t,!1),a.getComponent(e).leave(n)}}},a.onWaittingStaffRepair=function(t,e){var a=this;if(s.getQuickRepairCushionTypeId()==t&&s.getQuickRepairCushionPos()==e){!function t(){if(n.staff[o.REPAIRMAN])return a.unschedule(t),void n.enterOrLeave(o.REPAIRMAN,d,null,n.staff[o.REPAIRMAN]);a.scheduleOnce(t,1)}()}},n}(i)).staff=null,N.fnLoop=null,m=N))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCLottie.ts",["cc","./CCUtils.ts","./CCNative.ts","./CCDefine.ts"],(function(t){var i,n,e,o,s,a;return{setters:[function(t){i=t.cclegacy,n=t._decorator,e=t.sys},function(t){o=t.default},function(t){s=t.default},function(t){a=t.default}],execute:function(){var c;i._RF.push({},"b1d4fr+VtdI4YocMZx7d/UP","CCLottie",void 0);var u=n.ccclass,r=(n.property,t("default",u("CCLottie")(c=function(){function t(){}return t.show=function(t,i){if(void 0===i&&(i=1),o.log("init.lottieFileJsonName["+t+"].scale["+i+"]"),!e.isNative)return!1;e.os==e.OS.ANDROID&&s.call(a.NATIVE_CLASS_ROOT_PATH+"/animation/CCLottie","show","(Ljava/lang/String;F)V",t,i)},t.dismiss=function(){if(!e.isNative)return!1;e.os==e.OS.ANDROID&&s.call(a.NATIVE_CLASS_ROOT_PATH+"/animation/CCLottie","dismiss","()V")},t}())||c));window.CCLottie=r,i._RF.pop()}}}));

System.register("chunks:///_virtual/CCManagementStaff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCUtils.ts","./CCBuildingData.ts"],(function(t){var n,e,a,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.CCButton},function(t){i=t.default},function(t){r=t.default}],execute:function(){var u;e._RF.push({},"a47acqJbo1H3I88Hf2iiQUO","CCManagementStaff",void 0);var f=a.ccclass;a.property,t("CCManagementStaff",f("CCManagementStaff")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var a=e.prototype;return a.update=function(t){},a.onBtnPressStart=function(t,n,e){var a=r.getRowByTypeIdAndLevel(Math.floor(this.Idx/100),this.Idx%100);i.log("item: "+JSON.stringify(a))},e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCMapData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCStorage.ts","./CCUtils.ts"],(function(t){var a,e,i,n,s,r;return{setters:[function(t){a=t.createClass},function(t){e=t.cclegacy,i=t.js,n=t._decorator},function(t){s=t.default},function(t){r=t.default}],execute:function(){var o,c;e._RF.push({},"4c8c1TEgVtKi4ohllmw0wur","CCMapData",void 0);var u=i.IDGenerator,l=n.ccclass,d=(n.property,"MapData");t("default",l("CCMapData")(((c=function(){function t(){}return t.initData=function(){return{version:0,sx:0,sy:0,ex:0,ey:0,width:0,height:0,rows:0,cols:0,matrix:[],consumer:[],lastUpdateTime:r.NowTimeStamp()}},t.load=function(){var t=s.load(d);if(t)try{this._data=JSON.parse(t)}catch(t){this._data=this.initData()}else this._data=this.initData();return this._data},t.save=function(){var t=JSON.stringify(this._data);r.log("save: "+t),s.save(d,t)},a(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data=void 0,c.IDG=new u,o=c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCMask.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,s,r,a,p,l,h;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){s=o.cclegacy,r=o._decorator,a=o.PolygonCollider2D,p=o.Mask,l=o.Graphics,h=o.Component}],execute:function(){var c,u,g,y,d,_,m;s._RF.push({},"35e3bU/85NGh5xFaSep5liR","CCMask",void 0);var f=r.ccclass,C=r.property,v=r.executeInEditMode;r.requireComponent,o("CCMask",(c=f("CCMask"),u=C({displayName:"Mask",tooltip:"Mask"}),g=C({type:[a],displayName:"",tooltip:""}),c(y=v((_=t((d=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=o.call.apply(o,[this].concat(s))||this,e(t,"polyNum",_,i(t)),e(t,"_polygon",m,i(t)),t._mask=void 0,t._graphics=null,t}n(t,o);var s=t.prototype;return s.onLoad=function(){this._mask=this.node.getComponent(p)||this.node.addComponent(p),this._mask.type===p.Type.GRAPHICS_STENCIL&&(this._graphics=this.node.getComponent(l)||this.node.addComponent(l),this._initializePolygons())},s._initializePolygons=function(){var o=this;this.node.getComponents(a).forEach((function(t){"HallWallMask<PolygonCollider2D>"==t.name&&o.node.removeComponent(t)}));for(var t=function(){var t=o.node.getComponent(a);if(t&&t.name=="PolygonCollider2D-"+o._polygon.length)return 1;(t=o.node.addComponent(a)).name="PolygonCollider2D-"+o._polygon.length,o._polygon.push(t);var n=t._points;Object.defineProperty(t,"_points",{get:function(){return n},set:function(t){n=t,o._updateMask()}})};this._polygon.length<this.polyNum;)t();for(;this._polygon.length>this.polyNum;){var n=this._polygon.pop();n&&this.node.removeComponent(n)}},s._updateMask=function(){if(this.isValid&&this._graphics&&this._mask.type===p.Type.GRAPHICS_STENCIL){this._graphics.clear();for(var o=0;o<this.polyNum;o++){var t=this._polygon[o];if(t&&!(t.points.length<3)){this._graphics.moveTo(t.points[0].x,t.points[0].y);for(var n=1;n<t.points.length;n++)this._graphics.lineTo(t.points[n].x,t.points[n].y);this._graphics.close(),this._graphics.stroke(),this._graphics.fill()}}}},s.start=function(){this._updateMask()},t}(h)).prototype,"polyNum",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=t(d.prototype,"_polygon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=d))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCNative.ts",["cc","./CCUtils.ts","./CCDefine.ts"],(function(e){var a,t,r,i,n,l;return{setters:[function(e){a=e.cclegacy,t=e._decorator,r=e.sys,i=e.native},function(e){n=e.default},function(e){l=e.default}],execute:function(){var v,A;a._RF.push({},"96f60xcCKNME6aCpgXl7B1Z","CCNative",void 0);var C=t.ccclass;t.property,e("default",C("CCNative")(((A=function(){function e(){}return e.init=function(a){if(n.log("CCNative.init["+this.isInited+"] ... "+r.isNative),!r.isNative)return!1;if(this.isInited)return!0;this.isInited=!0;var t=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getPackageName","()Ljava/lang/String;");e.set("packageName",t);var i=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getPackageVersionName","()Ljava/lang/String;");e.set("versionName",i);var v=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getPackageVersionCode","()J");e.set("versionCode",v);var A=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getAndroidVersion","()Ljava/lang/String;");e.set("androidVersion",A);var C=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getApiLevel","()I");e.set("apiLevel",C);var c=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBuildId","()Ljava/lang/String;");e.set("buildId",c);var g=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getDisplay","()Ljava/lang/String;");e.set("display",g);var S=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getProduct","()Ljava/lang/String;");e.set("product",S);var T=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getDevice","()Ljava/lang/String;");e.set("device",T);var _=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBoard","()Ljava/lang/String;");e.set("board",_);var s=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getManufacturer","()Ljava/lang/String;");e.set("manufacturer",s);var o=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBrand","()Ljava/lang/String;");e.set("brand",o);var O=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getModel","()Ljava/lang/String;");e.set("model",O);var I=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSecurityPatch","()Ljava/lang/String;");e.set("securityPatch",I);var N=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getType","()Ljava/lang/String;");e.set("type",N);var L=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getTags","()Ljava/lang/String;");e.set("tags",L);var u=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getFingerPrint","()Ljava/lang/String;");e.set("fingerPrint",u);var D=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getHardware","()Ljava/lang/String;");e.set("hardware",D);var P=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSku","()Ljava/lang/String;");e.set("sku",P);var R=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getTime","()J");e.set("buildTime",R);var E=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getHost","()Ljava/lang/String;");e.set("buildHost",E);var f=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getLocale","()Ljava/lang/String;");e.set("locale",f);var V=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getAbis","()Ljava/lang/String;");e.set("abis",V);var d=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","get64BitAbis","()Ljava/lang/String;");e.set("abis64bit",d);var H=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getScreenLayout","()I");e.set("screenLayout",H);var p=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isUsingWifi","()Z");e.set("isUsingWifi",p);var j=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getConnectionType","()Ljava/lang/String;");e.set("connectionType",j);var m=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNetworkType","()I");e.set("networkType",m);var y=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNetworkMetered","()Z");e.set("networkMetered",y);var h=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNetworkOperator","()Ljava/lang/String;");e.set("networkOperator",h);var k=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNetworkOperatorName","()Ljava/lang/String;");e.set("networkOperatorName",k);var F=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNetworkCountryISO","()Ljava/lang/String;");e.set("networkCountryISO",F);var b=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getDisplayMetricDensity","()F");e.set("displayMetricDensity",b);var w=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getScreenDensity","()I");e.set("screenDensity",w);var B=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getScreenWidth","()I");e.set("screenWidth",B);var M=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getScreenHeight","()I");e.set("screenHeight",M);var J=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isTablet","()Z");e.set("isTablet",J);var Z=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getRingerMode","()I");e.set("ringMode",Z);var U=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getScreenBrightness","()I");e.set("screenBrightness",U);var x=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBatteryLevel","()F");e.set("batteryLevel",x);var W=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBatteryStatus","()I");e.set("batteryStatus",W);var G=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getProcessInfo","()Ljava/lang/String;");e.set("processInfo",G);var K=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getTotalMemory","()J");e.set("totalMemory",K);var X=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getFreeMemory","()J");e.set("freeMemory",X);var q=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isRooted","()Z");e.set("isRooted",q);var z=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isAdbEnabled","()Z");e.set("isAdbEnabled",z);var Q=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getPackageInfo","()Ljava/lang/String;");e.set("packageInfo",Q);var Y=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getGLVersion","()Ljava/lang/String;");e.set("glversion",Y);var $=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getApkDigest","()Ljava/lang/String;");e.set("apkDigest",$);var ee=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getCertificateFingerprint","()Ljava/lang/String;");e.set("certificateFingerprint",ee);var ae=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSensorList","()Ljava/lang/String;");e.set("sensorList",ae);var te=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isUSBConnected","()Z");e.set("isUSBConnected",te);var re=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getCPUCount","()J");e.set("cpuCount",re);var ie=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getUptime","()J");e.set("uptime",ie);var ne=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getElapsedRealtime","()J");e.set("gelapsedRealtime",ne);var le=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getBuildVersionIncremental","()Ljava/lang/String;");e.set("buildVersionIncremental",le);var ve=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getAndroidId","()Ljava/lang/String;");e.set("androidId",ve);var Ae=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getDeviceId","()Ljava/lang/String;");e.set("deviceId",Ae);var Ce=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getRandomUUID","()Ljava/lang/String;");e.set("rndUuid",Ce);var ce=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getMacAddress","()Ljava/lang/String;");e.set("macAddress",ce);var ge=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isNetworkAvailable","()Z");e.set("isNetworkAvailable",ge);var Se=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getDeviceInfo","()Ljava/lang/String;");e.set("deviceInfo",Se);var Te=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isGestureNavigationEnabled","()Z");e.set("isGestureNavigationEnabled",Te);var _e=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","isCutoutScreen","()Z");e.set("isCutoutScreen",_e);var se=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSafeInsetTop","()I");e.set("safeInsetTop",se);var oe=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSafeInsetBottom","()I");e.set("safeInsetBottom",oe);var Oe=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSystemWindowInsetTop","()I");e.set("systemWindowInsetTop",Oe);var Ie=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getSystemWindowInsetBottom","()I");e.set("systemWindowInsetBottom",Ie);var Ne=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getStatusBarHeight","()I");e.set("statusBarHeight",Ne);var Le=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getNavigationBarHeight","()I");e.set("navigationBarHeight",Le);e.getMemoryInfoFromNative(0),e.getMemoryInfoFromNative(1),e.getPackageInfo(l.NATIVE_PACKAGE_NAME),e.getPropFromNative("ro.product.marketname");return a&&a(),!0},e.set=function(e,a){this.nativeData.set(e,a),n.log("key["+e+"] -> "+a)},e.get=function(e){return this.nativeData.get(e)},e.call=function(e,a,t){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){for(var n,l=arguments.length,v=new Array(l>3?l-3:0),A=3;A<l;A++)v[A-3]=arguments[A];return(n=i.reflection).callStaticMethod.apply(n,[e,a,t].concat(v))}return""},e.getPropFromNative=function(a,t){if(void 0===t&&(t=""),!r.isNative)return t;if(r.os==r.OS.ANDROID){var i=this.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getProperty","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",a,t);if(null==i||null==i)return t;n.log("getPropFromNative["+a+"]["+t+"].rsp: "+i);var v={},A=e.get("prop");if(null==A||null==A)return t;if(null!=A&&0==A.length||null!=A&&0==A.length)return t;n.log("getPropFromNative["+a+"]["+t+"].prop: "+A);try{v=JSON.parse(A)}catch(e){return n.error("getPropFromNative["+a+"]["+t+"].JSON.parse["+A+"].error: "+e),t}n.log("getPropFromNative["+a+"]["+t+"].oldVal: "+v),v[a]=i;var C=JSON.stringify(v);e.set("prop",C),n.log("getPropFromNative["+a+"]["+t+"].oldVal: "+v)}return t},e.getProp=function(a,t){if(void 0===t&&(t=""),!r.isNative)return t;var i={},l=e.get("prop");if(null==l||null==l)return t;try{i=JSON.parse(l)}catch(e){return n.error("getProp.JSON.parse["+l+"].error: "+e),t}return n.log("getProp.oldVal: "+i),i[a]||t},e.getMemoryInfoFromNative=function(e){if(!r.isNative)return 0;if(r.os==r.OS.ANDROID){var a=this.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getMemoryInfo","(I)J",e);if(n.log("getMemoryInfoFromNative["+e+"]: "+a),null==a||null==a)return a}return 0},e.getPackageInfo=function(a){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){var t=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getPackageInfo","(Ljava/lang/String;)Ljava/lang/String;",a);if(null!=t&&null!=t)return t;n.log("getPackageInfo["+a+"]: "+t)}return""},e.searchPathForBinary=function(a){if(!r.isNative)return!1;if(r.os==r.OS.ANDROID){var t=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","searchPathForBinary","(Ljava/lang/String;)Z",a);if(null!=t&&null!=t)return t}return!1},e.exitProcess=function(){r.isNative&&r.os==r.OS.ANDROID&&e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","exitProcess","()V")},e.getExternalDir=function(){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){var a=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getExternalDir","()Ljava/lang/String;");return e.set("externalDir",a),a}return""},e.writeStringToFile=function(a,t,i){if(!r.isNative)return 0;if(r.os==r.OS.ANDROID){var n=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","writeStringToFile","(Ljava/lang/String;Ljava/lang/String;Z)J",a,t,i);if(null!=n&&null!=n)return n}return 0},e.getStringFromFile=function(a,t){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){var i=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCDevice","getStringFromFile","(Ljava/lang/String;Z)Ljava/lang/String;",a,t);if(null!=i&&null!=i)return i}return""},e.initEad=function(a,t,i,v){if(!r.isNative)return!1;if(r.os==r.OS.ANDROID){n.log("initEad.ak["+a.length+"]["+a+"]"),n.log("initEad.ai["+t.length+"]["+t+"]"),n.log("initEad.xk["+i.length+"]["+i+"]"),n.log("initEad.xs["+v+"]");var A=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCEad","init","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Z",a,t,i,v);if(null!=A&&null!=A)return A}return!1},e.e=function(a){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){var t=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCEad","e","(Ljava/lang/String;)Ljava/lang/String;",a);if(null!=t&&null!=t)return t}return""},e.d=function(a){if(!r.isNative)return"";if(r.os==r.OS.ANDROID){var t=e.call(l.NATIVE_CLASS_ROOT_PATH+"/CCEad","d","(Ljava/lang/String;)Ljava/lang/String;",a);if(null!=t&&null!=t)return t}return""},e}()).isInited=!1,A.nativeData=new Map,v=A))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCNotification.ts",["cc","./CCUtils.ts","./CCNative.ts","./CCDefine.ts"],(function(t){var i,n,o,a,e,c;return{setters:[function(t){i=t.cclegacy,n=t._decorator,o=t.sys},function(t){a=t.default},function(t){e=t.default},function(t){c=t.default}],execute:function(){var f;i._RF.push({},"19641BoJbpMDZ64UPFnivs8","CCNotification",void 0);var r=n.ccclass;n.property,t("default",r("CCNotification")(f=function(){function t(){}return t.notify=function(t,i,n,e){return a.log("CCNotification.notify.isNative["+o.isNative+"].title["+i+"].content["+n+"].moreContent["+e+"]"),this.notifyDelayOnce(t,i,n,e,0)},t.notifyDelayOnce=function(t,i,n,f,r){if(a.log("CCNotification.notifyDelayOnce.isNative["+o.isNative+"].title["+i+"].content["+n+"].moreContent["+f+"].delayInSeconds["+r+"]"),!o.isNative)return!1;o.os==o.OS.ANDROID&&e.call(c.NATIVE_CLASS_ROOT_PATH+"/notification/CCNotification","notifyDelayOnce","(ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;J)V",t,i,n,f,r)},t.notifyDelayHourRepeat=function(t,i,n,f){if(a.log("CCNotification.notifyDelayRepeat.isNative["+o.isNative+"].title["+t+"].content["+i+"].moreContent["+n+"].hourOfDay["+f+"]"),!o.isNative)return!1;o.os==o.OS.ANDROID&&e.call(c.NATIVE_CLASS_ROOT_PATH+"/notification/CCNotification","notifyDelayHourRepeat","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V",t,i,n,f)},t}())||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCNpcData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,a,r,c,i,s,u;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,c=t._decorator},function(t){i=t.default},function(t){s=t.default,u=t.CCResType}],execute:function(){var o,d;r._RF.push({},"9b1330NQz1KybfZOad7ADEz","CCNpcData",void 0);var p=c.ccclass;c.property,t("default",p("CCNpcData")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.tagId]=t},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.getRowsByTagId=function(t){return this._data[t]},t.getBindDataByCatId=function(t){return this._bindData.find((function(e){return e.catId==t}))||{catId:t,npcId:[]}},t.iterator=function(t){Object.values(this.data).forEach((function(e){t(e.tagId,e)}))},t.load=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.load({bundleName:"profile",relativePath:"npc",resType:u.TextAsset}).then(n(a().mark((function e(r){var c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return c=i.csv2array(r.text,1,1),s=c.map(n(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ID){e.next=3;break}return i.error("['ID'].nil"),e.abrupt("return");case 3:r={tagId:parseInt(n.ID,10),resId:parseInt(n["ID"],10),name:n["ID"],desc:n["npc"],ratioAppear:parseInt(n[""],10),ratioDropVip:parseFloat(n["vip"]),rewardDropVipNum:parseInt(n["vip"],10),needOutsideLevel:parseInt(n[""],10),needUnlockedCatId:i.splitArrNumber(n["ID"],"@"),needPlayCatId:i.splitArrNumber(n["ID"],"@")},t.addRow(r),i.splitArrNumber(n["ID"],"@").forEach((function(e){var n=t._bindData.find((function(t){return t.catId==e}));n?n.npcId.push(r.tagId):t._bindData.push({catId:e,npcId:[r.tagId]})}));case 6:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(s);case 6:case"end":return e.stop()}}),e)}))));case 2:i.log("load.npc.total rows: "+t.totalKeys()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"bindData",get:function(){return this._bindData},set:function(t){this._bindData=t}},{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._bindData=[],d._data={},o=d))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCOutsideNpc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Npc.ts","./CCUtils.ts","./CCSceneHall.ts","./CCDefine.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEffct.ts","./CCEvent.ts","./CCLingoData.ts","./CCCacheRes.ts","./CCQueue.ts","./CCHostTasksData.ts","./CCGuideData.ts"],(function(e){var t,n,i,o,s,a,l,d,r,u,c,f,p,h,C,m,E,L,S,_,N,T,g,v,w;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Vec3,s=e.UITransform,a=e.Node,l=e.Sprite,d=e.UIOpacity,r=e.tween,u=e.isValid},function(e){c=e.Npc},function(e){f=e.default},function(e){p=e.CCSceneHall},function(e){h=e.EVENT_TYPE,C=e.default},function(e){m=e.CCPlayerData,E=e.CC_NEWBIE_GUIDE_TYPE},function(e){L=e.default},function(e){S=e.CCEffect},function(e){_=e.CCEvent},function(e){N=e._T},function(e){T=e.default},function(e){g=e.default},function(e){v=e.default},function(e){w=e.default}],execute:function(){var D,I;n._RF.push({},"96532kS5iZDdJPCZxf9QWYR","CCOutsideNpc",void 0);var O=i.ccclass;i.property,i.executeInEditMode,e("CCOutsideNpc",O("CCOutsideNpc")(((I=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).fnResume=null,t.isClicked=!1,t.sprLeaflet=null,t.sprSmile=null,t.originPos=new o(0,0,0),t}t(n,e);var i=n.prototype;return i.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.scaleEnable=!1,this.longPressThreshold=100,this.clickThreshold=100},i.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),_.on(h.LEAFLET_NOT_ENOUGH,this.onLeafletNotEnough,this),_.on(h.REFRESH_UI,this.onLeafletUpdate,this)},i.onDisable=function(){this.unscheduleAllCallbacks(),_.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},i.onLeafletNotEnough=function(){this.preventSwallow=!0},i.onLeafletUpdate=function(){this.preventSwallow=!1},i.onBtnPressStart=function(e,t,i){var r,u=this;if(!this.isClicked){if(this.isClicked=!0,m.getLeaflet()<=0)return S.toast(p.SceneHallUI,"textures@prefabs/floatingBanner",N("FacadeUI5"),"textures@Texture2D/Hall_UI/Hall_UI"),void _.emit(h.LEAFLET_NOT_ENOUGH);if(m.subLeafLet()){var c=v.getRowsByTagId(m.data.hotTaskId);if(c&&c.needSendLeafletCount>0){var D=m.getHotTaskProcess(m.data.hotTaskId);0==D.status&&(D.progressCurrent+=1,m.addHotTaskProcesss(m.data.hotTaskId,D.progressCurrent))}if(this.preventSwallow=!0,this.animation(0,"idle",!0),this.pause(!1),this.pausePath(!0),this.stopPath(),this.doNpcClickAnimation((function(){f.pauseAction(u.node)})),!this.sprLeaflet){if(m.updateDailyTaskProcess(0,0,0,0,1,0,0,0,0,0),C.ENABLE_NEWBIE_GUIDE){var I=m.getNewbieGuideStepsCompleted(E.DEFAULT);if(n.totalSend++,25==I||27==I&&n.totalSend>=8){var O=w.getRowsNext(E.DEFAULT,I);O&&(m.updateNewbieGuideStepsCompleted(E.DEFAULT,O.orderId),(O=w.getRowsNext(E.DEFAULT,O.orderId))&&_.emit(h.NEWBIE_GUIDE_ACTION_REFRESH,O.orderId))}}var A=null==(r=this.node.getComponent(s))?void 0:r.contentSize,y=new a("leftlet");y.parent=this.node,y.position=new o(0,A?A.height*C.spineNpcScale+30:30,0),this.sprLeaflet=y.addComponent(l),this.sprLeaflet.node.addComponent(d),this.originPos=this.sprLeaflet.node.position.clone(),T.loadSpriteFrameAndBind(this.sprLeaflet,"textures@Texture2D/Hall_Outside/Hall_Outside/out_leaflet",!0,this,(function(e,t){e.scheduleOnce((function(){e.doLeafletAnimation()}),0),e.scheduleOnce((function(){if(e.sprLeaflet.node.active=!1,!e.fnResume){if(!e.sprSmile){var t,n=null==(t=e.node.getComponent(s))?void 0:t.contentSize,i=new a("smile");i.parent=e.node,i.position=new o(0,n?n.height*C.spineNpcScale+40:40,0),e.sprSmile=i.addComponent(l)}f.randomRange(0,L.data.OutsideCustomInterestingProb)<.1?(T.loadSpriteFrameAndBind(e.sprSmile,"textures@Texture2D/Hall_Outside/Hall_Outside/out_emoji_anger"),e.fnResume=function(){e.resumeToWalk()}):(g.push(2,(function(e){m.addNumOfPromotion(),_.emit(h.GENERATE_OUTSIDE_NPC,e[0])}),[e.data.npcId]),T.loadSpriteFrameAndBind(e.sprSmile,"textures@Texture2D/Hall_Outside/Hall_Outside/out_emoji_smile"),e.fnResume=function(){e.resumeAndEnter()}),e.scheduleOnce(e.fnResume,.5)}}),.7)}))}}}},i.resumeToWalk=function(){this.animation(1,"walk",!0),this.pause(!1),this.pausePath(!1),f.resumeAction(this.node)},i.resumeAndEnter=function(){var e,t,n=this;this.animation(1,"walk",!0),this.pause(!1),this.pausePath(!1),f.resumeAction(this.node),null==(e=this.data.tween)||e.stop(),null==(t=this.data.tween)||t.destroySelf();var i=f.GetDesignResolutionSize();i.width/2>this.node.position.x?f.flipNodeX(this.node,!this.data.flip):f.flipNodeX(this.node,this.data.flip),this.data.outsideOut=[new o(i.width/2,515,0)],this.data.tween=r(this.node).to(2,{position:this.data.outsideOut[0].clone()}).call((function(){n.node.active=!1,n.node.children&&n.node.removeAllChildren(),n.node.removeFromParent(),n.node.destroy()})).start()},i.doNpcClickAnimation=function(e){var t=this.node.scale.clone();r(this.node).sequence(r().to(.1,{scale:t.clone().multiply3f(1,1.05,1)}),r().to(.05,{scale:t})).call((function(){e&&e()})).start()},i.doLeafletAnimation=function(){var e=this,t=this.originPos.clone().add(new o(0,40,0));u(this.sprLeaflet)&&(r(this.sprLeaflet.node.getComponent(d)).to(.5,{opacity:0}).call((function(){u(e.sprLeaflet)&&e.sprLeaflet.node&&(e.sprLeaflet.node.active=!1)})).start(),r(this.sprLeaflet.node).sequence(r().to(.5,{position:t})).start())},n}(c)).totalSend=0,D=I))||D);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPalette.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var e,o,r,i,n,a,c,u,s,l,p,h,y,d,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,c=t._decorator,u=t.UIRenderer,s=t.Sprite,l=t.Label,p=t.director,h=t.Director,y=t.clamp,d=t.Component,f=t.Color},function(t){_=t.DEV}],execute:function(){var b,R,g,L,C,T,k,m,w,B,D,v,P,O,z,N;a._RF.push({},"0f83b+XuW5JXJuWLzxNkY2q","CCPalette",void 0);var j=c.ccclass,E=c.property,x=c.executeInEditMode,H=c.requireComponent,A=c.menu;t("CCPalette",(b=H(u),R=A("Public/CCPalette"),g=E({displayName:_}),L=E({displayName:_}),C=E({displayName:_}),T=E({displayName:_}),k=E({range:[0,1],step:.01,slide:!0,displayName:" "}),m=E({range:[0,1],step:.01,slide:!0,displayName:" "}),j(w=x(w=b(w=R((D=e((B=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_colorLB",D,i(e)),r(e,"_colorRB",v,i(e)),r(e,"_colorLT",P,i(e)),r(e,"_colorRT",O,i(e)),r(e,"_hueRatio",z,i(e)),r(e,"_darkness",N,i(e)),e.ur=null,e.hue=[1,1,1],e}o(e,t);var a=e.prototype;return a.onLoad=function(){if(this.ur=this.node.getComponent(u),!(this.ur instanceof s||this.ur instanceof l))return console.warn("PaletteSpriteLabel"),void this.destroy();this.ur._useVertexOpacity=!0},a.onEnable=function(){this.updateHueRatio(),p.once(h.EVENT_AFTER_DRAW,this.updateColor,this)},a.onDisable=function(){if(this.ur._renderData){var t=this.ur._renderData.chunk.vb,e=this.ur.color;t[5]=t[14]=t[23]=t[32]=e.r/255,t[6]=t[15]=t[24]=t[33]=e.g/255,t[7]=t[16]=t[25]=t[34]=e.b/255,t[8]=t[17]=t[26]=t[35]=e.a/255}},a.updateColor=function(){var t=this.ur._renderData.chunk.vb,e=this._colorLB,o=this._colorRB,r=this._colorLT,i=this._colorRT,n=this._darkness/255,a=this.hue,c=a[0]*n,u=a[1]*n,s=a[2]*n;t[5]=e.r*c,t[6]=e.g*u,t[7]=e.b*s,t[8]=e.a/255,t[14]=o.r*c,t[15]=o.g*u,t[16]=o.b*s,t[17]=o.a/255,t[23]=r.r*c,t[24]=r.g*u,t[25]=r.b*s,t[26]=r.a/255,t[32]=i.r*c,t[33]=i.g*u,t[34]=i.b*s,t[35]=i.a/255},a.updateHueRatio=function(){var t=1/7,e=this._hueRatio;this.hue=e<t?[1,e/t,0]:e<2*t?[2-e/t,1,0]:e<3*t?[0,1,e/t-2]:e<4*t?[0,4-e/t,1]:e<5*t?[e/t-4,0,1]:e<6*t?[1,0,6-e/t]:[1,e/t-6,e/t-6]},n(e,[{key:"colorLB",get:function(){return this._colorLB},set:function(t){this._colorLB=t,this.updateColor()}},{key:"colorRB",get:function(){return this._colorRB},set:function(t){this._colorRB=t,this.updateColor()}},{key:"colorLT",get:function(){return this._colorLT},set:function(t){this._colorLT=t,this.updateColor()}},{key:"colorRT",get:function(){return this._colorRT},set:function(t){this._colorRT=t,this.updateColor()}},{key:"hueRatio",get:function(){return this._hueRatio},set:function(t){this._hueRatio=y(t,0,1),this.updateHueRatio(),this.updateColor()}},{key:"darkness",get:function(){return this._darkness},set:function(t){this._darkness=y(t,0,1),this.updateColor()}}]),e}(d)).prototype,"_colorLB",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),e(B.prototype,"colorLB",[g],Object.getOwnPropertyDescriptor(B.prototype,"colorLB"),B.prototype),v=e(B.prototype,"_colorRB",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),e(B.prototype,"colorRB",[L],Object.getOwnPropertyDescriptor(B.prototype,"colorRB"),B.prototype),P=e(B.prototype,"_colorLT",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),e(B.prototype,"colorLT",[C],Object.getOwnPropertyDescriptor(B.prototype,"colorLT"),B.prototype),O=e(B.prototype,"_colorRT",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(255,255,255,255)}}),e(B.prototype,"colorRT",[T],Object.getOwnPropertyDescriptor(B.prototype,"colorRT"),B.prototype),z=e(B.prototype,"_hueRatio",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(B.prototype,"hueRatio",[k],Object.getOwnPropertyDescriptor(B.prototype,"hueRatio"),B.prototype),N=e(B.prototype,"_darkness",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(B.prototype,"darkness",[m],Object.getOwnPropertyDescriptor(B.prototype,"darkness"),B.prototype),w=B))||w)||w)||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelAdRewards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCEventData.ts","./CCPanelAdRewardsItem.ts","./CCPlayerData.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c,d,f,p,C,h,P,g,v,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.ProgressBar,u=e.sp},function(e){c=e.default},function(e){d=e.CCResType},function(e){f=e.default},function(e){p=e._T},function(e){C=e.CCEvent},function(e){h=e.EVENT_TYPE},function(e){P=e.default},function(e){g=e.CCPanelAdRewardsItem},function(e){v=e.CCPlayerData,E=e.CCAdEventStatus}],execute:function(){var y,A,w,R,b,m,D,_,L,T;a._RF.push({},"28885ZiK8BOpZUK5KF49Yae","CCPanelAdRewards",void 0);var B=o.ccclass,I=o.property;e("CCPanelAdRewards",(y=B("CCPanelAdRewards"),A=I({type:s,tooltip:""}),w=I({type:l,tooltip:""}),R=I({type:f,tooltip:"List"}),y(((T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"LabelTitle",D,i(t)),r(t,"ProgressBar",_,i(t)),r(t,"ScrollView1",L,i(t)),t}n(t,e);var a=t.prototype;return a.onBuildItem=function(e,t){var n=P.keys()[t];e.name=""+n;var r=e.getComponent(g);r&&r.updateUI(n)},a.init=function(e){this.options=e,this.LabelTitle&&(this.LabelTitle.string=p("events_title")),this.onAdRewardEarn()},a.onShow=function(){C.on(h.EVENT_AD_REWARD_EARN,this.onAdRewardEarn,this),C.on(h.EVENT_AD_REWARD_CLAIMED,this.onAdRewardEarn,this),C.on(h.HIDE_PANEL,this.onHidePanel,this)},a.onHide=function(e){C.targetOff(this)},a.onAdRewardEarn=function(){if(this.ScrollView1.numItems=P.keys().length,this.ProgressBar){var e=v.data.adWatchedCount||0,t=e/P.getMaxCount();t>=1&&(t=1);var n=0;this.ProgressBar.node.children.forEach((function(t){if(t.name.startsWith("SpriteProgress")){var r=t.name.split("-");if(2!=r.length)return;var i=parseInt(r[1]);if(t.active=i<=e,!t.active)return;var a=P.keys()[n],o=v.getAdEventProcess(a);if(!o)return;var s=t.getChildByName("SpineGlow").getComponent(u.Skeleton);if(!s)return;s.node.active=o.status==E.COMPLETED,n++}})),this.ProgressBar.progress=t}},a.onHidePanel=function(){this.hide(!1,0)},t}(c)).resObj={bundleName:"textures",relativePath:"prefabs/panelAdRewards",resType:d.Prefab},D=t((m=T).prototype,"LabelTitle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"ProgressBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(m.prototype,"ScrollView1",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelAdRewardsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCPlayerData.ts","./CCButton.ts","./CCLingoData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCDefine.ts","./CCAudioManager.ts","./CCEventData.ts","./CCPropRow.ts","./CCEvent.ts"],(function(e){var t,n,i,a,r,o,s,l,c,u,d,C,p,f,h,b,v,P,y,R,E,I,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Label,c=e.Canvas,u=e.Component},function(e){d=e.DEV},function(e){C=e.CCPlayerData,p=e.CCAdEventStatus},function(e){f=e.CCButton},function(e){h=e._T},function(e){b=e.CCSceneHall},function(e){v=e.CCEffect},function(e){P=e.default,y=e.EVENT_TYPE},function(e){R=e.audioMgr},function(e){E=e.default},function(e){I=e.CCPropRow},function(e){g=e.CCEvent}],execute:function(){var m,w,D,_,A,L,B,S,T,M,N,k,z,H,O;r._RF.push({},"bc9feR/im9EioE0T9v8NaZj","CCPanelAdRewardsItem",void 0);var W=o.ccclass,x=o.property;e("CCTaskItemType",function(e){return e[e.TASK=0]="TASK",e[e.ACHIEVEMENT=1]="ACHIEVEMENT",e}({})),e("CCPanelAdRewardsItem",(m=W("CCPanelAdRewardsItem"),w=x({type:s,tooltip:d}),D=x({type:I,tooltip:d}),_=x({type:l,tooltip:d}),A=x({type:f,tooltip:d}),L=x({type:l,tooltip:d}),B=x({type:s,displayName:""}),m((M=t((T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"Background",M,a(t)),i(t,"PropRow",N,a(t)),i(t,"LabelDesc",k,a(t)),i(t,"btnReceive",z,a(t)),i(t,"LabelReceive",H,a(t)),i(t,"SpriteClaimed",O,a(t)),t._tid=0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){},r.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},r.onDisable=function(){this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},r.updateUI=function(e){this._tid=e;var t=C.data.adWatchedCount||0,n=E.getRowsByTypeId(this._tid);if(n){var i=C.getAdEventProcess(n.typeId);if(i){var a=i&&i.needWatchAdCount<=t&&i.status==p.COMPLETED,r=i&&i.needWatchAdCount<=t&&i.status==p.CLAIMED;this.PropRow&&(this.PropRow.setProps([[i.rewardPropId,i.rewardPropNum]]),this.PropRow.node.active=!0),this.LabelDesc&&(this.LabelDesc.string=h("events_task",n.needWatchAdCount)),this.SpriteClaimed&&(this.SpriteClaimed.node.active=r),this.btnReceive&&(r?this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart):a?(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(s).grayscale=!1,this.btnReceive.preventSwallow=!1,this.btnReceive.Idx=n.typeId):(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(s).grayscale=!0,this.btnReceive.preventSwallow=!0))}}},r.onBtnPressStart=function(e,t,n){var i=C.data.adWatchedCount||0,a=E.getRowsByTypeId(e._tid);if(a){var r=C.getAdEventProcess(a.typeId);if(r.needWatchAdCount<=i&&r.status==p.COMPLETED)if(!(r.needWatchAdCount<=i&&r.status==p.CLAIMED)){var o=r.rewardPropId,s=r.rewardPropNum;switch(o){case P.PROP_MONEY_ID:b.addMoney(s);break;case P.PROP_VIP_ID:b.addVip(s);break;case P.PROP_EXP_ID:b.addExp(s);break;case P.PROP_GOLD_ID:b.addGold(s);default:C.addPropCount(o,s),C.addPropTodayCount(o,s)}C.setAdEventProcessStatus(a.typeId,p.CLAIMED),R.playEffect("reward"),v.toast(b.SceneHallUI,"textures@prefabs/floatingBanner",h("UI_Recharge_UI9","<img src='Item_"+o+"' width=80 height=80 offset=0,-20/> x",s),"textures@Texture2D/Hall_Item/Hall_Item"),e.updateUI(e._tid),g.emit(y.EVENT_AD_REWARD_CLAIMED)}}},t}(u)).prototype,"Background",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"PropRow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"LabelDesc",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"btnReceive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"LabelReceive",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"SpriteClaimed",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelBackpack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCButton.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCPropData.ts","./CCPanelBackpackRow.ts"],(function(t){var n,e,a,s,i,o,r,l,c,b,p,h,C,u,d,g,T;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,s=t.Canvas,i=t.find,o=t.PageView,r=t.Label,l=t.Sprite},function(t){c=t.default},function(t){b=t.CCResType},function(t){p=t.CCButton},function(t){h=t.default},function(t){C=t._T},function(t){u=t.CCEvent},function(t){d=t.CCPropType,g=t.default},function(t){T=t.CCPanelBackpackRow}],execute:function(){var B,v;e._RF.push({},"887bbLN/QpE0Zb6EYZFY0v6","CCPanelBackpack",void 0);var f=a.ccclass;a.property,t("CCPanelBackpack",f("CCPanelBackpack")(((v=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this).btnTab1=null,n.sprTab1=null,n.btnTab2=null,n.sprTab2=null,n.pv=null,n.listMaterials=null,n.listProps=null,n.scrollDuration=.3,n}n(e,t);var a=e.prototype;return a.onBuildMaterial=function(t,n){var e=d.MATERIAL;t.getComponent(T).type=e,t.getComponent(T).notifyIdx=n,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(s).enabled=!1);var a=i("Canvas/Background/ScrollView",t).getComponent(h);if(a){g.totalRowsByType(e);a.name=""+n,a.numItems=4}},a.onBuildProp=function(t,n){var e=d.PROP;t.getComponent(T).type=e,t.getComponent(T).notifyIdx=n,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(s).enabled=!1);var a=i("Canvas/Background/ScrollView",t).getComponent(h);if(a){g.totalRowsByType(e);a.name=""+n,a.numItems=4}},a.init=function(t){if(this.options=t,!this.pv){if(this.pv=i("Canvas/Background/PageView",this.node).getComponent(o),!this.pv)return;this.pv.setCurrentPageIndex(0),this.listMaterials||(this.listMaterials=i("Canvas/Background/PageView/view/content/ScrollView1",this.node).getComponent(h),this.listMaterials&&(this.listMaterials.numItems=6)),this.listProps||(this.listProps=i("Canvas/Background/PageView/view/content/ScrollView2",this.node).getComponent(h),this.listProps&&(this.listProps.numItems=6))}var n=i("Canvas/Background/LabelTitle",this.node).getComponent(r);n&&(n.string=C("game_text"));var e,a,s=i("Canvas/Background/SprTabBg/Label1",this.node).getComponent(r);(s&&(s.string=C("Backpack_Materials")),(s=i("Canvas/Background/SprTabBg/Label2",this.node).getComponent(r))&&(s.string=C("Backpack_Props")),this.btnTab1||(this.btnTab1=i("Canvas/Background/SprTabBg/btnTab1",this.node).getComponent(p),this.btnTab1&&(this.btnTab1.node.active=!0,this.btnTab1.node.getChildByName("Label").getComponent(r).string=C("Backpack_Materials"))),this.sprTab1)||(this.sprTab1=null==(e=this.btnTab1)?void 0:e.node.getComponent(l),this.sprTab1&&(this.sprTab1.enabled=!1));(this.btnTab2||(this.btnTab2=i("Canvas/Background/SprTabBg/btnTab2",this.node).getComponent(p),this.btnTab2&&(this.btnTab2.node.active=!0,this.btnTab2.node.getChildByName("Label").getComponent(r).string=C("Backpack_Props"))),this.sprTab2)||(this.sprTab2=null==(a=this.btnTab2)?void 0:a.node.getComponent(l),this.sprTab2&&(this.sprTab2.enabled=!1));this.enableTabBtn(!0,!1)},a.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(s).enabled=!1)},a.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this)},a.onShow=function(){this.btnTab1.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},a.onHide=function(t){u.targetOff(this),this.btnTab1.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},a.onBtnPressStart=function(t,n,e){switch(n){case 1:t.enableTabBtn(!0,!1);break;case 2:t.enableTabBtn(!1,!0)}},a.enableTabBtn=function(t,n){this.btnTab1&&(this.btnTab1.node.children.forEach((function(n){n.active=t})),this.listMaterials.node.children.forEach((function(n){n.active=t}))),this.btnTab2&&(this.btnTab2.node.children.forEach((function(t){t.active=n})),this.listProps.node.children.forEach((function(t){t.active=n}))),this.sprTab1&&(this.sprTab1.enabled=t),this.sprTab2&&(this.sprTab2.enabled=n),this.pv&&(t?this.pv.scrollToPage(0,this.scrollDuration):n&&this.pv.scrollToPage(1,this.scrollDuration))},e}(c)).resObj={bundleName:"textures",relativePath:"prefabs/panelBackpack",resType:b.Prefab},B=v))||B);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelBackpackItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelMiniGameLuckyDrawsItem.ts","./CCPropData.ts"],(function(t){var n,e,a,o,c,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.CCButton},function(t){c=t.default},function(t){r=t.CCPanelMiniGameLuckyDrawsItem},function(t){i=t.default}],execute:function(){var s;e._RF.push({},"2343flQC+xGXZiHDERgyE1K","CCPanelBackpackItem",void 0);var u=a.ccclass;a.property,t("CCPanelBackpackItem",u("CCPanelBackpackItem")(s=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).type=0,n.notifyIdx=0,n}n(e,t);var a=e.prototype;return a.update=function(t){},a.onBtnPressed=function(t,n,a,o){o||-1!=t.Idx&&i.getRowsByTypeId(t.Idx)&&e.showDetails(t.Idx,t.notifyIdx)},e.showDetails=function(t,n,e){c.showPanel(r.resObj,{typeId:t},!0)},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelBackpackRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./List.ts","./CCPanelBackpackItem.ts","./CCPropData.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(t){var e,n,a,o,i,r,p,c,l,C,s,u,h,d,m,g,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.find,i=t.Canvas,r=t.Label,p=t.Sprite,c=t.UITransform,l=t.Rect,C=t.Size,s=t.Component},function(t){u=t.default},function(t){h=t.default},function(t){d=t.CCPanelBackpackItem},function(t){m=t.default},function(t){g=t.default},function(t){f=t.CCPlayerData}],execute:function(){var v;n._RF.push({},"a6e0f5JDoVPUK3G1zq96RgZ","CCPanelBackpackRow",void 0);var y=a.ccclass;a.property,t("CCPanelBackpackRow",y("CCPanelBackpackRow")(v=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).type=0,e.notifyIdx=0,e}e(n,t);var a=n.prototype;return a.update=function(t){},a.onBuildItem=function(t,e){var n=t.parent.parent.parent.getComponent(h),a=this.type,s=parseInt(n.name),v=m.getRowsByTypeAndRowIdx(a,s,!0)[e];if(null!=v.typeId){t.getComponent(d).Idx=v.typeId,t.getComponent(d).type=this.type,t.getComponent(d).notifyIdx=1e4*this.notifyIdx+e,t.getComponent(d).scaleEnable=!1,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(i).enabled=!1);var y=o("Canvas/LabelNum",t);y&&(y.getComponent(r).string=""+u.formatNum2Str(f.getPropCount(v.typeId)),y.active=!0);var I=o("Canvas/SpriteItem",t);if(I){var w=I.getComponent(p);w&&g.loadSpriteFrameAndBind(w,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+v.typeId,!1,this,(function(t,e){var n,a=null==(n=I.getComponent(c))?void 0:n.contentSize,o=I.getComponent(p).spriteFrame.clone().originalSize,i=new l(0,0,o.width,o.height);if(i.width>i.height){var r=i.width/a.width;i.width=a.width,i.height/=r}else{var s=i.height/a.height;i.width/=s,i.height=a.height}I.getComponent(c).setContentSize(new C(i.width,i.height)),I.active=!0}))}}else{t.getComponent(d).Idx=-1,t.getComponent(d).scaleEnable=!1;var k=o("Canvas/LabelNum",t);k&&(k.active=!1);var B=o("Canvas/SpriteItem",t);B&&(B.active=!1)}},n}(s))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelBackup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCButton.ts","./CCLingoData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCEvent.ts","./CCDefine.ts","./CCRichText.ts","./CCCacheRes.ts","./CCNative.ts","./CCPopup.ts","./CCHttp.ts","./CCJWT.ts"],(function(e){var t,a,n,i,r,l,u,o,c,s,p,f,b,B,k,C,g,h,m,d,v,T,y,L,S,x,w,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,o=e._decorator,c=e.Label,s=e.CCString,p=e.Canvas,f=e.sys,b=e.Sprite},function(e){B=e.default},function(e){k=e.DEV},function(e){C=e.CCPlayerData},function(e){g=e.CCButton},function(e){h=e._T},function(e){m=e.CCSceneHall},function(e){d=e.CCEffect},function(e){v=e.CCEvent},function(e){T=e.default},function(e){y=e.CCRichText},function(e){L=e.CCResType},function(e){S=e.default},function(e){x=e.default},function(e){w=e.default},function(e){N=e.default}],execute:function(){var U,_,R,P,I,D,H,O,z,E,A,V,J,G,j,F,K,M,W,X,q,Q,Y,Z;u._RF.push({},"c1cd35gGmFOoKK9ggHdA6aX","CCPanelBackup",void 0);var $=o.ccclass,ee=o.property;e("CCPanelBackup",(U=$("CCPanelBackup"),_=ee({type:g,tooltip:k}),R=ee({type:g,tooltip:k}),P=ee({type:c,tooltip:k}),I=ee({type:c,tooltip:k}),D=ee({type:c,tooltip:k}),H=ee({type:c,tooltip:k}),O=ee({type:c,tooltip:k}),z=ee({type:y,tooltip:k}),E=ee({type:s,tooltip:"BackupUrlDebug"}),A=ee({type:s,tooltip:"BackupUrlRelease"}),U(((Z=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"BtnRecover",G,i(t)),n(t,"BtnBackup",j,i(t)),n(t,"LabelTitle",F,i(t)),n(t,"LabelRecover",K,i(t)),n(t,"LabelBackup",M,i(t)),n(t,"LabelLastBackupTime",W,i(t)),n(t,"LabelNextBackupTime",X,i(t)),n(t,"LabelLastBackupVip",q,i(t)),n(t,"BackupUrlDebug",Q,i(t)),n(t,"BackupUrlRelease",Y,i(t)),t.BackupUrl="",t}a(t,e);var u=t.prototype;return u.onLoad=function(){this.BackupUrl=T.ENABLE_DEBUG_MODE?this.BackupUrlDebug.toString():this.BackupUrlRelease.toString(),B.log("BackupUrl: "+this.BackupUrl)},u.onShow=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),this.BtnRecover.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.BtnBackup.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.updateUI()},u.onHide=function(e){this.BtnRecover.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.BtnBackup.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),v.targetOff(this),this.unscheduleAllCallbacks()},u.onBtnRecover=function(){if(f.isNative){var e=S.get("packageName"),t=S.get("deviceId");this.Get({PackageName:e,Id:t}).then((function(e){var t=e[0],a=e[1];if(B.log("[OR]["+t+"].rsp: "+JSON.stringify(a)),t&&a&&null!=a){var n=a.data.data;if(n){var i=C.data.lastBackupTime,r=C.data.lastBackupVip,l=C.data.nextBackupTime,u=JSON.parse(n);B.log("jsObj: "+u),C.cover(u)?(C.data.lastBackupTime=i,C.data.lastBackupVip=r,C.data.nextBackupTime=l,C.save(),d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("recover_ok"),"")):d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("recover_fail"),"")}else d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("recover_fail"),"")}else d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("recover_fail"),"")})).catch((function(e){B.log("[OR].err: "+e),d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("recover_fail"),"")}))}},u.onBtnBackup=function(){var e=this;if(f.isNative){var t=S.get("packageName"),a=S.get("deviceId");this.Set({PackageName:t,Id:a,Data:JSON.stringify(C.loadAsString())}).then((function(t){var a=t[0],n=t[1];B.log("[OB]["+a+"].rsp: "+JSON.stringify(n)),a?(C.data.lastBackupTime=B.NowTimeStamp(),C.data.lastBackupVip=C.data.vip,C.data.nextBackupTime=B.NowTimeStamp()+T.BACKUP_NEXT_TIME,d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("backup_ok"),""),e.updateUI()):d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("backup_fail"),"")})).catch((function(e){B.log("[OB].err: "+e),d.toast(m.SceneHallUI,"textures@prefabs/floatingBanner",""+h("backup_fail"),"")}))}},u.updateUI=function(){var e=B.NowTimeStamp()-C.data.nextBackupTime;this.BtnBackup.getComponent(b).grayscale=!(e>0),this.BtnBackup.preventSwallow=!(e>0),this.LabelTitle&&(this.LabelTitle.string=h("backup_title")),this.LabelRecover&&(this.LabelRecover.string=h("file_ui1")),this.LabelBackup&&(this.LabelBackup.string=h("file_ui2")),this.LabelLastBackupTime&&(this.LabelLastBackupTime.string=h("last_backup_time")+":"+(C.data.lastBackupTime>0?B.formatTimestamp(C.data.lastBackupTime):"")),B.setRichTextString(this.LabelLastBackupVip,"<color=#8f635c>"+h("last_backup_vip")+":</color>  <img src='main_icon02' width=49 height=33 offset=0/>  <color=#088630>"+C.data.lastBackupVip+"</color>"),this.LabelNextBackupTime&&(this.LabelNextBackupTime.string=h("next_backup_time")+":"+(C.data.nextBackupTime>0?B.formatTimestamp(C.data.nextBackupTime):""))},u.onBtnPressStart=function(e,t,a){switch(t){case 1:e.onBtnRecover();break;case 2:e.onBtnBackup()}},u.Get=function(){var e=r(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.appConfig.ee){e.next=3;break}return B.warn("CCPanelBackup.Get: ee is not enabled!"),e.abrupt("return");case 3:if(w.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,w.Post(this.BackupUrl+"/api/mini/archives/get",t,N.generateJWT(t,S.get("packageName"),B.NowTimeStamp(),T.appConfig.ee.sl,T.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.Set=function(){var e=r(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T.appConfig.ee){e.next=3;break}return B.warn("CCPanelBackup.Set: ee is not enabled!"),e.abrupt("return");case 3:if(w.isNetworkAvailable()){e.next=5;break}return e.abrupt("return",[!1,""]);case 5:return e.next=7,w.Post(this.BackupUrl+"/api/mini/archives/set",t,N.generateJWT(t,S.get("packageName"),B.NowTimeStamp(),T.appConfig.ee.sl,T.appConfig.ee.sk));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(x)).resObj={bundleName:"textures",relativePath:"prefabs/panelBackup",resType:L.Prefab},G=t((J=Z).prototype,"BtnRecover",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(J.prototype,"BtnBackup",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(J.prototype,"LabelTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(J.prototype,"LabelRecover",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(J.prototype,"LabelBackup",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(J.prototype,"LabelLastBackupTime",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(J.prototype,"LabelNextBackupTime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(J.prototype,"LabelLastBackupVip",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(J.prototype,"BackupUrlDebug",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=t(J.prototype,"BackupUrlRelease",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=J))||V));u._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelCatHouseHuntNotEnough.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts","./CCEvent.ts"],(function(t){var n,o,e,s,i,u,a,r,l,C,c,p;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.find,i=t.Label},function(t){u=t.default},function(t){a=t.CCButton},function(t){r=t.CCResType},function(t){l=t.default},function(t){C=t.default,c=t.EVENT_TYPE},function(t){p=t.CCEvent}],execute:function(){var d,b;o._RF.push({},"2cd212cznFA8ou0qNWvou8i","CCPanelCatHouseHuntNotEnough",void 0);var h=e.ccclass;e.property,t("CCPanelCatHouseHuntNotEnough",h("CCPanelCatHouseHuntNotEnough")(((b=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).btnSubmit=null,n}n(o,t);var e=o.prototype;return e.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),C.REQ_BANNER&&l.reqBannerAd(C.getAdMobUnitIdForBanner()),p.emit(c.MINIGAME_REWARD_CHECK,!1)},e.onDisable=function(){var n;null==(n=this.btnSubmit)||n.enableCCButtonListener(this,!1,!1,this.options.fnPressed),C.REQ_BANNER&&l.closeBannerAd(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},e.updateDisplay=function(t){var n,o,e,u,r;this.options=t;var l=null==(n=s("Canvas/Background/Title",this.node))?void 0:n.getComponent(i);l&&(l.string=this.options.title);var C=null==(o=s("Canvas/Background/Body",this.node))?void 0:o.getComponent(i);C&&(C.string=this.options.body1);var c=null==(e=s("Canvas/Background/Body2",this.node))?void 0:e.getComponent(i);c&&(c.string=this.options.body2);var p,d=null==(u=s("Canvas/Background/btnSubmit/LabelSubmit",this.node))?void 0:u.getComponent(i);(d&&(d.string=this.options.btnText),this.btnSubmit)||(this.btnSubmit=null==(p=s("Canvas/Background/btnSubmit",this.node))?void 0:p.getComponent(a));null==(r=this.btnSubmit)||r.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},e.onBtnPressStart=function(t,n,o){t.options.fnPressed&&t.options.fnPressed(t,n,o),p.emit(c.MINIGAME_REWARD_CHECK,!0)},e.onBtnClose=function(n){t.prototype.onBtnClose.call(this,n),p.emit(c.MINIGAME_NOT_ENOUGH_PANEL_CLOSE)},o}(u)).resObj={bundleName:"textures",relativePath:"prefabs/panelCatHouseHuntNotEnough",resType:r.Prefab},d=b))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelCatHouseUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCCatRoomData.ts","./CCRoomScoreData.ts","./CCEvent.ts","./CCRichText.ts","./CCEffct.ts"],(function(e){var t,i,n,a,r,o,l,s,u,p,b,h,c,g,m,f,d,C,L,y,U,R,T,S,v,B,w,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,s=e.Sprite,u=e.RichText,p=e.Vec3,b=e.find,h=e.ProgressBar},function(e){c=e.default},function(e){g=e.default},function(e){m=e.DEV},function(e){f=e.CCButton},function(e){d=e.CCResType},function(e){C=e.default},function(e){L=e.EVENT_TYPE,y=e.default},function(e){U=e._T},function(e){R=e.default},function(e){T=e.CCPlayerData},function(e){S=e.default},function(e){v=e.default},function(e){B=e.CCEvent},function(e){w=e.CCRichText},function(e){P=e.CCEffect}],execute:function(){var E,z,k,N,I,V,H,G,X,x,D,_,A,M,O,W,Y,F,j,q,Q,Z,J,K,$,ee,te,ie,ne,ae,re,oe,le,se,ue,pe,be,he,ce,ge,me,fe,de,Ce,Le,ye,Ue,Re,Te,Se,ve,Be,we,Pe,Ee,ze,ke,Ne,Ie,Ve,He,Ge,Xe,xe,De,_e,Ae,Me,Oe,We,Ye,Fe,je,qe,Qe,Ze,Je,Ke;r._RF.push({},"e3545TAEqZPtaESE5h40lGA","CCPanelCatHouseUpgrade",void 0);var $e=o.ccclass,et=o.property;e("CCPanelCatHouseUpgrade",(E=$e("CCPanelCatHouseUpgrade"),z=et({type:l,tooltip:m}),k=et({type:l,tooltip:m}),N=et({type:w,tooltip:m}),I=et({type:s,tooltip:m}),V=et({type:f,tooltip:m}),H=et({type:f,tooltip:m}),G=et({type:f,tooltip:m}),X=et({type:f,tooltip:m}),x=et({type:f,tooltip:m}),D=et({type:f,tooltip:m}),_=et({type:f,tooltip:m}),A=et({type:f,tooltip:m}),M=et({type:f,tooltip:m}),O=et({type:f,tooltip:m}),W=et({type:f,tooltip:m}),Y=et({type:l,tooltip:m}),F=et({type:l,tooltip:m}),j=et({type:l,tooltip:m}),q=et({type:l,tooltip:m}),Q=et({type:l,tooltip:m}),Z=et({type:l,tooltip:m}),J=et({type:l,tooltip:m}),K=et({type:l,tooltip:m}),$=et({type:l,tooltip:m}),ee=et({type:l,tooltip:m}),te=et({type:l,tooltip:m}),ie=et({type:l,tooltip:m}),ne=et({type:l,tooltip:m}),ae=et({type:l,tooltip:m}),re=et({type:s,tooltip:m}),oe=et({type:s,tooltip:m}),le=et({type:s,tooltip:m}),se=et({type:s,tooltip:m}),ue=et({type:s,tooltip:m}),pe=et({type:l,tooltip:m}),be=et({type:s,tooltip:m}),he=et({type:u,tooltip:m}),E(((Ke=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"labelTitle",me,a(t)),n(t,"labelEliminate",fe,a(t)),n(t,"REEliminate",de,a(t)),n(t,"sprVideo",Ce,a(t)),n(t,"btnEliminate",Le,a(t)),n(t,"btnRanking",ye,a(t)),n(t,"btnTip",Ue,a(t)),n(t,"btnUpgrade1",Re,a(t)),n(t,"btnUpgrade2",Te,a(t)),n(t,"btnUpgrade3",Se,a(t)),n(t,"btnUpgrade4",ve,a(t)),n(t,"btnUpgrade11",Be,a(t)),n(t,"btnUpgrade22",we,a(t)),n(t,"btnUpgrade33",Pe,a(t)),n(t,"btnUpgrade44",Ee,a(t)),n(t,"LabelName1",ze,a(t)),n(t,"LabelName2",ke,a(t)),n(t,"LabelName3",Ne,a(t)),n(t,"LabelName4",Ie,a(t)),n(t,"LabelValue1",Ve,a(t)),n(t,"LabelValue2",He,a(t)),n(t,"LabelValue3",Ge,a(t)),n(t,"LabelValue4",Xe,a(t)),n(t,"LabelOtherRankingName",xe,a(t)),n(t,"LabelYourRankingName",De,a(t)),n(t,"LabelOtherRankingValue",_e,a(t)),n(t,"LabelYourRankingValue",Ae,a(t)),n(t,"LabelRankText",Me,a(t)),n(t,"LabelWarning",Oe,a(t)),n(t,"SpriteWarning",We,a(t)),n(t,"SpriteSuccess",Ye,a(t)),n(t,"SpriteWarningIcon",Fe,a(t)),n(t,"btnTips",je,a(t)),n(t,"SpriteTips",qe,a(t)),n(t,"SpriteTipsText",Qe,a(t)),n(t,"SpriteTime",Ze,a(t)),n(t,"LabelTime",Je,a(t)),t.fnTimer=null,t.progressBar=null,t.spineXiaoshou=null,t}i(t,e);var r=t.prototype;return r.getCatRoomPartDataRow=function(e){var t=T.getCatRoomLevelUsing(e);return t||(T.setCatRoomLevelUsing(e,1),t=T.getCatRoomLevelUsing(e)),S.getRowByTypeIdAndLevel(e,t.level)},r.onLoad=function(){this.refreshUI()},r.refreshUI=function(){var e=this.getCatRoomPartDataRow(1),t=this.getCatRoomPartDataRow(2),i=this.getCatRoomPartDataRow(3),n=this.getCatRoomPartDataRow(4),a=v.getOtherRowsByVip(T.data.vip);this.SpriteTime&&(this.SpriteTime.node.active=T.getMiniGameLeftCount()<R.data.HardwareGameTimesRecoverLimit),this.LabelTime&&(this.LabelTime.node.active=T.getMiniGameLeftCount()<R.data.HardwareGameTimesRecoverLimit,c.setRichTextString(this.LabelTime,U("UI_Recharge_UI9","<color=#30b840>Add 1</color> ","<color=#8F635C>after "+c.formatTime(T.getMiniGameLeftCountRecoverLeftTime()/1e3)+"</color>"),"textures@Texture2D/Hall_UI/Hall_UI")),this.labelTitle&&(this.labelTitle.string=U("CatRoomUI1")),this.labelEliminate&&(T.getMiniGameLeftCount()>0&&(this.labelEliminate.string=U("CatRoomUI7")+" ("+U("StaffState4",T.getMiniGameLeftCount(),R.data.HardwareGameTimesRecoverLimit)+")"),this.labelEliminate.node.active=T.getMiniGameLeftCount()>0),this.REEliminate&&(c.setRichTextString(this.REEliminate,U("CatRoomScore7_UI3")),this.REEliminate.node.active=!(T.getMiniGameLeftCount()>0)),this.sprVideo&&(this.sprVideo.node.active=!(T.getMiniGameLeftCount()>0)),this.LabelName1&&(this.LabelName1.string=U("CatRoomPartUI1")+":"),this.LabelName2&&(this.LabelName2.string=U("CatRoomPartUI2")+":"),this.LabelName3&&(this.LabelName3.string=U("CatRoomPartUI3")+":"),this.LabelName4&&(this.LabelName4.string=U("CatRoomPartUI4")+":"),this.LabelValue1&&(this.LabelValue1.string=""+U(null==e?void 0:e.name)),this.LabelValue2&&(this.LabelValue2.string=""+U(null==t?void 0:t.name)),this.LabelValue3&&(this.LabelValue3.string=""+U(null==i?void 0:i.name)),this.LabelValue4&&(this.LabelValue4.string=""+U(null==n?void 0:n.name)),this.LabelOtherRankingName&&(this.LabelOtherRankingName.string=U("CatRoomUI2")+":"),this.LabelYourRankingName&&(this.LabelYourRankingName.string=U("CatRoomUI3")+":"),this.LabelOtherRankingValue&&(this.LabelOtherRankingValue.string=""+(a?a.avgScore:0)),this.LabelYourRankingValue&&(this.LabelYourRankingValue.string=""+T.data.score),this.LabelRankText&&(this.LabelRankText.string=U("CatRoomScore5")),this.btnUpgrade11&&(this.btnUpgrade11.node.getChildByName("Label").getComponent(l).string="Lv."+(e?e.level:0)),this.btnUpgrade22&&(this.btnUpgrade22.node.getChildByName("Label").getComponent(l).string="Lv."+(t?t.level:0)),this.btnUpgrade33&&(this.btnUpgrade33.node.getChildByName("Label").getComponent(l).string="Lv."+(i?i.level:0)),this.btnUpgrade44&&(this.btnUpgrade44.node.getChildByName("Label").getComponent(l).string="Lv."+(n?n.level:0)),this.btnTips&&(this.btnTips.node.active=!0),this.SpriteTips&&(this.SpriteTips.node.active=!1),this.SpriteTipsText&&(this.SpriteTipsText.string=U("CatRoomUI5")+"\n"+U("CatRoomUI6")),this.LabelWarning&&(this.LabelWarning.string=T.data.score>=a.avgScore?U("CatRoomUI8"):U("CatRoomUI9")),this.SpriteWarning&&(this.SpriteWarning.node.active=!(T.data.score>=a.avgScore)),this.SpriteSuccess&&(this.SpriteSuccess.node.active=T.data.score>=a.avgScore),this.SpriteWarningIcon&&(this.SpriteWarningIcon.node.active=!(T.data.score>=a.avgScore))},r.updateDisplay=function(e){if(-1!=this.options.guideType)switch(this.options.guideType>10?Math.floor(this.options.guideType/10):this.options.guideType){case 1:this.onShowGuideHand(this.btnUpgrade1.node,!0);break;case 2:this.onShowGuideHand(this.btnUpgrade2.node,!0);break;case 3:this.onShowGuideHand(this.btnUpgrade3.node,!0);break;case 4:this.onShowGuideHand(this.btnUpgrade4.node,!0);break;case 5:this.onShowGuideHand(this.btnEliminate.node,!0)}},r.onShow=function(){var e=this;this.btnEliminate.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnRanking.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTip.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade1.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade2.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade3.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade4.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade11.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade22.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade33.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnUpgrade44.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),B.on(L.TREASURE_HUNT_UPDATE,this.refreshUI,this),this.fnTimer||(this.fnTimer=function(){e.SpriteTime&&(e.SpriteTime.node.active=T.getMiniGameLeftCount()<R.data.HardwareGameTimesRecoverLimit),e.LabelTime&&(e.LabelTime.node.active=T.getMiniGameLeftCount()<R.data.HardwareGameTimesRecoverLimit,c.setRichTextString(e.LabelTime,U("UI_Recharge_UI9","<color=#30b840>Add 1</color> ","<color=#8F635C>after "+c.formatTime(T.getMiniGameLeftCountRecoverLeftTime()/1e3)+"</color>"),"textures@Texture2D/Hall_UI/Hall_UI")),e.labelEliminate&&(e.labelEliminate.string=U("CatRoomUI7")+" ("+U("StaffState4",T.getMiniGameLeftCount(),R.data.HardwareGameTimesRecoverLimit)+")")}),this.fnTimer(),this.schedule(this.fnTimer,1),y.REQ_BANNER&&C.reqBannerAd(y.getAdMobUnitIdForBanner()),this.options.fnOnShow&&this.options.fnOnShow()},r.onHide=function(e){this.btnEliminate.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnRanking.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTip.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade1.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade2.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade3.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade4.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade11.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade22.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade33.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnUpgrade44.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.fnTimer&&(this.unschedule(this.fnTimer),this.fnTimer=null),this.spineXiaoshou&&(this.spineXiaoshou.selfDestroy(),this.spineXiaoshou=null),B.targetOff(this),y.REQ_BANNER&&C.closeBannerAd()},r.onShowGuideHand=function(e,t){var i=this;void 0===t&&(t=!0);var n=0;this.spineXiaoshou?this.spineXiaoshou.node.active||(this.spineXiaoshou.node.active=!0,this.spineXiaoshou.spine.loop=!1,this.spineXiaoshou.spine.clearTracks(),this.spineXiaoshou.spine.setAnimation(0,"zhiyin2",!0),this.spineXiaoshou.spine.setCompleteListener((function(e){n<1?n++:i.spineXiaoshou.node.active=!1}))):P.clickHand(e,"textures@prefabs/spineXiaoshou",new p(0,0,0),null,(function(e){var a;(i.spineXiaoshou=e,i.spineXiaoshou.node.active=!0,i.spineXiaoshou.spine.loop=!1,i.spineXiaoshou.spine.clearTracks(),i.spineXiaoshou.node.position.add3f(0,0,0),i.spineXiaoshou.spine.setAnimation(0,"zhiyin2",!0),i.spineXiaoshou.spine.setCompleteListener((function(e){t||(n<1?n++:i.spineXiaoshou.node.active=!1)})),i.progressBar)||(i.progressBar=null==(a=b("Canvas/ProgressBar",i.spineXiaoshou.node))?void 0:a.getComponent(h),i.progressBar.progress=1,i.progressBar.node.active=!1)}),!1)},r.onBtnPressStart=function(e,t,i){switch(e.spineXiaoshou&&(e.spineXiaoshou.node.active=!1),t){case 0:e.btnTips&&(e.SpriteTips.node.active=!e.SpriteTips.node.active);break;case 1:e.options.fnUpgrade1&&e.options.fnUpgrade1();break;case 2:e.options.fnUpgrade2&&e.options.fnUpgrade2();break;case 3:e.options.fnUpgrade3&&e.options.fnUpgrade3();break;case 4:e.options.fnUpgrade4&&e.options.fnUpgrade4();break;case 5:e.options.fnEliminate&&e.options.fnEliminate(e,t,i);break;case 6:e.options.fnRanking&&e.options.fnRanking()}},t}(g)).resObj={bundleName:"textures",relativePath:"prefabs/panelCatHouseUpgrade",resType:d.Prefab},me=t((ge=Ke).prototype,"labelTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ge.prototype,"labelEliminate",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ge.prototype,"REEliminate",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ge.prototype,"sprVideo",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ge.prototype,"btnEliminate",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ge.prototype,"btnRanking",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ge.prototype,"btnTip",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ge.prototype,"btnUpgrade1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ge.prototype,"btnUpgrade2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ge.prototype,"btnUpgrade3",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ge.prototype,"btnUpgrade4",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ge.prototype,"btnUpgrade11",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ge.prototype,"btnUpgrade22",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ge.prototype,"btnUpgrade33",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ge.prototype,"btnUpgrade44",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ge.prototype,"LabelName1",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ge.prototype,"LabelName2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ge.prototype,"LabelName3",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ge.prototype,"LabelName4",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ge.prototype,"LabelValue1",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ge.prototype,"LabelValue2",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ge.prototype,"LabelValue3",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ge.prototype,"LabelValue4",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ge.prototype,"LabelOtherRankingName",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ge.prototype,"LabelYourRankingName",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ge.prototype,"LabelOtherRankingValue",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ge.prototype,"LabelYourRankingValue",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ge.prototype,"LabelRankText",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ge.prototype,"LabelWarning",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ge.prototype,"SpriteWarning",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ge.prototype,"SpriteSuccess",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ge.prototype,"SpriteWarningIcon",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ge.prototype,"btnTips",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ge.prototype,"SpriteTips",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ge.prototype,"SpriteTipsText",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(ge.prototype,"SpriteTime",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ge.prototype,"LabelTime",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=ge))||ce));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelCatHouseUpgradeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCCatRoomData.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts","./CCSundryData.ts","./CCHostTasksData.ts","./CCAudioManager.ts","./CCRichText.ts","./CCPanelBackpackItem.ts","./CCPropData.ts"],(function(e){var t,i,n,a,o,l,r,s,u,p,d,c,h,b,y,f,C,g,m,L,v,S,I,M,x,B,U,T,N,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.Label,s=e.Sprite,u=e.sp,p=e.Color},function(e){d=e.default},function(e){c=e.default},function(e){h=e.DEV},function(e){b=e.CCButton},function(e){y=e.CCResType,f=e.default},function(e){C=e.default},function(e){g=e.CCPlayerData},function(e){m=e._T},function(e){L=e.CCEffect},function(e){v=e.CCSceneHall},function(e){S=e.CCEvent},function(e){I=e.default,M=e.EVENT_TYPE},function(e){x=e.default},function(e){B=e.default},function(e){U=e.audioMgr},function(e){T=e.CCRichText},function(e){N=e.CCPanelBackpackItem},function(e){D=e.CCPropType}],execute:function(){var _,P,w,H,z,E,k,R,F,G,A,V,O,Y,j,q,J,K,Q,W,X,Z,$,ee,te,ie,ne,ae,oe,le,re,se,ue,pe,de,ce,he,be,ye,fe,Ce,ge,me,Le,ve,Se,Ie,Me,xe,Be;o._RF.push({},"5b902hDA7VNmY7+4YSIt7aa","CCPanelCatHouseUpgradeItem",void 0);var Ue=l.ccclass,Te=l.property;e("CCPanelCatHouseUpgradeItem",(_=Ue("CCPanelCatHouseUpgradeItem"),P=Te({type:r,tooltip:h}),w=Te({type:r,tooltip:h}),H=Te({type:s,tooltip:h}),z=Te({type:s,tooltip:h}),E=Te({type:r,tooltip:h}),k=Te({type:r,tooltip:h}),R=Te({type:r,tooltip:h}),F=Te({type:b,tooltip:h}),G=Te({type:s,tooltip:h}),A=Te({type:r,tooltip:h}),V=Te({type:r,tooltip:h}),O=Te({type:s}),Y=Te({type:s}),j=Te({type:s}),q=Te({type:s}),J=Te({type:r}),K=Te({type:T}),Q=Te({type:T}),W=Te({type:T}),X=Te({type:r}),Z=Te({type:u.Skeleton,displayName:"Spine"}),$=Te({displayName:"typeId"}),ee=Te({displayName:"level"}),_(((Be=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"labelTitle",ne,a(t)),n(t,"labelDesc",ae,a(t)),n(t,"spriteItem",oe,a(t)),n(t,"SpriteMoney",le,a(t)),n(t,"labelMoney",re,a(t)),n(t,"LabelBuyPurchase",se,a(t)),n(t,"LabelBuyMaxLevel",ue,a(t)),n(t,"btnUpgrade",pe,a(t)),n(t,"SpriteBuyMoneyLacking",de,a(t)),n(t,"LabelBuyMoneyLacking",ce,a(t)),n(t,"LabelBuyMoneyLackingNumber",he,a(t)),n(t,"SpriteEnough",be,a(t)),n(t,"SpriteNotEnough",ye,a(t)),n(t,"SpriteCon1",fe,a(t)),n(t,"SpriteCon2",Ce,a(t)),n(t,"LabelCon",ge,a(t)),n(t,"LabelCon1",me,a(t)),n(t,"LabelCon2",Le,a(t)),n(t,"LabelNeedVips",ve,a(t)),n(t,"LabelNeedMaterials",Se,a(t)),n(t,"SpineLevelUp",Ie,a(t)),n(t,"typeId",Me,a(t)),n(t,"level",xe,a(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.SpriteBuyMoneyLacking&&(this.SpriteBuyMoneyLacking.node.active=!1),this.LabelBuyMoneyLacking&&(this.LabelBuyMoneyLacking.node.active=!1),this.LabelBuyMoneyLackingNumber&&(this.LabelBuyMoneyLackingNumber.node.active=!1),this.SpineLevelUp&&(this.SpineLevelUp.enabled=!1)},o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.btnUpgrade.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},o.onDisable=function(){this.btnUpgrade.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.onShow=function(){this.options.fnOnShow&&this.options.fnOnShow()},o.refreshUI=function(){var e=C.getNextRowByTypeIdAndLevel(this.typeId,this.level);if(!e||null==e){this.SpriteMoney.node.active=!1,this.labelMoney.node.active=!1,this.LabelBuyPurchase.node.active=!1,this.LabelBuyMaxLevel.node.active=!0,this.LabelBuyMaxLevel.string=m("StaffUI2");var t=C.getNextRowByTypeIdAndLevel(this.typeId,this.level-1),i=C.getNextTextureByTypeIdAndLevel(this.typeId,this.level-1);return this.labelTitle&&t.name.length&&(this.labelTitle.string=m(t.name)),this.labelDesc&&t.desc.length&&(this.labelDesc.string=m(t.desc)),this.spriteItem&&i.spriteFrameName.length&&f.loadSpriteFrameAndBind(this.spriteItem,"textures@Texture2D/Hall_Common/Hall_Common/"+i.spriteFrameName),this.SpriteEnough.node.active=!1,this.SpriteNotEnough.node.active=!1,this.SpriteCon1.node.active=!1,this.SpriteCon2.node.active=!1,this.LabelCon.node.active=!1,this.LabelCon1.node.active=!1,this.LabelCon2.node.active=!1,this.LabelNeedVips.node.active=!1,void(this.LabelNeedMaterials.node.active=!1)}this.SpriteEnough.node.active=!0,this.SpriteNotEnough.node.active=!1,this.SpriteMoney.node.active=!0,this.labelMoney.node.active=!0,this.LabelBuyPurchase.node.active=!0,this.LabelBuyMaxLevel.node.active=!1,this.LabelNeedVips.fontColor=new p("#8F635C");var n=C.getNextTextureByTypeIdAndLevel(this.typeId,this.level),a=e.needMoney-g.data.money,o=e.needVip-g.data.vip,l=e.needFish-g.data.miniGameDriedFishCount,r=e.needGold-g.data.gold;if((a>0||o>0||l>0)&&(a>0||(o>0?(this.SpriteEnough&&(this.SpriteEnough.node.active=!1),this.SpriteNotEnough&&(this.SpriteNotEnough.node.active=!0),this.LabelNeedVips.fontColor=new p("#E44848")):l>0&&(this.SpriteBuyMoneyLacking&&(this.SpriteBuyMoneyLacking.node.active=!1),this.LabelBuyMoneyLacking&&(this.LabelBuyMoneyLacking.node.active=!1),this.LabelBuyMoneyLackingNumber&&(this.LabelBuyMoneyLackingNumber.node.active=!1)))),this.labelTitle&&e.name.length&&(this.labelTitle.string=m(e.name)),this.labelDesc&&e.desc.length&&(this.labelDesc.string=m(e.desc)),this.spriteItem&&n.spriteFrameName.length&&f.loadSpriteFrameAndBind(this.spriteItem,"textures@Texture2D/Hall_Common/Hall_Common/"+n.spriteFrameName),this.labelMoney&&e.needMoney>=0&&(this.labelMoney.string=e.needMoney.toString()),this.LabelCon&&(this.LabelCon.string=m("CatHome_Upgrade_text1")),this.LabelNeedMaterials&&(this.LabelNeedMaterials.string=m("CatHome_Upgrade_text3")),this.LabelNeedVips&&d.setRichTextString(this.LabelNeedVips,m("CatHome_Upgrade_text2"," <img src='main_icon02' width=49 height=33 offset=-5/>"," "+e.needVip.toString()),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelCon1&&(e.needGold>0?r>0?d.setRichTextString(this.LabelCon1,"<size=20><color=red>"+d.formatNum2Str(g.data.gold)+"</color><color=927250>/"+e.needGold.toString()+"</color></size>"):d.setRichTextString(this.LabelCon1,"<size=20><color=927250>"+d.formatNum2Str(g.data.gold)+"/"+e.needGold.toString()+"</color></size>"):this.LabelCon1.enabled=!1),this.SpriteCon1){this.SpriteCon1.node.active=e.needGold>0;var s=this.SpriteCon1.node.getComponent(N);s&&(s.type=D.MATERIAL,s.Idx=I.PROP_GOLD_ID)}if(this.SpriteCon2){this.SpriteCon2.node.active=e.needFish>0;var u=this.SpriteCon2.node.getComponent(N);u&&(u.type=D.CURRENCY,u.Idx=I.PROP_DRIEDFISH_ID)}this.LabelCon2&&e.needFish>=0&&(l>0?d.setRichTextString(this.LabelCon2,"<size=20><color=red>"+d.formatNum2Str(g.data.miniGameDriedFishCount)+"</color><color=927250>/"+e.needFish.toString()+"</color></size>"):d.setRichTextString(this.LabelCon2,"<size=20><color=927250>"+d.formatNum2Str(g.data.miniGameDriedFishCount)+"/"+e.needFish.toString()+"</color></size>"))},o.onHide=function(e){},o.updateDisplay=function(e){this.typeId=e.typeId,this.level=e.level,this.refreshUI()},o.onBtnPressStart=function(e,t,i){var n=C.getNextRowByTypeIdAndLevel(e.typeId,e.level);if(!n||null==n)return e.hide(),!1;var a=n.needMoney-g.data.money,o=n.needVip-g.data.vip,l=n.needFish-g.data.miniGameDriedFishCount,r=n.needGold-g.data.gold;if(d.log("diffMoney: "+a+" , diffVip: "+o+" , diffChips: "+l+" , diffGold: "+r),a>0||o>0||l>0)return a>0?L.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+m(x.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",n.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"):o>0?L.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+m(x.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=0/> x",n.needVip),"textures@Texture2D/Hall_UI/Hall_UI"):r>0?L.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+m(x.data.CatRoomPartUI10,"<img src='main_icon09' width=36 height=36 offset=0/> x",n.needGold),"textures@Texture2D/Hall_UI/Hall_UI"):l>0&&L.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+m(x.data.CatRoomPartUI10,"<img src='main_icon_fish' width=50 height=42 offset=-3/> x",n.needFish),"textures@Texture2D/Hall_UI/Hall_UI"),U.playEffect("failed"),!1;g.setMiniGameDriedFishCount(g.data.miniGameDriedFishCount-n.needFish),v.addMoney(-n.needMoney),v.addGold(-n.needGold),g.setCatRoomLevelUsing(e.typeId,n.level),e.level=n.level,e.refreshUI(),S.emit(M.TREASURE_HUNT_UPDATE),L.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+m("tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),U.playEffect("success"),d.spineAnimation(e.SpineLevelUp,0,"Level_Up",!1,1,!1);var s=B.getRowsByTagId(g.data.hotTaskId);if(s){if(Math.floor(s.needCatPartId/10)!=e.typeId)return!0;if(s.needCatPartId>0&&Math.floor(s.needCatPartId/10)==e.level)if(s.needCatPartId-10*e.typeId<=e.level)0==g.getHotTaskProcess(g.data.hotTaskId).status&&g.addHotTaskProcesss(g.data.hotTaskId,s.needCatPartId)}return!0},t}(c)).resObj={bundleName:"textures",relativePath:"prefabs/panelCatHouseUpgradeItem",resType:y.Prefab},ne=t((ie=Be).prototype,"labelTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ie.prototype,"labelDesc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ie.prototype,"spriteItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ie.prototype,"SpriteMoney",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ie.prototype,"labelMoney",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ie.prototype,"LabelBuyPurchase",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ie.prototype,"LabelBuyMaxLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ie.prototype,"btnUpgrade",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ie.prototype,"SpriteBuyMoneyLacking",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ie.prototype,"LabelBuyMoneyLacking",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ie.prototype,"LabelBuyMoneyLackingNumber",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ie.prototype,"SpriteEnough",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ie.prototype,"SpriteNotEnough",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ie.prototype,"SpriteCon1",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ie.prototype,"SpriteCon2",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ie.prototype,"LabelCon",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ie.prototype,"LabelCon1",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ie.prototype,"LabelCon2",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ie.prototype,"LabelNeedVips",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ie.prototype,"LabelNeedMaterials",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ie.prototype,"SpineLevelUp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ie.prototype,"typeId",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xe=t(ie.prototype,"level",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=ie))||te));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelCatHouseUpgradeRanking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCCacheRes.ts","./CCRoomScoreData.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCSundryData.ts"],(function(e){var t,a,l,i,n,o,r,s,u,b,p,c,f,h,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,r=e.Label,s=e.Sprite,u=e.Canvas},function(e){b=e.default},function(e){p=e.DEV},function(e){c=e.CCResType},function(e){f=e.default},function(e){h=e.CCPlayerData},function(e){g=e._T},function(e){C=e.default}],execute:function(){var L,S,y,d,m,R,v,N,k,w,z,P,V,D,T,G,U,_,B,H,I,O;n._RF.push({},"08db5/tqIhIoJmnvMCN00fK","CCPanelCatHouseUpgradeRanking",void 0);var j=o.ccclass,x=o.property;e("CCPanelCatHouseUpgradeRanking",(L=j("CCPanelCatHouseUpgradeRanking"),S=x({type:r,tooltip:p}),y=x({type:r,tooltip:p}),d=x({type:r,tooltip:p}),m=x({type:s,tooltip:p}),R=x({type:r,tooltip:p}),v=x({type:r,tooltip:p}),N=x({type:r,tooltip:p}),k=x({type:r,tooltip:p}),w=x({type:r,tooltip:p}),L(((O=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,l(t,"labelTitle",V,i(t)),l(t,"LabelName",D,i(t)),l(t,"LabelValue",T,i(t)),l(t,"SpriteSelected",G,i(t)),l(t,"LabelNameSelf",U,i(t)),l(t,"LabelScoreSelf",_,i(t)),l(t,"LabelRankNoSelf",B,i(t)),l(t,"LabelGlobal",H,i(t)),l(t,"LabelGlobalRanking",I,i(t)),t}a(t,e);var n=t.prototype;return n.onLoad=function(){var e=h.data.score,t=f.getOtherRowsByVip(h.data.vip);this.labelTitle&&(this.labelTitle.string=g("CatRoomScore5"));var a=f.getOtherRowsRandomScoreByVip(h.data.vip);if(a.length==this.LabelName.length&&a.length==this.LabelValue.length){for(var l=-1,i=0;i<a.length;i++)if(e>=a[i]){l=i;break}for(var n=0;n<this.LabelName.length;n++)this.LabelName[n]&&(this.LabelName[n].string=g(""+C.data.TargetsBarName[n]));for(var o=0;o<this.LabelValue.length;o++)this.LabelValue[o]&&(this.LabelValue[o].string=": "+a[o]);for(var r=0;r<this.SpriteSelected.length;r++)this.SpriteSelected[r]&&(this.SpriteSelected[r].node.active=r==l);this.LabelNameSelf&&(this.LabelNameSelf.string=g("CatRoomScore5_UI2")),this.LabelScoreSelf&&(this.LabelScoreSelf.string=": "+e),this.LabelRankNoSelf&&(this.LabelRankNoSelf.string=g("CatRoomScore5_UI3")),this.LabelGlobal&&(this.LabelGlobal.string=g("CatRoomScore5_UI9")),this.LabelGlobalRanking&&(this.LabelGlobalRanking.string=": "+t.avgScore),l>-1&&(this.LabelName[l].string=h.data.name,this.LabelValue[l].string=": "+e,this.LabelRankNoSelf&&(this.LabelRankNoSelf.string="(No."+(l+1)+")"))}},n.onShow=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},t}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelCatHouseUpgradeRanking",resType:c.Prefab},V=t((P=O).prototype,"labelTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(P.prototype,"LabelName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"LabelValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(P.prototype,"SpriteSelected",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(P.prototype,"LabelNameSelf",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"LabelScoreSelf",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"LabelRankNoSelf",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"LabelGlobal",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(P.prototype,"LabelGlobalRanking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCButton.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPanelClanManagementItemFacility.ts","./CCBuildingLeftData.ts","./CCPanelClanManagementItemMember.ts","./CCPlayerData.ts","./CCSpineGuide.ts"],(function(t){var n,e,a,i,s,o,b,r,l,h,c,C,u,p,T,d,f,g,m,v;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,i=t.find,s=t.Label,o=t.PageView,b=t.Sprite},function(t){r=t.default},function(t){l=t.CCResType},function(t){h=t.CCButton},function(t){c=t.default},function(t){C=t._T},function(t){u=t.CCEvent},function(t){p=t.EVENT_TYPE},function(t){T=t.CCPanelClanManagementItemFacility},function(t){d=t.default},function(t){f=t.CCPanelClanManagementItemMember,g=t.MEMBER_TYPE},function(t){m=t.CC_NEWBIE_GUIDE_TYPE},function(t){v=t.CCSpineGuide}],execute:function(){var B,P;e._RF.push({},"86892XnRutLkLsh+NUx166n","CCPanelClanManagement",void 0);var E=a.ccclass;a.property,t("CCPanelClanManagement",E("CCPanelClanManagement")(((P=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(n=t.call.apply(t,[this].concat(a))||this).btnTab1=null,n.sprTab1=null,n.btnTab2=null,n.sprTab2=null,n.pv=null,n.content1=null,n.content2=null,n}n(e,t);var a=e.prototype;return a.onBuildItemFacility=function(t,n){t.name=""+n;var e=t.getComponent(T);e&&e.updateUI(n)},a.onBuildItemMember=function(t,n){t.name=""+n;var e=t.getComponent(f);e&&e.updateUI(n,g.UPGRADE)},a.init=function(t){this.options=t;var n,e,a=i("Canvas/Background/SprTabBg/Label1",this.node);if(a&&(a.getComponent(s).string=C("buildLeft_Tab_Facility")),(a=i("Canvas/Background/SprTabBg/btnTab1/Label",this.node))&&(a.getComponent(s).string=C("buildLeft_Tab_Facility")),(a=i("Canvas/Background/SprTabBg/Label2",this.node))&&(a.getComponent(s).string=C("buildLeft_Tab_Member")),(a=i("Canvas/Background/SprTabBg/btnTab2/Label",this.node))&&(a.getComponent(s).string=C("buildLeft_Tab_Member")),!this.pv){if(this.pv=i("Canvas/Background/PageView",this.node).getComponent(o),!this.pv)return;this.content1||(this.content1=i("Canvas/Background/PageView/view/content/ScrollView1",this.node).getComponent(c),this.content1&&(this.content1.numItems=d.totalKeys())),this.content2||(this.content2=i("Canvas/Background/PageView/view/content/ScrollView2",this.node).getComponent(c),this.content2&&(this.content2.numItems=d.totalKeys()))}(this.btnTab1||(this.btnTab1=i("Canvas/Background/SprTabBg/btnTab1",this.node).getComponent(h),this.btnTab1&&(this.btnTab1.node.active=!0)),this.sprTab1)||(this.sprTab1=null==(n=this.btnTab1)?void 0:n.node.getComponent(b),this.sprTab1&&(this.sprTab1.enabled=!1));(this.btnTab2||(this.btnTab2=i("Canvas/Background/SprTabBg/btnTab2",this.node).getComponent(h),this.btnTab2&&(this.btnTab2.node.active=!0)),this.sprTab2)||(this.sprTab2=null==(e=this.btnTab2)?void 0:e.node.getComponent(b),this.sprTab2&&(this.sprTab2.enabled=!1));this.enableTabBtn(!1,!0)},a.onShow=function(){this.btnTab1.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),u.on(p.CLAN_FACILITY_REFRESH,this.onClanFacilityRefresh,this),u.on(p.CLAN_MEMBER_REFRESH,this.onClanMemberRefresh,this),u.on(p.HIDE_PANEL,this.onHidePanel,this),this.scheduleOnce((function(){v.checkAndGotoNext(m.LEFT_SCENE,616)}),.5)},a.onHide=function(t){this.btnTab1.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),u.targetOff(this)},a.onClanFacilityRefresh=function(){this.content1.numItems=d.totalKeys()},a.onClanMemberRefresh=function(){this.content2.numItems=d.totalKeys()},a.onHidePanel=function(){this.hide(!1,0)},a.onBtnPressStart=function(t,n,e){switch(n){case 1:t.enableTabBtn(!0,!1);break;case 2:t.enableTabBtn(!1,!0)}},a.enableTabBtn=function(t,n){this.btnTab1&&this.btnTab1.node.children.forEach((function(n){n.active=t})),this.btnTab2&&this.btnTab2.node.children.forEach((function(t){t.active=n})),this.sprTab1&&(this.sprTab1.enabled=t),this.sprTab2&&(this.sprTab2.enabled=n),this.pv&&(t?this.pv.scrollToPage(0,.5):n&&this.pv.scrollToPage(1,.5))},e}(r)).resObj={bundleName:"textures",relativePath:"prefabs/panelClanManagement",resType:l.Prefab},B=P))||B);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementItemFacility.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCButton.ts","./CCLingoData.ts","./CCBuildingLeftData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCPopupManager.ts","./CCPanelClanManagementItemFacilityUpgrade.ts"],(function(t){var e,n,a,i,l,r,o,s,u,c,C,d,p,f,g,y,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Label,s=t.Sprite,u=t.Canvas},function(t){c=t.default},function(t){C=t.DEV},function(t){d=t.CCButton},function(t){p=t._T},function(t){f=t.default},function(t){g=t.CCPlayerData},function(t){y=t.default},function(t){v=t.default},function(t){m=t.CCPanelClanManagementItemFacilityUpgrade}],execute:function(){var h,B,P,b,I,L,M;l._RF.push({},"233f5M4PChJXLveCNQcdOtE","CCPanelClanManagementItemFacility",void 0);var F=r.ccclass,D=r.property;t("CCPanelClanManagementItemFacility",(h=F("CCPanelClanManagementItemFacility"),B=D({type:o,tooltip:C}),P=D({type:s,tooltip:C}),h((L=e((I=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,a(e,"labelTitle",L,i(e)),a(e,"sprBackground",M,i(e)),e.tid=0,e}n(e,t);var l=e.prototype;return l.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1)},l.updateUI=function(t){var e;if(!(t>=f.totalKeys())){var n=f.keys()[t];this.tid=parseInt(n,10),this.Idx=t;var a=null==(e=g.getBuildingLevelUsing(this.tid))?void 0:e.level,i=f.getRowByTypeIdAndLevel(this.tid,a);i&&(y.loadSpriteFrameAndBind(this.sprBackground,"textures@Texture2D/Hall_Left/Hall_Left/BM_LieBiao"+(t+1)),this.labelTitle.string=p(""+i.typeName)+" Lv."+a)}},l.onBtnPressStart=function(t,e,n){var a;c.log("CCPanelClanManagementItemFacility.onBtnPressStart.tid: "+t.tid);null==(a=g.getBuildingLevelUsing(this.tid))||a.level;v.showPanel(m.resObj,{idx:t.Idx,tid:t.tid},!0)},e}(d)).prototype,"labelTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"sprBackground",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=I))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementItemFacilityDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCRichText.ts","./CCPopup.ts","./CCBuildingLeftData.ts","./CCPopupManager.ts","./CCPanelClanManagementItemFacilityUpgrade.ts","./CCEvent.ts","./CCDefine.ts","./CCEffct.ts","./CCSceneHall.ts","./CCPanelLeftBottom.ts","./CCPropData.ts","./CCAudioManager.ts","./CCGuideData.ts"],(function(e){var t,i,n,a,l,r,o,s,u,p,d,f,C,b,c,m,g,T,L,h,E,y,I,_,B,S,v,N,U,w,P,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Sprite,s=e.Label,u=e.Canvas},function(e){p=e.default},function(e){d=e.CCButton},function(e){f=e._T},function(e){C=e.default},function(e){b=e.CCPlayerData,c=e.CC_NEWBIE_GUIDE_TYPE},function(e){m=e.CCResType,g=e.default},function(e){T=e.CCRichText},function(e){L=e.default},function(e){h=e.default},function(e){E=e.default},function(e){y=e.CCPanelClanManagementItemFacilityUpgrade},function(e){I=e.CCEvent},function(e){_=e.EVENT_TYPE,B=e.default},function(e){S=e.CCEffect},function(e){v=e.CCSceneHall},function(e){N=e.CCPanelLeftBottom},function(e){U=e.default,w=e.CCPropType},function(e){P=e.audioMgr},function(e){F=e.default}],execute:function(){var D,x,R,G,H,z,M,A,O,W,V,k,j,X,Y,Z,q,J,K,Q,$,ee,te,ie,ne,ae,le,re,oe,se,ue,pe,de,fe,Ce,be,ce,me,ge,Te;l._RF.push({},"a822aDaCURN6Z+00rM09BRl","CCPanelClanManagementItemFacilityDetails",void 0);var Le=r.ccclass,he=r.property;e("CCPanelClanManagementItemFacilityDetails",(D=Le("CCPanelClanManagementItemFacilityDetails"),x=he({type:o}),R=he({type:o}),G=he({type:o}),H=he({type:s}),z=he({type:s}),M=he({type:s}),A=he({type:s}),O=he({type:s}),W=he({type:s}),V=he({type:T}),k=he({type:T}),j=he({type:d}),X=he({type:d}),Y=he({type:s}),Z=he({type:s}),q=he({type:d}),J=he({type:s}),K=he({type:N}),D(((Te=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"SpriteImage",ee,a(t)),n(t,"SpriteMaxLevel",te,a(t)),n(t,"SpriteFace",ie,a(t)),n(t,"LabelTitle",ne,a(t)),n(t,"LabelLv",ae,a(t)),n(t,"LabelDesc",le,a(t)),n(t,"LabelTime",re,a(t)),n(t,"LabelRewards",oe,a(t)),n(t,"LabelTimeVal",se,a(t)),n(t,"LabelRewardsVal",ue,a(t)),n(t,"LabelTrainTimer",pe,a(t)),n(t,"btnFieldPlayers",de,a(t)),n(t,"btnLevelUp",fe,a(t)),n(t,"LabelFieldPlayers",Ce,a(t)),n(t,"LabelLevelUp",be,a(t)),n(t,"btnClaim",ce,a(t)),n(t,"LabelClaim",me,a(t)),n(t,"panelLeftBottom",ge,a(t)),t.fnTrainTimer=null,t}i(t,e);var l=t.prototype;return l.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),I.on(_.REFRESH_BUILDING_LEFT,this.updateUI,this),I.on(_.ENABLE_TRAIN,this.updateUI,this)},l.onDisable=function(){I.targetOff(this),this.unscheduleAllCallbacks(),this.btnFieldPlayers.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnClaim.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnLevelUp.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},l.updateDisplay=function(e){this.options=e,this.updateUI()},l.updateUI=function(){var e,t=this,i=null==(e=b.getBuildingLevelUsing(this.options.tid))?void 0:e.level,n=h.getRowByTypeIdAndLevel(this.options.tid,i);if(n){var a=i==h.getMaxLevelByTypeId(this.options.tid),l=0,r=!1,o=b.getCatUpgradeUsingByBuildingId(this.options.tid);if(o&&(l=o.lastTrainCompleteTime-p.NowTimeStamp(),-1==o.lastTrainCompleteTime&&(r=!0)),g.loadSpriteFrameAndBind(this.SpriteImage,"textures@Texture2D/Hall_Left/Hall_Left/BM_Top"+(this.options.idx+1)),this.SpriteMaxLevel.node.active=a,this.btnLevelUp.enableCCButtonListener(this,!a,!1,this.onBtnPressStart),r){if(this.btnClaim.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnFieldPlayers.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),B.ENABLE_NEWBIE_GUIDE){var s=b.getNewbieGuideStepsCompleted(c.LEFT_SCENE);if(s>=608&&s<=611){b.updateNewbieGuideStepsCompleted(c.LEFT_SCENE,s),I.emit(_.NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE);var u=F.getRowsNext(c.LEFT_SCENE,s);if(!u)return;for(var d=s;d<612;d++)u=F.getRowsNext(c.LEFT_SCENE,u.orderId),b.updateNewbieGuideStepsCompleted(c.LEFT_SCENE,u.orderId);u&&I.emit(_.NEWBIE_GUIDE_ACTION_REFRESH,u.orderId)}}}else this.btnFieldPlayers.enableCCButtonListener(this,l<=0,!1,this.onBtnPressStart),this.btnClaim.enableCCButtonListener(this,!1,!1,this.onBtnPressStart);l>0&&g.loadSpriteFrameAndBind(this.SpriteFace,"textures@Texture2D/Hall_Left/Hall_Left/Icon_cat"+o.catId,!1),this.SpriteFace.node.parent.active=l>0,this.LabelTrainTimer.node.active=l>0,this.LabelTitle.string=f(n.typeName),this.LabelLv.string="Lv."+i,this.LabelDesc.string=f(n.desc),this.LabelTime.string=f("buildLeft_inter_Text1"),this.LabelRewards.string=f("buildLeft_inter_Text2"),this.LabelTimeVal.string=p.formatTime(n.trainDuration,!0),p.setRichTextString(this.LabelRewardsVal,"<color=#d95701><size=24>"+n.trainExp+"</size></color>  <img src='icon_Exp_36' width=66 height=30 offset=-2/>","textures@Texture2D/Hall_Left/Hall_Left"),this.LabelFieldPlayers.string=f("buildLeft_inter_Button2"),this.LabelLevelUp.string=f("buildLeft_inter_Button1"),l<=0||this.fnTrainTimer||(this.fnTrainTimer=function(){var e=b.getCatUpgradeUsingByBuildingId(t.options.tid);return e?(l=Math.ceil((e.lastTrainCompleteTime-p.NowTimeStamp())/1e3))<=0?(t.updateUI(),t.unschedule(t.fnTrainTimer),void(t.fnTrainTimer=null)):void p.setRichTextString(t.LabelTrainTimer,"<img src='BM_Time' width=43 height=43 offset=-8/> <color=#ff4800><size=26>"+p.formatTime(l,!0)+"</size></color>","textures@Texture2D/Hall_Left/Hall_Left"):(t.updateUI(),t.unschedule(t.fnTrainTimer),void(t.fnTrainTimer=null))},this.fnTrainTimer(),this.schedule((function(){t.fnTrainTimer&&t.fnTrainTimer()}),1))}},l.onShow=function(){if(this.panelLeftBottom){this.panelLeftBottom.expand();var e=U.keys(w.PROP);this.panelLeftBottom.PropRow.setPropIds(e)}this.options.fnOnShow&&this.options.fnOnShow(this)},l.onHide=function(e){},l.onPropIdUse=function(e){p.log("onPropIdUse: "+e);var t=b.getCatUpgradeUsingByBuildingId(this.options.tid);if(t)if(-1!=t.lastTrainCompleteTime){var i=U.getRowsByTypeId(e);if(i)if(b.getPropCount(e)<1)S.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",f("FloatingWordTip3"),"");else{b.addPropCount(e,-1);var n=t.lastTrainCompleteTime-1e3*i.funcData[0][1];if(n<0&&(n=0),b.setCatUpgradeUsing(t.catId,t.level,t.buildingId,n,t.lastUpgradeCompleteTime),I.emit(_.REFRESH_BUILDING_LEFT,t.buildingId,0),P.playEffect("success"),S.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",f("FloatingWordTip2","<img src='Item_"+e+"' width=80 height=80 offset=0,-20/> "),"textures@Texture2D/Hall_Item/Hall_Item"),I.emit(_.REFRESH_PROP_UI),this.updateUI(),B.ENABLE_NEWBIE_GUIDE&&611==b.getNewbieGuideStepsCompleted(c.LEFT_SCENE)){var a=b.getNewbieGuideStepsCompleted(c.LEFT_SCENE);if(a>0){var l=b.getNewbieGuideStepsNext(c.LEFT_SCENE,a);if(!l)return;I.emit(_.GOTO_NEXT,l.orderId)}}}else S.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",f("FloatingWordTip3"),"")}else S.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",f("FloatingWordTip4"),"");else S.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",f("FloatingWordTip1"),"")},l.onMemberArrange=function(){var e=Object.entries(C.data.CatBuildRela)[this.options.idx],t=e[0],i=(e[1],b.getCatUpgradeUsing(parseInt(t,10)));if(i){var n=b.getBuildingLevelUsing(this.options.tid);if(n){var a=h.getRowByTypeIdAndLevel(this.options.tid,n.level);if(a){var l=1e3*a.trainDuration+p.NowTimeStamp();if(b.setCatUpgradeUsing(i.catId,i.level,this.options.tid,l,i.lastUpgradeCompleteTime),this.updateUI(),b.updateDailyTaskProcess(0,0,0,0,0,0,0,0,1,0),I.emit(_.ENABLE_TRAIN,this.options.tid,i.catId,!0,!1),I.emit(_.REFRESH_BUILDING_LEFT,this.options.tid,0),I.emit(_.HIDE_PANEL),B.ENABLE_NEWBIE_GUIDE&&607==b.getNewbieGuideStepsCompleted(c.LEFT_SCENE)){var r=b.getNewbieGuideStepsCompleted(c.LEFT_SCENE);if(r>0){var o=b.getNewbieGuideStepsNext(c.LEFT_SCENE,r);if(!o)return;I.emit(_.GOTO_NEXT,o.orderId)}}}}}},l.onClaim=function(){var e=b.getCatUpgradeUsingByBuildingId(this.options.tid);if(e&&e.buildingId>0&&-1==e.lastTrainCompleteTime){if(I.emit(_.COLLECT_EXP,e.buildingId),this.updateUI(),B.ENABLE_NEWBIE_GUIDE&&614==b.getNewbieGuideStepsCompleted(c.LEFT_SCENE)){var t=b.getNewbieGuideStepsCompleted(c.LEFT_SCENE);if(t>0){var i=b.getNewbieGuideStepsNext(c.LEFT_SCENE,t);if(!i)return;I.emit(_.GOTO_NEXT,i.orderId)}}}else;},l.onBtnPressStart=function(e,t,i){switch(p.log("CCPanelClanManagementItemFacilityDetails.onBtnPressStart.tid: "+e.options.tid+" idx: "+t),t){case 0:e.hide(!1,0),E.showPanel(y.resObj,{idx:e.options.idx,tid:e.options.tid,fnComplete:e.options.fnOnComplete},!0);break;case 1:e.onMemberArrange();break;case 2:e.onClaim()}},t}(L)).resObj={bundleName:"textures",relativePath:"prefabs/panelClanManagementItemFacilityDetails",resType:m.Prefab},ee=t(($=Te).prototype,"SpriteImage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t($.prototype,"SpriteMaxLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t($.prototype,"SpriteFace",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"LabelTitle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t($.prototype,"LabelLv",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t($.prototype,"LabelDesc",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t($.prototype,"LabelTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"LabelRewards",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t($.prototype,"LabelTimeVal",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t($.prototype,"LabelRewardsVal",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t($.prototype,"LabelTrainTimer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t($.prototype,"btnFieldPlayers",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t($.prototype,"btnLevelUp",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t($.prototype,"LabelFieldPlayers",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t($.prototype,"LabelLevelUp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t($.prototype,"btnClaim",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t($.prototype,"LabelClaim",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t($.prototype,"panelLeftBottom",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=$))||Q));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementItemFacilityUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCRichText.ts","./CCPopup.ts","./CCBuildingLeftData.ts","./CCPanelBackpackItem.ts","./CCPropData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCAudioManager.ts","./CCEvent.ts","./CCDefine.ts","./CCAdHelper.ts","./CCGuideData.ts","./CCSpineGuide.ts"],(function(e){var t,i,n,a,l,o,r,s,d,u,p,f,c,b,h,g,C,L,m,y,v,_,x,E,I,w,T,N,S,U,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Sprite,s=e.Label,d=e.Canvas},function(e){u=e.default},function(e){p=e.CCButton},function(e){f=e._T},function(e){c=e.default},function(e){b=e.CCPlayerData,h=e.CC_NEWBIE_GUIDE_TYPE},function(e){g=e.CCResType,C=e.default},function(e){L=e.CCRichText},function(e){m=e.default},function(e){y=e.default},function(e){v=e.CCPanelBackpackItem},function(e){_=e.CCPropType},function(e){x=e.CCEffect},function(e){E=e.CCSceneHall},function(e){I=e.audioMgr},function(e){w=e.CCEvent},function(e){T=e.default,N=e.EVENT_TYPE},function(e){S=e.default},function(e){U=e.default},function(e){P=e.CCSpineGuide}],execute:function(){var B,R,M,D,H,V,F,z,A,G,k,O,W,Y,j,X,q,J,K,Q,Z,$,ee,te,ie,ne,ae,le,oe,re,se,de,ue,pe,fe,ce,be,he,ge,Ce,Le,me,ye,ve,_e,xe,Ee,Ie,we,Te,Ne,Se,Ue,Pe;l._RF.push({},"17398vN02RO9YwMvPojeyBH","CCPanelClanManagementItemFacilityUpgrade",void 0);var Be=o.ccclass,Re=o.property;e("CCPanelClanManagementItemFacilityUpgrade",(B=Be("CCPanelClanManagementItemFacilityUpgrade"),R=Re({type:r}),M=Re({type:r}),D=Re({type:r}),H=Re({type:r}),V=Re({type:r}),F=Re({type:r}),z=Re({type:s}),A=Re({type:s}),G=Re({type:s}),k=Re({type:L}),O=Re({type:s}),W=Re({type:L}),Y=Re({type:s}),j=Re({type:s}),X=Re({type:s}),q=Re({type:L}),J=Re({type:r}),K=Re({type:s}),Q=Re({type:s}),Z=Re({type:s}),$=Re({type:L}),ee=Re({type:p}),te=Re({type:p}),ie=Re({type:L}),ne=Re({type:s}),B(((Pe=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"SpriteImage",oe,a(t)),n(t,"SpriteCondFrame1",re,a(t)),n(t,"SpriteNotEnough",se,a(t)),n(t,"SpriteEnough",de,a(t)),n(t,"SpriteMaterial1",ue,a(t)),n(t,"SpriteCondFrame2",pe,a(t)),n(t,"LabelLv",fe,a(t)),n(t,"LabelDesc",ce,a(t)),n(t,"LabelCon1",be,a(t)),n(t,"LabelNeedVips",he,a(t)),n(t,"LabelCon2",ge,a(t)),n(t,"LabelMaterial1",Ce,a(t)),n(t,"LabelTime",Le,a(t)),n(t,"LabelTimeVal",me,a(t)),n(t,"LabelRewards",ye,a(t)),n(t,"LabelRewardsVal",ve,a(t)),n(t,"SpriteArrow",_e,a(t)),n(t,"LabelTimeNext",xe,a(t)),n(t,"LabelTimeNextVal",Ee,a(t)),n(t,"LabelRewardsNext",Ie,a(t)),n(t,"LabelRewardsNextVal",we,a(t)),n(t,"btnUpgrade",Te,a(t)),n(t,"btnFillMoney",Ne,a(t)),n(t,"LabelMoney",Se,a(t)),n(t,"LabelFillMoney",Ue,a(t)),t}i(t,e);var l=t.prototype;return l.onEnable=function(){var t,i;e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(d).enabled=!1),null==(t=this.btnUpgrade)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(i=this.btnFillMoney)||i.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},l.onDisable=function(){var t,i;null==(t=this.btnUpgrade)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(i=this.btnFillMoney)||i.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},l.onShow=function(){if(T.ENABLE_NEWBIE_GUIDE&&602==b.getNewbieGuideStepsCompleted(h.LEFT_SCENE)){var e=U.getRowsNext(h.LEFT_SCENE,b.getNewbieGuideStepsCompleted(h.LEFT_SCENE));if(e){var t=Math.floor(e.clickType/100);if(t>0){var i=b.getBuildingLevelUsing(t);if(i&&i.level>0){b.updateNewbieGuideStepsCompleted(h.LEFT_SCENE,e.orderId),w.emit(N.NEWBIE_GUIDE_SET_CLIPPINGNODE,P.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1/view/content1/11/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem")),w.emit(N.NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE);for(var n=0;n<2;n++)e=U.getRowsNext(h.LEFT_SCENE,e.orderId),0==n&&b.updateNewbieGuideStepsCompleted(h.LEFT_SCENE,e.orderId);return void(e&&w.emit(N.NEWBIE_GUIDE_ACTION_REFRESH,e.orderId))}b.updateNewbieGuideStepsCompleted(h.LEFT_SCENE,e.orderId)}}w.emit(N.NEWBIE_GUIDE_SET_CLIPPINGNODE,P.findNodeByAbsPath("panelClanManagementItemFacilityUpgrade/Canvas/Background/btnUpgrade"))}},l.updateDisplay=function(e){this.options=e,this.updateUI()},l.updateUI=function(e){var t,i;void 0===e&&(e=!1);var n=b.data.vip,a=null==(t=b.getBuildingLevelUsing(this.options.tid))?void 0:t.level,l=y.getRowByTypeIdAndLevel(this.options.tid,a);if(l){var o=a==y.getMaxLevelByTypeId(this.options.tid),r=o?null:y.getRowByTypeIdAndLevel(this.options.tid,a+1);if(C.loadSpriteFrameAndBind(this.SpriteImage,"textures@Texture2D/Hall_Left/Hall_Left/BM_Top"+(this.options.idx+1)),this.LabelLv.string=f(l.typeName)+" Lv."+a,this.LabelDesc.string=f(l.desc),this.LabelCon1.string=f("buildLeft_inter_Tab1"),this.LabelCon1.node.active=!o,this.LabelNeedVips&&(u.setRichTextString(this.LabelNeedVips,f("CatHome_Upgrade_text2"," <img src='main_icon02' width=49 height=33 offset=-5/>"," "+l.needVip.toString()),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelNeedVips.node.active=!o),this.SpriteCondFrame1.node.active=!o,this.SpriteEnough.node.active=!(o||n<l.needVip),this.SpriteNotEnough.node.active=!(o||n>=l.needVip),this.SpriteCondFrame2.node.active=!o&&2==l.needProps.length,this.LabelCon2.node.active=!o&&2==l.needProps.length,this.LabelMaterial1.node.active=!o&&2==l.needProps.length,this.SpriteMaterial1.node.active=!o&&2==l.needProps.length,this.SpriteMaterial1.node.parent.active=!o&&2==l.needProps.length,this.LabelCon2.string=f("buildLeft_inter_Tab2"),2==l.needProps.length){var s,d=l.needProps[0],p=l.needProps[1],h=b.getPropCount(d);h<p?u.setRichTextString(this.LabelMaterial1,"<size=20><outline color=red width=2><color=#ffffff>"+u.formatNum2Str(h)+"</color></outline><color=#927250></color><outline color=#927250 width=2><color=#ffffff>/"+p+"</color></outline></size>","textures@Texture2D/Hall_UI/Hall_UI"):u.setRichTextString(this.LabelMaterial1,"<size=20><outline color=#927250 width=2><color=#ffffff>"+u.formatNum2Str(h)+"</color></outline><color=#927250></color><outline color=#927250 width=2><color=#ffffff>/"+p+"</color></outline></size>","textures@Texture2D/Hall_UI/Hall_UI"),C.loadSpriteFrameAndBind(this.SpriteMaterial1,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+d,!1);var g=null==(s=this.SpriteMaterial1.node.parent)?void 0:s.getComponent(v);g&&(g.type=_.MATERIAL,g.Idx=d)}if(this.LabelTime.string=f("buildLeft_inter_Text1"),this.LabelRewards.string=f("buildLeft_inter_Text2"),this.LabelTimeVal.string=u.formatTime(l.trainDuration,!0),u.setRichTextString(this.LabelRewardsVal,"<color=#d95701><size=20>"+l.trainExp+"</size></color> <img src='icon_Exp_36' width=52.8 height=24 offset=-2/>","textures@Texture2D/Hall_Left/Hall_Left"),this.LabelTime.node.active=a>0,this.LabelRewards.node.active=a>0,this.LabelTimeVal.node.active=a>0,this.LabelRewardsVal.node.active=a>0,this.SpriteArrow.node.active=a>0&&!o,o){var L=150;this.LabelTime.node.setPosition(this.LabelTime.node.position.add3f(L,0,0)),this.LabelRewards.node.setPosition(this.LabelRewards.node.position.add3f(L,0,0)),this.LabelTimeVal.node.setPosition(this.LabelTimeVal.node.position.add3f(L,0,0)),this.LabelRewardsVal.node.setPosition(this.LabelRewardsVal.node.position.add3f(L,0,0))}else this.LabelTimeNext.string=f("buildLeft_inter_Text1"),this.LabelRewardsNext.string=f("buildLeft_inter_Text2"),this.LabelTimeNextVal.string=u.formatTime(r.trainDuration,!0),u.setRichTextString(this.LabelRewardsNextVal,"<color=#d95701><size=20>"+r.trainExp+"</size></color> <img src='icon_Exp_36' width=52.8 height=24 offset=-2/>","textures@Texture2D/Hall_Left/Hall_Left");if(0==a){var m=-150;this.LabelTimeNext.node.setPosition(this.LabelTimeNext.node.position.add3f(m,0,0)),this.LabelRewardsNext.node.setPosition(this.LabelRewardsNext.node.position.add3f(m,0,0)),this.LabelTimeNextVal.node.setPosition(this.LabelTimeNextVal.node.position.add3f(m,0,0)),this.LabelRewardsNextVal.node.setPosition(this.LabelRewardsNextVal.node.position.add3f(m,0,0)),u.setRichTextString(this.LabelMoney,"<img src='main_icon01' width=55 height=47 offset=-5/> <color=#ffffff><outline color=1E678F width=2><size=30>"+l.needMoney+" "+f("CatRoomPartUI12")+"</size></outline></color>","textures@Texture2D/Hall_UI/Hall_UI")}else{if(e){var x=150;this.LabelTimeNext.node.setPosition(this.LabelTimeNext.node.position.add3f(x,0,0)),this.LabelRewardsNext.node.setPosition(this.LabelRewardsNext.node.position.add3f(x,0,0)),this.LabelTimeNextVal.node.setPosition(this.LabelTimeNextVal.node.position.add3f(x,0,0)),this.LabelRewardsNextVal.node.setPosition(this.LabelRewardsNextVal.node.position.add3f(x,0,0))}o?u.setRichTextString(this.LabelMoney,"<color=#ffffff><outline color=1E678F width=2><size=30>"+f("StaffUI2")+"</size></outline></color>",""):u.setRichTextString(this.LabelMoney,"<img src='main_icon01' width=55 height=47 offset=-5/> <color=#ffffff><outline color=1E678F width=2><size=30>"+l.needMoney+" "+f("buildLeft_inter_Button1")+"</size></outline></color>","textures@Texture2D/Hall_UI/Hall_UI")}null==(i=this.btnFillMoney)||i.enableCCButtonListener(this,c.isMoneyNotEnough(l.needMoney),!1,this.onBtnPressStart),this.LabelTimeNext.node.active=!o,this.LabelRewardsNext.node.active=!o,this.LabelTimeNextVal.node.active=!o,this.LabelRewardsNextVal.node.active=!o}},l.onBtnPressStart=function(e,t,i){var n;switch(u.log("CCPanelClanManagementItemFacilityUpgrade.onBtnPressStart.tid: "+e.options.tid+" idx: "+t),t){case 0:e.buyOrUpgrade();break;case 1:var a=b.data.money,l=null==(n=b.getBuildingLevelUsing(e.options.tid))?void 0:n.level,o=y.getRowByTypeIdAndLevel(e.options.tid,l);if(!o)return;var r=o.needMoney-a;if(r<=0)return;w.emit(N.PUSH_EVENT,"ad_18"),S.showAds((function(){E.addMoney(r),e.updateUI()}))||x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",f("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},l.buyOrUpgrade=function(){var e;if(b.getCatUpgradeUsingByBuildingId(this.options.tid))x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",f("Abnormal_text"),"");else{var t=b.data.vip,i=b.data.money,n=null==(e=b.getBuildingLevelUsing(this.options.tid))?void 0:e.level,a=y.getRowByTypeIdAndLevel(this.options.tid,n);if(a){var l=n==y.getMaxLevelByTypeId(this.options.tid),o=l?null:y.getRowByTypeIdAndLevel(this.options.tid,n+1);if(l)this.hide();else{if(t<a.needVip)return x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",""+f(c.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=0/> x",a.needVip),"textures@Texture2D/Hall_UI/Hall_UI"),void I.playEffect("failed");var r=0,s=0;if(2==a.needProps.length)if(r=a.needProps[0],s=a.needProps[1],b.getPropCount(r)<s)return x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",""+f(c.data.CatRoomPartUI10,"<img src='Item_"+r+"' width=80 height=80 offset=0,-20/> x",s),"textures@Texture2D/Hall_Item/Hall_Item"),void I.playEffect("failed");if(i<a.needMoney)return x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",""+f(c.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",a.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"),void I.playEffect("failed");if(E.addMoney(-a.needMoney),b.addPropCount(r,-s),b.setBuildingIdPurchased(a.typeId,o.level),b.setBuildingLevelUnlocked(a.typeId,o.level),b.setBuildingLevelUsing(a.typeId,o.level),0==a.level?x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",""+f("tishshop1"),"textures@Texture2D/Hall_UI/Hall_UI"):x.toast(E.SceneHallUI,"textures@prefabs/floatingBanner",""+f("tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),I.playEffect("success"),this.updateUI(0==a.level),w.emit(N.REFRESH_BUILDING_LEFT,a.typeId,o.level),w.emit(N.CLAN_FACILITY_REFRESH),this.options.fnComplete&&this.options.fnComplete(this,a.typeId,o.level),T.ENABLE_NEWBIE_GUIDE&&603==b.getNewbieGuideStepsCompleted(h.LEFT_SCENE)){var d=b.getNewbieGuideStepsCompleted(h.LEFT_SCENE);if(d>0){var u=b.getNewbieGuideStepsNext(h.LEFT_SCENE,d);if(!u)return;w.emit(N.GOTO_NEXT,u.orderId)}}}}}},t}(m)).resObj={bundleName:"textures",relativePath:"prefabs/panelClanManagementItemFacilityUpgrade",resType:g.Prefab},oe=t((le=Pe).prototype,"SpriteImage",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(le.prototype,"SpriteCondFrame1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(le.prototype,"SpriteNotEnough",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(le.prototype,"SpriteEnough",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(le.prototype,"SpriteMaterial1",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(le.prototype,"SpriteCondFrame2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(le.prototype,"LabelLv",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(le.prototype,"LabelDesc",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(le.prototype,"LabelCon1",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(le.prototype,"LabelNeedVips",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(le.prototype,"LabelCon2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(le.prototype,"LabelMaterial1",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(le.prototype,"LabelTime",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(le.prototype,"LabelTimeVal",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(le.prototype,"LabelRewards",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(le.prototype,"LabelRewardsVal",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(le.prototype,"SpriteArrow",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(le.prototype,"LabelTimeNext",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(le.prototype,"LabelTimeNextVal",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(le.prototype,"LabelRewardsNext",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(le.prototype,"LabelRewardsNextVal",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(le.prototype,"btnUpgrade",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(le.prototype,"btnFillMoney",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(le.prototype,"LabelMoney",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(le.prototype,"LabelFillMoney",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=le))||ae));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementItemMember.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCButton.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCPopupManager.ts","./CCPanelClanManagementItemMemberUpgrade.ts","./CCEvent.ts","./CCDefine.ts","./CCBuildingLeftData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCCatUpgrade.ts"],(function(e){var t,n,i,a,r,l,o,s,u,d,C,b,c,g,p,f,h,m,I,y,P,v,A,B,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Sprite,s=e.Label,u=e.Canvas,d=e.Component},function(e){C=e.default},function(e){b=e.DEV},function(e){c=e.CCButton},function(e){g=e._T},function(e){p=e.default},function(e){f=e.CCPlayerData},function(e){h=e.default},function(e){m=e.default},function(e){I=e.CCPanelClanManagementItemMemberUpgrade},function(e){y=e.CCEvent},function(e){P=e.EVENT_TYPE},function(e){v=e.default},function(e){A=e.CCEffect},function(e){B=e.CCSceneHall},function(e){D=e.default}],execute:function(){var E,L,U,R,S,_,w,M,N,T,x,G,z,F,H;r._RF.push({},"5f00eBpEaVAgqXenbsZiX7b","CCPanelClanManagementItemMember",void 0);var j=l.ccclass,O=l.property,k=e("MEMBER_TYPE",function(e){return e[e.UPGRADE=0]="UPGRADE",e[e.TRAINING=1]="TRAINING",e}({}));e("CCPanelClanManagementItemMember",(E=j("CCPanelClanManagementItemMember"),L=O({type:o,tooltip:b}),U=O({type:o,tooltip:b}),R=O({type:s,tooltip:b}),S=O({type:s,tooltip:b}),_=O({type:s,tooltip:b}),w=O({type:c,tooltip:b}),E((T=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"SpriteFace",T,a(t)),i(t,"SpriteArranged",x,a(t)),i(t,"labelDesc",G,a(t)),i(t,"LabelPower",z,a(t)),i(t,"labelBtn",F,a(t)),i(t,"btnArrange",H,a(t)),t.idx=0,t.tid=0,t.type=k.UPGRADE,t.buildingId=0,t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),this.btnArrange&&this.btnArrange.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},r.onDisable=function(){this.btnArrange&&this.btnArrange.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},r.updateUI=function(e,t,n){if(void 0===t&&(t=k.UPGRADE),void 0===n&&(n=0),!(e>=Object.keys(p.data.CatBuildRela).length)){var i=Object.entries(p.data.CatBuildRela)[e],a=i[0];i[1];this.idx=e,this.tid=Number(a),this.type=t,this.buildingId=n;var r=f.getCatUpgradeUsing(this.tid);if(r){var l=D.getRowByLevel(r.level);l&&(h.loadSpriteFrameAndBind(this.SpriteFace,"textures@Texture2D/Hall_Left/Hall_Left/Icon_cat"+(e+1),!1),this.labelDesc&&(this.labelDesc.string="Lv."+r.level+" "+g("LeftCatName"+this.tid)),this.LabelPower&&(this.LabelPower.string=g("Cat_inter_Combat")+" "+l.power),this.labelBtn&&(this.labelBtn.string=this.type==k.UPGRADE?g("buildLeft_inter_Button1"):g("buildLeft_inter_Button3")),this.btnArrange&&(this.btnArrange.Idx=this.tid,this.btnArrange.enableCCButtonListener(this,0==r.buildingId,!1,this.onBtnPressStart)),this.SpriteArranged&&(this.SpriteArranged.node.active=r.buildingId>0))}}},t.showDetails=function(e,t){m.showPanel(I.resObj,{idx:e,tid:t},!0)},r.onBtnPressStart=function(e,t,n){C.log("CCPanelClanManagementItemMember.onBtnPressStart.tid: "+e.tid);var i=f.getCatUpgradeUsing(t);if(i)if(i.buildingId>0)A.toast(B.SceneHallUI,"textures@prefabs/floatingBanner",g("Abnormal_text"),"");else switch(e.type){case k.UPGRADE:m.showPanel(I.resObj,{idx:e.idx,tid:e.tid},!0);break;case k.TRAINING:var a=f.getBuildingLevelUsing(e.buildingId);if(!a)return;var r=v.getRowByTypeIdAndLevel(e.buildingId,a.level);if(!r)return;var l=1e3*r.trainDuration+C.NowTimeStamp();f.setCatUpgradeUsing(t,i.level,e.buildingId,l,i.lastUpgradeCompleteTime),e.updateUI(e.idx,k.TRAINING,e.buildingId),y.emit(P.ENABLE_TRAIN,e.buildingId,t,!0,!1),y.emit(P.REFRESH_BUILDING_LEFT,e.buildingId,0),y.emit(P.HIDE_PANEL)}},t}(d)).prototype,"SpriteFace",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"SpriteArranged",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"labelDesc",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"LabelPower",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(N.prototype,"labelBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(N.prototype,"btnArrange",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=N))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementItemMemberUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCRichText.ts","./CCPopup.ts","./CCBuildingLeftData.ts","./CCPanelBackpackItem.ts","./CCPropData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCAudioManager.ts","./CCEvent.ts","./CCDefine.ts","./CCAdHelper.ts","./CCCatUpgrade.ts","./CCSpineGuide.ts"],(function(e){var t,n,i,r,a,o,l,s,u,p,d,c,f,g,b,h,C,m,v,L,y,U,P,S,B,T,I,x,w,E,_,M,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,s=e.Sprite,u=e.Label,p=e.ProgressBar,d=e.sp,c=e.Canvas},function(e){f=e.default},function(e){g=e.CCButton},function(e){b=e._T},function(e){h=e.default},function(e){C=e.CC_NEWBIE_GUIDE_TYPE,m=e.CCPlayerData},function(e){v=e.CCResType,L=e.default},function(e){y=e.CCRichText},function(e){U=e.default},function(e){P=e.default},function(e){S=e.CCPanelBackpackItem},function(e){B=e.CCPropType},function(e){T=e.CCEffect},function(e){I=e.CCSceneHall},function(e){x=e.audioMgr},function(e){w=e.CCEvent},function(e){E=e.EVENT_TYPE},function(e){_=e.default},function(e){M=e.default},function(e){A=e.CCSpineGuide}],execute:function(){var N,H,z,R,D,F,k,O,j,G,V,Y,J,W,q,K,Q,X,Z,$,ee,te,ne,ie,re,ae,oe,le,se,ue,pe,de,ce,fe,ge,be,he,Ce,me,ve,Le,ye,Ue,Pe;o._RF.push({},"905b4oNgPJP+rsgT7B7aEPc","CCPanelClanManagementItemMemberUpgrade",void 0);var Se=l.ccclass,Be=l.property;e("CCPanelClanManagementItemMemberUpgrade",(N=Se("CCPanelClanManagementItemMemberUpgrade"),H=Be({type:s}),z=Be({type:s}),R=Be({type:s}),D=Be({type:s}),F=Be({type:s}),k=Be({type:[s]}),O=Be({type:u}),j=Be({type:u}),G=Be({type:u}),V=Be({type:u}),Y=Be({type:u}),J=Be({type:y}),W=Be({type:u}),q=Be({type:[y]}),K=Be({type:p}),Q=Be({type:g}),X=Be({type:g}),Z=Be({type:y}),$=Be({type:u}),ee=Be({type:d.Skeleton,displayName:"Spine"}),N(((Pe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"SpriteItem",ie,r(t)),i(t,"SpriteCondFrame1",re,r(t)),i(t,"SpriteNotEnough",ae,r(t)),i(t,"SpriteEnough",oe,r(t)),i(t,"SpriteCondFrame2",le,r(t)),i(t,"SpriteMaterial",se,r(t)),i(t,"LabelLv",ue,r(t)),i(t,"LabelTitle",pe,r(t)),i(t,"LabelDesc",de,r(t)),i(t,"LabelPower",ce,r(t)),i(t,"LabelCon1",fe,r(t)),i(t,"LabelNeedBuilding",ge,r(t)),i(t,"LabelCon2",be,r(t)),i(t,"LabelMaterial",he,r(t)),i(t,"ProgressBar",Ce,r(t)),i(t,"btnUpgrade",me,r(t)),i(t,"btnAcclerator",ve,r(t)),i(t,"LabelMoney",Le,r(t)),i(t,"LabelAcclerator",ye,r(t)),i(t,"SpineLevelUp",Ue,r(t)),t.fnUpgradingTimer=null,t}n(t,e);var o=t.prototype;return o.onEnable=function(){var t,n;e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),null==(t=this.btnUpgrade)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(n=this.btnAcclerator)||n.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.SpineLevelUp&&(this.SpineLevelUp.enabled=!1)},o.onDisable=function(){var t,n;this.unscheduleAllCallbacks(),null==(t=this.btnUpgrade)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnAcclerator)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.onShow=function(){e.prototype.onShow&&e.prototype.onShow.call(this),this.updateUI(),A.checkAndGotoNext(C.LEFT_SCENE,617)},o.onHide=function(t){e.prototype.onHide&&e.prototype.onHide.call(this,t)},o.updateDisplay=function(e){this.options=e,this.updateUI()},o.updateUI=function(){var e,t=this,n=null==(e=m.getCatUpgradeUsing(this.options.tid))?void 0:e.level,i=M.getRowByLevel(n);if(i){var r=n==M.getMaxLevel();r||M.getRowByLevel(n+1);if(!(this.options.idx>=Object.keys(h.data.CatBuildRela).length)){var a=Object.entries(h.data.CatBuildRela)[this.options.idx],o=(a[0],a[1]),l=P.getRowByTypeIdAndLevel(o,i.needBuildingLevel);if(l){var s=m.getBuildingIdPurchased().includes(100*o+i.needBuildingLevel);L.loadSpriteFrameAndBind(this.SpriteItem,"textures@Texture2D/Hall_Left/Hall_Left/Icon_cat"+(this.options.idx+1)),this.LabelLv.string="Lv."+n,this.LabelTitle.string=b("LeftCatName"+this.options.tid),this.LabelDesc.string=b("CatBrief"+this.options.tid),this.LabelPower.string=b("Cat_inter_Combat")+" "+i.power,this.LabelCon1.string=b("buildLeft_inter_Tab1"),this.LabelCon1.node.active=!r,this.LabelNeedBuilding&&(f.setRichTextString(this.LabelNeedBuilding,b("CatRoomPartUI10"," "+b(l.typeName),i.needBuildingLevel>0?" Lv."+i.needBuildingLevel.toString():""),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelNeedBuilding.node.active=!r),this.SpriteCondFrame1.node.active=!r,this.SpriteEnough.node.active=!(r||!s),this.SpriteNotEnough.node.active=!r&&!s;var u=this.checkMaterial(i);this.SpriteCondFrame2.node.active=!r&&u.length>0,this.LabelCon2.string=b("buildLeft_inter_Tab2"),this.LabelCon2.node.active=!r&&u.length>0;var p=0;u.forEach((function(e){Object.entries(e).forEach((function(e){var n,i=e[0],r=e[1],a=Number(i),o=r[0],l=r[1];o<l?f.setRichTextString(t.LabelMaterial[p],"<size=20><outline color=red width=2><color=#ffffff>"+f.formatNum2Str(o)+"</color></outline><color=#927250></color><outline color=#927250 width=2><color=#ffffff>/"+l+"</color></outline></size>",""):f.setRichTextString(t.LabelMaterial[p],"<size=20><outline color=#927250 width=2><color=#ffffff>"+f.formatNum2Str(o)+"</color></outline><color=#927250></color><outline color=#927250 width=2><color=#ffffff>/"+l+"</color></outline></size>",""),L.loadSpriteFrameAndBind(t.SpriteMaterial[p],"textures@Texture2D/Hall_Item/Hall_Item/Item_"+a,!1);var s=null==(n=t.SpriteMaterial[p].node.parent)?void 0:n.getComponent(S);s&&(s.type=B.MATERIAL,s.Idx=a),t.LabelMaterial[p].node.active=t.SpriteCondFrame2.node.active,t.SpriteMaterial[p].node.active=t.SpriteCondFrame2.node.active,t.SpriteMaterial[p].node.parent.active=t.SpriteCondFrame2.node.active,p++}))}));for(var d=u.length;d<3;d++)this.LabelMaterial[d].node.active=!1,this.SpriteMaterial[d].node.active=!1,this.SpriteMaterial[d].node.parent.active=!1;r?f.setRichTextString(this.LabelMoney,"<color=#ffffff><outline color=#1E678F width=2><size=30>"+b("StaffUI2")+"</size></outline></color>",""):f.setRichTextString(this.LabelMoney,"<img src='icon_Exp_36' width=66 height=30 offset=0/> <color=#ffffff><outline color=#1E678F width=2><size=30>"+i.needExp+" "+b("buildLeft_inter_Button1")+"</size></outline></color>","textures@Texture2D/Hall_Left/Hall_Left"),this.LabelAcclerator&&(this.LabelAcclerator.string=b("StaffUI8")),this.checkUpgrade(!0)}}}},o.enableAcclerator=function(e){this.ProgressBar&&this.ProgressBar.node.active!=e&&(this.ProgressBar.node.active=e),this.btnAcclerator&&this.btnAcclerator.node.active!=e&&(this.btnAcclerator.enableCCButtonListener(this,e,!1,this.onBtnPressStart),this.btnAcclerator.node.active=e),this.btnUpgrade&&this.btnUpgrade.node.active==e&&this.btnUpgrade.enableButton(!e)},o.checkUpgrade=function(e){var t=this;if(this.fnUpgradingTimer&&!e)return this.updateUI(),this.unschedule(this.fnUpgradingTimer),this.fnUpgradingTimer=null,void this.enableAcclerator(e);!this.fnUpgradingTimer&&e&&(this.fnUpgradingTimer=function(){var e=m.getCatUpgradeUsing(t.options.tid);if(!e)return t.updateUI(),t.unschedule(t.fnUpgradingTimer),t.fnUpgradingTimer=null,void t.enableAcclerator(!1);if(e.lastUpgradeCompleteTime<=0)return t.updateUI(),t.unschedule(t.fnUpgradingTimer),t.fnUpgradingTimer=null,void t.enableAcclerator(!1);var n=Math.ceil((e.lastUpgradeCompleteTime-f.NowTimeStamp())/1e3);if(n<=0)return t.updateUI(),t.unschedule(t.fnUpgradingTimer),t.fnUpgradingTimer=null,void t.enableAcclerator(!1);var i=M.getRowByLevel(e.level-1);if(!i)return t.updateUI(),t.unschedule(t.fnUpgradingTimer),t.fnUpgradingTimer=null,void t.enableAcclerator(!1);t.enableAcclerator(!0),t.ProgressBar&&(t.ProgressBar.node.getChildByName("Label").getComponent(u).string=""+f.formatTime(n,!0),t.ProgressBar.progress=n/i.coldDown,f.log("CCPanelClanManagementItemMemberUpgrade.fnUpgradingTimer: "+f.formatTime(n,!0)+" progress: "+t.ProgressBar.progress.toFixed(2)))},this.fnUpgradingTimer(),this.schedule((function(){t.fnUpgradingTimer&&t.fnUpgradingTimer()}),1))},o.checkMaterial=function(e,t){void 0===t&&(t=!0);var n=0,i=[];return e.needPorp100>0&&(n=m.getPropCount(100),(t||n<e.needPorp100)&&i.push({100:[n,e.needPorp100]})),e.needPorp109>0&&(n=m.getPropCount(109),(t||n<e.needPorp109)&&i.push({109:[n,e.needPorp109]})),e.needPorp110>0&&(n=m.getPropCount(110),(t||n<e.needPorp110)&&i.push({110:[n,e.needPorp110]})),e.needPorp111>0&&(n=m.getPropCount(111),(t||n<e.needPorp111)&&i.push({111:[n,e.needPorp111]})),e.needPorp112>0&&(n=m.getPropCount(112),(t||n<e.needPorp112)&&i.push({112:[n,e.needPorp112]})),e.needPorp113>0&&(n=m.getPropCount(113),(t||n<e.needPorp113)&&i.push({113:[n,e.needPorp113]})),e.needPorp114>0&&(n=m.getPropCount(114),(t||n<e.needPorp114)&&i.push({114:[n,e.needPorp114]})),i},o.onBtnPressStart=function(e,t,n){switch(f.log("CCPanelClanManagementItemMemberUpgrade.onBtnPressStart.tid: "+e.options.tid+" idx: "+t),t){case 0:e.buyOrUpgrade();break;case 1:w.emit(E.PUSH_EVENT,"ad_19"),_.showAds((function(){var t=m.getCatUpgradeUsing(e.options.tid);t&&(m.setCatUpgradeUsing(e.options.tid,t.level,t.buildingId,t.lastTrainCompleteTime,0),e.updateUI())}))||T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",b("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},o.buyOrUpgrade=function(){var e=m.data.exp,t=m.getCatUpgradeUsing(this.options.tid);if(t){var n=t.level,i=M.getRowByLevel(n);if(i){var r=n==M.getMaxLevel(),o=r?null:M.getRowByLevel(n+1);if(r)this.hide();else if(!(this.options.idx>=Object.keys(h.data.CatBuildRela).length)){var l=Object.entries(h.data.CatBuildRela)[this.options.idx],s=(l[0],l[1]),u=P.getRowByTypeIdAndLevel(s,i.needBuildingLevel);if(u){if(!m.getBuildingIdPurchased().includes(100*s+i.needBuildingLevel))return T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+b(h.data.CatRoomPartUI10,""+b(u.typeName),i.needBuildingLevel>0?" Lv."+i.needBuildingLevel:""),""),void x.playEffect("failed");for(var p,d=this.checkMaterial(i,!1),c=a(d);!(p=c()).done;)for(var g=p.value,v=0,L=Object.entries(g);v<L.length;v++){var y=L[v],U=y[0],S=y[1],B=Number(U),_=S[0],N=S[1];if(_<N)return T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+b(h.data.CatRoomPartUI10,"<img src='Item_"+B+"' width=80 height=80 offset=0,-20/> x",N),"textures@Texture2D/Hall_Item/Hall_Item"),void x.playEffect("failed")}if(e<i.needExp)return T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+b(h.data.CatRoomPartUI10,"<img src='Item_2' width=80 height=80 offset=0,-22/> x",i.needExp),"textures@Texture2D/Hall_Item/Hall_Item"),void x.playEffect("failed");d=this.checkMaterial(i,!0);for(var H,z=a(d);!(H=z()).done;)for(var R=H.value,D=0,F=Object.entries(R);D<F.length;D++){var k=F[D],O=k[0],j=k[1],G=Number(O),V=j[0],Y=j[1];V>=Y&&m.addPropCount(G,-Y)}I.addExp(-i.needExp);var J=1e3*i.coldDown+f.NowTimeStamp();m.setCatUpgradeUsing(this.options.tid,o.level,t.buildingId,t.lastTrainCompleteTime,J),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+b("tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),x.playEffect("success"),this.updateUI(),f.spineAnimation(this.SpineLevelUp,0,"Level_Up",!1,1,!1),w.emit(E.CLAN_MEMBER_REFRESH,this.options.tid),A.checkAndGotoNext(C.LEFT_SCENE,618)}}}}},t}(U)).resObj={bundleName:"textures",relativePath:"prefabs/panelClanManagementItemMemberUpgrade",resType:v.Prefab},ie=t((ne=Pe).prototype,"SpriteItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ne.prototype,"SpriteCondFrame1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ne.prototype,"SpriteNotEnough",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ne.prototype,"SpriteEnough",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ne.prototype,"SpriteCondFrame2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ne.prototype,"SpriteMaterial",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(ne.prototype,"LabelLv",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ne.prototype,"LabelTitle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ne.prototype,"LabelDesc",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ne.prototype,"LabelPower",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ne.prototype,"LabelCon1",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ne.prototype,"LabelNeedBuilding",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ne.prototype,"LabelCon2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ne.prototype,"LabelMaterial",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ne.prototype,"ProgressBar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ne.prototype,"btnUpgrade",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ne.prototype,"btnAcclerator",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ne.prototype,"LabelMoney",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ne.prototype,"LabelAcclerator",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ne.prototype,"SpineLevelUp",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ne))||te));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelClanManagementMemberArrange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCBuildingLeftData.ts","./CCPanelClanManagementItemMember.ts"],(function(e){var n,t,a,i,o,r,l,s,u,c,C,f,m,p,h,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,s=e.find},function(e){u=e.default},function(e){c=e.CCResType},function(e){C=e.default},function(e){f=e._T},function(e){m=e.CCEvent},function(e){p=e.EVENT_TYPE},function(e){h=e.default},function(e){b=e.CCPanelClanManagementItemMember}],execute:function(){var d,g,M,P,y,L;o._RF.push({},"fd087PduLJCFYdfNAoqG77o","CCPanelClanManagementMemberArrange",void 0);var v=r.ccclass,E=r.property;e("CCPanelClanManagementMemberArrange",(d=v("CCPanelClanManagementMemberArrange"),g=E({type:l}),d(((L=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,a(n,"LabelTitle",y,i(n)),n.content1=null,n}t(n,e);var o=n.prototype;return o.onBuildItemMember=function(e,n,t){e.name=""+n;var a=e.getComponent(b);a&&a.updateUI(n,parseInt(t,10),this.options.buildingId)},o.init=function(e){this.options=e,this.LabelTitle&&(this.LabelTitle.string=f("buildLeft_inter_Button3")),this.content1||(this.content1=s("Canvas/Background/ScrollView1",this.node).getComponent(C),this.content1&&(this.content1.numItems=h.totalKeys()))},o.onShow=function(){m.on(p.CLAN_MEMBER_REFRESH,this.onClanMemberRefresh,this),m.on(p.HIDE_PANEL,this.onHidePanel,this)},o.onHide=function(e){m.targetOff(this)},o.onClanMemberRefresh=function(){this.content1.numItems=h.totalKeys()},o.onHidePanel=function(){this.hide(!1,0)},n}(u)).resObj={bundleName:"textures",relativePath:"prefabs/panelClanManagementMemberArrange",resType:c.Prefab},y=n((P=L).prototype,"LabelTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=P))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelCommon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts"],(function(t){var n,e,i,o,l,u,r,a,s,b,h,p,c,f,m,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,u=t._decorator,r=t.Sprite,a=t.Label,s=t.Node},function(t){b=t.default},function(t){h=t.DEV},function(t){p=t.CCButton},function(t){c=t.CCResType,f=t.default},function(t){m=t.default},function(t){d=t.default}],execute:function(){var S,T,C,y,E,v,g,O,A,_,H,B,N,U,R,w;l._RF.push({},"cc12euVoeNAlLOr+AbtMdqA","CCPanelCommon",void 0);var M=u.ccclass,D=u.property;t("CCPanelCommon",(S=M("CCPanelCommon"),T=D({type:r,tooltip:h}),C=D({type:a,tooltip:h}),y=D({type:a,tooltip:h}),E=D({type:a,tooltip:h}),v=D({type:r,tooltip:h}),g=D({type:p,tooltip:h}),S(((w=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),u=0;u<e;u++)l[u]=arguments[u];return n=t.call.apply(t,[this].concat(l))||this,i(n,"SprImage",_,o(n)),i(n,"labelTitle",H,o(n)),i(n,"labelBody",B,o(n)),i(n,"labelSubmit",N,o(n)),i(n,"SprSubmit",U,o(n)),i(n,"btnSubmit",R,o(n)),n}e(n,t);var l=n.prototype;return l.onShow=function(){var t,n,e,i,o,l,u,r;null==(t=this.btnSubmit)||null==(t=t.node)||t.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(n=this.btnSubmit)||null==(n=n.node)||n.on(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.on(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(u=this.btnSubmit)||null==(u=u.node)||u.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),null==(r=this.btnSubmit)||null==(r=r.node)||r.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&m.reqBannerAd(d.getAdMobUnitIdForBanner()),this.options.fnOnShow&&this.options.fnOnShow(this)},l.onHide=function(t){var n,e,i,o;null==(n=this.btnSubmit)||null==(n=n.node)||n.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&m.closeBannerAd()},l.updateDisplay=function(t){this.labelTitle&&t.title.length&&(this.labelTitle.string=t.title),this.labelBody&&t.body.length&&(this.labelBody.string=t.body),this.labelSubmit&&t.submitText.length&&(this.labelSubmit.string=t.submitText),this.SprImage&&t.image.length&&f.loadSpriteFrameAndBind(this.SprImage,t.image),this.SprSubmit&&t.submitIcon.length&&f.loadSpriteFrameAndBind(this.SprSubmit,t.submitIcon)},l.onTouchStart=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},l.onTouchMove=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},l.onTouchEnd=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(1,1,1),t.propagationStopped=!0,this.options.fnSubmit&&this.options.fnSubmit(this)},n}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelCommon",resType:c.Prefab},_=n((A=w).prototype,"SprImage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(A.prototype,"labelTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(A.prototype,"labelBody",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(A.prototype,"labelSubmit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(A.prototype,"SprSubmit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(A.prototype,"btnSubmit",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=A))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelDecorationDelivery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCPlayerData.ts","./CCPanelDecorationDeliveryItem.ts","./CCEvent.ts","./CCDefine.ts","./CCLingoData.ts"],(function(t){var e,n,o,i,r,a,c,l,s,u,C,f,v;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.find,r=t.Label},function(t){a=t.default},function(t){c=t.CCResType},function(t){l=t.default},function(t){s=t.CCPlayerData},function(t){u=t.CCPanelDecorationDeliveryItem},function(t){C=t.CCEvent},function(t){f=t.EVENT_TYPE},function(t){v=t._T}],execute:function(){var h,p;n._RF.push({},"9e9f0ZfU7tNE7pgjNvKMShK","CCPanelDecorationDelivery",void 0);var D=o.ccclass;o.property,t("CCPanelDecorationDelivery",D("CCPanelDecorationDelivery")(((p=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).content1=null,e}e(n,t);var o=n.prototype;return o.onBuildItem=function(t,e){var n=s.getSortedBuildingDeliveringItems()[e],o=t.getComponent(u);o&&o.updateUI(n)},o.init=function(t){var e;this.options=t;var n=null==(e=i("Canvas/Background/LabelTitle",this.node))?void 0:e.getComponent(r);n&&(n.string=v("BuildingUI6")),this.content1||(this.content1=i("Canvas/Background/ScrollView1",this.node).getComponent(l),this.content1&&(this.content1.numItems=s.getBuildingDeliveringCount()))},o.onShow=function(){t.prototype.onShow.call(this),C.on(f.DECORATION_DELIVERING,this.onDecorationDelivered,this)},o.onHide=function(e){C.targetOff(this),t.prototype.onHide.call(this,e)},o.onDecorationDelivered=function(){this.content1||(this.content1=i("Canvas/Background/ScrollView1",this.node).getComponent(l)),this.content1&&(this.content1.numItems=s.getBuildingDeliveringCount())},n}(a)).resObj={bundleName:"textures",relativePath:"prefabs/panelDecorationDelivery",resType:c.Prefab},h=p))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelDecorationDeliveryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCButton.ts","./CCBuildingData.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCAdHelper.ts","./CCEffct.ts","./CCSceneHall.ts","./CCBuildingRightData.ts"],(function(e){var t,i,n,l,r,a,o,s,u,c,h,p,d,f,v,C,g,y,b,D,I,m,B,T,w,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Label,s=e.Sprite,u=e.Canvas,c=e.Rect,h=e.UITransform,p=e.Size,d=e.Component},function(e){f=e.default},function(e){v=e.DEV},function(e){C=e.CCPlayerData},function(e){g=e.CCButton},function(e){y=e.default},function(e){b=e._T},function(e){D=e.CCEvent},function(e){I=e.EVENT_TYPE,m=e.BuildingTypeId},function(e){B=e.default},function(e){T=e.CCEffect},function(e){w=e.CCSceneHall},function(e){E=e.default}],execute:function(){var z,_,L,P,R,S,A,H,U,k,x,N,F,O,V,W,j,M,X;r._RF.push({},"f85f1W9sd9OkbIXREyw+Wsu","CCPanelDecorationDeliveryItem",void 0);var Y=a.ccclass,q=a.property;e("CCPanelDecorationDeliveryItem",(z=Y("CCPanelDecorationDeliveryItem"),_=q({type:o,tooltip:v}),L=q({type:o,tooltip:v}),P=q({type:s,tooltip:v}),R=q({type:o,tooltip:v}),S=q({type:g,tooltip:v}),A=q({type:o,tooltip:v}),H=q({displayName:"typeId"}),U=q({displayName:"level"}),z((N=t((x=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"labelTitle",N,l(t)),n(t,"labelDesc",F,l(t)),n(t,"spriteItem",O,l(t)),n(t,"labelTime",V,l(t)),n(t,"btnDelivering",W,l(t)),n(t,"labelDelivering",j,l(t)),n(t,"typeId",M,l(t)),n(t,"level",X,l(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){},r.onEnable=function(){var e;this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),null==(e=this.btnDelivering)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},r.onDisable=function(){var e;null==(e=this.btnDelivering)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks()},r.checkDelivered=function(){var e=C.getBuildingDelivering(100*this.typeId+this.level);if(e.level>0){var t=(e.deliveredTime-Date.now())/1e3;if(t<0)return this.unscheduleAllCallbacks(),void D.emit(I.DECORATION_DELIVERED,"");this.labelDesc.string=b("BuildingUI4"),this.labelTime.string=f.formatTime(t)}},r.updateUI=function(e){var t,i=this;if(this.typeId=e.typeId,this.level=e.level,(t=this.typeId<m.Hall_Right_Bar?y.getRowByTypeIdAndLevel(this.typeId,this.level):E.getRowByTypeIdAndLevel(this.typeId,this.level))&&(this.checkDelivered(),this.schedule((function(){i.checkDelivered()}),1),this.labelDelivering.string=b("BuildingUI6"),this.labelTitle&&t.name.length&&(this.labelTitle.string=b(t.name)),this.btnDelivering&&(this.btnDelivering.Idx=100*this.typeId+this.level),this.spriteItem)){var n,l=this.spriteItem.getComponent(s);if(l)if(n=this.typeId<m.Hall_Right_Bar?y.getTextureByTypeIdAndLevel(this.typeId,this.level):E.getTextureByTypeIdAndLevel(this.typeId,this.level)){var r=n.spriteFrame.clone(),a=r.originalSize,o=new c(0,0,a.width,a.height);if(o.width>o.height){var u=o.width/150;o.width=150,o.height/=u}else{var d=o.height/150;o.width/=d,o.height=150}l.spriteFrame=r,this.spriteItem.getComponent(h).setContentSize(new p(o.width,o.height))}}},r.onBtnPressStart=function(e,t,i){B.showAds((function(){C.setBuildingDelivered(100*e.typeId+e.level)}))||T.toast(w.SceneHallUI,"textures@prefabs/floatingBanner",b("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},t}(d)).prototype,"labelTitle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(x.prototype,"labelDesc",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"spriteItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"labelTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(x.prototype,"btnDelivering",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"labelDelivering",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(x.prototype,"typeId",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(x.prototype,"level",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=x))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelExpressDelivery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCCacheRes.ts","./CCAdHelper.ts","./CCButton.ts","./CCDefine.ts"],(function(t){var n,e,i,l,o,u,r,s,a,p,b,h,c,f,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,r=t.Sprite,s=t.Label,a=t.Node},function(t){p=t.default},function(t){b=t.DEV},function(t){h=t.CCResType},function(t){c=t.default},function(t){f=t.CCButton},function(t){S=t.default}],execute:function(){var T,d,m,y,C,E,v,g,_,O,A,H,D,U,B,N;o._RF.push({},"7153do758dOiaU5svcWqq4Y","CCPanelExpressDelivery",void 0);var R=u.ccclass,M=u.property;t("CCPanelExpressDelivery",(T=R("CCPanelExpressDelivery"),d=M({type:r,tooltip:b}),m=M({type:s,tooltip:b}),y=M({type:s,tooltip:b}),C=M({type:s,tooltip:b}),E=M({type:r,tooltip:b}),v=M({type:f,tooltip:b}),T(((N=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,i(n,"SprImage",O,l(n)),i(n,"labelTitle",A,l(n)),i(n,"labelBody",H,l(n)),i(n,"labelSubmit",D,l(n)),i(n,"SprSubmit",U,l(n)),i(n,"btnSubmit",B,l(n)),n}e(n,t);var o=n.prototype;return o.onShow=function(){var t,n,e,i,l,o,u,r;null==(t=this.btnSubmit)||null==(t=t.node)||t.off(a.EventType.TOUCH_START,this.onTouchStart,this),null==(n=this.btnSubmit)||null==(n=n.node)||n.on(a.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.off(a.EventType.TOUCH_END,this.onTouchEnd,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.on(a.EventType.TOUCH_END,this.onTouchEnd,this),null==(u=this.btnSubmit)||null==(u=u.node)||u.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this),null==(r=this.btnSubmit)||null==(r=r.node)||r.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this),S.REQ_BANNER&&c.reqBannerAd(S.getAdMobUnitIdForBanner())},o.onHide=function(t){var n,e,i,l;null==(n=this.btnSubmit)||null==(n=n.node)||n.off(a.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.off(a.EventType.TOUCH_END,this.onTouchEnd,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this),S.REQ_BANNER&&c.closeBannerAd()},o.updateDisplay=function(t){this.labelTitle&&(this.labelTitle.string=t.title),this.labelBody&&(this.labelBody.string=t.body),this.labelSubmit&&(this.labelSubmit.string=t.submitText),this.SprImage&&this.SprImage.changeSpriteFrameFromAtlas(t.image),this.SprSubmit&&this.SprSubmit.changeSpriteFrameFromAtlas(t.submitIcon)},o.onTouchStart=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},o.onTouchMove=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},o.onTouchEnd=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(1,1,1),t.propagationStopped=!0,this.options.fnSubmit&&this.options.fnSubmit()},n}(p)).resObj={bundleName:"textures",relativePath:"prefabs/paneExpressDelivery",resType:h.Prefab},O=n((_=N).prototype,"SprImage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(_.prototype,"labelTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(_.prototype,"labelBody",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(_.prototype,"labelSubmit",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(_.prototype,"SprSubmit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(_.prototype,"btnSubmit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelExtraClicks.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts"],(function(t){var n,e,i,l,o,u,r,a,s,p,c,b,h,f,T,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,r=t.Sprite,a=t.Label,s=t.Node},function(t){p=t.default},function(t){c=t.DEV},function(t){b=t.CCButton},function(t){h=t.CCResType,f=t.default},function(t){T=t.default},function(t){d=t.default}],execute:function(){var S,m,C,y,E,g,v,_,B,O,A,H,U,N,R,M,w,x;o._RF.push({},"1f83fMhfL9LeJTZF9tYeeab","CCPanelExtraClicks",void 0);var z=u.ccclass,D=u.property;t("CCPanelExtraClicks",(S=z("CCPanelExtraClicks"),m=D({type:r,tooltip:c}),C=D({type:a,tooltip:c}),y=D({type:a,tooltip:c}),E=D({type:a,tooltip:c}),g=D({type:a,tooltip:c}),v=D({type:r,tooltip:c}),_=D({type:b,tooltip:c}),S(((x=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,i(n,"SprImage",A,l(n)),i(n,"labelTitle",H,l(n)),i(n,"contentTitle",U,l(n)),i(n,"contentBody",N,l(n)),i(n,"labelSubmit",R,l(n)),i(n,"SprSubmit",M,l(n)),i(n,"btnSubmit",w,l(n)),n}e(n,t);var o=n.prototype;return o.onShow=function(){var t,n,e,i,l,o,u,r;null==(t=this.btnSubmit)||null==(t=t.node)||t.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(n=this.btnSubmit)||null==(n=n.node)||n.on(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.on(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(u=this.btnSubmit)||null==(u=u.node)||u.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),null==(r=this.btnSubmit)||null==(r=r.node)||r.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&T.reqBannerAd(d.getAdMobUnitIdForBanner())},o.onHide=function(t){var n,e,i,l;null==(n=this.btnSubmit)||null==(n=n.node)||n.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&T.closeBannerAd()},o.updateDisplay=function(t){this.labelTitle&&t.title.length&&(this.labelTitle.string=t.title),this.contentTitle&&t.contentTitle.length&&(this.contentTitle.string=t.contentTitle),this.contentBody&&t.contentBody.length&&(this.contentBody.string=t.contentBody),this.labelSubmit&&t.submitText.length&&(this.labelSubmit.string=t.submitText),this.SprImage&&t.image.length&&f.loadSpriteFrameAndBind(this.SprImage,t.image),this.SprSubmit&&t.submitIcon.length&&f.loadSpriteFrameAndBind(this.SprSubmit,t.submitIcon)},o.onTouchStart=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},o.onTouchMove=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},o.onTouchEnd=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(1,1,1),t.propagationStopped=!0,this.options.fnSubmit&&this.options.fnSubmit()},n}(p)).resObj={bundleName:"textures",relativePath:"prefabs/panelExtraClicks",resType:h.Prefab},A=n((O=x).prototype,"SprImage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(O.prototype,"labelTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(O.prototype,"contentTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(O.prototype,"contentBody",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(O.prototype,"labelSubmit",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(O.prototype,"SprSubmit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(O.prototype,"btnSubmit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=O))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelHotTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCButton.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCHostTasksData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCPanelManagementDecorationItem.ts","./CCEvent.ts","./CCDefine.ts","./CCPanelManagementCatItem.ts","./CCBtnPromotion.ts","./CCPanelManagementStaffItem.ts","./CCBtnCatHouseUpgrade.ts","./CCAudioManager.ts","./CCSceneMain.ts","./CCPanelClanManagementItemMember.ts","./CCBtnBuilding.ts"],(function(e){var t,n,a,i,l,o,r,s,d,u,c,C,I,g,f,p,T,b,h,m,_,B,w,L,y,P,H,D,M,S,k,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Label,s=e.Sprite,d=e.Color},function(e){u=e.default},function(e){c=e.CCResType,C=e.default},function(e){I=e.CCButton},function(e){g=e._T},function(e){f=e.CCPlayerData,p=e.GOTO_TYPE},function(e){T=e.default},function(e){b=e.CCSceneHall},function(e){h=e.CCEffect},function(e){m=e.CCPanelManagementDecorationItem},function(e){_=e.CCEvent},function(e){B=e.HALL_INDEX,w=e.EVENT_TYPE,L=e.BuildingTypeId},function(e){y=e.CCPanelManagementCatItem},function(e){P=e.CCBtnPromotion},function(e){H=e.CCPanelManagementStaffItem},function(e){D=e.CCBtnUpgrade},function(e){M=e.audioMgr},function(e){S=e.CCSceneMain},function(e){k=e.CCPanelClanManagementItemMember},function(e){O=e.CCBtnBuilding}],execute:function(){var G,E,U,R,x,v,A,N,F,V,z,W,Y,X,j,K,Q,q;l._RF.push({},"d47a83NVqVLt5GtAaAXhXHW","CCPanelHotTask",void 0);var J=o.ccclass,Z=o.property;e("CCPanelHotTask",(G=J("CCPanelHotTask"),E=Z({type:r}),U=Z({type:r}),R=Z({type:r}),x=Z({type:s}),v=Z({type:r}),A=Z({type:r}),N=Z({type:I}),G(((q=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,a(t,"Title",z,i(t)),a(t,"LabelCon1",W,i(t)),a(t,"LabelCon2",Y,i(t)),a(t,"SpriteItem",X,i(t)),a(t,"LabelText",j,i(t)),a(t,"LabelRewardNum",K,i(t)),a(t,"BtnSubmit",Q,i(t)),t}n(t,e);var l=t.prototype;return l.init=function(e){this.options=e},l.onLoad=function(){this.refreshUI()},l.onEnable=function(){var t;e.prototype.onEnable&&e.prototype.onEnable.call(this),null==(t=this.BtnSubmit)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},l.onDisable=function(){var t;e.prototype.onDisable&&e.prototype.onDisable.call(this),null==(t=this.BtnSubmit)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},l.refreshUI=function(){var e,t;if(f.updateHotTaskId(),-1!=f.data.hotTaskId){var n=T.getRowsByTagId(f.data.hotTaskId);if(n){var a=f.getHotTaskProcess(f.data.hotTaskId);if(a){var i,l;if(this.Title&&(this.Title.string=g("Hosttasks",null!=(e=null==n?void 0:n.tagId)?e:0)),this.LabelCon1&&(this.LabelCon1.string=g(null!=(t=null==n?void 0:n.name)?t:"")),this.LabelCon2)if(this.LabelCon2.color=0==a.status?new d("#E44848"):new d("#8F635C"),n.needPlayMiniGameCount>0||n.needSendLeafletCount>0||n.needMatchesNumber>0)this.LabelCon2.string=g("DailyUI5",null!=(i=null==a?void 0:a.progressCurrent)?i:0,null!=(l=null==a?void 0:a.progressMax)?l:0);else this.LabelCon2.string=g("DailyUI5",0==a.status?0:1,1);n.rewardMoney>0?(this.SpriteItem&&C.loadSpriteFrameAndBind(this.SpriteItem,"textures@Texture2D/Hall_UI/Hall_UI/main_icon01"),this.LabelRewardNum&&(this.LabelRewardNum.string=null==n?void 0:n.rewardMoney.toString())):n.rewardGold&&(this.SpriteItem&&C.loadSpriteFrameAndBind(this.SpriteItem,"textures@Texture2D/Hall_UI/Hall_UI/main_icon09"),this.LabelRewardNum&&(this.LabelRewardNum.string=null==n?void 0:n.rewardGold.toString())),this.LabelText&&(1==a.status&&0==a.rewardClaimed?(this.LabelText.string=g("DailyUI2"),this.BtnSubmit&&(this.BtnSubmit.Idx=p.GOTO_CLAIM_REWARD)):(this.LabelText.string=g("DailyUI4"),this.BtnSubmit&&(this.BtnSubmit.Idx=a.gotoType)))}}}else this.hide(!1,0)},l.onBtnClose=function(e){this.hide(!1,0),f.updateHotTaskId()},l.onBtnPressStart=function(e,t,n){var a=T.getRowsByTagId(f.data.hotTaskId);if(a){e.hide(!1,0);var i=0;switch(t){case p.GOTO_BUILDING:(i=Math.floor(a.needBuildingId/100))<L.Hall_Right_Bar?m.showDetails(a.needBuildingId,0,(function(e,t,n){100*t+n==a.needBuildingId&&(f.addHotTaskProcesss(a.tagId,a.needBuildingId),a.needBuildingId)})):i<L.Hall_Left_BM_TaoQuanQuanTian?(S.pageIndex!=B.RIGHT&&S.Instance().pageView.scrollToPage(2,S.Instance().scrollDuration),f.data.rightSceneUnlocked&&m.showRightDetails(a.needBuildingId,0,(function(e,t,n){100*t+n==a.needBuildingId&&(f.addHotTaskProcesss(a.tagId,a.needBuildingId),a.needBuildingId)}))):(S.pageIndex!=B.LEFT&&S.Instance().pageView.scrollToPage(0,S.Instance().scrollDuration),f.data.leftSceneUnlocked&&O.onShowPanel(a.needBuildingId,(function(e,t,n){100*t+n==a.needBuildingId&&(f.addHotTaskProcesss(a.tagId,a.needBuildingId),a.needBuildingId)})));break;case p.GOTO_BUY_CAT:y.showDetails(100*a.needCatId,0,(function(){f.addHotTaskProcesss(a.tagId,a.needCatId)}));break;case p.GOTO_OUTSIDE:P.showDetails();break;case p.GOTO_BUY_STAFF:H.showDetails(a.needNpcId,0,(function(){f.addHotTaskProcesss(a.tagId,a.needNpcId)}));break;case p.GOTO_MINI_GAME:D.showDetails(5);break;case p.GOTO_CATPART_UPGRADE:D.showDetails(a.needCatPartId);break;case p.GOTO_UNLOCK_RIGHT:S.pageIndex!=B.RIGHT&&S.Instance().pageView.scrollToPage(2,S.Instance().scrollDuration);break;case p.GOTO_UNLOCK_LEFT:S.pageIndex!=B.LEFT&&S.Instance().pageView.scrollToPage(0,S.Instance().scrollDuration);break;case p.GOTO_RIGHT_MINI_GAME:S.pageIndex!=B.RIGHT&&S.Instance().pageView.scrollToPage(2,S.Instance().scrollDuration),_.emit(w.SHOW_RIGHT_MINIGAME_PANEL,S.Instance().scrollDuration);break;case p.GOTO_TEAM_MEMBER:S.pageIndex!=B.LEFT&&S.Instance().pageView.scrollToPage(0,S.Instance().scrollDuration),i=Math.floor(a.needCatTeamMemberLevel/1e3),k.showDetails(i-1,i);break;case p.GOTO_MATCHS:S.pageIndex!=B.LEFT&&S.Instance().pageView.scrollToPage(0,S.Instance().scrollDuration),_.emit(w.SHOW_LEFT_MATCH_PANEL,S.Instance().scrollDuration);break;case p.GOTO_CLAIM_REWARD:a.rewardMoney>0?(b.addMoney(a.rewardMoney),h.toast(b.SceneHallUI,"textures@prefabs/floatingBanner",""+g("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/> x",a.rewardMoney),"textures@Texture2D/Hall_UI/Hall_UI")):a.rewardGold>0&&(b.addGold(a.rewardGold),h.toast(b.SceneHallUI,"textures@prefabs/floatingBanner",""+g("UI_Recharge_UI9","<img src='main_icon09' width=36 height=36 offset=0/> x",a.rewardGold),"textures@Texture2D/Hall_UI/Hall_UI")),f.setHotTaskRewardClaimed(a.tagId),M.playEffect("reward"),f.updateHotTaskId()}}},t}(u)).resObj={bundleName:"textures",relativePath:"prefabs/panelHotTask",resType:c.Prefab},z=t((V=q).prototype,"Title",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"LabelCon1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"LabelCon2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(V.prototype,"SpriteItem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"LabelText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(V.prototype,"LabelRewardNum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(V.prototype,"BtnSubmit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=V))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelLeftBottom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCLingoData.ts","./CCEvent.ts","./CCPropRow.ts"],(function(t){var i,n,e,o,s,a,r,l,c,h,u,p,d,f,C;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Label,l=t.Vec3,c=t.Canvas,h=t.UITransform,u=t.tween,p=t.Component},function(t){d=t._T},function(t){f=t.CCEvent},function(t){C=t.CCPropRow}],execute:function(){var g,m,b,y,P,v,L,x,w;s._RF.push({},"9f92aUMtSdKhJus/CEVHW7S","CCPanelLeftBottom",void 0);var A=a.ccclass,F=a.property;t("CCPanelLeftBottom",(g=A("CCPanelLeftBottom"),m=F({type:C}),b=F({type:r}),y=F({type:Number}),g((L=i((v=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,e(i,"PropRow",L,o(i)),e(i,"LabelText",x,o(i)),e(i,"delay",w,o(i)),i.originPos=new l(0,0,0),i.isAnimation=!1,i.trans=null,i}n(i,t);var s=i.prototype;return s.onLoad=function(){},s.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),this.trans=this.node.getComponent(h),this.node.posFixed?this.originPos=this.node.posFixed.clone():this.originPos=this.node.position.clone(),this.updateUI()},s.onDisable=function(){f.targetOff(this),this.unscheduleAllCallbacks()},s.expand=function(){var t=this;this.isAnimation||(this.isAnimation=!0,this.enabled=!0,this.node.posFixed?this.originPos=this.node.posFixed.clone():this.originPos=this.node.position.clone(),u(this.node).sequence(u().to(this.delay,{position:this.originPos.clone().add3f(0,this.trans.height,0)})).call((function(){t.isAnimation=!1})).start())},s.collapse=function(){var t=this;this.isAnimation||(this.isAnimation=!0,this.node.posFixed?this.originPos=this.node.posFixed.clone():this.originPos=this.node.position.clone(),u(this.node).sequence(u().to(this.delay,{position:this.originPos.clone()})).call((function(){t.isAnimation=!1})).start())},s.updateUI=function(){this.LabelText&&(this.LabelText.string=d("Pop_Title"))},i}(p)).prototype,"PropRow",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(v.prototype,"LabelText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),P=v))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelLeftNav.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCButton.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCRichText.ts","./CCNative.ts","./CCPopupManager.ts","./CCPanelBackup.ts"],(function(t){var n,e,i,o,a,r,s,l,u,c,p,b,C,f,h,g,L,B,v,m,d,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,l=t.Vec3,u=t.Canvas,c=t.UITransform,p=t.tween,b=t.Component},function(t){C=t.default},function(t){f=t.DEV},function(t){h=t.CCButton},function(t){g=t._T},function(t){L=t.CCEvent},function(t){B=t.default},function(t){v=t.CCRichText},function(t){m=t.default},function(t){d=t.default},function(t){P=t.CCPanelBackup}],execute:function(){var y,S,k,N,w,A,z,I,M,D,_,x,T,V,E,R,j;a._RF.push({},"7098193V1FEkJnjHj4CGrpK","CCPanelLeftNav",void 0);var U=r.ccclass,F=r.property;t("CCPanelLeftNav",(y=U("CCPanelLeftNav"),S=F({type:h,tooltip:f}),k=F({type:h,tooltip:f}),N=F({type:h,tooltip:f}),w=F({type:h,tooltip:f}),A=F({type:s,tooltip:f}),z=F({type:s,tooltip:f}),I=F({type:v,tooltip:f}),y((_=n((D=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"btnMore",_,o(n)),i(n,"btnLess",x,o(n)),i(n,"btnSetting",T,o(n)),i(n,"btnBackup",V,o(n)),i(n,"LabelSetting",E,o(n)),i(n,"LabelBackup",R,o(n)),i(n,"LabelVersion",j,o(n)),n.originPos=new l(0,0,0),n.isAnimation=!1,n.trans=null,n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.node.active=!1},a.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),this.btnMore.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnLess.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnSetting.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.trans=this.node.getComponent(c),this.originPos=this.node.position.clone(),this.updateUI(),this.collapse(!1)},a.onDisable=function(){this.btnMore.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnLess.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnSetting.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),L.targetOff(this),this.unscheduleAllCallbacks()},a.expand=function(t){var n=this;this.isAnimation||(this.isAnimation=!0,p(this.node).sequence(p().to(.3,{position:this.originPos.clone().add3f(this.trans.width,0,0)})).call((function(){n.btnMore.enableCCButtonListener(n,!1,!1,n.onBtnPressStart),n.btnLess.enableCCButtonListener(n,!0,!1,n.onBtnPressStart),n.isAnimation=!1})).start())},a.collapse=function(t){var n=this;this.isAnimation||(this.isAnimation=!0,p(this.node).sequence(p().to(.3,{position:this.originPos.clone()})).call((function(){n.btnMore.enableCCButtonListener(n,!0,!1,n.onBtnPressStart),n.btnLess.enableCCButtonListener(n,!1,!1,n.onBtnPressStart),n.isAnimation=!1})).start())},a.updateUI=function(){this.LabelSetting&&(this.LabelSetting.string=g("btn_setting")),this.LabelBackup&&(this.LabelBackup.string=g("btn_backup"));var t=B.appConfig.vn.replaceAll(".","")||"0",n=(m.get("versionName")||"0").replaceAll(".",""),e="<color=#00ff00>"+B.appConfig.vn+"\n"+m.get("versionName")+"</color>";Number.parseInt(t)>Number.parseInt(n)?e="<color=#00ff00>"+B.appConfig.vn+"</color>\n<color=#808080>"+m.get("versionName")+"</color>":Number.parseInt(t)<Number.parseInt(n)&&(e="<color=#808080>"+B.appConfig.vn+"</color>\n<color=#00ff00>"+m.get("versionName")+"</color>"),C.setRichTextString(this.LabelVersion,e)},a.onBtnPressStart=function(t,n,e){switch(n){case 1:t.expand();break;case 2:t.collapse();break;case 3:break;case 4:d.showPanel(P.resObj)}},n}(b)).prototype,"btnMore",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(D.prototype,"btnLess",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(D.prototype,"btnSetting",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(D.prototype,"btnBackup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(D.prototype,"LabelSetting",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(D.prototype,"LabelBackup",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(D.prototype,"LabelVersion",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=D))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCButton.ts","./CCBuildingData.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCPanelManagementDecoration.ts","./CCDefine.ts","./CCPanelManagementStaff.ts","./CCStaffData.ts","./CCPanelManagementCat.ts","./CCCatData.ts","./CCPlayerData.ts","./CCGuideData.ts","./CCSpineGuide.ts","./CCBuildingRightData.ts","./CCSceneMain.ts","./CCEffct.ts","./CCAudioManager.ts","./CCSceneHall.ts","./CCSundryData.ts"],(function(t){var e,n,a,i,o,s,l,r,h,b,c,C,d,g,u,p,f,v,T,m,B,I,S,w,E,D,y,_,P,N,L,k,V;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.Canvas,o=t.find,s=t.Label,l=t.PageView,r=t.Sprite},function(t){h=t.default},function(t){b=t.CCResType},function(t){c=t.CCButton},function(t){C=t.default},function(t){d=t.default},function(t){g=t._T},function(t){u=t.CCEvent},function(t){p=t.CCPanelManagementDecoration},function(t){f=t.HALL_INDEX,v=t.EVENT_TYPE,T=t.default},function(t){m=t.CCPanelManagementStaff},function(t){B=t.default},function(t){I=t.CCPanelManagementCat},function(t){S=t.default},function(t){w=t.CCPlayerData,E=t.CC_NEWBIE_GUIDE_TYPE},function(t){D=t.default},function(t){y=t.CCSpineGuide},function(t){_=t.default},function(t){P=t.CCSceneMain},function(t){N=t.CCEffect},function(t){L=t.audioMgr},function(t){k=t.CCSceneHall},function(t){V=t.default}],execute:function(){var U,M;n._RF.push({},"bf552Pzm3VI2JKRJFLI9Bp7","CCPanelManagement",void 0);var R=a.ccclass;a.property,t("CCPanelManagement",R("CCPanelManagement")(((M=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).btnTab1=null,e.sprTab1=null,e.btnTab2=null,e.sprTab2=null,e.btnTab3=null,e.sprTab3=null,e.btnTab4=null,e.sprTab4=null,e.btnTab5=null,e.sprTab5=null,e.pv=null,e.pv2=null,e.listDecoration=null,e.listDecoration2=null,e.listCat=null,e.listStaff=null,e.scrollDuration=.3,e}e(n,t);var a=n.prototype;return a.onBuildDecoration=function(t,e){var n=C.keysAndName()[e],a=n[0],l=n[1];t.name=""+a,t.getComponent(p).notifyIdx=e,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(i).enabled=!1);var r=o("Canvas/Background/SpriteTitle/Label",t);r&&(r.getComponent(s).string=g(l));var h=o("Canvas/Background/ScrollView",t).getComponent(d);h&&(h.name=""+a.toString(),h.numItems=C.getRowsByTypeId(a).length)},a.onBuildDecoration2=function(t,e){var n=_.keysAndName()[e],a=n[0],l=n[1];t.name=""+a,t.getComponent(p).notifyIdx=e,t.getComponent(p).type=1,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(i).enabled=!1);var r=o("Canvas/Background/SpriteTitle/Label",t);r&&(r.getComponent(s).string=g(l));var h=o("Canvas/Background/ScrollView",t).getComponent(d);h&&(h.name=""+a.toString(),h.numItems=_.getRowsByTypeId(a).length)},a.onBuildCat=function(t,e){var n=Math.abs(e);t.name=""+n,t.getComponent(I).notifyIdx=e,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(i).enabled=!1);var a=o("Canvas/Background/ScrollView",t).getComponent(d);a&&(a.name=""+n.toString(),a.numItems=S.totalKeys()%4==0?4:e==Math.floor(S.totalKeys()/4)?S.totalKeys()%4:4)},a.onBuildStaff=function(t,e){var n=Math.abs(e);t.name=""+n,t.getComponent(m).notifyIdx=e,t.getChildByName("Canvas")&&(t.getChildByName("Canvas").getComponent(i).enabled=!1);var a=o("Canvas/Background/ScrollView",t).getComponent(d);a&&(a.name=""+n.toString(),a.numItems=1==Math.floor(B.totalKeys()%2)&&e==Math.floor(B.totalKeys()/2)?1:2)},a.init=function(t){if(this.options=t,!this.pv){if(this.pv=o("Canvas/Background/PageView",this.node).getComponent(l),!this.pv)return;this.pv.setCurrentPageIndex(0),this.listDecoration||(this.listDecoration=o("Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1",this.node).getComponent(d),this.listDecoration&&(this.listDecoration.numItems=C.keysAndName().length)),this.listDecoration2||(this.listDecoration2=o("Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView2",this.node).getComponent(d),this.listDecoration2&&(this.listDecoration2.numItems=_.keysAndName().length)),this.listCat||(this.listCat=o("Canvas/Background/PageView/view/content/ScrollView2",this.node).getComponent(d),this.listCat&&(this.listCat.numItems=Math.ceil(S.totalKeys()/4))),this.listStaff||(this.listStaff=o("Canvas/Background/PageView/view/content/ScrollView3",this.node).getComponent(d),this.listStaff&&(this.listStaff.numItems=Math.ceil(B.totalKeys()/2)))}if(!this.pv2){if(this.pv2=o("Canvas/Background/PageView/view/content/PageView",this.node).getComponent(l),!this.pv2)return;this.pv2.setCurrentPageIndex(0)}var e=o("Canvas/Background/Title",this.node).getComponent(s);e&&(e.string=g("UI_hall_button1"));var n,a,i,h,b,u=o("Canvas/Background/SprTabBg/Label1",this.node).getComponent(s);(u&&(u.string=g("UI_hall_button1_tapy1")),(u=o("Canvas/Background/SprTabBg/Label2",this.node).getComponent(s))&&(u.string=g("UI_hall_button1_tapy2")),(u=o("Canvas/Background/SprTabBg/Label3",this.node).getComponent(s))&&(u.string=g("UI_hall_button1_tapy3")),(u=o("Canvas/Background/PageView/view/content/PageView/view/Label4",this.node).getComponent(s))&&(u.string=g("UI_hall_tab_button1")),(u=o("Canvas/Background/PageView/view/content/PageView/view/Label5",this.node).getComponent(s))&&(u.string=g("UI_hall_tab_button2")),this.btnTab1||(this.btnTab1=o("Canvas/Background/SprTabBg/btnTab1",this.node).getComponent(c),this.btnTab1&&(this.btnTab1.node.active=!0,this.btnTab1.node.getChildByName("Label").getComponent(s).string=g("UI_hall_button1_tapy1"))),this.sprTab1)||(this.sprTab1=null==(n=this.btnTab1)?void 0:n.node.getComponent(r),this.sprTab1&&(this.sprTab1.enabled=!1));(this.btnTab2||(this.btnTab2=o("Canvas/Background/SprTabBg/btnTab2",this.node).getComponent(c),this.btnTab2&&(this.btnTab2.node.active=!0,this.btnTab2.node.getChildByName("Label").getComponent(s).string=g("UI_hall_button1_tapy2"))),this.sprTab2)||(this.sprTab2=null==(a=this.btnTab2)?void 0:a.node.getComponent(r),this.sprTab2&&(this.sprTab2.enabled=!1));(this.btnTab3||(this.btnTab3=o("Canvas/Background/SprTabBg/btnTab3",this.node).getComponent(c),this.btnTab3&&(this.btnTab3.node.active=!0,this.btnTab3.node.getChildByName("Label").getComponent(s).string=g("UI_hall_button1_tapy3"))),this.sprTab3)||(this.sprTab3=null==(i=this.btnTab3)?void 0:i.node.getComponent(r),this.sprTab3&&(this.sprTab3.enabled=!1));(this.btnTab4||(this.btnTab4=o("Canvas/Background/PageView/view/content/PageView/view/btnTab4",this.node).getComponent(c),this.btnTab4&&(this.btnTab4.node.active=!0,this.btnTab4.node.getChildByName("Label").getComponent(s).string=g("UI_hall_tab_button1"))),this.sprTab4)||(this.sprTab4=null==(h=this.btnTab4)?void 0:h.node.getComponent(r),this.sprTab4&&(this.sprTab4.enabled=!1));(this.btnTab5||(this.btnTab5=o("Canvas/Background/PageView/view/content/PageView/view/btnTab5",this.node).getComponent(c),this.btnTab5&&(this.btnTab5.node.active=!0,this.btnTab5.node.getChildByName("Label").getComponent(s).string=g("UI_hall_tab_button2"))),this.sprTab5)||(this.sprTab5=null==(b=this.btnTab5)?void 0:b.node.getComponent(r),this.sprTab5&&(this.sprTab5.enabled=!1));this.enableTabBtn(!0,!1,!1),this.enableTabBtnChild(P.pageIndex==f.MIDDLE,P.pageIndex==f.RIGHT)},a.onDecorationBuy=function(t){var e=Math.floor(t/1e4),n=t%1e4;if(0==this.pv2.getCurrentPageIndex()){var a=this.listDecoration.getItemByListId(e);if(a){var i,s=null==(i=o("Canvas/Background/ScrollView",a))?void 0:i.getComponent(d);s&&s.updateItem(n)}}else{var l=this.listDecoration2.getItemByListId(e);if(l){var r,h=null==(r=o("Canvas/Background/ScrollView",l))?void 0:r.getComponent(d);h&&h.updateItem(n)}}},a.onDecorationDelivered=function(){0==this.pv2.getCurrentPageIndex()?this.listDecoration&&(this.listDecoration.numItems=C.keysAndName().length):this.listDecoration2&&(this.listDecoration2.numItems=_.keysAndName().length)},a.onCatBuyOrUpgrade=function(t){var e=Math.floor(t/1e4),n=t%1e4,a=this.listCat.getItemByListId(e);if(a){var i,s=null==(i=o("Canvas/Background/ScrollView",a))?void 0:i.getComponent(d);s&&s.updateItem(n)}},a.onStaffUpgrading=function(t){var e=this;t.forEach((function(t){var n=Math.floor(t/1e4),a=t%1e4,i=e.listStaff.getItemByListId(n);if(i){var s,l=null==(s=o("Canvas/Background/ScrollView",i))?void 0:s.getComponent(d);l&&l.updateItem(a)}}))},a.onStaffFirstClicked=function(t){var e=Math.floor(t/1e4),n=t%1e4,a=this.listStaff.getItemByListId(e);if(a){var i,s=null==(i=o("Canvas/Background/ScrollView",a))?void 0:i.getComponent(d);s&&s.updateItem(n)}},a.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(i).enabled=!1)},a.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this)},a.onShow=function(){if(u.on(v.DECORATION_BUY,this.onDecorationBuy,this),u.on(v.DECORATION_DELIVERED,this.onDecorationDelivered,this),u.on(v.CAT_REFRESH,this.onCatBuyOrUpgrade,this),u.on(v.STAFF_UPGRADING,this.onStaffUpgrading,this),u.on(v.STAFF_FIRST_CLICKED,this.onStaffFirstClicked,this),this.btnTab1.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab3.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab4.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab5.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),T.ENABLE_NEWBIE_GUIDE){if(5==w.getNewbieGuideStepsCompleted(E.DEFAULT)){var t=D.getRowsNext(E.DEFAULT,w.getNewbieGuideStepsCompleted(E.DEFAULT));if(t){var e=Math.floor(t.clickType/100);if(e>0){var n=w.getBuildingLevelUsing(e);if(n&&n.level>0){w.updateNewbieGuideStepsCompleted(E.DEFAULT,t.orderId),u.emit(v.NEWBIE_GUIDE_SET_CLIPPINGNODE,y.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1/view/content1/11/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem")),u.emit(v.NEWBIE_GUIDE_CLEAR_COPY_TARGET_NODE);for(var a=0;a<2;a++)t=D.getRowsNext(E.DEFAULT,t.orderId),0==a&&w.updateNewbieGuideStepsCompleted(E.DEFAULT,t.orderId);return void(t&&u.emit(v.NEWBIE_GUIDE_ACTION_REFRESH,t.orderId))}}}u.emit(v.NEWBIE_GUIDE_SET_CLIPPINGNODE,y.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1/view/content1/11/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem"))}if(506==w.getNewbieGuideStepsCompleted(E.RIGHT_SCENE)){var i=w.getNewbieGuideStepsCompleted(E.RIGHT_SCENE);if(i>0){var o=w.getNewbieGuideStepsNext(E.RIGHT_SCENE,i);if(!o)return;u.emit(v.GOTO_NEXT,o.orderId)}}}},a.onHide=function(t){u.targetOff(this),this.btnTab1.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab3.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab4.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab5.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},a.onBtnPressStart=function(t,e,n){switch(e){case 1:t.enableTabBtn(!0,!1,!1);break;case 2:t.enableTabBtn(!1,!0,!1);break;case 3:t.enableTabBtn(!1,!1,!0);break;case 4:t.enableTabBtnChild(!0,!1);break;case 5:if(!w.data.rightSceneUnlocked){var a=w.data.money,i=w.data.vip;if(a<V.data.RightSceneUnlock[0]||i<V.data.RightSceneUnlock[1])return N.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",""+g(V.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x"+V.data.RightSceneUnlock[0]," <img src='main_icon02' width=49 height=33 offset=5/> x"+V.data.RightSceneUnlock[1]),"textures@Texture2D/Hall_UI/Hall_UI"),void L.playEffect("failed")}t.enableTabBtnChild(!1,!0)}},a.enableTabBtn=function(t,e,n){this.btnTab1&&(this.btnTab1.node.children.forEach((function(e){e.active=t})),this.enableTabBtnChild(P.pageIndex==f.MIDDLE,P.pageIndex==f.RIGHT)),this.btnTab2&&(this.btnTab2.node.children.forEach((function(t){t.active=e})),this.listCat.node.children.forEach((function(t){t.active=e}))),this.btnTab3&&(this.btnTab3.node.children.forEach((function(t){t.active=n})),this.listStaff.node.children.forEach((function(t){t.active=n}))),this.sprTab1&&(this.sprTab1.enabled=t),this.sprTab2&&(this.sprTab2.enabled=e),this.sprTab3&&(this.sprTab3.enabled=n),this.pv&&(t?this.pv.scrollToPage(0,this.scrollDuration):e?this.pv.scrollToPage(1,this.scrollDuration):n&&this.pv.scrollToPage(2,this.scrollDuration))},a.enableTabBtnChild=function(t,e){this.btnTab4&&(this.btnTab4.node.children.forEach((function(e){e.active=t})),this.listDecoration.node.children.forEach((function(e){e.active=t}))),this.btnTab5&&(this.btnTab5.node.children.forEach((function(t){t.active=e})),this.listDecoration2.node.children.forEach((function(t){t.active=e}))),this.sprTab4&&(this.sprTab4.enabled=t),this.sprTab5&&(this.sprTab5.enabled=e),this.pv2&&(t?this.pv2.scrollToPage(0,this.scrollDuration):e&&this.pv2.scrollToPage(1,this.scrollDuration))},n}(h)).resObj={bundleName:"textures",relativePath:"prefabs/panelManagement",resType:b.Prefab},U=M))||U);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementCat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./List.ts","./CCLingoData.ts","./CCCacheRes.ts","./CCPlayerData.ts","./Npc.ts","./CCPanelManagementCatItem.ts","./CCCatData.ts"],(function(e){var t,n,a,i,l,o,s,r,u,d,p,v,C,h,c,L,b,y,g,m,S;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.Canvas,l=e.find,o=e.Label,s=e.Sprite,r=e.Node,u=e.isValid,d=e.Vec3,p=e.Component},function(e){v=e.default},function(e){C=e.default},function(e){h=e._T},function(e){c=e.default},function(e){L=e.CCPlayerData},function(e){b=e.Npc},function(e){y=e.CCPanelManagementCatItem},function(e){g=e.default,m=e.CatStatus,S=e.MAX_CAT_LEVEL}],execute:function(){var f;n._RF.push({},"c31a1PytFBPD5bwnw3VZIBr","CCPanelManagementCat",void 0);var B=a.ccclass;a.property,e("CCPanelManagementCat",B("CCPanelManagementCat")(f=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).notifyIdx=0,t.LabelTitle=null,t.LabelLevel=null,t.LabelNotFound=null,t.LabelPurchased=null,t.LabelBuyMoney=null,t.SpriteItem=null,t.SpriteNotFound=null,t.SpriteBuyMoney=null,t.SpriteNotFoundGray=null,t.SpriteLevel=null,t.SpriteLevelUp=null,t}t(n,e);var a=n.prototype;return a.update=function(e){},a.onBuildItem=function(e,t){var n,a,p,S,f,B,I,F,N,M,P=e.parent.parent.parent.getComponent(C),U=parseInt(P.name),k=g.getRowsByTagIdAll(U)[t];if(k){var A=k.tagId,w=L.getCatLevelUnlocked(A),T=w?w.level:0,_=w?w.level:1;if(e.getComponent(y).Idx=100*A+T,e.getComponent(y).notifyIdx=1e4*this.notifyIdx+t,e.getComponent(y).scaleEnable=!1,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(i).enabled=!1),this.LabelTitle=null==(n=l("Canvas/LabelTitle",e))?void 0:n.getComponent(o),this.LabelTitle&&(this.LabelTitle.string=h(k.name),this.LabelTitle.node.active=!0),this.LabelLevel=null==(a=l("Canvas/LabelLevel",e))?void 0:a.getComponent(o),this.LabelNotFound=null==(p=l("Canvas/LabelNotFound",e))?void 0:p.getComponent(o),this.LabelPurchased=null==(S=l("Canvas/LabelPurchased",e))?void 0:S.getComponent(o),this.LabelBuyMoney=null==(f=l("Canvas/LabelBuyMoney",e))?void 0:f.getComponent(o),this.SpriteItem=l("Canvas/SpriteItem",e),this.SpriteNotFound=null==(B=l("Canvas/SpriteNotFound",e))?void 0:B.getComponent(s),this.SpriteBuyMoney=null==(I=l("Canvas/SpriteBuyMoney",e))?void 0:I.getComponent(s),this.SpriteNotFoundGray=null==(F=l("Canvas/SpriteNotFoundGray",e))?void 0:F.getComponent(s),this.SpriteLevel=null==(N=l("Canvas/SpriteLevel",e))?void 0:N.getComponent(s),this.SpriteLevelUp=null==(M=l("Canvas/SpriteLevelUp",e))?void 0:M.getComponent(s),this.SpriteItem){var D=""+k.spineId,R=this.SpriteItem.getChildByName("spine");R||(R=new r("spine"),this.SpriteItem.addChild(R));var O=R.getComponent(b)||R.addComponent(b);O.initSpine(D),O.showShadow(!1),O.preventSwallow=!0,c.loadSpine(O.name,O.ske,(function(){u(O)?(O.setSkinName(k.spineId+"_"+k.skineId),O.animation(0,"idle"),O.pause(),O.enableCCButtonListener(e.getComponent(y),!0,!1,null,(function(e,t,n,a){e.onBtnPressed(e,t,n,a)})),O.node.position=new d(0,-50,0)):v.error("CCPanelManagementCat.loadSpine.invalid.isDestoryed")}),(function(e){v.log("onBuildItem: loadSpine.failed: "+O.name+" ... error: "+e)}))}this.enableFullLevelOrUpgradeAvailable(A,_,!1),this.enableLocked(A,_,!1),this.enableBuy(A,_,!1);var E=g.getCatStatus(A);switch(E){case m.CAN_BUY:this.enableFullLevelOrUpgradeAvailable(A,_,!1),this.enableLocked(A,_,!1),this.enableBuy(A,_,!0);break;case m.CAN_UPGRADE:this.enableFullLevelOrUpgradeAvailable(A,_,!0),this.enableLocked(A,_,!1),this.enableBuy(A,_,!1);break;case m.ALREADY_BUY:this.enableBuy(A,_,!1),this.enableLocked(A,_,!1),this.enableFullLevelOrUpgradeAvailable(A,_,!0);break;case m.LOCKED:this.enableBuy(A,_,!1),this.enableFullLevelOrUpgradeAvailable(A,_,!1),this.enableLocked(A,_,!0);break;default:v.error("onBuildItem: unknown status: "+E)}}},a.enableBuy=function(e,t,n){var a=g.getRowsByTagId(e);a&&(this.LabelBuyMoney&&(n&&(this.LabelBuyMoney.string=a.needMoney[t].toString()+" "),this.LabelBuyMoney.node.active=n),this.SpriteBuyMoney&&(this.SpriteBuyMoney.node.active=n))},a.enableFullLevelOrUpgradeAvailable=function(e,t,n){var a=g.getRowsByTagId(e);if(a){if(this.LabelPurchased){var i=!1;(t>=S||0==a.needMoney[t]&&0==a.needVip[t]&&0==a.needScore[t])&&(i=!0),this.LabelPurchased.string=h(i?"StaffUI2":"StaffUI1"),this.LabelPurchased.node.active=!!n}if(this.SpriteLevelUp){var l=!1;(t>=S||0==a.needMoney[t]&&0==a.needVip[t]&&0==a.needScore[t])&&(l=!0),this.SpriteLevelUp.node.active=!!n&&(!l&&t>=1)}this.SpriteLevel&&(this.SpriteLevel.node.active=t>=1),this.LabelLevel&&(t>=1&&(this.LabelLevel.string="Lv."+t),this.LabelLevel.node.active=t>=1)}},a.enableLocked=function(e,t,n){this.LabelNotFound&&(this.LabelNotFound.string=h("CatUI8"),this.LabelNotFound.node.active=n),this.SpriteNotFound&&(this.SpriteNotFound.node.active=n),this.SpriteNotFoundGray&&(this.SpriteNotFoundGray.node.active=n)},n}(p))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementCatDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCCacheRes.ts","./env","./CCButton.ts","./CCSundryData.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts","./CCCatData.ts","./Npc.ts","./CCAudioManager.ts"],(function(e){var t,i,n,a,l,o,r,s,u,h,c,p,d,b,y,f,g,C,v,m,L,S,I,B,w,U,T,P,M,E,x,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Label,s=e.Node,u=e.Sprite,h=e.RichText,c=e.sp,p=e.Canvas,d=e.UITransform,b=e.isValid,y=e.Vec3},function(e){f=e.default},function(e){g=e.default},function(e){C=e.CCResType,v=e.default},function(e){m=e.DEV},function(e){L=e.CCButton},function(e){S=e.default},function(e){I=e._T},function(e){B=e.CCPlayerData},function(e){w=e.CCEffect},function(e){U=e.CCSceneHall},function(e){T=e.CCEvent},function(e){P=e.EVENT_TYPE},function(e){M=e.default,E=e.CatStatus},function(e){x=e.Npc},function(e){_=e.audioMgr}],execute:function(){var D,N,R,H,z,k,A,V,Y,F,j,O,G,q,J,K,Q,W,X,Z,$,ee,te,ie,ne,ae,le,oe,re,se,ue,he,ce,pe,de,be,ye,fe,ge,Ce,ve,me;l._RF.push({},"8ce9cVEkNhPxL6irM1mxrbd","CCPanelManagementCatDetails",void 0);var Le=o.ccclass,Se=o.property;e("CCPanelManagementCatDetails",(D=Le("CCPanelManagementCatDetails"),N=Se({type:r,tooltip:m}),R=Se({type:r,tooltip:m}),H=Se({type:r,tooltip:m}),z=Se({type:s,tooltip:m}),k=Se({type:u,tooltip:m}),A=Se({type:u,tooltip:m}),V=Se({type:u,tooltip:m}),Y=Se({type:u,tooltip:m}),F=Se({type:L,tooltip:m}),j=Se({type:r,tooltip:m}),O=Se({type:L,tooltip:m}),G=Se({type:h,tooltip:m}),q=Se({type:h,tooltip:m}),J=Se({type:h,tooltip:m}),K=Se({type:h,tooltip:m}),Q=Se({type:h,tooltip:m}),W=Se({type:c.Skeleton,displayName:"Spine"}),X=Se({displayName:"tagId"}),Z=Se({displayName:"level"}),D(((me=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"LabelTitle",te,a(t)),n(t,"LabelLevel",ie,a(t)),n(t,"LabelDesc",ne,a(t)),n(t,"SpriteItem",ae,a(t)),n(t,"SpritePlayTime",le,a(t)),n(t,"SpriteRewardMoney",oe,a(t)),n(t,"SpriteEnough",re,a(t)),n(t,"SpriteNotEnough",se,a(t)),n(t,"btnPurchased",ue,a(t)),n(t,"LabelPurchased",he,a(t)),n(t,"btnBuy",ce,a(t)),n(t,"LabelBuyMoney",pe,a(t)),n(t,"LabelBuyMoneyLacking",de,a(t)),n(t,"LabelPlayTime",be,a(t)),n(t,"LabelRewardMoney",ye,a(t)),n(t,"LabelNotEnough",fe,a(t)),n(t,"SpineLevelUp",ge,a(t)),n(t,"tagId",Ce,a(t)),n(t,"level",ve,a(t)),t}i(t,e);var l=t.prototype;return l.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.SpineLevelUp&&(this.SpineLevelUp.enabled=!1)},l.onShow=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1)},l.onHide=function(e){var t,i;null==(t=this.btnPurchased)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(i=this.btnBuy)||i.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks(),T.targetOff(this)},l.updateDisplay=function(e){this.tagId=e.tagId,this.level=e.level;var t=M.getRowsByTagId(this.tagId);if(t){if(this.SpriteItem){var i,n=""+t.spineId,a=this.SpriteItem.getChildByName("spine");a||(a=new s("spine"),this.SpriteItem.addChild(a));var l=a.getComponent(x)||a.addComponent(x);l.initSpine(n),l.showShadow(!1),null==(i=l.node.getComponent(d))||i.setAnchorPoint(.5,0),v.loadSpine(l.name,l.ske,(function(){var e;if(b(l)){l.setSkinName(t.spineId+"_"+t.skineId),l.animation(0,"idle"),l.pause();var i=null==(e=l.getComponent(d))?void 0:e.contentSize.clone();l.node.position=new y(0,-i.height/2,0)}else f.error("CCPanelManagementCatDetails.loadSpine.invalid.isDestoryed")}),(function(e){f.log("onBuildItem: loadSpine.failed: "+l.name+" ... error: "+e)}))}this.LabelTitle&&(this.LabelTitle.string=I(t.name)),this.LabelDesc&&(this.LabelDesc.string=I(t.desc)),this.refreshUI()}},l.refreshUI=function(){if(this.LabelLevel&&(this.LabelLevel.string="Lv."+this.level,this.LabelLevel.node.active=0!=this.level),this.enableAlreadyBuy(!1),this.enableBuy(!1),M.getRowsByTagId(this.tagId))switch(M.getCatStatus(this.tagId)){case E.CAN_BUY:case E.CAN_UPGRADE:this.enableCondition(!0,this.level),this.enableBuy(!0);break;case E.ALREADY_BUY:if(0==this.level){var e=B.getCatLevelUnlocked(this.tagId);this.level=e.level}this.enableCondition(!0,this.level-1),this.enableAlreadyBuy(!0)}},l.enableCondition=function(e,t){var i=M.getRowsByTagId(this.tagId),n=B.data.vip,a=B.data.score;if(this.SpritePlayTime&&(this.SpritePlayTime.node.active=e),this.SpriteRewardMoney&&(this.SpriteRewardMoney.node.active=e),this.SpriteEnough&&(this.SpriteEnough.node.active=!1),this.SpriteNotEnough&&(this.SpriteNotEnough.node.active=!1),this.LabelPlayTime&&(this.LabelPlayTime.string=I("CatUI1")+":  "+i.playTime[t].toString()+"s",this.LabelPlayTime.node.active=!0),this.LabelRewardMoney&&(f.setRichTextString(this.LabelRewardMoney,I("CatUI2")+":  <img src='main_icon01' width=55 height=47 offset=0/> "+i.rewardMoney[t],"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelRewardMoney.node.active=!0),this.LabelNotEnough&&e){this.LabelNotEnough.node.active=!1;var l=M.getRowsByTagId(this.tagId);n<l.needVip[t]?(f.setRichTextString(this.LabelNotEnough,I(S.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=15/> x",l.needVip[t]),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelNotEnough.node.active=!0,this.SpriteNotEnough&&(this.SpriteNotEnough.node.active=!0)):a<l.needScore[t]&&(f.setRichTextString(this.LabelNotEnough,I(S.data.CatUI9,l.needScore[t]),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelNotEnough.node.active=!0,this.SpriteNotEnough&&(this.SpriteNotEnough.node.active=!0))}this.LabelBuyMoneyLacking&&(this.LabelBuyMoneyLacking.node.active=!1)},l.enableBuy=function(e){var t,i=M.getRowsByTagId(this.tagId),n=B.data.money,a=B.data.vip,l=B.data.score;if(this.btnBuy&&(this.btnBuy.node.active=e),this.LabelBuyMoney&&(e&&f.setRichTextString(this.LabelBuyMoney,I("CatUI4","<img src='main_icon01' width=55 height=47 offset=0/>","   <outline color=#1e678f width=2>"+i.needMoney[this.level])+"</outline>","textures@Texture2D/Hall_UI/Hall_UI"),this.LabelBuyMoney.node.active=e),this.LabelBuyMoneyLacking&&(this.LabelBuyMoneyLacking.node.active=!1,e)){var o=i.needMoney[this.level]-n;o>0&&(f.setRichTextString(this.LabelBuyMoneyLacking,I("NPCCondition3","   <img src='main_icon01' width=55 height=47 offset=0/>","   "+o),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelBuyMoneyLacking.node.active=!0)}e&&((i.needVip[this.level]>0&&a>=i.needVip[this.level]||i.needScore[this.level]>0&&l>=i.needScore[this.level]||i.needMoney[this.level]>0&&n>=i.needMoney[this.level])&&(null==(t=this.btnBuy)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)))},l.enableAlreadyBuy=function(e){var t;this.btnPurchased&&(this.btnPurchased.node.active=e,e&&(this.btnPurchased.node.getChildByName("LabePurchased").getComponent(r).string=I("StaffUI2"),null==(t=this.btnPurchased)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)))},l.buyItem=function(){var e=M.getRowsByTagId(this.tagId),t=B.data.money,i=B.data.vip,n=B.data.score;t<e.needMoney[this.level]?(w.toast(U.SceneHallUI,"textures@prefabs/floatingBanner",""+I(S.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",e.needMoney[this.level]),"textures@Texture2D/Hall_UI/Hall_UI"),_.playEffect("failed")):i<e.needVip[this.level]?(w.toast(U.SceneHallUI,"textures@prefabs/floatingBanner",""+I(S.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",e.needVip[this.level]),"textures@Texture2D/Hall_UI/Hall_UI"),_.playEffect("failed")):n<e.needScore[this.level]?(w.toast(U.SceneHallUI,"textures@prefabs/floatingBanner",""+I(S.data.CatUI9,e.needScore[this.level]),"textures@Texture2D/Hall_UI/Hall_UI"),_.playEffect("failed")):(U.addMoney(-e.needMoney[this.level]),this.level+=1,B.setCatLevelUnlocked(this.tagId,this.level),this.enableBuy(!1),this.refreshUI(),T.emit(P.CAT_REFRESH,this.options.notifyIdx),w.toast(U.SceneHallUI,"textures@prefabs/floatingBanner",""+I(1==this.level?"tishshop1":"tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),_.playEffect("success"),f.spineAnimation(this.SpineLevelUp,0,"Level_Up",!1,1,!1),this.options.fnComplete&&this.options.fnComplete())},l.onBtnPressStart=function(e,t,i){switch(t){case 0:e.hide();break;case 1:e.buyItem()}},t}(g)).resObj={bundleName:"textures",relativePath:"prefabs/panelManagementCatDetails",resType:C.Prefab},te=t((ee=me).prototype,"LabelTitle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(ee.prototype,"LabelLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(ee.prototype,"LabelDesc",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ee.prototype,"SpriteItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ee.prototype,"SpritePlayTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ee.prototype,"SpriteRewardMoney",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ee.prototype,"SpriteEnough",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ee.prototype,"SpriteNotEnough",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ee.prototype,"btnPurchased",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ee.prototype,"LabelPurchased",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ee.prototype,"btnBuy",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ee.prototype,"LabelBuyMoney",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ee.prototype,"LabelBuyMoneyLacking",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ee.prototype,"LabelPlayTime",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ee.prototype,"LabelRewardMoney",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ee.prototype,"LabelNotEnough",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ee.prototype,"SpineLevelUp",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ee.prototype,"tagId",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ve=t(ee.prototype,"level",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=ee))||$));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementCatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelManagementCatDetails.ts"],(function(t){var n,e,a,o,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.CCButton},function(t){i=t.default},function(t){r=t.CCPanelManagementCatDetails}],execute:function(){var l;e._RF.push({},"f29b4ooaF5Aaa93t1i7nUgE","CCPanelManagementCatItem",void 0);var s=a.ccclass;a.property,t("CCPanelManagementCatItem",s("CCPanelManagementCatItem")(l=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))||this).notifyIdx=0,n}n(e,t);var a=e.prototype;return a.update=function(t){},a.onBtnPressed=function(t,n,a,o){o||e.showDetails(this.Idx,this.notifyIdx)},e.showDetails=function(t,n,e){void 0===e&&(e=null);var a=Math.floor(t/100),o=t%100;i.showPanel(r.resObj,{notifyIdx:n,tagId:a,level:o,fnComplete:e},!0)},e}(o))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementDecoration.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCBuildingData.ts","./List.ts","./CCLingoData.ts","./CCPanelManagementDecorationItem.ts","./CCCacheRes.ts","./CCBuildingRightData.ts"],(function(e){var n,t,a,i,s,l,o,r,h,u,c,d,b,g,C,v,y,p,I;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,i=e.Canvas,s=e.find,l=e.Label,o=e.Sprite,r=e.Rect,h=e.UITransform,u=e.Size,c=e.Component},function(e){d=e.default,b=e.BuildingStatus},function(e){g=e.default},function(e){C=e._T},function(e){v=e.CCPanelManagementDecorationItem},function(e){y=e.default},function(e){p=e.default,I=e.BuildingRightStatus}],execute:function(){var N;t._RF.push({},"893059od/pLnIWm+GuHAOBN","CCPanelManagementDecoration",void 0);var B=a.ccclass;a.property,e("CCPanelManagementDecoration",B("CCPanelManagementDecoration")(N=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).type=0,n.notifyIdx=0,n}n(t,e);var a=t.prototype;return a.update=function(e){},a.onBuildItem=function(e,n){var t,a=e.parent.parent.parent.getComponent(g),c=parseInt(a.name);t=0==this.type?d.getRowsByTypeId(c)[n]:p.getRowsByTypeId(c)[n],e.getComponent(v).Idx=100*t.typeId+t.level,e.getComponent(v).type=this.type,e.getComponent(v).notifyIdx=1e4*this.notifyIdx+n,e.getComponent(v).scaleEnable=!1,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(i).enabled=!1);var b=s("Canvas/LabelTop",e);b&&(b.getComponent(l).string=C(t.name));var y=s("Canvas/SpriteItem",e);if(y){var I,N=y.getComponent(o);if(N)if(I=0==this.type?d.getTextureByTypeIdAndLevel(t.typeId,t.level):p.getTextureByTypeIdAndLevel(t.typeId,t.level)){var B=I.spriteFrame.clone(),m=B.originalSize,U=new r(0,0,m.width,m.height);if(U.width>U.height){var f=U.width/100;U.width=100,U.height/=f}else{var D=U.height/100;U.width/=D,U.height=100}N.spriteFrame=B,y.getComponent(h).setContentSize(new u(U.width,U.height)),y.active=!0}}0==this.type?this.checkBuildingStatus(e,t):this.checkBuildingRightStatus(e,t)},a.checkBuildingStatus=function(e,n){switch(d.getBuildingStatus(n.typeId,n.level)){case b.PURCHASED:this.enablePurchased(e,!0),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case b.IN_USE:this.enablePurchased(e,!1),this.enableInUse(e,!0),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case b.CAN_BUY:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!0,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case b.DELIVERING:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!0),this.enableNotFound(e,!1);break;case b.MONEY_NOT_ENOUGH:case b.VIP_NOT_ENOUGH:case b.GOLD_NOT_ENOUGH:case b.OUTSIDE_LEVEL_NOT_ENOUGH:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!0,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case b.PREVIOUS_LEVEL_NOT_UNLOCKED:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!0)}},a.checkBuildingRightStatus=function(e,n){switch(p.getBuildingStatus(n.typeId,n.level)){case I.PURCHASED:this.enablePurchased(e,!0),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case I.IN_USE:this.enablePurchased(e,!1),this.enableInUse(e,!0),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case I.CAN_BUY:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!0,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case I.DELIVERING:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!0),this.enableNotFound(e,!1);break;case I.PROP_NOT_ENOUGH:case I.MONEY_NOT_ENOUGH:case I.GOLD_NOT_ENOUGH:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!0,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!1);break;case I.PREVIOUS_LEVEL_NOT_UNLOCKED:this.enablePurchased(e,!1),this.enableInUse(e,!1),this.enableCanBuy(e,!1,n.needMoney),this.enableDelivering(e,!1),this.enableNotFound(e,!0)}},a.enablePurchased=function(e,n){var t=s("Canvas/LabelPurchased",e);t&&(t.active=n,t.getComponent(l).string=C("CatUI6"))},a.enableInUse=function(e,n){var t=s("Canvas/SpriteInUse",e);t&&(t.active=n);var a=s("Canvas/LabelInUse",e);a&&(a.active=n,a.getComponent(l).string=C("BuildingUI3"));var i=s("Canvas/Background",e);i&&y.loadSpriteFrameAndBind(i.getComponent(o),"textures@Texture2D/Hall_Common/Hall_Common/"+(n?"panelManagementBg2":"panelManagementBg1"),!1)},a.enableCanBuy=function(e,n,t){var a=s("Canvas/SpriteBuyMoney",e);a&&(a.active=n);var i=s("Canvas/LabelBuyMoney",e);i&&(i.active=n,i.getComponent(l).string=t.toString()+" ")},a.enableDelivering=function(e,n){var t=s("Canvas/LabelDelivery",e);t&&(t.active=n,t.getComponent(l).string=C("BuildingUI4"))},a.enableNotFound=function(e,n){var t=s("Canvas/SpriteNotFoundGray",e);t&&(t.active=n);var a=s("Canvas/SpriteNotFound",e);a&&(a.active=n);var i=s("Canvas/LabelNotFound",e);i&&(i.active=n,i.getComponent(l).string=C("BuildingUI7"))},t}(c))||N);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementDecorationDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCCacheRes.ts","./env","./CCButton.ts","./CCBuildingData.ts","./CCSundryData.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts","./CCAudioManager.ts","./CCBuildingRightData.ts","./CCRichText.ts","./CCGuideData.ts"],(function(e){var t,i,n,l,a,s,o,r,h,d,u,b,p,c,g,y,f,I,v,C,m,L,U,E,B,_,D,N,R,S,w,x,T,M,P,H,G,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Label,r=e.Sprite,h=e.RichText,d=e.sp,u=e.Canvas,b=e.Rect,p=e.UITransform,c=e.Size,g=e.Color},function(e){y=e.default},function(e){f=e.default},function(e){I=e.CCResType,v=e.default},function(e){C=e.DEV},function(e){m=e.CCButton},function(e){L=e.default,U=e.BuildingStatus},function(e){E=e.default},function(e){B=e._T},function(e){_=e.CCPlayerData,D=e.CC_NEWBIE_GUIDE_TYPE},function(e){N=e.CCEffect},function(e){R=e.CCSceneHall},function(e){S=e.CCEvent},function(e){w=e.EVENT_TYPE,x=e.BuildingTypeId,T=e.default},function(e){M=e.audioMgr},function(e){P=e.default,H=e.BuildingRightStatus},function(e){G=e.CCRichText},function(e){O=e.default}],execute:function(){var A,k,F,z,V,Y,W,j,K,q,J,Q,X,Z,$,ee,te,ie,ne,le,ae,se,oe,re,he,de,ue,be,pe,ce,ge,ye,fe,Ie,ve,Ce,me,Le,Ue,Ee,Be,_e,De,Ne,Re,Se,we,xe,Te,Me,Pe,He,Ge,Oe,Ae,ke,Fe,ze,Ve,Ye,We,je,Ke,qe,Je,Qe,Xe,Ze;a._RF.push({},"2f25bkfnaxKGrjO7apquSbN","CCPanelManagementDecorationDetails",void 0);var $e=s.ccclass,et=s.property;e("CCPanelManagementDecorationDetails",(A=$e("CCPanelManagementDecorationDetails"),k=et({type:o,tooltip:C}),F=et({type:o,tooltip:C}),z=et({type:r,tooltip:C}),V=et({type:h,tooltip:C}),Y=et({type:h,tooltip:C}),W=et({type:r}),j=et({type:h,tooltip:C}),K=et({type:r,tooltip:C}),q=et({type:r,tooltip:C}),J=et({type:m,tooltip:C}),Q=et({type:o,tooltip:C}),X=et({type:m,tooltip:C}),Z=et({type:o,tooltip:C}),$=et({type:o,tooltip:C}),ee=et({type:o,tooltip:C}),te=et({type:m,tooltip:C}),ie=et({type:m,tooltip:C}),ne=et({type:m,tooltip:C}),le=et({type:o,tooltip:C}),ae=et({type:m,tooltip:C}),se=et({type:o,tooltip:C}),oe=et({type:o,tooltip:C}),re=et({type:o,tooltip:C}),he=et({type:h,tooltip:C}),de=et({type:o}),ue=et({type:r}),be=et({type:r}),pe=et({type:G}),ce=et({type:G}),ge=et({type:d.Skeleton,displayName:"Spine"}),ye=et({displayName:"typeId"}),fe=et({displayName:"level"}),A(((Ze=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"labelTitle",Ce,l(t)),n(t,"labelDesc",me,l(t)),n(t,"spriteItem",Le,l(t)),n(t,"labelRewardVip",Ue,l(t)),n(t,"labelRewardRechargeLimitAdd",Ee,l(t)),n(t,"SpriteRewardRechargeLimitAdd",Be,l(t)),n(t,"labelNotEnough",_e,l(t)),n(t,"spriteNotEnough",De,l(t)),n(t,"spriteEnough",Ne,l(t)),n(t,"btnInUse",Re,l(t)),n(t,"labelInUse",Se,l(t)),n(t,"btnUse",we,l(t)),n(t,"labelUse",xe,l(t)),n(t,"labelBuyMoney",Te,l(t)),n(t,"labelBuyPurchase",Me,l(t)),n(t,"btnBuy",Pe,l(t)),n(t,"btnDelivering",He,l(t)),n(t,"btnFastDelivery",Ge,l(t)),n(t,"labelFastDelivering",Oe,l(t)),n(t,"btnFillMoney",Ae,l(t)),n(t,"labelFillMoney",ke,l(t)),n(t,"labelDelivering",Fe,l(t)),n(t,"labelDeliveringTime",ze,l(t)),n(t,"labelBuyMoneyLacking",Ve,l(t)),n(t,"LabelNeedMaterials",Ye,l(t)),n(t,"SpriteCon1",We,l(t)),n(t,"SpriteCon2",je,l(t)),n(t,"LabelCon1",Ke,l(t)),n(t,"LabelCon2",qe,l(t)),n(t,"SpineLevelUp",Je,l(t)),n(t,"typeId",Qe,l(t)),n(t,"level",Xe,l(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.labelFastDelivering&&(this.labelFastDelivering.string=B("BuildingUI6")),this.labelFillMoney&&(this.labelFillMoney.string=B("StaffUI9")),this.LabelNeedMaterials&&(this.LabelNeedMaterials.string=B("CatHome_Upgrade_text3")),this.SpineLevelUp&&(this.SpineLevelUp.enabled=!1)},a.onShow=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),S.on(w.DECORATION_FILLMONEY,this.buyItem,this),S.on(w.DECORATION_RIGHT_FILLMONEY,this.buyRightItem,this),S.on(w.REFRESH_BUILDING,this.refreshUI,this),S.on(w.REFRESH_BUILDING_RIGHT,this.refreshRightUI,this),this.options.fnOnShow&&this.options.fnOnShow()},a.onHide=function(e){var t,i,n,l,a,s;null==(t=this.btnInUse)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(i=this.btnUse)||i.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnBuy)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(l=this.btnDelivering)||l.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(a=this.btnFastDelivery)||a.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(s=this.btnFillMoney)||s.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks(),S.targetOff(this)},a.updateDisplay=function(e){var t=this;if(this.typeId=e.typeId,this.level=e.level,this.spriteEnough&&(this.spriteEnough.node.active=!1),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!1),this.labelBuyMoneyLacking&&(this.labelBuyMoneyLacking.node.active=!1),this.labelTitle&&e.textTitle.length&&(this.labelTitle.string=e.textTitle),this.labelDesc&&e.textDesc.length&&(this.labelDesc.string=e.textDesc),this.labelInUse&&e.textInUse.length&&(this.labelInUse.string=e.textInUse),this.labelUse&&e.textUse.length&&(this.labelUse.string=e.textUse),this.labelBuyMoney&&e.textBuyMoney>=0&&(this.labelBuyMoney.string=e.textBuyMoney.toString()),this.labelBuyPurchase&&e.textBuyPurchase.length&&(this.labelBuyPurchase.string=e.textBuyPurchase),this.labelDelivering&&e.textInDelivering.length&&(this.labelDelivering.string=e.textInDelivering),this.labelDeliveringTime&&e.textFastDelivery>=0&&this.schedule((function(){var i=(e.textFastDelivery-Date.now())/1e3;i<0?t.unscheduleAllCallbacks():t.labelDeliveringTime.string=y.formatTime(i)}),1),this.spriteItem){var i,n=this.spriteItem.getComponent(r);if(n)if(i=0==this.options.type?L.getTextureByTypeIdAndLevel(this.typeId,this.level):P.getTextureByTypeIdAndLevel(this.typeId,this.level)){var l=i.spriteFrame.clone(),a=l.originalSize,s=new b(0,0,a.width,a.height);if(s.width>s.height){var o=s.width/150;s.width=150,s.height/=o}else{var h=s.height/150;s.width/=h,s.height=150}n.spriteFrame=l,this.spriteItem.getComponent(p).setContentSize(new c(s.width,s.height))}}0==this.options.type?this.refreshUI(this.options.typeId,this.options.level):this.refreshRightUI(this.options.typeId,this.options.level)},a.refreshUI=function(e,t){this.options.typeId=e,this.options.level=t,this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,0),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!1,0,0,0,0,!1);var i=L.getRowByTypeIdAndLevel(this.typeId,this.level);switch(this.labelRewardVip&&y.setRichTextString(this.labelRewardVip,B("BuildingReward","+"+i.rewardVip,"  <img src='main_icon02' width=49 height=33 offset=5/>"),"textures@Texture2D/Hall_UI/Hall_UI"),this.labelRewardRechargeLimitAdd&&(this.typeId==x.Hall_cash_register_level?y.setRichTextString(this.labelRewardRechargeLimitAdd,B("BuildingRole3",i.storeLimit,"  <img src='main_icon01' width=55 height=47 offset=-5/>"),"textures@Texture2D/Hall_UI/Hall_UI"):this.typeId==x.Hall_souvenir_level||this.typeId==x.Hall_drink_level||this.typeId==x.Hall_coffee_machine_level||this.typeId==x.Hall_dessert_level?y.setRichTextString(this.labelRewardRechargeLimitAdd,B("BuildingRole2",i.rewardConsume,"  <img src='main_icon01' width=55 height=47 offset=-5/>"),"textures@Texture2D/Hall_UI/Hall_UI"):y.setRichTextString(this.labelRewardRechargeLimitAdd,B("BuildingRole1",i.rewardRecharge,"  <img src='main_icon01' width=55 height=47 offset=-5/>"),"textures@Texture2D/Hall_UI/Hall_UI")),L.getBuildingStatus(this.typeId,this.level)){case U.PURCHASED:this.enablePurchased(!0),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!1,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3);break;case U.IN_USE:this.enablePurchased(!1),this.enableInUse(!0),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!1,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3);break;case U.CAN_BUY:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!0,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!0,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3);break;case U.DELIVERING:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!0,this.typeId,this.level),this.enableNotFound(!1,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3);break;case U.VIP_NOT_ENOUGH:case U.MONEY_NOT_ENOUGH:case U.GOLD_NOT_ENOUGH:case U.OUTSIDE_LEVEL_NOT_ENOUGH:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!0,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!0,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3);break;case U.PREVIOUS_LEVEL_NOT_UNLOCKED:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableNotFound(!0,i.needMoney,i.needVip,i.needOutsideLevel,i.needGold,i.level<3)}},a.refreshRightUI=function(e,t){this.options.typeId=e,this.options.level=t,this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,0),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!1,0,0,[],!1);var i=P.getRowByTypeIdAndLevel(this.typeId,this.level);if(this.labelRewardVip)if(this.typeId==x.Hall_Right_Bar)if(i.rewardMiniGameIdUnlocked>0)for(var n=0;n<T.MINIGAME_LIST.length;n++){parseInt(T.MINIGAME_LIST[n][0],10)==i.rewardMiniGameIdUnlocked&&y.setRichTextString(this.labelRewardVip,B("buildingRight_gametext24",""+B(T.MINIGAME_LIST[n][1])),"textures@Texture2D/Hall_UI/Hall_UI")}else i.rewardChallengeNum>0&&y.setRichTextString(this.labelRewardVip,B("buildingRight_gametext23",""+i.rewardChallengeNum),"textures@Texture2D/Hall_UI/Hall_UI");else y.setRichTextString(this.labelRewardVip,B("buildingRight_popup_text6",""+i.rewardRecharge," <img src='main_icon09' width=36 height=36 offset=0/>"),"textures@Texture2D/Hall_UI/Hall_UI");switch(this.labelRewardRechargeLimitAdd&&(this.typeId==x.Hall_Right_Bar?(y.transparent(this.SpriteRewardRechargeLimitAdd,!0),i.rewardRecharge>0?(y.setRichTextString(this.labelRewardRechargeLimitAdd,B("buildingRight_popup_text6",""+i.rewardRecharge," <img src='main_icon09' width=36 height=36 offset=0/>"),"textures@Texture2D/Hall_UI/Hall_UI"),y.transparent(this.SpriteRewardRechargeLimitAdd,!1)):this.labelRewardRechargeLimitAdd&&(this.labelRewardRechargeLimitAdd.string="")):y.setRichTextString(this.labelRewardRechargeLimitAdd,B("buildingRight_gametext25",i.storeLimit),"textures@Texture2D/Hall_UI/Hall_UI")),P.getBuildingStatus(this.typeId,this.level)){case H.PURCHASED:this.enablePurchased(!0),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!1,i.needMoney,i.needGold,i.needProps,i.level<3);break;case H.IN_USE:this.enablePurchased(!1),this.enableInUse(!0),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!1,i.needMoney,i.needGold,i.needProps,i.level<3);break;case H.CAN_BUY:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!0,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!0,i.needMoney,i.needGold,i.needProps,i.level<3);break;case H.DELIVERING:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!0,this.typeId,this.level),this.enableLocked(!1,i.needMoney,i.needGold,i.needProps,i.level<3);break;case H.PROP_NOT_ENOUGH:case H.MONEY_NOT_ENOUGH:case H.GOLD_NOT_ENOUGH:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!0,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!0,i.needMoney,i.needGold,i.needProps,i.level<3);break;case H.PREVIOUS_LEVEL_NOT_UNLOCKED:this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,i.needMoney),this.enableDelivering(!1,this.typeId,this.level),this.enableLocked(!0,i.needMoney,i.needGold,i.needProps,i.level<3)}},a.enablePurchased=function(e){var t;null==(t=this.btnUse)||t.enableCCButtonListener(this,e,!1,this.onBtnPressStart),this.labelUse&&(this.labelUse.node.active=e)},a.enableInUse=function(e){var t;null==(t=this.btnInUse)||t.enableCCButtonListener(this,e,!1,this.onBtnPressStart),this.labelInUse&&(this.labelInUse.node.active=e)},a.enableCanBuy=function(e,t){var i;null==(i=this.btnBuy)||i.enableCCButtonListener(this,e,!1,this.onBtnPressStart),this.labelBuyMoney&&(this.labelBuyMoney.string=""+t.toString(),this.labelBuyMoney.node.active=e),this.labelBuyPurchase&&(this.labelBuyPurchase.node.active=e)},a.enableDelivering=function(e,t,i){var n,l,a,s=this;(null==(n=this.btnDelivering)||n.enableCCButtonListener(this,e,!1,this.onBtnPressStart),null==(l=this.btnFastDelivery)||l.enableButton(!0),!e||e&&(!T.ENABLE_NEWBIE_GUIDE||T.ENABLE_NEWBIE_GUIDE&&_.isNewBieGuideStepsCompleted(D.DEVELIVERING)))&&(null==(a=this.btnFastDelivery)||a.enableCCButtonListener(this,e,!1,this.onBtnPressStart));if(this.labelDelivering&&(this.labelDelivering.node.active=e),this.labelDeliveringTime&&(this.labelDeliveringTime.node.active=e,e)){var o=100*t+i,r=_.getBuildingDelivering(o);if(r.level>0){var h=Math.floor((r.deliveredTime-y.NowTimeStamp())/1e3);if(h>0){this.labelDeliveringTime.string=y.formatTime(h);return void function e(){if((h=Math.floor((r.deliveredTime-y.NowTimeStamp())/1e3))<=0){if(T.ENABLE_NEWBIE_GUIDE)if(!_.isNewBieGuideStepsCompleted(D.DEVELIVERING))O.getRowsNext(D.DEVELIVERING,_.getNewbieGuideStepsCompleted(D.DEVELIVERING))&&S.emit(w.DELIVERING_TIMEOUT);return s.unscheduleAllCallbacks(),1==r.level||T.ENABLE_DECORATION_AUTO_DRESS_UP?(s.enablePurchased(!1),s.enableInUse(!0)):(s.enablePurchased(!0),s.enableInUse(!1)),s.enableCanBuy(!1,0),s.enableDelivering(!1,t,i),void s.enableNotFound(!1,0,0,0,0,!1)}s.labelDeliveringTime.string=y.formatTime(h),s.unscheduleAllCallbacks(),s.scheduleOnce(e.bind(s),1)}()}}this.unscheduleAllCallbacks(),this.enablePurchased(!1),this.enableInUse(!0),this.enableCanBuy(!1,0),this.enableDelivering(!1,t,i),this.enableNotFound(!1,0,0,0,0,!1)}},a.enableNotFound=function(e,t,i,n,l,a){if(this.labelNotEnough&&(this.labelNotEnough.node.active=e),y.transparent(this.SpriteCon1,!0),y.transparent(this.SpriteCon2,!0),this.LabelCon1&&(this.LabelCon1.enabled=!1),this.LabelCon2&&(this.LabelCon2.enabled=!1),this.btnFillMoney.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.spriteEnough&&(this.spriteEnough.node.active=!1),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!1),this.labelBuyMoneyLacking&&(this.labelBuyMoneyLacking.node.active=!1),this.LabelNeedMaterials&&(this.LabelNeedMaterials.node.active=!1),e){var s=!0;if(i>0)_.data.vip>=i?(this.spriteEnough&&(this.spriteEnough.node.active=!0),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!1),this.labelNotEnough.fontColor=new g("#8F635C")):(this.spriteEnough&&(this.spriteEnough.node.active=!1),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!0),this.labelNotEnough.fontColor=new g("#E44848"),s=!1),y.setRichTextString(this.labelNotEnough,B(E.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/>  ",i),"textures@Texture2D/Hall_UI/Hall_UI");if(n>0)_.data.outsideLevel>=n?(this.spriteEnough&&(this.spriteEnough.node.active=!0),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!1),this.labelNotEnough.fontColor=new g("#8F635C")):(this.spriteEnough&&(this.spriteEnough.node.active=!1),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!0),this.labelNotEnough.fontColor=new g("#E44848"),s=!1),y.setRichTextString(this.labelNotEnough,B(E.data.BuildingCondition2,n),"textures@Texture2D/Hall_UI/Hall_UI");if(this.SpriteCon1&&this.LabelCon1&&l>0){var o,h=_.data.gold||0;h>=l?y.setRichTextString(this.LabelCon1,"<size=20><color=927250>"+y.formatNum2Str(h)+"</color><color=927250>/"+l+"</color></size>"):(y.setRichTextString(this.LabelCon1,"<size=20><color=red>"+y.formatNum2Str(h)+"</color><color=927250>/"+l+"</color></size>"),s=!1),this.LabelCon1.enabled=!0;var d=null==(o=this.SpriteCon1.node.getChildByName("Sprite"))?void 0:o.getComponent(r);v.loadSpriteFrameAndBind(d,"textures@Texture2D/Hall_Item/Hall_Item/Item_100"),y.transparent(this.SpriteCon1,!1),this.LabelNeedMaterials&&(this.LabelNeedMaterials.node.active=!0)}if(t>0){var u=_.data.money;if(u>=t)this.labelBuyMoneyLacking&&(this.labelBuyMoneyLacking.node.active=!1);else if(this.labelBuyMoneyLacking){this.labelBuyMoneyLacking.node.active=!0;var b=t-u;y.setRichTextString(this.labelBuyMoneyLacking,B("CatRoomPartUI10","  <img src='main_icon01' width=55 height=47 offset=-5/>  ",b),"textures@Texture2D/Hall_UI/Hall_UI"),a&&s&&this.btnFillMoney.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)}}}},a.enableLocked=function(e,t,i,n,l){if(this.labelNotEnough&&(this.labelNotEnough.enabled=e),y.transparent(this.SpriteCon1,!0),y.transparent(this.SpriteCon2,!0),this.LabelCon1&&(this.LabelCon1.enabled=!1),this.LabelCon2&&(this.LabelCon2.enabled=!1),this.btnFillMoney.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.spriteEnough&&(this.spriteEnough.node.active=!1),this.spriteNotEnough&&(this.spriteNotEnough.node.active=!1),this.labelBuyMoneyLacking&&(this.labelBuyMoneyLacking.node.active=!1),this.LabelNeedMaterials&&(this.LabelNeedMaterials.node.active=!1),e){if(t>0){var a=_.data.money;if(a>=t)this.labelBuyMoneyLacking&&(this.labelBuyMoneyLacking.node.active=!1);else if(this.labelBuyMoneyLacking){this.labelBuyMoneyLacking.node.active=!0;var s=t-a;y.setRichTextString(this.labelBuyMoneyLacking,B("CatRoomPartUI10","  <img src='main_icon01' width=55 height=47 offset=-5/>  ",s),"textures@Texture2D/Hall_UI/Hall_UI")}}if(this.SpriteCon1&&this.LabelCon1&&i>0){var o,h=_.getPropCount(T.PROP_GOLD_ID);h<i?y.setRichTextString(this.LabelCon1,"<size=20><color=red>"+y.formatNum2Str(h)+"</color><color=927250>/"+i+"</color></size>"):y.setRichTextString(this.LabelCon1,"<size=20><color=927250>"+y.formatNum2Str(h)+"</color><color=927250>/"+i+"</color></size>"),this.LabelCon1.enabled=!0;var d=null==(o=this.SpriteCon1.node.getChildByName("Sprite"))?void 0:o.getComponent(r);v.loadSpriteFrameAndBind(d,"textures@Texture2D/Hall_Item/Hall_Item/Item_100"),y.transparent(this.SpriteCon1,!1),this.LabelNeedMaterials&&(this.LabelNeedMaterials.node.active=!0)}if(this.SpriteCon2&&this.LabelCon2&&2==n.length){var u,b=n[0],p=n[1],c=_.getPropCount(b);c<p?y.setRichTextString(this.LabelCon2,"<size=20><color=red>"+y.formatNum2Str(c)+"</color><color=927250>/"+p+"</color></size>"):y.setRichTextString(this.LabelCon2,"<size=20><color=927250>"+y.formatNum2Str(c)+"</color><color=927250>/"+p+"</color></size>"),this.LabelCon2.enabled=!0;var g=null==(u=this.SpriteCon2.node.getChildByName("Sprite"))?void 0:u.getComponent(r);v.loadSpriteFrameAndBind(g,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+b,!1),y.transparent(this.SpriteCon2,!1),this.LabelNeedMaterials&&(this.LabelNeedMaterials.node.active=!0)}}},a.buyItem=function(){if(!T.ENABLE_NEWBIE_GUIDE||5!=_.getNewbieGuideStepsCompleted(D.DEFAULT)&&8!=_.getNewbieGuideStepsCompleted(D.DEFAULT)){this.refreshUI(this.typeId,this.level);var e=L.getRowByTypeIdAndLevel(this.typeId,this.level);if(_.data.money<e.needMoney)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",e.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");if(e.needVip>0)if(_.data.vip<e.needVip)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",e.needVip),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");if(e.needOutsideLevel>0)if(_.data.outsideLevel<e.needOutsideLevel)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.BuildingCondition2,e.needOutsideLevel),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");if(e.needGold>=0)if((_.data.gold||0)<e.needGold)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatRoomPartUI10,"<img src='main_icon09' width=36 height=36 offset=0/> x",e.needGold),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");R.addMoney(-e.needMoney),R.addGold(-e.needGold),_.setBuildingLevelUnlocked(this.typeId,this.level),_.setBuildingIdPurchased(this.typeId,this.level),_.setBuildingDelivering(100*this.typeId+this.level,e.transportDelay,0),this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,e.needMoney),this.enableDelivering(!0,this.typeId,this.level),this.enableNotFound(!1,e.needMoney,e.needVip,e.needOutsideLevel,e.needGold,e.level<3),R.updateVip(_.data.vip);var t=L.getUnlockedRowByTypeIdAndLevel(this.typeId,this.level);t.forEach((function(e){N.dropdownBuildingUnlocked(R.topDelivery,"textures@prefabs/dropdownDelivery",e.typeId,e.level,0)})),S.emit(w.DECORATION_BUY,this.options.notifyIdx),t.length>0&&S.emit(w.DECORATION_DELIVERED,""),N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B("tishshop1"),"textures@Texture2D/Hall_UI/Hall_UI"),M.playEffect("success"),y.spineAnimation(this.SpineLevelUp,0,"Level_Up",!1,1,!1),this.options.fnComplete&&this.options.fnComplete(this,this.typeId,this.level)}else y.log("getNewbieGuideStepsCompleted: "+_.getNewbieGuideStepsCompleted(D.DEFAULT)+" ... waitting for clipping node complete")},a.buyRightItem=function(){this.refreshRightUI(this.typeId,this.level);var e=P.getRowByTypeIdAndLevel(this.typeId,this.level);if(_.data.money<e.needMoney)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",e.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");if(e.needGold>=0&&(_.data.gold||0)<e.needGold)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatRoomPartUI10,"<img src='main_icon09' width=36 height=36 offset=0/> x",e.needGold),"textures@Texture2D/Hall_UI/Hall_UI"),void M.playEffect("failed");if(2==e.needProps.length){var t=e.needProps[0],i=e.needProps[1];if(_.getPropCount(t)<i)return N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B(E.data.CatRoomPartUI10,"<img src='Item_"+t+"' width=72 height=72 offset=-15/> x",i),"textures@Texture2D/Hall_Item/Hall_Item"),void M.playEffect("failed");_.addPropCount(e.needProps[0],-i)}R.addMoney(-e.needMoney),R.addGold(-e.needGold),_.setBuildingLevelUnlocked(this.typeId,this.level),_.setBuildingIdPurchased(this.typeId,this.level),_.setBuildingDelivering(100*this.typeId+this.level,e.transportDelay,1),this.enablePurchased(!1),this.enableInUse(!1),this.enableCanBuy(!1,e.needMoney),this.enableDelivering(!0,this.typeId,this.level),this.enableLocked(!1,e.needMoney,e.needGold,e.needProps,e.level<3);var n=P.getUnlockedRowByTypeIdAndLevel(this.typeId,this.level);n.forEach((function(e){N.dropdownBuildingUnlocked(R.topDelivery,"textures@prefabs/dropdownDelivery",e.typeId,e.level,1)})),S.emit(w.DECORATION_BUY,this.options.notifyIdx),n.length>0&&S.emit(w.DECORATION_DELIVERED,""),N.toast(R.SceneHallUI,"textures@prefabs/floatingBanner",""+B("tishshop1"),"textures@Texture2D/Hall_UI/Hall_UI"),M.playEffect("success"),y.spineAnimation(this.SpineLevelUp,0,"Level_Up",!1,1,!1),this.options.fnComplete&&this.options.fnComplete(this,this.typeId,this.level)},a.onBtnPressStart=function(e,t,i){switch(t){case 0:e.hide();break;case 1:_.setBuildingLevelUsing(e.typeId,e.level),S.emit(w.DECORATION_DELIVERED,""),0==e.options.type?S.emit(w.REFRESH_BUILDING,e.typeId,e.level):S.emit(w.REFRESH_BUILDING_RIGHT,e.typeId,e.level),e.hide();break;case 2:0==e.options.type?e.buyItem():e.buyRightItem();break;case 3:e.options.fnFastDelivery&&e.options.fnFastDelivery();break;case 4:e.options.fnFillMoney&&e.options.fnFillMoney()}},t}(f)).resObj={bundleName:"textures",relativePath:"prefabs/panelManagementDecorationDetails",resType:I.Prefab},Ce=t((ve=Ze).prototype,"labelTitle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ve.prototype,"labelDesc",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ve.prototype,"spriteItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ve.prototype,"labelRewardVip",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ve.prototype,"labelRewardRechargeLimitAdd",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ve.prototype,"SpriteRewardRechargeLimitAdd",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ve.prototype,"labelNotEnough",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ve.prototype,"spriteNotEnough",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ve.prototype,"spriteEnough",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ve.prototype,"btnInUse",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ve.prototype,"labelInUse",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ve.prototype,"btnUse",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ve.prototype,"labelUse",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ve.prototype,"labelBuyMoney",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ve.prototype,"labelBuyPurchase",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ve.prototype,"btnBuy",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ve.prototype,"btnDelivering",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ve.prototype,"btnFastDelivery",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ve.prototype,"labelFastDelivering",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ve.prototype,"btnFillMoney",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ve.prototype,"labelFillMoney",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ve.prototype,"labelDelivering",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ve.prototype,"labelDeliveringTime",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ve.prototype,"labelBuyMoneyLacking",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ve.prototype,"LabelNeedMaterials",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ve.prototype,"SpriteCon1",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ve.prototype,"SpriteCon2",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ve.prototype,"LabelCon1",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ve.prototype,"LabelCon2",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ve.prototype,"SpineLevelUp",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ve.prototype,"typeId",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xe=t(ve.prototype,"level",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ie=ve))||Ie));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementDecorationItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCBuildingData.ts","./CCButton.ts","./CCPopupManager.ts","./CCAdHelper.ts","./CCPanelManagementDecorationDetails.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCSundryData.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCGuideData.ts","./CCAudioManager.ts","./CCSpineGuide.ts","./CCBuildingRightData.ts","./CCSceneMain.ts"],(function(e){var t,i,n,a,d,o,r,l,s,u,I,E,C,f,c,g,p,N,_,D,y,m,v,B;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){a=e.default,d=e.BuildingStatus},function(e){o=e.CCButton},function(e){r=e.default},function(e){l=e.default},function(e){s=e.CCPanelManagementDecorationDetails},function(e){u=e.CCPlayerData,I=e.CC_NEWBIE_GUIDE_TYPE},function(e){E=e.CCEffect},function(e){C=e.CCSceneHall},function(e){f=e.default},function(e){c=e._T},function(e){g=e.CCEvent},function(e){p=e.EVENT_TYPE,N=e.default},function(e){_=e.default},function(e){D=e.audioMgr},function(e){y=e.CCSpineGuide},function(e){m=e.default,v=e.BuildingRightStatus},function(e){B=e.CCSceneMain}],execute:function(){var U;i._RF.push({},"02607RzUX9Fjp5sVNoPyQZd","CCPanelManagementDecorationItem",void 0);var w=n.ccclass;n.property,e("CCPanelManagementDecorationItem",w("CCPanelManagementDecorationItem")(U=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).type=0,t.notifyIdx=0,t}t(i,e);var n=i.prototype;return n.update=function(e){},n.onBtnPressed=function(e,t,n,a){a||(0==e.type?i.showDetails(e.Idx,e.notifyIdx):i.showRightDetails(e.Idx,e.notifyIdx))},i.showDetails=function(e,t,i){void 0===i&&(i=null);var n=Math.floor(e/100),o=e%100,m=a.getRowByTypeIdAndLevel(n,o);if(m){switch(a.getBuildingStatus(n,o)){case d.PREVIOUS_LEVEL_NOT_UNLOCKED:var v=a.getPreviousRidFixed(m.typeId,m.level),U=Math.floor(v/100),w=v%100,S=a.getRowByTypeIdAndLevel(U,w);return E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",""+c(f.data.BuildingCondition3,c(S.name)),"textures@Texture2D/Hall_UI/Hall_UI"),void D.playEffect("failed")}r.showPanel(s.resObj,{type:0,notifyIdx:t,typeId:m.typeId,level:m.level,textTitle:c(m.name),textDesc:c(m.desc),rewardVip:m.rewardVip,rewardRechargeLimitAdd:m.rewardRecharge,rewardConsume:m.rewardConsume,rewardMiniGameIdUnlocked:0,rewardChallengeNum:0,storeLimit:m.storeLimit,textInUse:c("BuildingUI3"),textUse:c("BuildingUI2"),textBuyMoney:m.needMoney,textBuyPurchase:c("BuildingUI1"),textInDelivering:c("BuildingUI4"),textFastDelivery:u.getBuildingDelivering(100*m.typeId+m.level).deliveredTime,fnFastDelivery:function(){g.emit(p.PUSH_EVENT,"ad_9"),l.showAds((function(){u.setBuildingDelivered(100*m.typeId+m.level)}))||E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",c("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},fnFillMoney:function(){var e=u.data.money;if(e<m.needMoney){var t=m.needMoney-e;g.emit(p.PUSH_EVENT,"ad_8"),l.showAds((function(){C.addMoney(t),g.emit(p.DECORATION_FILLMONEY,"")}))||E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",c("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},fnComplete:function(e,t,n){if(i&&i(e,t,n),N.ENABLE_NEWBIE_GUIDE){var a=u.getNewbieGuideStepsCompleted(I.DEFAULT);if(6==a||9==a){var d=_.getRowsByOrderId(a);return void(d&&d.clickType==100*t+n&&(d=_.getRowsNext(I.DEFAULT,d.orderId))&&(u.updateNewbieGuideStepsCompleted(I.DEFAULT,d.orderId),(d=_.getRowsNext(I.DEFAULT,d.orderId))&&(g.emit(p.NEWBIE_GUIDE_SET_CLIPPINGNODE),e.hide(!1,0),g.emit(p.NEWBIE_GUIDE_ACTION_REFRESH,d.orderId))))}if(!u.isNewBieGuideStepsCompleted(I.DEVELIVERING)){var o=_.getRowsNext(I.DEVELIVERING,u.getNewbieGuideStepsCompleted(I.DEVELIVERING));if(o){var r=u.getSortedBuildingDeliveringItems();if(r.length>0&&r[r.length-1].level>=o.needBuildingLevel)return void E.guide(B.getSceneUI(),"textures@prefabs/spineGuide",I.DEVELIVERING,!1,e.typeId,e.level)}}}},fnOnShow:function(){if(N.ENABLE_NEWBIE_GUIDE&&(5==u.getNewbieGuideStepsCompleted(I.DEFAULT)||8==u.getNewbieGuideStepsCompleted(I.DEFAULT))){var e=_.getRowsNext(I.DEFAULT,u.getNewbieGuideStepsCompleted(I.DEFAULT));e&&(u.updateNewbieGuideStepsCompleted(I.DEFAULT,e.orderId),g.emit(p.NEWBIE_GUIDE_SET_CLIPPINGNODE,y.findNodeByAbsPath("panelManagementDecorationDetails/Canvas/Background/btnBuy")),(e=_.getRowsNext(I.DEFAULT,e.orderId))&&g.emit(p.NEWBIE_GUIDE_ACTION_REFRESH,e.orderId))}}},!0)}},i.showRightDetails=function(e,t,i){void 0===i&&(i=null);var n=Math.floor(e/100),a=e%100,d=m.getRowByTypeIdAndLevel(n,a);if(d){switch(m.getBuildingStatus(n,a)){case v.PREVIOUS_LEVEL_NOT_UNLOCKED:var o=m.getPreviousRidFixed(d.typeId,d.level),B=Math.floor(o/100),U=o%100,w=m.getRowByTypeIdAndLevel(B,U);return E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",""+c(f.data.BuildingCondition3,c(w.name)),"textures@Texture2D/Hall_UI/Hall_UI"),void D.playEffect("failed")}r.showPanel(s.resObj,{type:1,notifyIdx:t,typeId:d.typeId,level:d.level,textTitle:c(d.name),textDesc:c(d.desc),rewardVip:0,rewardRechargeLimitAdd:d.rewardRecharge,rewardConsume:0,rewardMiniGameIdUnlocked:d.rewardMiniGameIdUnlocked,rewardChallengeNum:d.rewardChallengeNum,storeLimit:d.storeLimit,textInUse:c("BuildingUI3"),textUse:c("BuildingUI2"),textBuyMoney:d.needMoney,textBuyPurchase:c("BuildingUI1"),textInDelivering:c("BuildingUI4"),textFastDelivery:u.getBuildingDelivering(100*d.typeId+d.level).deliveredTime,fnFastDelivery:function(){g.emit(p.PUSH_EVENT,"ad_9"),l.showAds((function(){u.setBuildingDelivered(100*d.typeId+d.level)}))||E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",c("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},fnFillMoney:function(){var e=u.data.money;if(e<d.needMoney){var t=d.needMoney-e;g.emit(p.PUSH_EVENT,"ad_8"),l.showAds((function(){C.addMoney(t),g.emit(p.DECORATION_RIGHT_FILLMONEY,"")}))||E.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",c("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},fnComplete:function(e,t,n){if(i&&i(e,t,n),N.ENABLE_NEWBIE_GUIDE){var a=u.getNewbieGuideStepsCompleted(I.RIGHT_SCENE);if(510==a){var d=_.getRowsByOrderId(a);return void(d&&d.clickType==100*t+n&&(d=_.getRowsNext(I.RIGHT_SCENE,d.orderId))&&(u.updateNewbieGuideStepsCompleted(I.RIGHT_SCENE,d.orderId),(d=_.getRowsNext(I.RIGHT_SCENE,d.orderId))&&(g.emit(p.NEWBIE_GUIDE_SET_CLIPPINGNODE),e.hide(!1,0),g.emit(p.NEWBIE_GUIDE_ACTION_REFRESH,d.orderId))))}}},fnOnShow:function(){if(N.ENABLE_NEWBIE_GUIDE&&509==u.getNewbieGuideStepsCompleted(I.RIGHT_SCENE)){var e=_.getRowsNext(I.RIGHT_SCENE,u.getNewbieGuideStepsCompleted(I.RIGHT_SCENE));e&&(u.updateNewbieGuideStepsCompleted(I.RIGHT_SCENE,e.orderId),g.emit(p.NEWBIE_GUIDE_SET_CLIPPINGNODE,y.findNodeByAbsPath("panelManagementDecorationDetails/Canvas/Background/btnBuy")),(e=_.getRowsNext(I.RIGHT_SCENE,e.orderId))&&g.emit(p.NEWBIE_GUIDE_ACTION_REFRESH,e.orderId))}}},!0)}},i}(o))||U);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementStaff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./List.ts","./CCLingoData.ts","./CCCacheRes.ts","./CCStaffData.ts","./CCPanelManagementStaffItem.ts","./CCPlayerData.ts"],(function(e){var t,a,n,l,i,s,o,r,g,u,h,c,d,b,v,f,L,C,p,B,y;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,l=e.Canvas,i=e.find,s=e.Label,o=e.Sprite,r=e.sp,g=e.ProgressBar,u=e.UITransform,h=e.Rect,c=e.Size,d=e.Component},function(e){b=e.default},function(e){v=e.default},function(e){f=e._T},function(e){L=e.default},function(e){C=e.default,p=e.StaffStatus},function(e){B=e.CCPanelManagementStaffItem},function(e){y=e.CCPlayerData}],execute:function(){var m;a._RF.push({},"54c6dtBoghKlZK/ObbNN6bT","CCPanelManagementStaff",void 0);var S=n.ccclass;n.property,e("CCPanelManagementStaff",S("CCPanelManagementStaff")(m=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).notifyIdx=0,t.LabelName=null,t.LabelLevel=null,t.LabelRecruitable=null,t.LabelBuyMoney=null,t.SpriteBuyMoney=null,t.NewIcon=null,t.LabelUpgradeable=null,t.ProgressBarLabel=null,t.ProgressBar=null,t.LabelFullLevel=null,t}t(a,e);var n=a.prototype;return n.update=function(e){},n.onDestroy=function(){this.unscheduleAllCallbacks(),e.prototype.destroy.call(this)},n.onBuildItem=function(e,t){var a,n,d,m,S,I,P,U,R,M,N=e.parent.parent.parent.getComponent(v),w=parseInt(N.name),A=C.getRowsByTagIdAll(w)[t];if(0!=A.length){var k=A[0].tagId,F=y.getStaffLevelUsing(k),T=F?F.level-1:0,D=F?F.level:1,G=F?F.level+1:1;if(A[T]){e.getComponent(B).Idx=100*k+T,e.getComponent(B).notifyIdx=1e4*this.notifyIdx+t,e.getComponent(B).scaleEnable=!1,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(l).enabled=!1),this.LabelName=null==(a=i("Canvas/Background/LabelName",e))?void 0:a.getComponent(s),this.LabelName&&(this.LabelName.string=f(A[T].name),this.LabelName.node.active=!0),this.LabelLevel=null==(n=i("Canvas/Background/LabelLevel",e))?void 0:n.getComponent(s),this.LabelRecruitable=null==(d=i("Canvas/Background/LabelRecruitable",e))?void 0:d.getComponent(s),this.LabelBuyMoney=null==(m=i("Canvas/Background/LabelBuyMoney",e))?void 0:m.getComponent(s),this.SpriteBuyMoney=null==(S=i("Canvas/Background/SpriteBuyMoney",e))?void 0:S.getComponent(o),this.NewIcon=null==(I=i("Canvas/Background/NewIcon",e))?void 0:I.getComponent(r.Skeleton),this.LabelUpgradeable=null==(P=i("Canvas/Background/LabelUpgradeable",e))?void 0:P.getComponent(s),this.ProgressBarLabel=null==(U=i("Canvas/Background/ProgressBar/Label",e))?void 0:U.getComponent(s),this.ProgressBar=null==(R=i("Canvas/Background/ProgressBar",e))?void 0:R.getComponent(g),this.LabelFullLevel=null==(M=i("Canvas/Background/LabelFullLevel",e))?void 0:M.getComponent(s);var _=i("Canvas/Background/spriteItem",e);_&&L.loadSpriteFrameAndBind(_.getComponent(o),"textures@Texture2D/Staff/Staff/Staff_"+A[T].resId,!1,this,(function(e,t){var a,n=null==(a=_.getComponent(u))?void 0:a.contentSize,l=_.getComponent(o).spriteFrame.clone().originalSize,i=new h(0,0,l.width,l.height);if(i.width>i.height){var s=i.width/n.width;i.width=n.width,i.height/=s}else{var r=i.height/n.height;i.width/=r,i.height=n.height}_.getComponent(u).setContentSize(new c(i.width,i.height))}));var x=C.getStaffStatus(k,G);switch(x){case p.CAN_RECRUITABLE:this.enableUpgrade(k,D,!1),this.enableAcclerator(k,D,!1),this.enableFullLevel(k,D,!1),this.enableRecruitable(k,D,!0);break;case p.CAN_UPGRADE:this.enableRecruitable(k,D,!1),this.enableAcclerator(k,D,!1),this.enableFullLevel(k,D,!1),this.enableUpgrade(k,D,!0);break;case p.UPGRADING:this.enableRecruitable(k,D,!1),this.enableFullLevel(k,D,!1),this.enableUpgrade(k,D,!0),this.enableAcclerator(k,D,!0);break;case p.NOT_ENOUGH_CONDITION:this.enableAcclerator(k,D,!1),this.enableFullLevel(k,D,!1),this.enableRecruitable(k,D,!1),this.enableUpgrade(k,D,!0);break;case p.LEVEL_FULL:this.enableRecruitable(k,D,!1),this.enableUpgrade(k,D,!1),this.enableAcclerator(k,D,!1),this.enableFullLevel(k,D,!0);break;default:b.error("onBuildItem: unknown status: "+x)}e.getComponent(B).refreshUI()}}},n.enableRecruitable=function(e,t,a){if(this.LabelRecruitable&&(this.LabelRecruitable.string=f("StaffState3"),this.LabelRecruitable.node.active=a),this.LabelBuyMoney){var n=y.getStaffLevelUsing(e),l=C.getRowByTagIdAndLevel(e,n?n.level+1:t);l?(this.LabelBuyMoney.string=l.needMoney.toString()+" ",this.LabelBuyMoney.node.active=a):this.LabelBuyMoney.node.active=!1}this.SpriteBuyMoney&&(this.SpriteBuyMoney.node.active=a),this.NewIcon&&(this.NewIcon.node.active=!!a&&!y.getStaffFirstClicked(e))},n.enableUpgrade=function(e,t,a){var n=C.getRowByTagIdAndLevel(e,t),l=y.getStaffLevelUsing(e);this.LabelLevel&&(n&&n.tagId==e&&n.level==t&&(this.LabelLevel.string="Lv."+n.level),this.LabelLevel.node.active=a),this.LabelUpgradeable&&(this.LabelUpgradeable.string=f("StaffUI1"),l&&l.staffStutas==p.UPGRADING?this.LabelUpgradeable.node.active=!1:this.LabelUpgradeable.node.active=a),this.LabelBuyMoney&&((n=C.getRowByTagIdAndLevel(e,l?l.level+1:t))?(this.LabelBuyMoney.string=n.needMoney.toString()+" ",this.LabelBuyMoney.node.active=a):this.LabelBuyMoney.node.active=!1),this.SpriteBuyMoney&&(n=C.getRowByTagIdAndLevel(e,l?l.level+1:t),this.SpriteBuyMoney.node.active=!!n&&a)},n.enableAcclerator=function(e,t,a){var n=y.getStaffLevelUsing(e);if(this.ProgressBar)if(n)if(n.staffStutas!=p.UPGRADING)this.ProgressBar.node.active=!1;else{var l=C.getRowByTagIdAndLevel(n.tagId,n.level);if(l){var i=n.upgradeTimeLeft/l.needUpgradingTime;this.ProgressBar.progress=i,n.staffStutas===p.UPGRADING?this.ProgressBar.node.active=!0:this.ProgressBar.node.active=a}else this.ProgressBar.node.active=!1;this.ProgressBarLabel&&(l?(this.ProgressBarLabel.string=""+b.formatTime(n.upgradeTimeLeft),n.staffStutas===p.UPGRADING?this.ProgressBarLabel.node.active=!0:this.ProgressBarLabel.node.active=a):this.ProgressBarLabel.node.active=!1)}else this.ProgressBar.node.active=!1,this.ProgressBarLabel&&(this.ProgressBarLabel.node.active=!1)},n.enableFullLevel=function(e,t,a){this.LabelFullLevel&&(this.LabelFullLevel.string=f("StaffUI2"),this.LabelFullLevel.node.active=a)},a}(d))||m);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementStaffDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCCacheRes.ts","./env","./CCButton.ts","./CCSundryData.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts","./CCStaffData.ts","./CCRichText.ts","./CCAudioManager.ts"],(function(e){var t,n,i,a,l,s,o,r,h,d,u,c,g,p,f,v,b,C,m,L,B,S,U,I,y,T,x,R,k,_,P,E,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,o=e.sp,r=e.find,h=e.Sprite,d=e.UITransform,u=e.Rect,c=e.Size,g=e.Label,p=e.RichText,f=e.ProgressBar},function(e){v=e.default},function(e){b=e.default},function(e){C=e.CCResType,m=e.default},function(e){L=e.DEV},function(e){B=e.CCButton},function(e){S=e.default},function(e){U=e._T},function(e){I=e.CCPlayerData,y=e.StaffSkillsStatus},function(e){T=e.CCEffect},function(e){x=e.CCSceneHall},function(e){R=e.CCEvent},function(e){k=e.EVENT_TYPE},function(e){_=e.default,P=e.StaffStatus},function(e){E=e.CCRichText},function(e){F=e.audioMgr}],execute:function(){var A,N,w,D,H,M,W,V,O,G;l._RF.push({},"aae463HjTFKe4+WEy2TgjHq","CCPanelManagementStaffDetails",void 0);var z=s.ccclass,j=s.property;e("CCPanelManagementStaffDetails",(A=z("CCPanelManagementStaffDetails"),N=j({type:o.Skeleton,displayName:"Spine"}),w=j({displayName:"typeId",tooltip:L}),D=j({displayName:"level",tooltip:L}),A(((G=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,i(t,"SpineLevelUp",W,a(t)),t.LabelLevel=null,t.LabelWorkingStatus=null,t.SpriteFrame1=null,t.SpriteFrame2=null,t.LabelEffectItem1=null,t.LabelEffectItem2=null,t.SpriteWarning=null,t.LabelNeedVip=null,t.LabelBuyMoney=null,t.ProgressBar=null,t.BtnRecruit=null,t.BtnUpgrade=null,t.labelUpgrade=null,t.BtnAcclerator=null,t.BtnSupplement=null,t.BtnFullLevel=null,t.timerWorkingStatus=!1,t.timerUpgradingProgress=!1,i(t,"typeId",V,a(t)),i(t,"level",O,a(t)),t.currentLevel=0,t.nextLevel=0,t}n(t,e);var l=t.prototype;return l.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.SpineLevelUp&&(this.SpineLevelUp.enabled=!1)},l.onShow=function(){R.on(k.STAFF_ACCLERATOR,this.refreshUI,this),R.on(k.STAFF_FILLMONEY,this.refreshUI,this),R.on(k.STAFF_UPGRADING,this.refreshUI,this)},l.onHide=function(e){var t;null==(t=this.BtnSupplement)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks(),R.targetOff(this)},l.updateDisplay=function(e){var t,n;this.typeId=e.typeId,this.level=e.level;var i=I.getStaffLevelUsing(this.typeId);this.currentLevel=i?i.level:1;var a=_.getRowByTagIdAndLevel(this.typeId,this.currentLevel);if(a){this.nextLevel=i?i.level+1:1;var l=_.getRowByTagIdAndLevel(this.typeId,this.nextLevel),s=r("Canvas/Background/SpriteFrame/SpriteItem",this.node);s&&m.loadSpriteFrameAndBind(s.getComponent(h),"textures@Texture2D/Staff/Staff/Staff_"+a.tagId,!1,this,(function(e,t){var n,i=null==(n=s.getComponent(d))?void 0:n.contentSize,a=s.getComponent(h).spriteFrame.clone().originalSize,l=new u(0,0,a.width,a.height);if(l.width>l.height){var o=l.width/i.width;l.width=i.width,l.height/=o}else{var r=l.height/i.height;l.width/=r,l.height=i.height}s.getComponent(d).setContentSize(new c(l.width,l.height))}));var o,b=null==(t=r("Canvas/Background/LabelTitle",this.node))?void 0:t.getComponent(g);if(b&&(b.string=U(a.name)),!this.LabelLevel)this.LabelLevel=null==(o=r("Canvas/Background/LabelLevel",this.node))?void 0:o.getComponent(g);var C,L,S,y=null==(n=r("Canvas/Background/LabelDesc",this.node))?void 0:n.getComponent(g);if(y&&(y.string=U("StaffDescribe"+this.typeId)),!this.LabelWorkingStatus)this.LabelWorkingStatus=null==(C=r("Canvas/Background/LabelWorkingStatus",this.node))?void 0:C.getComponent(p);if(!this.SpriteFrame1)this.SpriteFrame1=null==(L=r("Canvas/Background/SpriteFrame1",this.node))?void 0:L.getComponent(h);if(!this.SpriteFrame2)this.SpriteFrame2=null==(S=r("Canvas/Background/SpriteFrame2",this.node))?void 0:S.getComponent(h);var T,x,R,k,P,F,A,N,w,D,H=r("Canvas/Background/LabelEffect1",this.node);if(H&&(H.getComponent(g).string=U("StaffUI3"),H.active=!0),!this.LabelEffectItem1)this.LabelEffectItem1=null==(T=r("Canvas/Background/LabelEffectItem1",this.node))?void 0:T.getComponent(p);if(!this.LabelEffectItem2)this.LabelEffectItem2=null==(x=r("Canvas/Background/LabelEffectItem2",this.node))?void 0:x.getComponent(p);if(!this.SpriteWarning)this.SpriteWarning=null==(R=r("Canvas/Background/SpriteWarning",this.node))?void 0:R.getComponent(h);if(!this.LabelBuyMoney)this.LabelBuyMoney=null==(k=r("Canvas/Background/LabelBuyMoney",this.node))?void 0:k.getComponent(p);if(!this.LabelNeedVip)this.LabelNeedVip=null==(P=r("Canvas/Background/LabelNeedVip",this.node))?void 0:P.getComponent(p);if(!this.ProgressBar)this.ProgressBar=null==(F=r("Canvas/Background/ProgressBar",this.node))?void 0:F.getComponent(f);if(!this.BtnRecruit){var M;this.BtnRecruit=null==(M=r("Canvas/Background/BtnRecruit",this.node))?void 0:M.getComponent(B);var W=this.BtnRecruit.node.getChildByName("Label").getComponent(E);v.setRichTextString(W,U("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2>  "+(l?l.needMoney:0)+" "+U("StaffState3")+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI")}if(!this.BtnUpgrade)this.BtnUpgrade=null==(A=r("Canvas/Background/BtnUpgrade",this.node))?void 0:A.getComponent(B);if(this.labelUpgrade||(this.labelUpgrade=this.BtnUpgrade.node.getChildByName("Label").getComponent(E),v.setRichTextString(this.labelUpgrade,U("CatUI5","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2>  "+(l?l.needMoney:0)+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI")),!this.BtnAcclerator)this.BtnAcclerator=null==(N=r("Canvas/Background/BtnAcclerator",this.node))?void 0:N.getComponent(B),this.BtnAcclerator.node.getChildByName("Label").getComponent(g).string=U("StaffUI8");if(!this.BtnSupplement)this.BtnSupplement=null==(w=r("Canvas/Background/BtnSupplement",this.node))?void 0:w.getComponent(B),this.BtnSupplement.node.getChildByName("Label").getComponent(g).string=U("StaffUI9");if(!this.BtnFullLevel)this.BtnFullLevel=null==(D=r("Canvas/Background/BtnFullLevel",this.node))?void 0:D.getComponent(B),this.BtnFullLevel.node.getChildByName("Label").getComponent(g).string=U("StaffUI2");this.refreshUI()}},l.fnWorkingStatus=function(){var e=I.getStaffLevelUsing(this.typeId);e&&(e.workingStatus==y.IDLE?v.setRichTextString(this.LabelWorkingStatus,"<color=#50a1cd>"+U("StaffState2")+"</color> <color=#8f635c>"+v.formatTime(e.leftTime)+"</color>",""):e.workingStatus==y.WORKING&&v.setRichTextString(this.LabelWorkingStatus,"<color=#50a1cd>"+U("StaffState1")+"</color> <color=#8f635c>"+v.formatTime(e.leftTime)+"</color>",""))},l.refreshUI=function(){var e=I.getStaffLevelUsing(this.typeId);this.currentLevel=e?e.level:1;var t=_.getRowByTagIdAndLevel(this.typeId,this.currentLevel);if(t){this.nextLevel=e?e.level+1:1;var n=_.getRowByTagIdAndLevel(this.typeId,this.nextLevel);this.LabelLevel&&(this.LabelLevel.string="Lv."+this.currentLevel),this.LabelWorkingStatus&&(e?(this.LabelWorkingStatus.node.active=!0,this.timerWorkingStatus||(this.timerWorkingStatus=!0,this.fnWorkingStatus(),this.schedule(this.fnWorkingStatus,1))):(this.LabelWorkingStatus.string="",this.LabelWorkingStatus.node.active=!1)),this.SpriteFrame2&&(this.SpriteFrame2.node.active=!!e&&!!n);var i=r("Canvas/Background/LabelEffect2",this.node);switch(i&&(e&&n?(i.getComponent(g).string=U("StaffUI4"),i.active=!0):i.active=!1),this.LabelEffectItem1&&v.setRichTextString(this.LabelEffectItem1,U("StaffSkill"+this.typeId,"  <color=#30b840>"+(6==t.tagId?t.skillsCoolTime:t.skillsTime)+"</color>  ","  <color=#30b840>"+(6==t.tagId?t.skillsMaxCount:t.skillsCoolTime)+"</color>  "),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelEffectItem2&&(e&&n?(v.setRichTextString(this.LabelEffectItem2,U("StaffSkill"+this.typeId,"  <color=#30b840>"+(6==n.tagId?n.skillsCoolTime:n.skillsTime)+"</color>  ","  <color=#30b840>"+(6==n.tagId?n.skillsMaxCount:n.skillsCoolTime)+"</color>  "),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelEffectItem2.node.active=!0):this.LabelEffectItem2.node.active=!1),this.labelUpgrade&&(n?(v.setRichTextString(this.labelUpgrade,U("CatUI5","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> "+n.needMoney)+"</outline>","textures@Texture2D/Hall_UI/Hall_UI"),this.labelUpgrade.node.active=!0):this.labelUpgrade.node.active=!1),this.enableRecruitable(!1),this.enableUpgrade(!1),this.enableAcclerator(!1),this.enableNotEnoughCondition(!1),this.enableFullLevel(!1),_.getStaffStatus(this.typeId,this.nextLevel)){case P.CAN_RECRUITABLE:this.enableUpgrade(!1),this.enableAcclerator(!1),this.enableNotEnoughCondition(!1),this.enableFullLevel(!1),this.enableRecruitable(!0);break;case P.CAN_UPGRADE:this.enableRecruitable(!1),this.enableAcclerator(!1),this.enableNotEnoughCondition(!1),this.enableFullLevel(!1),this.enableUpgrade(!0);break;case P.UPGRADING:this.enableRecruitable(!1),this.enableUpgrade(!1),this.enableNotEnoughCondition(!1),this.enableFullLevel(!1),this.enableAcclerator(!0);break;case P.NOT_ENOUGH_CONDITION:this.enableRecruitable(!1),this.enableUpgrade(!1),this.enableAcclerator(!1),this.enableFullLevel(!1),this.enableNotEnoughCondition(!0);break;case P.LEVEL_FULL:this.enableRecruitable(!1),this.enableUpgrade(!1),this.enableAcclerator(!1),this.enableNotEnoughCondition(!1),this.enableFullLevel(!0)}}},l.enableRecruitable=function(e){this.BtnRecruit&&(this.BtnRecruit.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.BtnRecruit.node.active=e)},l.enableUpgrade=function(e){this.BtnUpgrade&&(this.BtnUpgrade.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.BtnUpgrade.node.active=e)},l.fnUpgradingProgress=function(){var e=I.getStaffLevelUsing(this.typeId);if(!e||e&&e.staffStutas!=P.UPGRADING)return this.timerUpgradingProgress=!1,this.ProgressBar.node.active=!1,void this.unschedule(this.fnUpgradingProgress);var t=_.getRowByTagIdAndLevel(this.typeId,this.currentLevel),n=e.upgradeTimeLeft/t.needUpgradingTime;this.ProgressBar.node.getChildByName("Label").getComponent(g).string=""+v.formatTime(e.upgradeTimeLeft),this.ProgressBar.progress=n},l.enableAcclerator=function(e){if(this.BtnAcclerator&&(this.BtnAcclerator.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.BtnAcclerator.node.active=e),this.ProgressBar){var t=I.getStaffLevelUsing(this.typeId);if(!t||t&&t.staffStutas!=P.UPGRADING)return void(this.ProgressBar.node.active=!1);this.timerUpgradingProgress||(this.timerUpgradingProgress=!0,this.fnUpgradingProgress(),this.schedule(this.fnUpgradingProgress,1)),this.ProgressBar.node.active=!0}},l.enableNotEnoughCondition=function(e){var t=_.getRowByTagIdAndLevel(this.typeId,this.nextLevel)||{needMoney:0,needVip:0},n=t.needMoney-I.data.money,i=t.needVip-I.data.vip;if(this.BtnRecruit&&(this.BtnRecruit.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.BtnRecruit.node.active=!1),this.BtnUpgrade&&(this.BtnUpgrade.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.BtnUpgrade.node.active=!1),this.BtnSupplement&&(this.BtnSupplement.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.BtnSupplement.node.active=!1),this.LabelBuyMoney&&(this.LabelBuyMoney.node.active=!1),this.SpriteWarning&&(this.SpriteWarning.node.active=!1),this.LabelNeedVip&&(this.LabelNeedVip.node.active=!1),e){var a=n>0&&this.nextLevel<3;this.BtnSupplement&&(this.BtnSupplement.enableCCButtonListener(this,a,!1,this.onBtnPressStart),this.BtnSupplement.node.active=a),1==this.nextLevel?this.BtnRecruit&&(this.BtnRecruit.enableCCButtonListener(this,n<=0,!1,this.onBtnPressStart),this.BtnRecruit.node.active=n<=0):this.nextLevel>1&&this.BtnUpgrade&&(this.BtnUpgrade.enableCCButtonListener(this,!a,!1,this.onBtnPressStart),this.BtnUpgrade.node.active=!a),this.LabelNeedVip&&(this.SpriteWarning&&(this.SpriteWarning.node.active=!0),i>0?(m.loadSpriteFrameAndBind(this.SpriteWarning,"textures@Texture2D/Hall_Common/Hall_Common/common_warn"),v.setRichTextString(this.LabelNeedVip,"<color=#E44848>"+U("CatUI3","  <img src='main_icon02' width=49 height=33 offset=5/>","  <color=#30b840>"+t.needVip+"</color>  ")+"</color>","textures@Texture2D/Hall_UI/Hall_UI")):(m.loadSpriteFrameAndBind(this.SpriteWarning,"textures@Texture2D/Hall_Common/Hall_Common/common_circle"),v.setRichTextString(this.LabelNeedVip,"<color=#8F635C>"+U("CatUI3","  <img src='main_icon02' width=49 height=33 offset=5/>","  <color=#8f635c>"+t.needVip+"</color>  ")+"</color>","textures@Texture2D/Hall_UI/Hall_UI")),this.LabelNeedVip.node.active=!0),this.LabelBuyMoney&&(n>0&&v.setRichTextString(this.LabelBuyMoney,U("CatRoomPartUI10","  <img src='main_icon01' width=55 height=47 offset=0/>","  <color=#30b840>"+t.needMoney+"</color>  "),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelBuyMoney.node.active=n>0)}},l.enableFullLevel=function(e){this.BtnFullLevel&&(this.BtnFullLevel.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.BtnFullLevel.node.active=e)},l.buyOrUpgrade=function(){var e=_.getRowByTagIdAndLevel(this.typeId,this.nextLevel);return I.data.vip<e.needVip?(F.playEffect("failed"),T.toast(x.SceneHallUI,"textures@prefabs/floatingBanner",""+U(S.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=5/> x",e.needVip),"textures@Texture2D/Hall_UI/Hall_UI"),!1):I.data.money<e.needMoney?(F.playEffect("failed"),T.toast(x.SceneHallUI,"textures@prefabs/floatingBanner",""+U(S.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",e.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"),!1):I.setStaffLevelUsing(this.typeId,this.nextLevel)?(x.addMoney(-e.needMoney),x.addVip(e.rewardVipNum),T.toast(x.SceneHallUI,"textures@prefabs/floatingBanner",""+U(1==this.nextLevel?"tishshop3":"tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),F.playEffect("hired_ok"),v.spineAnimation(this.SpineLevelUp,0,"Level_Up",!1,1,!1),this.options.fnComplete&&this.options.fnComplete(),!0):void 0},l.onBtnPressStart=function(e,t,n){switch(t){case 0:e.buyOrUpgrade()&&e.options.fnRecruitable&&e.options.fnRecruitable();break;case 1:e.buyOrUpgrade()&&e.options.fnUpgrade&&e.options.fnUpgrade();break;case 2:e.options.fnAcclerator&&e.options.fnAcclerator(e.options.typeId);break;case 3:e.options.fnFillMoney&&e.options.fnFillMoney(e.options.typeId);break;case 4:e.options.fnFullLevel&&e.options.fnFullLevel(),e.hide()}},t}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelManagementStaffDetails",resType:C.Prefab},W=t((M=G).prototype,"SpineLevelUp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(M.prototype,"typeId",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(M.prototype,"level",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=M))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelManagementStaffItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCPopupManager.ts","./CCAdHelper.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCStaffData.ts","./CCPanelManagementStaffDetails.ts"],(function(t){var e,n,a,o,i,l,s,r,f,u,c,g,S,C,d,h,v,k,L;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.find,i=t.RichText},function(t){l=t.default},function(t){s=t.CCButton},function(t){r=t.default},function(t){f=t.default},function(t){u=t.CCPlayerData,c=t.StaffSkillsStatus},function(t){g=t.CCEffect},function(t){S=t.CCSceneHall},function(t){C=t._T},function(t){d=t.CCEvent},function(t){h=t.StaffType,v=t.EVENT_TYPE},function(t){k=t.default},function(t){L=t.CCPanelManagementStaffDetails}],execute:function(){var m;n._RF.push({},"6b4f3MDTgNCaob+zYYzsqjl","CCPanelManagementStaffItem",void 0);var I=a.ccclass;a.property,t("CCPanelManagementStaffItem",I("CCPanelManagementStaffItem")(m=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).notifyIdx=0,e.timerWorkingStatus=!1,e.LabelWorkingStatus=null,e}e(n,t);var a=n.prototype;return a.update=function(t){},a.fnWorkingStatus=function(){if(this.LabelWorkingStatus){var t=Math.floor(this.Idx/100),e=u.getStaffLevelUsing(t);e?(t==h.REPAIRMAN?e.skillsLeftTime>0?l.setRichTextString(this.LabelWorkingStatus,"<color=#0094E4><outline color=#000000 width=2>"+C("StaffState4",""+e.skillsCount,e.skillsMaxCount+"</color>\n<color=#E27B4A>"+l.formatTime(e.skillsLeftTime)+"</color>")+"</outline></color>",""):l.setRichTextString(this.LabelWorkingStatus,"<color=#0094E4><outline color=#000000 width=2>"+C("StaffState4",""+e.skillsCount,e.skillsMaxCount+"</color>")+"</outline></color>",""):e.workingStatus==c.IDLE?l.setRichTextString(this.LabelWorkingStatus,"<color=#fff265><outline color=#e44848 width=2>"+C("StaffState2")+"</outline></color> <color=#E27B4A>"+l.formatTime(e.leftTime)+"</color>",""):e.workingStatus==c.WORKING&&l.setRichTextString(this.LabelWorkingStatus,"<color=#0094E4><outline color=#000000 width=2>"+C("StaffState1")+"</outline></color> <color=#E27B4A>"+l.formatTime(e.leftTime)+"</color>",""),this.LabelWorkingStatus.node.active||(this.LabelWorkingStatus.node.active=!0)):this.LabelWorkingStatus.node.active||(this.LabelWorkingStatus.node.active=!0)}else this.LabelWorkingStatus.node.active||(this.LabelWorkingStatus.node.active=!0)},a.refreshUI=function(){var t;if(this.LabelWorkingStatus=null==(t=o("Canvas/Background/LabelWorkingStatus",this.node))?void 0:t.getComponent(i),this.LabelWorkingStatus){var e=Math.floor(this.Idx/100);u.getStaffLevelUsing(e)?(this.LabelWorkingStatus.node.active=!0,this.timerWorkingStatus||(this.timerWorkingStatus=!0,this.fnWorkingStatus(),this.schedule(this.fnWorkingStatus,1))):(this.LabelWorkingStatus.string="",this.LabelWorkingStatus.node.active=!1)}},a.onBtnPressed=function(t,e,a,o){o||n.showDetails(this.Idx,this.notifyIdx)},n.showDetails=function(t,e,n){void 0===n&&(n=null);var a=Math.floor(t/100),o=t%100,i=k.getRowByTagIdAndLevel(a,o);l.log("typeId: "+a+", level: "+o),u.setStaffFirstClicked(a)&&d.emit(v.STAFF_FIRST_CLICKED,e),r.showPanel(L.resObj,{notifyIdx:e,typeId:a,level:o,fnRecruitable:function(){},fnUpgrade:function(){},fnAcclerator:function(t){d.emit(v.PUSH_EVENT,"ad_7"),f.showAds((function(){u.setStaffLevelUsingUpgradeDone(t),d.emit(v.STAFF_ACCLERATOR,"")}))||g.toast(S.SceneHallUI,"textures@prefabs/floatingBanner",C("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},fnFillMoney:function(t){var e=u.getStaffLevelUsing(t);i=e?k.getRowByTagIdAndLevel(e.tagId,e.level+1):k.getRowByTagIdAndLevel(t,1);var n=u.data.money;if(n<i.needMoney){var a=i.needMoney-n;d.emit(v.PUSH_EVENT,"ad_8"),f.showAds((function(){S.addMoney(a),d.emit(v.STAFF_FILLMONEY,"")}))||g.toast(S.SceneHallUI,"textures@prefabs/floatingBanner",C("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},fnFullLevel:function(){},fnComplete:function(){n&&n()}},!0)},n}(s))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMatch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCPopup.ts","./CCEvent.ts","./CCPanelMatchItemChapter.ts","./CCCatCompeti.ts","./CCDefine.ts"],(function(t){var e,n,i,a,r,o,s,l,u,h,p,c,g,C,f,b,d,w,P,y,L,I,x,T,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Label,h=t.PageView,p=t.Node,c=t.Canvas,g=t.UITransform},function(t){C=t.default},function(t){f=t.CCButton},function(t){b=t._T},function(t){d=t.CCPlayerData,w=t.CC_NEWBIE_GUIDE_TYPE},function(t){P=t.CCResType,y=t.default},function(t){L=t.default},function(t){I=t.CCEvent},function(t){x=t.CCPanelMatchItemChapter},function(t){T=t.default},function(t){B=t.EVENT_TYPE}],execute:function(){var v,m,A,E,V,_,D,R,M,S,z,N,U,H,K,O;s._RF.push({},"c6046qis7xBnroCNv39wM41","CCPanelMatch",void 0);var W=l.ccclass,k=l.property;t("CCPanelMatch",(v=W("CCPanelMatch"),m=k({type:f}),A=k({type:f}),E=k({type:u}),V=k({type:u}),_=k({type:h}),D=k({type:p}),v(((O=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btnArrowLeft",S,a(e)),i(e,"btnArrowRight",z,a(e)),i(e,"LabelTips",N,a(e)),i(e,"LabelTitle",U,a(e)),i(e,"pageView",H,a(e)),i(e,"pageViewContent",K,a(e)),e.pageIdxLast=0,e.pageIdx=0,e.scrolling=!1,e}n(e,t);var s=e.prototype;return s.onEnable=function(){var e,n,i;t.prototype.onEnable&&t.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),I.on(B.HIDE_PANEL,this.onHidePanel,this),null==(e=this.btnArrowLeft)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(n=this.btnArrowRight)||n.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(i=this.pageView)||i.node.on("page-turning",this.onPageTurning,this)},s.onDisable=function(){var e,n;this.pageView&&this.pageView.node.off("page-turning",this.onPageTurning,this),null==(e=this.btnArrowLeft)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnArrowRight)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),I.targetOff(this),this.unscheduleAllCallbacks(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},s.updateDisplay=function(t){this.options=t,this.updateUI()},s.onShow=function(){},s.init=function(){var t=r(o().mark((function t(e){var n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.options=e,this.addPage(0),this.btnArrowLeft.enableButton(!1),this.btnArrowRight.enableButton(!0),this.scheduleOnce((function(){n.delayLoad()}),.15),this.calcBtnArrow(),this.pageIdx=this.options.chapterIdx||0,this.pageIdxLast=0,this.scheduleOnce((function(){n.pageView.scrollToPage(n.pageIdx,.5),0==n.pageIdx&&I.emit(B.CHECK_GUIDE,w.LEFT_SCENE_MATCH,!1)}),.2);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.delayLoad=function(){var t=this;if(this.pageView)for(var e=T.totalKeys(),n=function(e){t.scheduleOnce((function(){t.addPage(e)}),.15*e)},i=1;i<e;i++)n(i)},s.addPage=function(t){y.getInstantiate("textures@prefabs/panelMatchItemChapter",x,this,(function(e,n){var i;if(n){var a=n;a.node.name="chapterIdx-"+t,a.idx=t,e.pageView.addPage(a.node);var r=e.pageViewContent.getComponent(g);r&&(r.width+=null==(i=a.getComponent(g))||null==(i=i.contentSize)?void 0:i.width,a.enabled=0==t)}}))},s.updateUI=function(){var t=T.totalKeys(),e=d.getCatUpgradeTotalPower();this.LabelTips&&(this.LabelTips.string=""+b("Competition_Chap_CurPower")+e),this.LabelTitle&&(this.LabelTitle.string=""+b("Competition_Chap_Inter",this.pageIdx+1,t))},s.onPageTurning=function(t){var e=this.pageView.getCurrentPageIndex();this.pageIdxLast=this.pageIdx,this.pageIdx=e,C.log("onPageTurning.index: "+this.pageIdxLast+" -> "+this.pageIdx),this.enablePage(this.pageIdx),this.calcBtnArrow(),this.updateUI(),this.scrolling=!1},s.enablePage=function(t){this.pageView.getPages().forEach((function(e){var n=e.getComponent(x);n.enabled=n.idx==t}))},s.calcBtnArrow=function(){0==this.pageIdx?(this.btnArrowLeft.enableCCButtonListenerWithoutTarget(!1),this.btnArrowLeft.enableButton(!1)):(this.btnArrowLeft.enableCCButtonListenerWithoutTarget(!0),this.btnArrowLeft.enableButton(!0)),this.pageIdx==T.totalKeys()-1?(this.btnArrowRight.enableCCButtonListenerWithoutTarget(!1),this.btnArrowRight.enableButton(!1)):(this.btnArrowRight.enableCCButtonListenerWithoutTarget(!0),this.btnArrowRight.enableButton(!0))},s.onHidePanel=function(){this.hide(!1,0)},s.onBtnPressStart=function(t,e,n){if(C.log("CCPanelMatch.onBtnPressStart.idx: "+e),!t.scrolling)switch(e){case 1:if(!t.pageView)return;t.pageIdx>0&&(t.scrolling=!0,t.pageView.scrollToPage(t.pageIdx-1,.5));break;case 2:if(!t.pageView)return;t.pageIdx<T.totalKeys()-1&&(t.scrolling=!0,t.pageView.scrollToPage(t.pageIdx+1,.5))}},e}(L)).resObj={bundleName:"textures",relativePath:"prefabs/panelMatch",resType:P.Prefab},S=e((M=O).prototype,"btnArrowLeft",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"btnArrowRight",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(M.prototype,"LabelTips",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(M.prototype,"LabelTitle",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(M.prototype,"pageView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(M.prototype,"pageViewContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=M))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMatchItemChapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCRichText.ts","./CCEvent.ts","./CCCatCompeti.ts","./CCPropRow.ts","./CCPopupManager.ts","./CCPanelMatchRound.ts","./CCEffct.ts","./CCSceneHall.ts","./CCAudioManager.ts","./CCSundryData.ts","./CCDefine.ts"],(function(e){var t,n,i,a,o,r,l,s,h,u,p,c,d,C,b,f,g,m,y,P,S,L,E,v,_,I,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Sprite,s=e.Label,h=e.Canvas,u=e.Component},function(e){p=e.default},function(e){c=e.CCButton},function(e){d=e._T},function(e){C=e.CCPlayerData},function(e){b=e.CCResType,f=e.default},function(e){g=e.CCRichText},function(e){m=e.CCEvent},function(e){y=e.default},function(e){P=e.CCPropRow},function(e){S=e.default},function(e){L=e.CCPanelMatchRound},function(e){E=e.CCEffect},function(e){v=e.CCSceneHall},function(e){_=e.audioMgr},function(e){I=e.default},function(e){N=e.EVENT_TYPE}],execute:function(){var w,U,x,R,M,D,B,T,H,z,W,k,A,F,j,K,O,V,G,Q,Y,Z,q,J,X,$;o._RF.push({},"c897bei9oZHU6k26/HQaTdR","CCPanelMatchItemChapter",void 0);var ee=r.ccclass,te=r.property;e("CCPanelMatchItemChapter",(w=ee("CCPanelMatchItemChapter"),U=te({type:l}),x=te({type:[l]}),R=te({type:[l]}),M=te({type:s}),D=te({type:[g]}),B=te({type:c}),T=te({type:g}),H=te({type:s}),z=te({type:s}),W=te({type:s}),k=te({type:P}),w((($=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"SpritePrize",j,a(t)),i(t,"SpriteNotEnough",K,a(t)),i(t,"SpriteEnough",O,a(t)),i(t,"LabelMatchName",V,a(t)),i(t,"LabelNeed",G,a(t)),i(t,"btnSignUp",Q,a(t)),i(t,"LabelSignUp",Y,a(t)),i(t,"LabelPossibleRewards",Z,a(t)),i(t,"LabelWon",q,a(t)),i(t,"LabelWonDate",J,a(t)),i(t,"PropRow",X,a(t)),t.idx=0,t}n(t,e);var o=t.prototype;return o.onEnable=function(){var t;e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(h).enabled=!1),null==(t=this.btnSignUp)||t.enableCCButtonListenerWithoutTarget(!0,!1,this.onBtnPressStart),this.updateUI(this.idx)},o.onDisable=function(){var t;m.targetOff(this),this.unscheduleAllCallbacks(),null==(t=this.btnSignUp)||t.enableCCButtonListenerWithoutTarget(!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.updateUI=function(e){var t=y.totalKeys();if(!(e<0||e>t-1)){var n=y.keys()[e];this.btnSignUp&&(this.btnSignUp.Idx=-e);var i=y.getChapterData(n),a=(C.data.money,C.data.vip),o=C.getCatUpgradeTotalPower(),r=i.needMoney,l=i.needVip,s=i.needBuildingId,h=i.enemyPower,u=i.rewardProps.flat(),c=C.getMatchProcessRoundIdWonMax(n),b=c&&y.isRoundMax(n,c),g=C.getMatchProcess(n,c),m=b&&g?g.lastChampionTime:0;f.loadSpriteFrameAndBind(this.SpritePrize,"textures@Texture2D/Hall_Left_Game/Hall_Left_Game-1/BM_IconKing"+(e+1)),this.LabelMatchName&&(this.LabelMatchName.string=""+d(i.chapterName));for(var P=0;P<this.SpriteNotEnough.length;P++)this.enableConEnough(P,!1,!1);for(var S=0;S<this.LabelNeed.length;S++)this.LabelNeed[S].node.active=!1;if(b)this.enabelWon(!0,m);else{if(this.enabelWon(!1,m),s>0?(C.getBuildingIdPurchased().includes(s)?this.enableConEnough(0,!0,!1):this.enableConEnough(0,!1,!0),p.setRichTextString(this.LabelNeed[0],""+d("Competition_Chap_Unlock3"),""),this.LabelNeed[0].node.active=!0):(a<l?this.enableConEnough(0,!1,!0):this.enableConEnough(0,!0,!1),p.setRichTextString(this.LabelNeed[0],""+d("Competition_Chap_Unlock2","<img src='main_icon02' width=49 height=33 offset=-5/>",l),"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelNeed[0].node.active=!0),e>0){var L=y.getChapterDataPrev(n);p.setRichTextString(this.LabelNeed[1],""+d("Competition_Chap_Unlock1",d(L.chapterName)),""),this.LabelNeed[1].node.active=!0,C.getMatchProcessCompleted(L.chapterId)?this.enableConEnough(1,!0,!1):this.enableConEnough(1,!1,!0)}else this.SpriteEnough[2]&&this.SpriteEnough[1]&&this.SpriteEnough[2].node.setPosition(this.SpriteEnough[1].node.position.clone()),this.SpriteNotEnough[2]&&this.SpriteNotEnough[1]&&this.SpriteNotEnough[2].node.setPosition(this.SpriteNotEnough[1].node.position.clone()),this.LabelNeed[2]&&this.LabelNeed[1]&&this.LabelNeed[2].node.setPosition(this.LabelNeed[1].node.position.clone());o<h?this.enableConEnough(2,!1,!0):this.enableConEnough(2,!0,!1),p.setRichTextString(this.LabelNeed[2],""+d("Competition_Chap_SugPower")+h+" ",""),this.LabelNeed[2].node.active=!0}this.LabelPossibleRewards&&(this.LabelPossibleRewards.string=d("Competition_Chap_Reward")),this.PropRow&&this.PropRow.setPropIds(u),p.setRichTextString(this.LabelSignUp,"<outline color=#1E678F width=2><size=30>"+d("Competition_Chap_Button","<img src='main_icon01' width=55 height=47 offset=-5/>",r+"</size></outline >"),"textures @Texture2D/Hall_UI/Hall_UI")}},o.enableConEnough=function(e,t,n){this.SpriteEnough[e]&&(this.SpriteEnough[e].node.active=t),this.SpriteNotEnough[e]&&(this.SpriteNotEnough[e].node.active=n)},o.enabelWon=function(e,t){this.LabelWon&&(this.LabelWon.string=d("Competition_Chap_end"),this.LabelWon.node.active=e),this.LabelWonDate&&(this.LabelWonDate.string=p.getFullDay(t)+" ",this.LabelWonDate.node.active=e)},o.onBtnPressStart=function(e,t,n){if(p.log("CCPanelMatchItemChapter.onBtnPressStart.idx: "+t+" "),t<=0){t=-t;var i=y.totalKeys();if(t<0||t>i-1)return;var a=y.keys()[t],o=y.getChapterData(a),r=o.needMoney,l=o.needVip,s=o.needBuildingId,h=C.data.matchChapterId;if(s>0&&!C.getBuildingIdPurchased().includes(s))return E.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+d("Competition_Chap_Unlock3"),""),void _.playEffect("failed");if(C.data.vip<l)return E.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+d(I.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=0/> x",l),"textures@Texture2D/Hall_UI/Hall_UI"),void _.playEffect("failed");if(!y.isChapterMin(a)&&h<a){var u=y.getChapterDataPrev(a);if(!C.getMatchProcessCompleted(u.chapterId))return E.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+d("Competition_Chap_Unlock1",d(u.chapterName)),""),void _.playEffect("failed")}if(C.data.money<r)return E.toast(v.SceneHallUI,"textures@prefabs/floatingBanner",""+d(I.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",r),"textures@Texture2D/Hall_UI/Hall_UI"),void _.playEffect("failed");C.data.matchChapterId=a,C.resetMatchProcessByChapterId(a),C.data.matchRoundId=0,C.save(),v.addMoney(-r),m.emit(N.HIDE_PANEL),S.showPanel(L.resObj,{idx:t,fromChapter:!0},!0)}},t}(u)).resObj={bundleName:"textures",relativePath:"prefabs/panelMatchItemChapter",resType:b.Prefab},j=t((F=$).prototype,"SpritePrize",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"SpriteNotEnough",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(F.prototype,"SpriteEnough",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(F.prototype,"LabelMatchName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"LabelNeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(F.prototype,"btnSignUp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"LabelSignUp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"LabelPossibleRewards",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"LabelWon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"LabelWonDate",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"PropRow",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=F))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMatchRound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCCacheRes.ts","./CCPopup.ts","./CCEvent.ts","./CCCatCompeti.ts","./CCRichText.ts","./CCPropRow.ts","./CCSundryData.ts","./CCDefine.ts","./CCAdHelper.ts","./CCEffct.ts","./CCSceneHall.ts","./CCPopupManager.ts","./CCPanelMiniGameCatAndMouse.ts","./CCSpineGuide.ts"],(function(t){var e,n,r,a,i,o,l,s,u,c,h,d,p,b,f,C,m,I,L,y,R,g,w,S,P,M,T,_,x,v,E,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.Sprite,c=t.Label,h=t.Canvas,d=t.Color},function(t){p=t.default},function(t){b=t.CCButton},function(t){f=t._T},function(t){C=t.CC_NEWBIE_GUIDE_TYPE,m=t.CCPlayerData},function(t){I=t.CCResType,L=t.default},function(t){y=t.default},function(t){R=t.CCEvent},function(t){g=t.default},function(t){w=t.CCRichText},function(t){S=t.CCPropRow},function(t){P=t.default},function(t){M=t.EVENT_TYPE},function(t){T=t.default},function(t){_=t.CCEffect},function(t){x=t.CCSceneHall},function(t){v=t.default},function(t){E=t.CCPanelMiniGameCatAndMouse},function(t){B=t.CCSpineGuide}],execute:function(){var D,A,N,z,H,G,U,F,W,k,V,K,O,j,X,Y,Q,Z,q,J,$,tt,et,nt,rt,at,it,ot,lt,st,ut,ct,ht,dt;l._RF.push({},"1b684PNpEROXpzyE24NQc6X","CCPanelMatchRound",void 0);var pt=s.ccclass,bt=s.property;t("CCPanelMatchRound",(D=pt("CCPanelMatchRound"),A=bt({type:u}),N=bt({type:[u]}),z=bt({type:[u]}),H=bt({type:[c]}),G=bt({type:b}),U=bt({type:b}),F=bt({type:c}),W=bt({type:c}),k=bt({type:c}),V=bt({type:c}),K=bt({type:c}),O=bt({type:[c]}),j=bt({type:c}),X=bt({type:w}),Y=bt({type:S}),D(((dt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"SpriteBanner",q,a(e)),r(e,"SpriteRound",J,a(e)),r(e,"SpritePower",$,a(e)),r(e,"LabelPower",tt,a(e)),r(e,"btnStartMatch",et,a(e)),r(e,"btnAcclerator",nt,a(e)),r(e,"LabelStartMatch",rt,a(e)),r(e,"LabelAcclerator",at,a(e)),r(e,"LabelTitle",it,a(e)),r(e,"LabelDesc",ot,a(e)),r(e,"LabelTips",lt,a(e)),r(e,"LabelRound",st,a(e)),r(e,"LabelVictoryRewards",ut,a(e)),r(e,"LabelNextMatch",ct,a(e)),r(e,"PropRow",ht,a(e)),e.chapterId=0,e.roundId=0,e.lastWonTime=0,e.fnTimer=null,e}n(e,t);var l=e.prototype;return l.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(h).enabled=!1),this.LabelNextMatch&&(this.LabelNextMatch.enabled=!1),this.btnAcclerator&&(this.btnAcclerator.enabled=!1)},l.onDisable=function(){var e,n;null==(e=this.btnStartMatch)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnAcclerator)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),R.targetOff(this),this.unscheduleAllCallbacks(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},l.onShow=function(){t.prototype.onShow&&t.prototype.onShow.call(this),this.options.fromChapter?B.checkAndGotoNext(C.LEFT_SCENE_MATCH,756):R.emit(M.CHECK_GUIDE,C.LEFT_SCENE_MATCH,!1)},l.init=function(){var t=i(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.options=e;case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.updateDisplay=function(t){this.options=t,this.updateUI()},l.updateUI=function(){var t=this,e=g.totalKeys(),n=this.options.idx;if(!(n<0||n>e-1)){this.chapterId=g.keys()[n];var r=g.getChapterData(this.chapterId),a=m.getMatchProcessRoundIdWonMax(this.chapterId);if(a>=r.roundId)return p.log("CCPanelMatchRound.updateUI: ["+this.chapterId+"]Id["+a+"/"+r.roundId+"]!!!"),m.resetMatchProcessByChapterId(this.chapterId),m.data.matchRoundId=0,void this.updateUI();var i=null;if(a>0){if(!(i=g.getRoundDataNext(this.chapterId,a)))return void p.log("CCPanelMatchRound.updateUI: ["+this.chapterId+"]Id["+a+"]!!!");this.roundId=i.roundId,this.lastWonTime=m.getMatchProcess(this.chapterId,a).lastWonTime}else this.roundId=g.getRoundDataList(this.chapterId)[0].roundId,i=g.getRoundData(this.chapterId,this.roundId);var o=m.getCatUpgradeTotalPower();this.LabelTips&&(this.LabelTips.string=""+f("Competition_Chap_CurPower")+o);g.totalRoundLeft(this.chapterId,a).length;var l=m.getMatchThreeRoundIdsByCurrentWonRoundId(this.chapterId);if(2==l.length?(this.enableSpriteRound(0,l[0],!0,l[0]==this.roundId,!1),this.enableSpriteRound(1,0,!1,!1,!1),this.enableSpriteRound(2,l[1],!0,l[1]==this.roundId,!0)):l.length>2&&(this.enableSpriteRound(0,l[0],!0,l[0]==this.roundId,!1),this.enableSpriteRound(1,l[1],!0,l[1]==this.roundId,!1),this.enableSpriteRound(2,l[2],!0,l[2]==this.roundId,l[2]==r.roundId)),this.LabelTitle&&(this.LabelTitle.string=""+f("Competition_Level1",f(r.chapterName),this.roundId)),this.LabelVictoryRewards&&(this.LabelVictoryRewards.string=f("Competition_Level3")),this.PropRow){var s=g.getRoundRewardProps(i);this.PropRow.setPropIds(s)}this.fnTimer||(this.fnTimer=function(){var e=p.NowTimeStamp(),n=Math.ceil((t.lastWonTime+1e3*P.data.NextMatch_cd-e)/1e3);if(n<=0)return t.unschedule(t.fnTimer),t.fnTimer=null,void t.enableAcclerator(!1,0);t.enableAcclerator(!0,n)},this.fnTimer(),this.schedule((function(){t.fnTimer&&t.fnTimer()}),1))}},l.enableAcclerator=function(t,e){this.LabelNextMatch&&(p.setRichTextString(this.LabelNextMatch,"<color=#8F635C>"+f("Competition_Next_CountDown","</color>  <img src='BM_Time' width=43 height=43 offset=-8/> ","<color=#ff4800>"+p.formatTime(e,!1)+"</color>"),"textures@Texture2D/Hall_Left/Hall_Left"),this.LabelNextMatch.enabled!=t&&(this.LabelNextMatch.enabled=t)),this.btnAcclerator&&(this.btnAcclerator.enableCCButtonListener(this,t,!1,this.onBtnPressStart),this.btnAcclerator.enabled!=t&&(this.btnAcclerator.enabled=t)),this.btnStartMatch&&(this.btnStartMatch.enableCCButtonListener(this,!t,!1,this.onBtnPressStart),this.btnStartMatch.enabled!=!t&&(this.btnStartMatch.enabled=!t))},l.enableSpriteRound=function(t,e,n,r,a){if(this.SpriteRound[t]&&(this.SpriteRound[t].enabled=n),this.LabelRound[t]&&(e==this.roundId?(this.LabelRound[t].fontSize=40,this.LabelRound[t].color=new d("FCEFE8"),this.LabelRound[t].outlineColor=new d("AB453F")):(this.LabelRound[t].fontSize=32,this.LabelRound[t].color=new d("FCEFE8"),this.LabelRound[t].outlineColor=new d("42445D")),this.LabelRound[t].string=""+e,this.LabelRound[t].enabled=n),e==this.roundId?L.loadSpriteFrameAndBind(this.SpriteRound[t],"textures@Texture2D/Hall_Left_Game/Hall_Left_Game-1/BM_GuanKa2"):e<this.roundId?L.loadSpriteFrameAndBind(this.SpriteRound[t],"textures@Texture2D/Hall_Left_Game/Hall_Left_Game-1/BM_GuanKa1"):L.loadSpriteFrameAndBind(this.SpriteRound[t],"textures@Texture2D/Hall_Left_Game/Hall_Left_Game-1/BM_WeiTiaoZ"),this.SpritePower[t]&&(this.SpritePower[t].enabled=n&&r),this.LabelPower[t]){if(n){var i=g.getRoundData(this.chapterId,e);this.LabelPower[t].string=""+(null==i?void 0:i.enemyPower)}this.LabelPower[t].enabled=n&&r}},l.onBtnPressStart=function(t,e,n){switch(p.log("CCPanelMatchRound.onBtnPressStart.idx: "+e),e){case 1:m.resetMatchProcess(t.chapterId,t.roundId),t.hide(!1,0);var r=t.options.fromChapter;_.showLoading(i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.showPanel(E.resObj,{chapterId:t.chapterId,roundId:t.roundId,fromChapter:r},!0,0);case 1:case"end":return e.stop()}}),e)})))).then((function(){v.suspended.splice(0,v.suspended.length)}));break;case 2:R.emit(M.PUSH_EVENT,"ad_22"),T.showAds((function(){m.resetMatchProcess(t.chapterId,t.roundId);g.getChapterData(t.chapterId);var e=m.getMatchProcessRoundIdWonMax(t.chapterId);m.getMatchProcess(t.chapterId,e).lastWonTime=0,t.updateUI()}))||_.toast(x.SceneHallUI,"textures@prefabs/floatingBanner",f("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},e}(y)).resObj={bundleName:"textures",relativePath:"prefabs/panelMatchRound",resType:I.Prefab},q=e((Z=dt).prototype,"SpriteBanner",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Z.prototype,"SpriteRound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(Z.prototype,"SpritePower",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tt=e(Z.prototype,"LabelPower",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(Z.prototype,"btnStartMatch",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(Z.prototype,"btnAcclerator",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(Z.prototype,"LabelStartMatch",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(Z.prototype,"LabelAcclerator",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(Z.prototype,"LabelTitle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(Z.prototype,"LabelDesc",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(Z.prototype,"LabelTips",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(Z.prototype,"LabelRound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e(Z.prototype,"LabelVictoryRewards",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(Z.prototype,"LabelNextMatch",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(Z.prototype,"PropRow",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Z))||Q));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameBridge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCScrollInfinity.ts","./CCPopup.ts","./CCRichText.ts","./CCCacheRes.ts","./CCUtils.ts","./CCBoxCollider2D.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCAudioManager.ts","./CCTween.ts","./CCButton.ts","./CCPopupManager.ts","./CCPanelMiniGameOver.ts","./CCEffct.ts","./CCSpinePole.ts"],(function(t){var i,e,n,o,r,a,l,s,u,c,p,h,d,m,f,g,C,S,v,b,y,B,j,w,k,P,E,D,x,F,T,L,_,I,A,M,N,X;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.Label,u=t.Sprite,c=t.sp,p=t.find,h=t.Canvas,d=t.BoxCollider2D,m=t.UITransform,f=t.tween,g=t.Vec3},function(t){C=t.DEV},function(t){S=t.CCScrollInfinity},function(t){v=t.default},function(t){b=t.CCRichText},function(t){y=t.CCResType,B=t.default},function(t){j=t.default},function(t){w=t.PHY_GROUP,k=t.CCBoxCollider2D},function(t){P=t._T},function(t){E=t.CCEvent},function(t){D=t.default,x=t.EVENT_TYPE,F=t.MINIGAME_IDX},function(t){T=t.CCPlayerData},function(t){L=t.audioMgr},function(t){_=t.CCTween},function(t){I=t.CCButton},function(t){A=t.default},function(t){M=t.CCPanelMiniGameOver},function(t){N=t.CCEffect},function(t){X=t.CCSpinePole}],execute:function(){var R,O,z,G,Y,W,J,H,U,K,Q,V,q,Z,$,tt,it,et,nt,ot,rt,at,lt,st,ut,ct,pt,ht,dt,mt,ft,gt,Ct,St,vt,bt,yt,Bt,jt,wt,kt,Pt,Et,Dt,xt,Ft,Tt,Lt;r._RF.push({},"dc850eMwU5Ej7244mc2o/30","CCPanelMiniGameBridge",void 0);var _t=a.ccclass,It=a.property;t("CCPanelMiniGameBridge",(R=_t("CCPanelMiniGameBridge"),O=It({type:S,displayName:"",tooltip:C}),z=It({type:l}),G=It({type:s,displayName:"",tooltip:C}),Y=It({type:s,displayName:"",tooltip:C}),W=It({type:b,displayName:"",tooltip:C}),J=It({type:u,displayName:"",tooltip:C}),H=It({type:s,displayName:"",tooltip:C}),U=It({type:u,displayName:"",tooltip:C}),K=It({type:c.Skeleton,displayName:"",tooltip:C}),Q=It({type:I}),V=It({displayName:"blocck",tooltip:C}),q=It({displayName:"blocck",tooltip:C}),Z=It({displayName:"",tooltip:C}),$=It({displayName:""}),tt=It({displayName:""}),it=It({displayName:"Spine"}),et=It({displayName:"Spine"}),nt=It({displayName:"Y()"}),ot=It({displayName:"()"}),rt=It({displayName:""}),at=It({displayName:"\n"}),lt=It({displayName:""}),R(((Lt=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"scrollBlock",ct,o(i)),n(i,"firstblock",pt,o(i)),n(i,"LabelCountDown",ht,o(i)),n(i,"LabelScore",dt,o(i)),n(i,"LabelScoreTips",mt,o(i)),n(i,"SpriteStart",ft,o(i)),n(i,"LabelStartTips",gt,o(i)),n(i,"SpriteTimer",Ct,o(i)),n(i,"Spine",St,o(i)),n(i,"btnClick",vt,o(i)),n(i,"ratioMin",bt,o(i)),n(i,"ratioMax",yt,o(i)),n(i,"originWidthSpacing",Bt,o(i)),n(i,"originWidth",jt,o(i)),n(i,"poleWidth",wt,o(i)),n(i,"spineBoxWidth",kt,o(i)),n(i,"spineInitPos",Pt,o(i)),n(i,"jumpSpeedY",Et,o(i)),n(i,"gravity",Dt,o(i)),n(i,"jumpCountMin",xt,o(i)),n(i,"poleHeightThreshold",Ft,o(i)),n(i,"jumpCountMax",Tt,o(i)),i.jumpStartX=0,i.jumpStartY=0,i.jumpEndX=0,i.jumpDistance=0,i.jumpDistanceFull=0,i.flyTime=0,i.jumpElapsed=0,i.jumpFailed=!1,i.canvas=null,i.score=0,i.score_earned={},i.rewardLevel=-1,i.numOfLuckyDraws=0,i.rewardRange=[[0,300,1],[400,600,1],[700,900,1],[1e3,0,1]],i.velocityX=0,i.velocityY=0,i.velocityYfalling=0,i.isLongPressed=!1,i.jumping=!1,i.falling=!1,i.jumpCount=0,i.maxWidth=0,i.distanceXPerJump=0,i.distanceXFirstJump=0,i.gamestart=!1,i.gameover=!1,i.fnCountDown=null,i.currentBlock=null,i.nextBlock=null,i.fnIdle=null,i}e(i,t);var r=i.prototype;return r.onEnable=function(){var i,e,n=this;(t.prototype.onEnable&&t.prototype.onEnable.call(this),L.playMusic(D.MINIGAME_AUDIO_BGM_ROOT+"minigame_bgm"),E.on(x.SHOW_TIMER,this.showTimer,this),E.on(x.BEGIN_CONTACT,this.onBeginContact,this),E.on(x.END_CONTACT,this.onEndContact,this),this.btnClick&&this.btnClick.enableCCButtonListener(this,!0,!1,null,this.onBtnPressed,null,this.onBtnCanceled),this.canvas)||(this.canvas=null==(i=p("Canvas",this.node))?void 0:i.getComponent(h));this.Spine&&(this.spineBoxWidth=(null==(e=this.Spine.node.getComponent(d))?void 0:e.size.width)||0);if(this.scrollBlock){this.maxWidth=this.scrollBlock.getComponent(m).width;j.GetSafeAreaInsetsOrigin();this.scrollBlock.onNodeCreated=function(t,i){if(0!=i){var e=t.getChildByName("block");if(e){var n=e.getChildByName("DeathBlock");n&&(n.block=!0),j.removeChildren(e,"Pipe_Down"),j.removeChildren(e,"spinePole")}}},this.scrollBlock.onNodeDisable=function(t,i){p("block",t)}}this.schedule((function(){n.refreshUI()}),1),this.LabelStartTips&&(this.LabelStartTips.string=P("buildingRight_gametext201")),this.endGame(!1),this.showStartTips(!1),this.animation(0,"idle")},r.onDisable=function(){this.btnClick&&this.btnClick.enableCCButtonListener(this,!1,!1,null,this.onBtnPressed,null,this.onBtnCanceled),this.unscheduleAllCallbacks(),E.targetOff(this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},r.onBeginContact=function(t,i,e){if(t.group==w.SELF&&i.group==w.BLOCK||t.group==w.BLOCK&&i.group==w.SELF){if(this.gameover)return;return j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... BLOCK ... "),this.fnAnimationFangKaiShiBaiQian(),this.stopJump(),void this.endGame(!0)}if(t.group==w.SELF&&i.group==w.SAFE_POLE||t.group==w.SAFE_POLE&&i.group==w.SELF){if(this.gameover||this.jumpCount<=0)return;if(this.jumpCount>0&&this.jumpCount--,j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE_POLE ... "),this.jump())return;if(this.currentBlock=this.scrollBlock.getColliderByWorldPositionX(this.Spine.node.worldPosition.x),!this.currentBlock)return j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE_POLE ... NIL"),this.fnAnimationFangKaiShiBaiQian(),this.stopJump(),void this.endGame(!0);j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE_POLE ... NEXT");var n=this.fnAnimationFangKai2();return this.fnAnimationResetIdle(!0,n),this.stopJump(),void this.generateNextBlock(this.currentBlock.tag)}if(t.group==w.SELF&&i.group==w.SAFE||t.group==w.SAFE&&i.group==w.SELF){if(!this.jumping&&!this.falling)return;if(j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE ... "),this.currentBlock&&this.currentBlock==t){if(j.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE ... EQUAIL ... "),(this.jumpCount==this.jumpCountMin||this.jumpCount==this.jumpCountMax)&&this.jump())return void(this.currentBlock=i.group==w.SAFE?i:t);if(this.jumpCount>0&&this.jumpCount--,this.jump())return void(this.currentBlock=i.group==w.SAFE?i:t)}this.currentBlock=i.group==w.SAFE?i:t;var o=this.fnAnimationFangKai2();this.fnAnimationResetIdle(!0,o),this.stopJump();var r=i.group==w.SAFE?i.tag:t.tag;this.generateNextBlock(r)}else;},r.onEndContact=function(t,i,e){},r.generateNextBlock=function(t){var i=this,e=this.Spine.node.getComponent(m),n=this.Spine.node.worldPosition.x-e.width;this.score+=100,j.log("generateNextBlock["+t+"].scrollOffsetX["+n.toFixed(2)+"]");this.Spine&&(f(this.Spine.node).to(1,{position:new g(this.Spine.node.position.x-n,this.Spine.node.position.y,this.Spine.node.position.z)}).start(),this.scrollByDeltaX(n,!0,1,(function(){i.scheduleOnce((function(){var t=i.currentBlock.tag,e=Math.floor(t/10),o=i.canvas.node.getComponent(m).width/2,r=i.currentBlock.node.getComponent(m).width,a=i.currentBlock.node.getComponent(m).height,l=i.currentBlock.node.parent.getComponent(m).height,s=i.currentBlock.node.parent.position.x,u=i.currentBlock.node.parent.position.y,c=o-s,h=i.scrollBlock.getNodeInScreen(!0,["Pipe_Down","spinePole"]);if(h&&h.length>0){var d=h[0];if(!d)return;var f=p("block",d);if(!f)return;var g=d.worldPosition.x,C=g<0,S=s+r+i.originWidthSpacing,v=S+r<0?0:i.maxWidth/2,b=j.randomRangeRightClosed(S,v);b+r>=c&&(C=!0,b=-o+r,e+=1),j.log("tag: "+t+" screenIdx: "+e+" halfWidth: "+o+" scrollOffsetX: "+n+" leftWidthHalf: "+g+" posX: "+s+" nextBlockStartX: "+S+" offsetY: "+u+" widthMoreThanHalfScreen: "+C+" nodes["+h.length+"]");for(var y=function(t){var i=h[t];j.log("*".repeat(30)),j.log("screen["+i.name+"]"),j.log("*".repeat(30)),i.getChildByName("block").children.forEach((function(i){j.log("node["+i.name+"] "+(e==t+1?"":""))})),j.log("*".repeat(30))},B=0;B<h.length;B++)y(B);if(C){if(!(d=h[1]))return;if(!(f=p("block",d)))return}i.addBlock(f,"Pipe_Down",e,a,l,b,u)}i.isLongPressed=!1}),.1)})))},r.addBlock=function(t,i,e,n,o,r,a){void 0===i&&(i="");var s=null;s||((s=new l(i+"_"+10*e)).parent=t);var c=s.getComponent(u)||s.addComponent(u);B.loadSpriteFrameAndBind(c,"textures@Texture2D/Hall_MiniGame_Bridge/Hall_MiniGame_Bridge/block",!1,this,(function(t,i){c.type=u.Type.SLICED,c.node.active=!0,c.getComponent(m).setAnchorPoint(.5,0);var p=s.getChildByName("box_middle");p||((p=new l("box_middle")).parent=s);var h=t.originWidth,d=p.getComponent(k)||p.addComponent(k);d&&(d.size.height=n,0==t.ratioMin&&0==t.ratioMax?d.setOriginSize(h,n):h=d.randomWidth(t.ratioMin,t.ratioMax,t.maxWidth),d.offset.x=0,d.group=w.SAFE,d.tag+=10*e,s.setPosition(r,a),t.nextBlock=d);var f=s.getComponent(m);f&&(f.width=h,f.height=o)}))},r.showStartTips=function(t){this.SpriteStart&&(this.SpriteStart.node.active=t),this.LabelStartTips&&(this.LabelStartTips.node.active=t),this.SpriteTimer&&(this.SpriteTimer.node.active=!1)},r.refreshUI=function(){if(this.LabelScore&&(this.LabelScore.string=""+P("buildingRight_gametext19",this.score),this.LabelScore.node.active=!0),this.LabelScoreTips){for(var t=0,i=0;i<this.rewardRange.length&&this.rewardLevel!=this.rewardRange.length-1;i++)if(this.rewardRange[i][0]<=this.score&&(this.score<=this.rewardRange[i][1]||0==this.rewardRange[i][0])&&this.score<=this.rewardRange[i+1][0]&&(t=this.rewardRange[i+1][0]-this.score),(-1==this.rewardLevel||this.rewardLevel<i)&&this.rewardRange[i][0]<=this.score&&(this.score<=this.rewardRange[i][1]||0==this.rewardRange[i][1])){this.numOfLuckyDraws++,this.rewardLevel=i;break}j.setRichTextString(this.LabelScoreTips,"<size=32><color=#57ffe1>"+P("buildingRight_gametext20",t)+" "+P("buildingRight_gametext22","</color><color=#ff8888>+1</color><color=#57ffe1>")+"</color></size>"),this.LabelScoreTips.node.active=this.numOfLuckyDraws<4}},r.showTimer=function(t){var i=this;this.showStartTips(!0);var e=function e(){if(j.log("fnTimer: "+t),t<=0)return L.playEffect(D.MINIGAME_AUDIO_EFFECT_PREFIX+"timer_go"),i.unschedule(e),void i.startGame();B.loadSpriteFrameAndBind(i.SpriteTimer,"textures@Texture2D/Hall_Common/Hall_Common/minigame_timer_"+t,!1,i,(function(i,e){i.SpriteTimer.node.active=!0,i.SpriteTimer.node.setScale(g.ONE),_.scale(i.SpriteTimer.node,1.5),t--,L.playEffect(D.MINIGAME_AUDIO_EFFECT_PREFIX+"timer")}))};e(),this.schedule(e,1)},r.showCountDown=function(t){var i=this;this.fnCountDown||(this.fnCountDown=function(){if(i.LabelCountDown.node.active||(i.LabelCountDown.node.active=!0),t<=0)return i.unschedule(i.fnCountDown),i.jumping=!1,i.velocityX=0,i.velocityY=0,void i.endGame(!0);i.LabelCountDown.string=""+j.formatTime(t),_.scale(i.LabelCountDown.node,1),t--,L.playEffect(D.MINIGAME_AUDIO_EFFECT_PREFIX+"timer")}),this.fnCountDown(),this.schedule(this.fnCountDown,1)},r.startGame=function(){if(j.log("startGame"),this.scrollBlock){if(this.Spine&&this.jumpCount>0&&(this.Spine.node.active=!1),this.Spine&&(this.fnAnimationIdle(),this.Spine.node.setPosition(this.spineInitPos.clone()),this.Spine.node.active=!0),this.isLongPressed=!1,this.jumping=!1,this.jumpCount=0,this.gamestart=!0,this.gameover=!1,this.score=0,this.score_earned={},this.rewardLevel=-1,this.numOfLuckyDraws=0,!this.currentBlock&&this.firstblock&&3==this.firstblock.children.length){var t=this.firstblock.children[1];if(t.name.startsWith("Pipe_Down")){var i,e=null==(i=t.getChildByName("box_middle"))?void 0:i.getComponent(k);e&&(this.currentBlock=e)}}if(!this.nextBlock&&this.firstblock&&3==this.firstblock.children.length){var n=this.firstblock.children[2];if(n.name.startsWith("Pipe_Down")){var o,r=null==(o=n.getChildByName("box_middle"))?void 0:o.getComponent(k);r&&(this.nextBlock=r)}}this.refreshUI(),this.showStartTips(!1),this.showCountDown(60),this.scrollBlock&&(this.scrollBlock.autoScroll=!1)}},r.endGame=function(t){var i=this;if(!this.gameover&&(j.log("endGame.showSettlement:"+t),this.gamestart=!1,this.gameover=!0,this.fnCountDown&&this.unschedule(this.fnCountDown),this.LabelCountDown.node.active=!1,this.stopScroll(),L.playEffect(D.MINIGAME_AUDIO_EFFECT_PREFIX+"3.crash"),t)){var e=parseInt(D.MINIGAME_LIST[F.BRIDGE][0],10);T.setMiniGameScoreToday(e,this.score),this.scheduleOnce((function(){A.showPanel(M.resObj,{score:i.score,numOfLuckyDraws:i.numOfLuckyDraws},!0)}),1)}},r.animationReset=function(){this.Spine&&(this.Spine.setToSetupPose(),this.Spine.setBonesToSetupPose(),this.Spine.setSlotsToSetupPose(),this.Spine.clearAnimations(),this.Spine.clearTracks())},r.animation=function(t,i,e){if(!this.Spine)return 0;this.animationReset();var n=this.Spine.setAnimation(t,i,e);return n&&n.animationEnd||0},r.fnAnimationIdle=function(){this.animation(0,"idle")},r.fnAnimationAnXia=function(){return this.animation(1,"anxia",!1)},r.fnAnimationFangKai=function(t){if(!this.Spine)return 0;this.animationReset();var i=this.Spine.setAnimation(2,"fangkai",!1);if(i){var e=i.animationEnd||1;return t>0&&(i.timeScale=e/t),e}return 0},r.fnAnimationFangKai2=function(){return this.animation(3,"fangkai2",!1)},r.fnAnimationFangKaiShiBaiQian=function(){return this.animation(4,"fangkaishibai_q",!1)},r.fnAnimationResetIdle=function(t,i){var e=this;void 0===t&&(t=!0),void 0===i&&(i=0),this.fnIdle&&(this.unschedule(this.fnIdle),this.fnIdle=null),t&&(this.fnIdle=function(){e.fnAnimationIdle()},this.scheduleOnce(this.fnIdle,i))},r.onBtnPressed=function(t,i,e,n){var o;if(n&&(t.gamestart||!t.gameover)&&t.Spine&&!t.isLongPressed&&!t.jumping)if(t.currentBlock){if(t.currentBlock.node.parent&&t.currentBlock.node.parent.parent)if(t.nextBlock){t.jumpDistanceFull=t.nextBlock.node.worldPosition.x-t.Spine.node.worldPosition.x,j.log("onBtnPressed: jumpDistanceFull: "+t.jumpDistanceFull);var r=t.currentBlock.node.parent.getComponent(m),a=t.currentBlock.node.parent.getPosition().clone();a=new g(a.x+(r.width-t.poleWidth)/2,-100,0),t.isLongPressed=!0;var l=(null==(o=t.currentBlock.getComponent(k))?void 0:o.tag)||0;N.showPole(t.currentBlock.node.parent.parent,"textures@prefabs/spinePole",l,a,(function(i,e,n){var o;if(!t.jumping){var r=null==(o=i.node.getChildByName("box_pole"))?void 0:o.getComponent(k);if(r){var a=t.Spine.node.worldPosition.x,s=r.node.worldPosition.x,u=e*n,c=t.nextBlock.node.worldPosition.x-s-t.originWidth/2,p=t.nextBlock.node.worldPosition.x-s+t.originWidth/2;t.jumpFailed=!1,t.jumpDistanceFull=0,u<c||u>p?(t.jumpFailed=!0,t.jumpDistanceFull=s+u-a,j.log("onBtnPressed: tag: "+l+" fullHeight: "+e+" ratio: "+n+" poleDistance: "+u+" distanceLeft: "+c+" distanceRight: "+p+" jumpDistanceFull: "+t.jumpDistanceFull+" ... out of range")):(t.jumpDistanceFull=t.nextBlock.node.parent.worldPosition.x-a,j.log("onBtnPressed: tag: "+l+" fullHeight: "+e+" ratio: "+n+" poleDistance: "+u+" distanceLeft: "+c+" distanceRight: "+p+" jumpDistanceFull: "+t.jumpDistanceFull+" ... in range")),t.jumpCount=u<=t.poleHeightThreshold?t.jumpCountMin:t.jumpCountMax,t.distanceXPerJump=t.jumpDistanceFull/t.jumpCount,t.distanceXPerJump>t.distanceXFirstJump&&(t.distanceXFirstJump=t.distanceXPerJump),j.log("onBtnPressed: tag: "+l+" fullHeight: "+e+" ratio: "+n+" poleDistance: "+u+" jumpDistanceFull: "+t.jumpDistanceFull+" distanceXPerJump: "+t.distanceXPerJump+" distanceXFirstJump: "+t.distanceXFirstJump+" polePosX: "+s+" spinePosX: "+a),r.setSize(e*n,r.originSize.height),t.jump()}}}))}else j.log("onBtnPressed: nextBlock is null")}else j.log("onBtnPressed: currentBlock is null")},r.onBtnCanceled=function(t,i,e){var n,o;if(t&&t.currentBlock&&t.currentBlock.node.parent&&t.currentBlock.node.parent.parent){var r=(null==(n=t.currentBlock.getComponent(k))?void 0:n.tag)||0,a=null==(o=t.currentBlock.node.parent.parent.getChildByName("spinePole"+r))?void 0:o.getComponent(X);a&&a.startPutDown()}},r.jump=function(){return!(!this.gamestart&&this.gameover)&&(!!this.Spine&&(!!this.isLongPressed&&(this.jumpCount<=0?(this.jumping=!1,this.isLongPressed=!1,j.log("jump done!"),!1):(this.jumping=!0,this.falling=!1,this.jumpElapsed=0,this.velocityY=this.jumpSpeedY,this.velocityYfalling=0,this.flyTime=2*Math.abs(this.velocityY)/Math.abs(this.gravity),this.fnAnimationResetIdle(!1),this.fnAnimationFangKai(this.flyTime),this.jumpStartX=this.Spine.node.position.x,this.jumpStartY=this.Spine.node.position.y,this.jumpDistance=this.distanceXFirstJump>0?this.distanceXFirstJump:this.distanceXPerJump,this.jumpEndX=this.jumpStartX+this.jumpDistance,this.velocityX=this.jumpDistance/this.flyTime,L.playEffect(D.MINIGAME_AUDIO_EFFECT_PREFIX+"3.click"),j.log("jump: jumpCount: "+this.jumpCount+" distanceXPerJump: "+this.distanceXPerJump+" jumpStartX: "+this.jumpStartX+" jumpStartY: "+this.jumpStartY+" jumpTargetX: "+this.jumpEndX+" jumpDistance: "+this.jumpDistance+" flyTime: "+this.flyTime+" velocityX: "+this.velocityX),this.distanceXFirstJump=0,!0))))},r.stopJump=function(){this.jumping=!1,this.falling=!1,this.velocityX=0,this.velocityY=0,this.jumpStartX=0,this.jumpStartY=0,this.jumpEndX=0,this.jumpDistance=0,this.velocityYfalling=0,this.stopScroll()},r.stopScroll=function(){this.scrollBlock&&(this.scrollBlock.autoScroll=!1)},r.scrollByDeltaX=function(t,i,e,n){void 0===i&&(i=!1),void 0===e&&(e=0),void 0===n&&(n=null),this.scrollBlock&&this.scrollBlock.scrollByOffset(new g(-t,0,0),i,e,n)},r.update=function(t){var i;if(this.Spine&&!this.gameover){var e=this.Spine.node.position.clone();this.jumpElapsed+=t;var n=Math.min(this.jumpElapsed,this.flyTime),o=n/this.flyTime;if(this.jumping){var r=this.jumpStartX+this.jumpDistance*o,a=this.jumpStartY+this.velocityY*n+.5*this.gravity*n*n;this.jumpElapsed>=this.flyTime?(r=this.jumpStartX+1*this.jumpDistance,this.Spine.node.setPosition(r,a,this.Spine.node.position.z),this.jumping=!1,this.falling=!0,this.velocityYfalling=this.velocityY+this.gravity*this.flyTime):this.Spine.node.setPosition(r,a,this.Spine.node.position.z),j.log("A.update["+t.toFixed(2)+"].jumping["+this.jumping+"].falling["+this.falling+"].["+this.jumpElapsed.toFixed(2)+"]["+o.toFixed(2)+"]: newX: "+r.toFixed(2)+" newY: "+a.toFixed(2)+" velocityYfalling: "+this.velocityYfalling)}else if(this.falling){var l=e.x;this.velocityYfalling+=this.gravity*t;var s=e.y+this.velocityYfalling*t;this.Spine.node.setPosition(l,s,this.Spine.node.position.z),j.log("B.update["+t.toFixed(2)+"].jumping["+this.jumping+"].falling["+this.falling+"].["+this.jumpElapsed.toFixed(2)+"]["+o.toFixed(2)+"]: newX: "+l.toFixed(2)+" newY: "+s.toFixed(2)+" velocityYfalling: "+this.velocityYfalling)}null==(i=this.Spine.getComponent(d))||i.apply()}},r.checkPassObstacle=function(){for(var t=0;t<this.scrollBlock.node.children.length;t++)for(var i=this.scrollBlock.node.children[t].getChildByName("block"),e=0;e<i.children.length;e++){var n,o=i.children[e];if(o.name.startsWith("Pipe_Down")){var r=null==(n=o.getChildByName("box_middle"))?void 0:n.getComponent(k);if(r&&!(r.passed||o.worldPosition.x>this.Spine.node.worldPosition.x)){r.passed=!0;var a=r.tag;1==this.jumpCount&&1==a||this.score_earned[a]||(this.score_earned[a]=!0,this.score+=100)}}}},i}(v)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameBridge",resType:y.Prefab},ct=i((ut=Lt).prototype,"scrollBlock",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=i(ut.prototype,"firstblock",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=i(ut.prototype,"LabelCountDown",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=i(ut.prototype,"LabelScore",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=i(ut.prototype,"LabelScoreTips",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=i(ut.prototype,"SpriteStart",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=i(ut.prototype,"LabelStartTips",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=i(ut.prototype,"SpriteTimer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=i(ut.prototype,"Spine",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=i(ut.prototype,"btnClick",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=i(ut.prototype,"ratioMin",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),yt=i(ut.prototype,"ratioMax",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),Bt=i(ut.prototype,"originWidthSpacing",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),jt=i(ut.prototype,"originWidth",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 99}}),wt=i(ut.prototype,"poleWidth",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 18}}),kt=i(ut.prototype,"spineBoxWidth",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Pt=i(ut.prototype,"spineInitPos",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(-321,-226,0)}}),Et=i(ut.prototype,"jumpSpeedY",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Dt=i(ut.prototype,"gravity",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-800}}),xt=i(ut.prototype,"jumpCountMin",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Ft=i(ut.prototype,"poleHeightThreshold",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 379.5}}),Tt=i(ut.prototype,"jumpCountMax",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),st=ut))||st));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCatAndMouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCScrollInfinity.ts","./CCPopup.ts","./CCCacheRes.ts","./CCUtils.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCAudioManager.ts","./CCPopupManager.ts","./CCPanelMiniGameCatAndMouseQA.ts","./CCQuestion.ts","./CCPanelMiniGameCatAndMouseEvent.ts","./CCCatCompeti.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCPanelMiniGameCatAndMouseGameOver.ts","./CCEffct.ts","./CCHostTasksData.ts","./CCSpineGuide.ts"],(function(t){var e,i,n,a,o,s,r,u,p,l,c,h,d,m,f,C,g,S,A,w,M,P,T,b,R,y,N,L,O,I,v,B,G,E,D,x,_,W,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,u=t._decorator,p=t.sp,l=t.ProgressBar,c=t.Label,h=t.Vec3,d=t.find,m=t.Canvas,f=t.Sprite,C=t.tween},function(t){g=t.DEV},function(t){S=t.CCScrollInfinity},function(t){A=t.default},function(t){w=t.CCResType,M=t.default},function(t){P=t.default},function(t){T=t._T},function(t){b=t.CCEvent},function(t){R=t.default,y=t.EVENT_TYPE},function(t){N=t.audioMgr},function(t){L=t.default},function(t){O=t.CCPanelMiniGameCatAndMouseQA},function(t){I=t.default},function(t){v=t.CCPanelMiniGameCatAndMouseEvent},function(t){B=t.default},function(t){G=t.CCPlayerData,E=t.CC_NEWBIE_GUIDE_TYPE},function(t){D=t.default},function(t){x=t.CCPanelMiniGameCatAndMouseGameOver},function(t){_=t.CCEffect},function(t){W=t.default},function(t){k=t.CCSpineGuide}],execute:function(){var U,z,F,H,K,Q,X,j,q,V,Y,J,Z,$,tt,et,it,nt,at,ot,st,rt,ut,pt,lt,ct,ht,dt,mt,ft,Ct,gt;r._RF.push({},"85643zUu1hLBLiILNuHmHQM","CCPanelMiniGameCatAndMouse",void 0);var St=u.ccclass,At=u.property,wt=t("SpineType",function(t){return t[t.Cat=0]="Cat",t[t.Mouse=1]="Mouse",t}({})),Mt=t("SpineAniType",function(t){return t[t.NORMAL=0]="NORMAL",t[t.GLOW=1]="GLOW",t[t.SPEEDUP=2]="SPEEDUP",t}({})),Pt=t("SpineArrowAniType",function(t){return t[t.START=0]="START",t[t.GLOW=1]="GLOW",t[t.NORMAL=2]="NORMAL",t}({}));t("CCPanelMiniGameCatAndMouse",(U=St("CCPanelMiniGameCatAndMouse"),z=At({type:[S],displayName:"",tooltip:g}),F=At({type:p.Skeleton,displayName:"Spine-/"}),H=At({type:[p.Skeleton],displayName:"Spine/"}),K=At({type:[String],displayName:"Spine-"}),Q=At({type:[String],displayName:"Spine-"}),X=At({type:[String],displayName:"Spine"}),j=At({type:[String],displayName:"Spine"}),q=At({displayName:""}),V=At({type:l,displayName:""}),Y=At({type:c,displayName:"-"}),J=At({type:c}),Z=At({type:[h],displayName:""}),$=At({type:[h],displayName:"Spine"}),tt=At({displayName:"x"}),U(((gt=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"scrollBg",nt,a(e)),n(e,"SpineArrow",at,a(e)),n(e,"Spine",ot,a(e)),n(e,"spineCatArrowAniName",st,a(e)),n(e,"spineMouseArrowAniName",rt,a(e)),n(e,"spineCatAniName",ut,a(e)),n(e,"spineMouseAniName",pt,a(e)),n(e,"initialSpeed",lt,a(e)),n(e,"ProgressBar",ct,a(e)),n(e,"LabelSelf",ht,a(e)),n(e,"LabelTarget",dt,a(e)),n(e,"barInitPos",mt,a(e)),n(e,"spineInitPos",ft,a(e)),n(e,"spineCatchDiffX",Ct,a(e)),e.canvas=null,e.gameStart=!1,e.gameOver=!1,e.gamePaused=!1,e.targetSpeed=[],e.currentSpeed=[],e.currentTime=0,e.costStart=0,e.lastRatio=0,e.totalWidth=0,e.totalTime=0,e.qaShown=!1,e.answerCount=0,e.disRatio=[1/3,2/3,1],e.catBarRatio=0,e.mouseBarRatio=0,e.catTween=null,e.mouseTween=null,e.catBarInitRatio=0,e.mouseBarInitRatio=0,e.isHalf=!1,e.catMapDistance=0,e.lastCatMapDistance=0,e.startTimestamp=0,e.elapsedGameTime=0,e.pauseTimestamp=0,e}i(e,t);var r=e.prototype;return r.onEnable=function(){var e;(t.prototype.onEnable&&t.prototype.onEnable.call(this),N.playMusic(R.MINIGAME_AUDIO_BGM_ROOT+"minigame_bgm"),this.canvas)||(this.canvas=null==(e=d("Canvas",this.node))?void 0:e.getComponent(m));this.updateUI(),this.totalWidth=D.data.CompetLengthTime[0],this.totalTime=D.data.CompetLengthTime[1],this.endGame(!1)},r.onDisable=function(){this.unscheduleAllCallbacks(),b.targetOff(this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},r.onShow=function(){t.prototype.onShow&&t.prototype.onShow.call(this),this.startGame(!1),this.initSpinePos()},r.onHide=function(e){t.prototype.onHide&&t.prototype.onHide.call(this,e)},r.updateDisplay=function(t){this.options=t},r.generateBackground=function(t,e){var i=null==t?void 0:t.getComponent(f);i&&M.loadSpriteFrameAndBind(i,"textures@Texture2D/Hall_Left_Game/Hall_Left_Game-"+e+"/BM_CatSC_BG"+P.paddding(""+e,2),!1,this,(function(t,e){}),(function(t,e){}))},r.updateUI=function(){var t=this;if(this.LabelSelf&&(this.LabelSelf.string=T("Competition_Info1")),this.LabelTarget&&(this.LabelTarget.string=T("Competition_Info2")),this.scrollBg){var e=P.randomRangeRightClosed(1,3,!0);this.generateBackground(this.scrollBg.origin,e),this.scrollBg.onNodeCreated=function(i,n){t.generateBackground(i,e)}}},r.addHotTaskProcess=function(){var t=W.getRowsByTagId(G.data.hotTaskId);if(t&&t.needMatchesNumber>0){var e=G.getHotTaskProcess(G.data.hotTaskId);0==e.status&&(e.progressCurrent+=1,G.addHotTaskProcesss(G.data.hotTaskId,e.progressCurrent))}},r.startGame=function(t){var e=this;void 0===t&&(t=!1),P.log("startGame.reborn: "+t),this.gameStart=!0,this.gameOver=!1,this.gamePaused=!0,this.ProgressBar.progress=0,this.currentTime=0,this.lastRatio=0,this.costStart=0,this.answerCount=0,this.catBarInitRatio=(this.barInitPos[wt.Cat].x-this.barInitPos[wt.Cat].x)/this.ProgressBar.totalLength,this.mouseBarInitRatio=(this.barInitPos[wt.Mouse].x-this.barInitPos[wt.Cat].x)/this.ProgressBar.totalLength,this.catBarRatio=this.catBarInitRatio,this.mouseBarRatio=this.mouseBarInitRatio,this.isHalf=!1,this.catMapDistance=0,this.lastCatMapDistance=0,this.initSpinePos(),this.calcSpeedInit(),G.updateDailyTaskProcess(0,0,0,0,0,0,0,0,0,1),t||this.addHotTaskProcess(),this.scheduleOnce((function(){e.startTimestamp=P.NowTimeStamp(),e.elapsedGameTime=0,e.pauseTimestamp=0,e.showQuestion(t,!1)}),.5)},r.endGame=function(t){var e=this;if(!this.gameOver&&(P.log("endGame.showSettlement:"+t),this.gameStart=!1,this.gameOver=!0,this.catTween&&(this.catTween.stop(),this.catTween=null),this.mouseTween&&(this.mouseTween.stop(),this.mouseTween=null),this.gamePause(),N.playEffect(R.MINIGAME_AUDIO_EFFECT_PREFIX+"3.crash"),t)){var i=B.getRoundData(this.options.chapterId,this.options.roundId);if(i){var n=B.getRoundRewardProps(i),a=this.isCatWinner();this.scheduleOnce((function(){L.showPanel(x.resObj,{chapterId:e.options.chapterId,roundId:e.options.roundId,isSuccess:a,propIds:n,fnClaim:function(){G.setMatchProcessWon(e.options.chapterId,e.options.roundId),e.exitRound()},fnDoubleBonus:function(){G.setMatchProcessWon(e.options.chapterId,e.options.roundId),e.exitRound()},fnExitRound:function(){e.exitRound()},fnReborn:function(){e.startGame(!0)}},!0)}),.5)}}},r.exitRound=function(){var t=this,e=this.isCatWinner();P.log("exitRound.isWinner: "+e),this.scheduleOnce((function(){_.showLoading(o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hide(!1,0),N.playMusic("catbgm2");case 2:case"end":return t.stop()}}),t)}))),t).then((function(){t.scheduleOnce((function(){e&&b.emit(y.CHECK_GUIDE,E.LEFT_SCENE_MATCH_WON,!1)}),1)}))}),.5)},r.checkGameOver=function(){if(this.catBarRatio>=1||this.mouseBarRatio>=1||this.isCatWinner()){this.endGame(!0);var t=((P.NowTimeStamp()-this.costStart)/1e3).toFixed(2);return P.log("checkGameOver.catBarRatio: "+this.catBarRatio+" mouseBarRatio: "+this.mouseBarRatio+" isCatWinner: "+this.isCatWinner()+" cost: "+t+" currentTime: "+this.currentTime.toFixed(2)),!0}return!1},r.showQuestion=function(t,e){var i=this;if(void 0===e&&(e=!0),e){if(this.qaShown)return;this.qaShown=!0}this.catTween&&(this.catTween.stop(),this.catTween=null),this.mouseTween&&(this.mouseTween.stop(),this.mouseTween=null),this.gamePause();var n=I.randomId(),a=I.getRowById(n);a&&(P.log("quest.id: "+n+" answer: "+a.answer+" answerCount: "+this.answerCount),L.showPanel(O.resObj,{id:n,fnOnShow:function(){t||i.scheduleOnce((function(){k.checkAndGotoNext(E.LEFT_SCENE_MATCH,757)}),.2)},fnSelected:function(t,e){(a=I.getRowById(t))&&i.showAnswer(e==a.answer,!1)}},!0,this.animDuration,!1))},r.showAnswer=function(t,e){var i=this;this.qaShown=!1,L.showPanel(v.resObj,{isSuccess:t,isTrap:e,fnTap:function(){i.run(t)}},!0,this.animDuration,!1)},r.calcSpeedInit=function(){var t=B.getRoundData(this.options.chapterId,this.options.roundId).enemyPower,e=G.getCatUpgradeTotalPower(),i=D.getSpeedByPowerDiff(e,t);this.currentSpeed[wt.Cat]=this.initialSpeed*i,this.currentSpeed[wt.Mouse]=this.initialSpeed,P.log("calcSpeedInit.Cat["+e+"]: "+this.currentSpeed[wt.Cat]+" Mouse["+t+"]: "+this.currentSpeed[wt.Mouse])},r.calcSpeedCurrent=function(t){var e=B.getRoundData(this.options.chapterId,this.options.roundId).enemyPower,i=G.getCatUpgradeTotalPower(),n=D.getSpeedByPowerDiff(i,e);this.targetSpeed[wt.Cat]=this.initialSpeed*n*(t?1.1:1)*R.ENABLE_DEBUG_CAT_SPEED_RATIO,this.targetSpeed[wt.Mouse]=this.initialSpeed*(t?1:1.1),P.log("calcSpeedCurrent.Cat["+i+"]: "+this.currentSpeed[wt.Cat].toFixed(2)+" x"+R.ENABLE_DEBUG_CAT_SPEED_RATIO+" -> "+this.targetSpeed[wt.Cat].toFixed(2)),P.log("calcSpeedCurrent.Mouse["+e+"]: "+this.currentSpeed[wt.Mouse].toFixed(2)+" -> "+this.targetSpeed[wt.Mouse].toFixed(2))},r.run=function(t){var e=this;if(t?(P.spineAnimation(this.SpineArrow[wt.Cat],Pt.START,this.spineCatArrowAniName[Pt.START],!1,1,!1,(function(){P.log("CatArrow.Start...OK"),P.spineAnimation(e.SpineArrow[wt.Cat],Pt.GLOW,e.spineCatArrowAniName[Pt.GLOW],!1,1,!1,(function(){P.log("CatArrow.Glow...OK"),P.spineAnimation(e.SpineArrow[wt.Cat],Pt.NORMAL,e.spineCatArrowAniName[Pt.NORMAL],!0,1,!1)}))})),P.spineAnimation(this.Spine[wt.Cat],Mt.GLOW,this.spineCatAniName[Mt.GLOW],!1,1,!1,(function(){P.log("Cat.Glow...OK"),P.spineAnimation(e.Spine[wt.Cat],Mt.SPEEDUP,e.spineCatAniName[Mt.SPEEDUP],!1,1,!1,(function(){P.log("Cat.SpeedUp...OK"),P.spineAnimation(e.Spine[wt.Cat],Mt.NORMAL,e.spineCatAniName[Mt.NORMAL],!0,1,!1)}))}))):(P.spineAnimation(this.SpineArrow[wt.Mouse],Pt.START,this.spineMouseArrowAniName[Pt.START],!1,1,!1,(function(){P.log("MouseArrow.Start...OK"),P.spineAnimation(e.SpineArrow[wt.Mouse],Pt.GLOW,e.spineMouseArrowAniName[Pt.GLOW],!1,1,!1,(function(){P.log("MouseArrow.Glow...OK"),P.spineAnimation(e.SpineArrow[wt.Mouse],Pt.NORMAL,e.spineMouseArrowAniName[Pt.NORMAL],!0,1,!1)}))})),P.spineAnimation(this.Spine[wt.Mouse],Mt.GLOW,this.spineMouseAniName[Mt.GLOW],!1,1,!1,(function(){P.log("Mouse.Glow...OK"),P.spineAnimation(e.Spine[wt.Mouse],Mt.SPEEDUP,e.spineMouseAniName[Mt.SPEEDUP],!1,1,!1,(function(){P.log("Mouse.SpeedUp...OK"),P.spineAnimation(e.Spine[wt.Mouse],Mt.NORMAL,e.spineMouseAniName[Mt.NORMAL],!0,1,!1)}))}))),this.calcSpeedCurrent(t),this.gameContinue(),!(this.answerCount>=3)){var i=this.catBarRatio,n=this.mouseBarRatio,a=this.disRatio[this.answerCount];this.answerCount++;var o=a-i,s=a-n,r=this.ProgressBar.totalLength/this.totalTime,u=this.SpineArrow[wt.Cat].node.position.x,p=this.SpineArrow[wt.Mouse].node.position.x,l=this.ProgressBar.totalLength*a+this.barInitPos[wt.Cat].x,c=l-u,h=l-p,d=c/(this.targetSpeed[wt.Cat]*r),m=h/(this.targetSpeed[wt.Mouse]*r);P.log("targetRatio: "+a.toFixed(4)),P.log("catNow: "+i.toFixed(4)+" catRemain: "+o.toFixed(2)+" catCurrentWidth: "+c+" targetSpeed: "+this.targetSpeed[wt.Cat]+" offsetXPerSecond: "+r+" catNeedTime: "+d.toFixed(2)),P.log("mouseNow: "+n.toFixed(4)+" mouseRemain: "+s.toFixed(2)+" mouseCurrentWidth: "+h+" targetSpeed: "+this.targetSpeed[wt.Mouse]+" offsetXPerSecond: "+r+" mouseNeedTime: "+m.toFixed(2)),this.catTween=C(this).to(d,{catBarRatio:a},{onUpdate:function(){e.setProgressRatio(wt.Cat,e.barInitPos[wt.Cat].x,e.catBarRatio),e.checkGameOver()}}).call((function(){e.checkGameOver()||e.showQuestion(!1,!0)})).start(),this.mouseTween=C(this).to(m,{mouseBarRatio:a},{onUpdate:function(){e.setProgressRatio(wt.Mouse,e.barInitPos[wt.Cat].x,e.mouseBarRatio),e.checkGameOver()}}).call((function(){e.checkGameOver()||e.showQuestion(!1,!0)})).start()}},r.isCatWinner=function(){return this.SpineArrow[wt.Cat].node.position.x+this.spineCatchDiffX>=this.SpineArrow[wt.Mouse].node.position.x},r.setProgressRatio=function(t,e,i){if(this.ProgressBar){var n=this.ProgressBar.totalLength*i+e,a=new h(0,0,0);if(t==wt.Cat){var o=this.SpineArrow[wt.Cat].node.getPosition().clone();this.SpineArrow[wt.Cat].node.setPosition(new h(n,o.y,o.z));var s=this.LabelSelf.node.getPosition().clone();this.LabelSelf.node.setPosition(new h(n,s.y,s.z))}else if(t==wt.Mouse){var r=this.SpineArrow[wt.Mouse].node.getPosition().clone();this.SpineArrow[wt.Mouse].node.setPosition(new h(n,r.y,r.z));var u=this.LabelTarget.node.getPosition().clone();this.LabelTarget.node.setPosition(new h(n,u.y,u.z))}var p=0,l=this.Spine[t];if(l&&(p=this.totalWidth*i-(t===wt.Mouse&&this.isHalf?this.catMapDistance:0),(a=l.node.getPosition()).x=p,t===wt.Cat&&a.x>0&&(a.x=0,this.isHalf=!0),l.node.setPosition(a)),t===wt.Cat){if(this.scrollBg&&!this.scrollBg.autoScroll){this.catMapDistance=p;var c=this.catMapDistance-this.lastCatMapDistance;this.scrollBg.scrollByOffset(new h(-c,0,0)),this.scrollBg.checkLoop(),this.lastCatMapDistance=this.catMapDistance}}else wt.Mouse}},r.bgAutoScroll=function(t){},r.gamePause=function(){this.gamePaused=!0,this.animationPause(!0),this.bgAutoScroll(!1),this.pauseTimestamp=P.NowTimeStamp(),this.elapsedGameTime+=(this.pauseTimestamp-this.startTimestamp)/1e3},r.gameContinue=function(){this.gamePaused=!1,this.animationPause(!1),this.bgAutoScroll(!0),this.startTimestamp=P.NowTimeStamp()},r.isGamePaused=function(){return this.gamePaused},r.initSpinePos=function(){var t,e=this,i=0;2==this.Spine.length&&(null==(t=this.Spine)||t.forEach((function(t){t.node.setPosition(e.spineInitPos[i].clone()),t.node.active=!0,i++})),P.spineAnimation(this.Spine[wt.Cat],Mt.NORMAL,this.spineCatAniName[Mt.NORMAL],!0,1,!1),P.spineAnimation(this.Spine[wt.Mouse],Mt.NORMAL,this.spineMouseAniName[Mt.NORMAL],!0,1,!1));var n=Math.abs(this.spineInitPos[wt.Mouse].x-this.spineInitPos[wt.Cat].x)/this.totalWidth;i=this.ProgressBar.totalLength*n,2==this.SpineArrow.length&&(this.SpineArrow[wt.Cat].node.setPosition(this.barInitPos[wt.Cat].clone()),this.SpineArrow[wt.Mouse].node.setPosition(this.barInitPos[wt.Mouse].clone()),P.spineAnimation(this.SpineArrow[wt.Cat],Pt.NORMAL,this.spineCatArrowAniName[Pt.NORMAL],!0,1,!1),P.spineAnimation(this.SpineArrow[wt.Mouse],Pt.NORMAL,this.spineMouseArrowAniName[Pt.NORMAL],!0,1,!1)),this.LabelSelf&&this.LabelSelf.node.setPosition(this.barInitPos[wt.Cat].clone().add3f(0,30,0)),this.LabelTarget&&this.LabelTarget.node.setPosition(this.barInitPos[wt.Mouse].clone().add3f(i,-30,0))},r.animationPause=function(t){this.Spine&&this.Spine.forEach((function(e){e.paused=t}))},e}(A)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCatAndMouse",resType:w.Prefab},nt=e((it=gt).prototype,"scrollBg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(it.prototype,"SpineArrow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(it.prototype,"Spine",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=e(it.prototype,"spineCatArrowAniName",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e(it.prototype,"spineMouseArrowAniName",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e(it.prototype,"spineCatAniName",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(it.prototype,"spineMouseAniName",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=e(it.prototype,"initialSpeed",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ct=e(it.prototype,"ProgressBar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(it.prototype,"LabelSelf",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(it.prototype,"LabelTarget",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(it.prototype,"barInitPos",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=e(it.prototype,"spineInitPos",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=e(it.prototype,"spineCatchDiffX",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),et=it))||et));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCatAndMouseEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts"],(function(e){var t,n,i,a,o,s,l,r,p,u,c,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Label,r=e.Canvas},function(e){p=e.default},function(e){u=e.CCResType},function(e){c=e._T},function(e){b=e.CCEvent},function(e){h=e.EVENT_TYPE}],execute:function(){var C,f,d,v,E,y,m,T,L,g;o._RF.push({},"6b1a2Gs1KdFq7r9sEzBgPPe","CCPanelMiniGameCatAndMouseEvent",void 0);var P=s.ccclass,D=s.property;e("CCPanelMiniGameCatAndMouseEvent",(C=P("CCPanelMiniGameCatAndMouseEvent"),f=D({type:l}),d=D({type:l}),v=D({type:l}),C(((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"LabelTitle",m,a(t)),i(t,"LabelDesc",T,a(t)),i(t,"LabelTap",L,a(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),b.on(h.HIDE_PANEL,this.onHidePanel,this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(r).enabled=!1)},o.onDisable=function(){this.unscheduleAllCallbacks(),b.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.updateDisplay=function(e){this.options=e,this.LabelTitle&&(this.LabelTitle.string=this.options.isSuccess?c("RandomEvent1"):c("RandomEvent4")),this.LabelDesc&&(this.LabelDesc.string=this.options.isSuccess?this.options.isTrap?c("RandomEvent3"):c("RandomEvent2"):this.options.isTrap?c("RandomEvent6"):c("RandomEvent5")),this.LabelTap&&(this.LabelTap.string=c("RandomEvent7"))},o.onHidePanel=function(){this.hide(!1,0)},o.onTap=function(){b.emit(h.HIDE_PANEL),this.options.fnTap&&this.options.fnTap()},t}(p)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCatAndMouseEvent",resType:u.Prefab},m=t((y=g).prototype,"LabelTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(y.prototype,"LabelDesc",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"LabelTap",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCatAndMouseGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCLingoData.ts","./CCEvent.ts","./CCButton.ts","./CCPropRow.ts","./CCPlayerData.ts","./CCDefine.ts","./CCAdHelper.ts","./CCEffct.ts","./CCSceneHall.ts","./CCCatCompeti.ts","./CCAudioManager.ts","./CCUtils.ts"],(function(t){var e,n,i,o,a,r,s,l,u,p,c,C,f,b,d,h,m,P,y,g,D,S,_,v,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.sp,u=t.Label,p=t.Canvas},function(t){c=t.default},function(t){C=t.CCResType},function(t){f=t._T},function(t){b=t.CCEvent},function(t){d=t.CCButton},function(t){h=t.CCPropRow},function(t){m=t.CCPlayerData},function(t){P=t.default,y=t.EVENT_TYPE},function(t){g=t.default},function(t){D=t.CCEffect},function(t){S=t.CCSceneHall},function(t){_=t.default},function(t){v=t.audioMgr},function(t){E=t.default}],execute:function(){var w,B,L,R,I,H,T,M,G,k,x,A,O,V,z,U,N,j,F,Y;a._RF.push({},"a4919U8rE5AVIwjb+iq/kaf","CCPanelMiniGameCatAndMouseGameOver",void 0);var q=r.ccclass,X=r.property;t("CCPanelMiniGameCatAndMouseGameOver",(w=q("CCPanelMiniGameCatAndMouseGameOver"),B=X({type:s}),L=X({type:l.Skeleton,displayName:"Spine/"}),R=X({type:u}),I=X({type:h}),H=X({type:d}),T=X({type:u}),M=X({type:d}),G=X({type:u}),w(((Y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"SpriteBackground",A,o(e)),i(e,"SpineVictory",O,o(e)),i(e,"LabelTitle",V,o(e)),i(e,"PropRow",z,o(e)),i(e,"btnDoubleClaim",U,o(e)),i(e,"LabelDoubleClaim",N,o(e)),i(e,"btnClaim",j,o(e)),i(e,"LabelClaim",F,o(e)),e}n(e,t);var a=e.prototype;return a.onEnable=function(){var e,n;t.prototype.onEnable&&t.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),null==(e=this.btnDoubleClaim)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(n=this.btnClaim)||n.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},a.onDisable=function(){var e,n;null==(e=this.btnDoubleClaim)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnClaim)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks(),b.targetOff(this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},a.updateDisplay=function(t){var e=this;if(this.options=t,this.LabelTitle&&(this.LabelTitle.string=f("Done_Text1"),this.LabelTitle.node.active=this.options.isSuccess),this.LabelDoubleClaim&&(this.LabelDoubleClaim.string=this.options.isSuccess?f("Done_Button1"):f("EndGame2")),this.LabelClaim&&(this.LabelClaim.string=this.options.isSuccess?f("Done_Button2"):f("EndGame")),this.PropRow){var n=_.getRoundData(this.options.chapterId,this.options.roundId);this.PropRow.setProps(n.rewardProps),this.PropRow.node.active=this.options.isSuccess}this.SpriteBackground&&(this.SpriteBackground.node.active=!0),E.spineAnimation(this.SpineVictory,0,this.options.isSuccess?"Victory_Start":"Deffeat_Start",!1,.8,!1,(function(){e.SpineVictory&&e.SpineVictory.setAnimation(1,e.options.isSuccess?"Victory_Loop":"Deffeat_Loop",!0)}))},a.onHidePanel=function(){this.hide(!1,0)},a.givenProps=function(t){var e=_.getRoundData(this.options.chapterId,this.options.roundId);if(e){var n="";e.rewardProps.forEach((function(e){var i=e[0],o=e[1]*(t?2:1);switch(n+=f("UI_Recharge_UI9","<img src='Item_"+i+"' width=80 height=80 offset=0,-20/> x",o)+"   ",i[0]){case P.PROP_MONEY_ID:S.addMoney(o);break;case P.PROP_VIP_ID:S.addVip(o);break;case P.PROP_EXP_ID:S.addExp(o);break;case P.PROP_GOLD_ID:S.addGold(o);break;default:m.addPropCount(i,o),m.addPropTodayCount(i,o)}})),v.playEffect("reward"),n=n.trimEnd(),D.toast(S.SceneHallUI,"textures@prefabs/floatingBanner",n,"textures@Texture2D/Hall_Item/Hall_Item")}},a.onBtnPressStart=function(t,e,n){switch(e){case 0:t.options.isSuccess?(t.givenProps(!1),t.onHidePanel(),t.options.fnClaim&&t.options.fnClaim()):(t.onHidePanel(),t.options.fnExitRound&&t.options.fnExitRound());break;case 1:g.showAds((function(){t.options.isSuccess?(b.emit(y.PUSH_EVENT,"ad_21"),t.givenProps(!0),t.onHidePanel(),t.options.fnDoubleBonus&&t.options.fnDoubleBonus()):(b.emit(y.PUSH_EVENT,"ad_20"),t.onHidePanel(),t.options.fnReborn&&t.options.fnReborn())}))||D.toast(S.SceneHallUI,"textures@prefabs/floatingBanner",f("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},e}(c)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCatAndMouseGameOver",resType:C.Prefab},A=e((x=Y).prototype,"SpriteBackground",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(x.prototype,"SpineVictory",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(x.prototype,"LabelTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(x.prototype,"PropRow",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(x.prototype,"btnDoubleClaim",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(x.prototype,"LabelDoubleClaim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(x.prototype,"btnClaim",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(x.prototype,"LabelClaim",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=x))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCatAndMouseQA.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCLingoData.ts","./CCEvent.ts","./CCButton.ts","./CCQuestion.ts","./CCDefine.ts","./CCTween.ts","./CCTweenMove.ts","./CCLabelTyping.ts"],(function(n){var t,e,i,o,a,r,s,l,u,p,c,f,C,b,h,d,y,g,B,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Sprite,l=n.Label,u=n.Canvas},function(n){p=n.default},function(n){c=n.CCResType,f=n.default},function(n){C=n._T},function(n){b=n.CCEvent},function(n){h=n.CCButton},function(n){d=n.default},function(n){y=n.EVENT_TYPE},function(n){g=n.CCTween},function(n){B=n.CCTweenMove},function(n){v=n.CCLabelTyping}],execute:function(){var L,m,S,T,_,A,P,w,M,D,E,O,Q,G;a._RF.push({},"06d052G1IdL7bSw9lhoJg5g","CCPanelMiniGameCatAndMouseQA",void 0);var H=r.ccclass,z=r.property;n("CCPanelMiniGameCatAndMouseQA",(L=H("CCPanelMiniGameCatAndMouseQA"),m=z({type:v}),S=z({type:s}),T=z({type:l}),_=z({type:[h]}),A=z({type:[l]}),L(((G=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"LabelTyping",M,o(t)),i(t,"SpriteBanner",D,o(t)),i(t,"LabelQuestion",E,o(t)),i(t,"btnOptions",O,o(t)),i(t,"LabeOptions",Q,o(t)),t}e(t,n);var a=t.prototype;return a.onLoad=function(){n.prototype.onLoad&&n.prototype.onLoad.call(this)},a.onDestroy=function(){n.prototype.onDestroy&&n.prototype.onDestroy.call(this)},a.onEnable=function(){var t,e=this;n.prototype.onEnable&&n.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),null==(t=this.btnOptions)||t.forEach((function(n){n.enableCCButtonListener(e,!1,!1,e.onBtnPressStart)})),b.on(y.HIDE_PANEL,this.onHidePanel,this),this.SpriteBanner&&(this.SpriteBanner.node.active=!1),this.enableTyping(!1,"")},a.onDisable=function(){var t,e=this;null==(t=this.btnOptions)||t.forEach((function(n){n.enableCCButtonListener(e,!1,!1,e.onBtnPressStart)})),this.unscheduleAllCallbacks(),b.targetOff(this),n.prototype.onDisable&&n.prototype.onDisable.call(this)},a.updateDisplay=function(n){this.options=n},a.onShow=function(){var n,t,e=this,i=d.getRowById(this.options.id);if(i){f.loadSpriteFrameAndBind(this.SpriteBanner,"textures@Texture2D/Hall_Left_Game_QA/Hall_Left_Game_QA-1/BM_img"+i.bgName,!0,this,(function(n,t){}),(function(n,t){f.loadSpriteFrameAndBind(n.SpriteBanner,"textures@Texture2D/Hall_Left_Game_QA/Hall_Left_Game_QA-2/BM_img"+i.bgName)})),this.scheduleOnce((function(){if(e.SpriteBanner){var n=e.SpriteBanner.node.position.add3f(0,Math.abs(-518),0).clone();e.SpriteBanner.node.position=n.clone(),e.SpriteBanner.node.active=!0,g.springJumpByCount(e.SpriteBanner.node,n,-518,2,1.5,.8,.4,.2,2.5,(function(){var n=d.getRowById(e.options.id);n&&e.enableTyping(!0,C(n.question))}))}}),.5),null==(n=this.btnOptions)||n.forEach((function(n){n.enableCCButtonListener(e,!1,!1,e.onBtnPressStart),n.enableButton(!0)}));var o=0;null==(t=this.LabeOptions)||t.forEach((function(n){n.string=C(i.options[o]),o++}))}},a.onHidePanel=function(){this.hide(!1,0)},a.onBtnPressStart=function(n,t,e){var i,o;switch(t){case 1:case 2:case 3:case 4:(null==(i=n.options)?void 0:i.fnSelected)&&(null==(o=n.options)||o.fnSelected(n.options.id,t-1))}},a.enableTyping=function(n,t){var e=this;void 0===t&&(t=""),this.LabelTyping&&(this.LabelQuestion.node.active=n,n?(this.LabelQuestion.string="",this.LabelTyping.startTyping(t,(function(){var n,t,i;null==(n=e.btnOptions)||n.forEach((function(n){var t;null==(t=n.getComponent(B))||t.startMove((function(){n.enableCCButtonListener(e,!0,!1,e.onBtnPressStart)}))})),(null==(t=e.options)?void 0:t.fnOnShow)&&(null==(i=e.options)||i.fnOnShow())}))):this.LabelTyping.stopTyping())},t}(p)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCatAndMouseQA",resType:c.Prefab},M=t((w=G).prototype,"LabelTyping",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"SpriteBanner",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"LabelQuestion",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"btnOptions",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(w.prototype,"LabeOptions",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=w))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCCatFoodData.ts","./CCPopupManager.ts","./CCPanelCatHouseHuntNotEnough.ts","./CCEvent.ts","./CCPanelMiniGameCollectGameOver.ts","./CCAudioManager.ts"],(function(e){var t,n,i,o,a,l,r,c,s,d,u,h,f,m,C,_,v,g,w,p,T,b,R,x,P,I,B,y,k,S,E,G,H,M,D;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,r=e.Size,c=e.find,s=e.Sprite,d=e.Label,u=e.isValid,h=e.Node,f=e.UITransform,m=e.Vec2,C=e.Vec3,_=e.Rect,v=e.tween},function(e){g=e.default},function(e){w=e.default},function(e){p=e.CCButton},function(e){T=e.CCResType,b=e.default},function(e){R=e.default},function(e){x=e.EVENT_TYPE},function(e){P=e._T},function(e){I=e.default},function(e){B=e.CCPlayerData},function(e){y=e.CCEffect},function(e){k=e.CCSceneHall},function(e){S=e.default},function(e){E=e.default},function(e){G=e.CCPanelCatHouseHuntNotEnough},function(e){H=e.CCEvent},function(e){M=e.CCPanelMiniGameCollectGameOver},function(e){D=e.audioMgr}],execute:function(){var U,A;a._RF.push({},"c5e09qBXJpOi7GgPk2K/UlZ","CCPanelMiniGameCollect",void 0);var F=l.ccclass;l.property,e("CCPanelMiniGameCollect",F("CCPanelMiniGameCollect")(((A=function(e){function a(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).btnSubmit=null,t.collect_under=null,t.collect_tile=new Map,t.collect_block=new Map,t.collect_reward=new Map,t.collect_frame=null,t.collect_border=[],t.collect_times_left_text=null,t.collect_times=null,t.tileUsed=[],t.tileSize=new r(7,5),t.remainingTimes=15,t.foundRewardTotal=0,t.foundRewardItem=[],t.animationRunning=!1,t.canvas=null,t.gotRewarded=!1,t.rewardCheck=!0,t.gameover=!1,t}t(a,e);var l=a.prototype;return l.onLoad=function(){var e,t,n,i;this.canvas||(this.canvas=null==(e=this.node)?void 0:e.getChildByName("Canvas"));this.collect_under||(this.collect_under=null==(t=c("Canvas/collect_under",this.node))?void 0:t.getComponent(s),this.collect_under&&(this.generateTile(),this.generateReward(),this.generateBlock(),g.reOrderRenderByName(this.canvas,["collect_reward","collect_block","collect_tile"])));this.collect_times_left_text||(this.collect_times_left_text=null==(n=c("Canvas/collect_times_left_text",this.node))?void 0:n.getComponent(d));this.collect_times||(this.collect_times=null==(i=c("Canvas/collect_times",this.node))?void 0:i.getComponent(p));H.on(x.MINIGAME_REWARD_CHECK,this.onRewardCheck,this),H.on(x.MINIGAME_NOT_ENOUGH_PANEL_CLOSE,this.onNotEnoughPanelClose,this)},l.onDestroy=function(){this.unscheduleAllCallbacks(),H.targetOff(this)},l.onEnable=function(){var t,n,i=this;(e.prototype.onEnable&&e.prototype.onEnable.call(this),u(this.collect_times)&&this.collect_times.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),u(this.canvas))&&(null==(t=this.canvas.children)||t.forEach((function(e){var t;(e.name.includes("collect_tile")||e.name.includes("collect_block")||e.name.includes("collect_reward"))&&(null==(t=e.getComponent(p))||t.enableCCButtonListener(i,!0,!1,i.onBtnPressStart))})));this.collect_frame||(this.collect_frame=null==(n=c("Canvas/collect_frame",this.node))?void 0:n.getComponent(s),this.collect_frame&&this.generateBorder());var o=0,a=function e(){if(g.log("fnRewardCheck.remainingTimes: "+i.remainingTimes+" "+i.foundRewardTotal+"/"+i.collect_border.length+" gameover: "+i.gameover+" total: "+o),o+=1,i.foundRewardTotal==i.collect_border.length)return i.unschedule(e),void i.onNotEnoughPanelClose();0!=i.remainingTimes||i.showPanelAddMoreTimes(i)};this.schedule((function(){i.rewardCheck&&a()}),1)},l.onRewardCheck=function(e){this.rewardCheck=e},l.onNotEnoughPanelClose=function(){var e=this;this.foundRewardTotal!=this.collect_border.length&&this.remainingTimes>0?this.rewardCheck=!0:(this.gameover=!0,this.rewardCheck=!1,y.toast(this.node,"textures@prefabs/floatingBanner",P("CatRoomTaoBao_UI3"),"textures@Texture2D/Hall_UI/Hall_UI"),this.scheduleOnce((function(){e.showPanelGameOver()}),1))},l.onDisable=function(){var t,n=this;(u(this.collect_times)&&this.collect_times.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),u(this.canvas))&&(null==(t=this.canvas.children)||t.forEach((function(e){var t;(e.name.includes("collect_tile")||e.name.includes("collect_block")||e.name.includes("collect_reward"))&&(null==(t=e.getComponent(p))||t.enableCCButtonListener(n,!1,!1,n.onBtnPressStart),e.active=!1)})));e.prototype.onDisable&&e.prototype.onDisable.call(this)},l.generateTile=function(){var e=this;if(this.canvas)for(var t=this.collect_under.node.getWorldPosition().clone(),n=function(n){for(var i=function(i){var o=new h("collect_tile"+n+i);o.addComponent(f).setAnchorPoint(0,0);var a=o.addComponent(p);a.Idx=n*e.tileSize.height+i,a.scaleEnable=!1,a.enableCCButtonListener(e,!1,!1,e.onBtnPressStart),e.canvas.addChild(o);var l=o.addComponent(s);b.loadSpriteFrameAndBind(l,"textures@Texture2D/Hall_MiniGame_Collect/Hall_MiniGame_Collect/collect_tile",!1,e,(function(e,r){o.position=new C(n*l.spriteFrame.rect.width+t.x-.5*g.GetVisibleSize().width,i*l.spriteFrame.rect.height+t.y-.5*g.GetVisibleSize().height,0),e.collect_tile.set(a.Idx,{Idx:a.Idx,Btn:a,Tile:new _(n,i,0,0)})}))},o=0;o<e.tileSize.height;o++)i(o)},i=0;i<this.tileSize.width;i++)n(i)},l.generateReward=function(){var e=this;if(this.canvas){var t=B.data.vip,n=S.getRowsByVip(t);if(0!=n.length)for(var i,o=n.map((function(e){return e.ratio})),a=function(t){var i=g.getIdxByWeight(o);if(-1==i)return{v:void 0};var a=n[i];g.log("generateReward["+t+"]: "+a.name),e.generateRewardSprite(a.tagId,t,(function(n,i){var o=-1,l=-1,r=new C(0,0,0),c=new _(0,0,0,0).clone(),s=i.spriteFrame.rect.width/2,d=i.spriteFrame.rect.height/2;switch(a.tagId){case 1:var u=e.getRandomTilePosition(e,new m(2,2),!0);o=u[0],l=u[1],r=u[2],n.position=r.add3f(s-2,d-2,0),c=new _(0,0,2,2);break;case 2:var h=e.getRandomTilePosition(e,new m(1,2),!0);o=h[0],l=h[1],r=h[2],n.position=r.add3f(s,d-2,0),c=new _(0,0,1,2);break;case 3:var f=e.getRandomTilePosition(e,new m(2,1),!0);o=f[0],l=f[1],r=f[2],n.position=r.add3f(s-2,d-1,0),c=new _(0,0,2,1)}var v=n.addComponent(p);v.scaleEnable=!1,v.Idx=1e4*(t+1)+a.tagId,v.enableCCButtonListener(e,!0,!1,e.onBtnPressStart),e.collect_reward.set(v.Idx,{Idx:v.Idx,Btn:v,Tile:new _(o,l,c.width-1,c.height-1)})}))},l=0;l<4;l++)if(i=a(l))return i.v}},l.generateRewardSprite=function(e,t,n){var i=new h("collect_reward"+t);i.addComponent(f).setAnchorPoint(.5,.5),this.canvas.addChild(i);var o=i.addComponent(s);b.loadSpriteFrameAndBind(o,"textures@Texture2D/Hall_MiniGame_Collect/Hall_MiniGame_Collect/collect_reward"+e,!1,this,(function(e,t){n&&n(i,o)}))},l.generateBlock=function(){var e=this;if(this.canvas)for(var t=function(){var t=new h("collect_block"+n);t.addComponent(f).setAnchorPoint(0,0),e.canvas.addChild(t);var i=t.addComponent(p);i.scaleEnable=!1,i.Idx=1e3*(n+1),i.enableCCButtonListener(e,!0,!1,e.onBtnPressStart);var o=t.addComponent(s);b.loadSpriteFrameAndBind(o,"textures@Texture2D/Hall_MiniGame_Collect/Hall_MiniGame_Collect/collect_selected",!1,e,(function(e,n){var o=e.getRandomTilePosition(e),a=o[0],l=o[1],r=o[2];t.position=r.add3f(-1,-1,0),e.collect_block.set(i.Idx,{Idx:i.Idx,Btn:i,Tile:new _(a,l,0,0)})}))},n=0;n<I.data.HardwareGameGridHP2Count;n++)t()},l.getRandomTilePosition=function(e,t,n){if(void 0===t&&(t=new m(1,1)),void 0===n&&(n=!1),!e.canvas)return[-1,-1,new C(0,0,0)];var i=e.canvas.children.filter((function(n){if(!n.name.includes("collect_tile"))return!1;var i=n.name.replace("collect_tile",""),o=parseInt(i.substring(0,1)),a=parseInt(i.substring(1));return!(e.tileSize.y-a<t.y||e.tileSize.x-o<t.x)}));if(!i)return[-1,-1,new C(0,0,0)];if(0==i.length)return[-1,-1,new C(0,0,0)];for(var o=-1,a=-1,l=new C(0,0,0),r=0;r<1e3;r++){var c=g.randomRange(0,i.length),s=i[c].name.replace("collect_tile","");if(o=parseInt(s.substring(0,1)),a=parseInt(s.substring(1)),!n){l=i[c].position.clone();break}if(null==e.tileUsed.find((function(e){return new _(o,a,o+t.x-1,a+t.y-1).contains(e)}))){l=i[c].position.clone();for(var d=0;d<t.x;d++)for(var u=0;u<t.y;u++)e.tileUsed.push(new m(o+d,a+u)),g.log("getRandomTilePosition["+r+"]: "+t.toString()+" "+i[c].name+" ... "+o+" "+a+" -> "+d+" "+u+" ...");break}}return g.log("------------------".repeat(10)),[o,a,l]},l.generateBorder=function(){if(this.collect_frame){this.collect_frame.node.getWorldPosition().clone();for(var e=0;e<4;e++){var t,n=null==(t=this.canvas)?void 0:t.getChildByName("collect_border"+(e+1));if(n){var i=n.position.clone().add3f(0,100,0),o=n.position.clone();n.position=i,v(n).sequence(v().to(.2*(e+1),{position:o},{easing:"cubicInOut"})).start(),this.collect_border.push(n)}}}},l.subRemainingTimes=function(e){this.remainingTimes<=0||this.foundRewardTotal==this.collect_border.length||(this.remainingTimes--,this.collect_times_left_text&&(this.collect_times_left_text.string=""+g.paddding(this.remainingTimes,2)),e&&e())},l.addReminingTimes=function(e){this.remainingTimes+=e,this.collect_times_left_text&&(this.collect_times_left_text.string=""+g.paddding(this.remainingTimes,2))},l.showPanelGameOver=function(){var e=this;if(g.log("fnRewardCheck...GG"),0!=this.foundRewardItem.length){var t=0;this.foundRewardItem.forEach((function(e){var n=S.getRowsByTagId(e);n&&(t+=n.rewardFish)})),E.showPanel(M.resObj,{foundRewardItem:this.foundRewardItem,fnReceive:function(n,i,o){e.updateFishReward(n,t)},fnDoubleReceive:function(n,i,o){H.emit(x.PUSH_EVENT,"ad_12"),R.showAds((function(){e.updateFishReward(n,2*t)}))||y.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",P("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},!0)}else y.showLoading(n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hide(!1,0),g.log("888");case 2:case"end":return t.stop()}}),t)}))))},l.updateFishReward=function(e,t){var o=this;if(!this.gotRewarded&&t>0){this.gotRewarded=!0;var a=g.GetDesignResolutionSize();B.setMiniGameDriedFishCount(B.getMiniGameDriedFishCount()+t),y.floatingTips(e.node,"textures@prefabs/floatingTips",new C(a.width/2,a.height/2,0),0,-20,P("UI_Recharge_UI9","<img src='collect_item4' width=80 height=80 offset=-25/>","<outline color=#1e678f width=2> +"+t+"</outline>"),"textures@Texture2D/Hall_MiniGame_Collect/Hall_MiniGame_Collect",(function(){})),e.scheduleOnce((function(){y.showLoading(n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hide(!1,0),o.hide(!1,0),g.log("666");case 3:case"end":return t.stop()}}),t)}))))}),1)}},l.showPanelAddMoreTimes=function(e){E.showPanel(G.resObj,{title:P("CatRoomScore7_UI1"),body1:P("CatRoomScore7_UI5"),body2:P("CatRoomScore7_UI6"),btnText:P("CatRoomScore7_UI4"),fnPressed:function(t,n,i){H.emit(x.PUSH_EVENT,"ad_11"),R.showAds((function(){e.addReminingTimes(I.data.HardwareInGameHandleTimesAddByReward),t.hide(!1,0)}))||y.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",P("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},!0)},l.onBtnPressStart=function(e,t,n){if(-1!=t)t<1e3?e.processTilePressed(t):t<=1e4?e.processBlockPressed(t):e.processRewardPressed(t);else{if(e.foundRewardTotal==e.collect_border.length)return;e.showPanelAddMoreTimes(e)}},l.processTilePressed=function(e){var t=this,n=this.collect_tile.get(e);n&&this.subRemainingTimes((function(){t.collect_tile.forEach((function(e,i){e.Tile.contains(new m(n.Tile.x,n.Tile.y))&&(e.Btn.node.active=!1,t.collect_tile.delete(i))}));for(var e,i=!1,a=o(t.collect_reward);!(e=a()).done;){var l=e.value,r=(l[0],l[1]);if(r.Tile.contains(new m(n.Tile.x,n.Tile.y))){for(var c,s=o(t.collect_tile);!(c=s()).done;){var d=c.value,u=(d[0],d[1]);if(r.Tile.contains(new m(u.Tile.x,u.Tile.y))){i=!0;break}}if(i)continue;break}}if(!i)for(var h,f=o(t.collect_reward);!(h=f()).done;){var C=h.value,_=C[0],v=C[1];if(v.Tile.contains(new m(n.Tile.x,n.Tile.y))){for(var g,w=o(t.collect_block);!(g=w()).done;){var p=g.value,T=(p[0],p[1]);if(v.Tile.contains(new m(T.Tile.x,T.Tile.y))){i=!0;break}}if(i)continue;t.onRewardCollected(_,v);break}}}))},l.processBlockPressed=function(e){var t=this,n=this.collect_block.get(e);n&&this.subRemainingTimes((function(){var e=!1;t.collect_block.forEach((function(e,i){if(e.Tile.contains(new m(n.Tile.x,n.Tile.y)))return e.Btn.node.active=!1,void t.collect_block.delete(i)}));for(var i,a=o(t.collect_reward);!(i=a()).done;){var l=i.value,r=l[0],c=l[1];if(c.Tile.contains(new m(n.Tile.x,n.Tile.y))){for(var s,d=o(t.collect_tile);!(s=d()).done;){var u=s.value,h=(u[0],u[1]);if(c.Tile.contains(new m(h.Tile.x,h.Tile.y))){e=!0;break}}if(e)continue;for(var f,C=o(t.collect_block);!(f=C()).done;){var _=f.value,v=(_[0],_[1]);if(c.Tile.contains(new m(v.Tile.x,v.Tile.y))){e=!0;break}}if(e)continue;t.onRewardCollected(r,c);break}}}))},l.processRewardPressed=function(e){var t=this,n=this.collect_reward.get(e);if(n){var i=!1;this.collect_block.forEach((function(e,t){n.Tile.contains(new m(e.Tile.x,e.Tile.y))&&(i=!0)})),i||(this.collect_tile.forEach((function(e,t){n.Tile.contains(new m(e.Tile.x,e.Tile.y))&&(i=!0)})),i||this.subRemainingTimes((function(){t.onRewardCollected(e,n)})))}},l.onRewardCollected=function(e,t,n){var i=this;void 0===n&&(n=null),this.collect_reward.delete(e);var o=t.Btn.getComponent(s),a=parseInt(o.node.name.replaceAll("collect_reward",""),10),l=o.node.getWorldPosition().clone();t.Btn.node.active=!1;var r=e%1e4,c=S.getRowsByTagId(r);c&&(D.playEffect("selected"),this.generateRewardSprite(r,a,(function(e,t){var o=g.GetDesignResolutionSize();e.position=l.clone().subtract(new C(o.width/2,o.height/2,0));var s=i.collect_border[i.foundRewardTotal];i.foundRewardTotal++;var d=s.getWorldPosition().clone().subtract(new C(o.width/2,o.height/2,0));g.log("food["+c.tagId+"].name: "+c.name+" rewardFish: "+c.rewardFish+" borderPos["+a+"]: "+d),i.doAnimation(e,d),i.foundRewardItem.push(r),n&&n()})))},l.doAnimation=function(e,t){var n=this;this.animationRunning=!0,v(e).sequence(v().to(.3,{scale:new C(1.2,1.2,1)}),v().to(.1,{scale:new C(.58,.58,1)}),v(e).to(.5,{position:t.clone()})).call((function(){n.selfDestroy()})).start()},l.selfDestroy=function(){this.animationRunning=!1},l.onBtnClose=function(t){e.prototype.onBtnClose.call(this,t)},a}(w)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCollect",resType:T.Prefab},U=A))||U);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameCollectGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCRichText.ts","./CCCatFoodData.ts"],(function(e){var t,i,n,o,r,a,l,s,c,h,u,p,C,d,v,m,f,g,b;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.find,r=e.Label,a=e.UITransform,l=e.Vec3,s=e.Sprite},function(e){c=e.default},function(e){h=e.default},function(e){u=e.CCButton},function(e){p=e.CCResType,C=e.default},function(e){d=e.default},function(e){v=e.default},function(e){m=e._T},function(e){f=e.CCPlayerData},function(e){g=e.CCRichText},function(e){b=e.default}],execute:function(){var R,S;i._RF.push({},"14e23LxBo9NRaG5JkPWcw29","CCPanelMiniGameCollectGameOver",void 0);var w=n.ccclass;n.property,e("CCPanelMiniGameCollectGameOver",w("CCPanelMiniGameCollectGameOver")(((S=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).btnReceive=null,t.btnDoubleReceive=null,t.SpriteArea=null,t.SpriteFrame=[],t.SpriteArrow=[],t.LabelReward=[],t.Body=null,t.totalFish=0,t}t(i,e);var n=i.prototype;return n.onLoad=function(){var e,t,i,n,a=null==(e=o("Canvas/Background/Title",this.node))?void 0:e.getComponent(r);a&&(a.string=m("CatRoomScore6_UI1")),this.Body=null==(t=o("Canvas/Background/Body",this.node))?void 0:t.getComponent(g),c.setRichTextString(this.Body,"<color=#50a1cd>"+m("CatRoomScore6_UI2")+"</color> <img src='collect_item4' width=64 height=64 offset=-15/><color=#8F635C>"+f.data.miniGameDriedFishCount+"</color>","");var l=null==(i=o("Canvas/Background/btnReceiveDouble/CCRichText",this.node))?void 0:i.getComponent(g);c.setRichTextString(l,"<outline color=#1e678f width=3>"+m("CatRoomScore6_UI4")+"</outline>","");var s,h,p=null==(n=o("Canvas/Background/btnReceive/Label",this.node))?void 0:n.getComponent(r);(p&&(p.string=m("CatRoomScore6_UI3")),this.btnReceive)||(this.btnReceive=null==(s=o("Canvas/Background/btnReceive",this.node))?void 0:s.getComponent(u));this.btnDoubleReceive||(this.btnDoubleReceive=null==(h=o("Canvas/Background/btnReceiveDouble",this.node))?void 0:h.getComponent(u));this.SpriteArea||(this.SpriteArea=o("Canvas/Background/SpriteArea",this.node));for(var C=0;C<3;C++){var d;this.SpriteFrame[C]||(this.SpriteFrame[C]=o("Canvas/Background/SpriteArea/SpriteFrame"+(C+1),this.node)),this.SpriteFrame[C]&&(this.SpriteFrame[C].active=!1),this.SpriteArrow[C]||(this.SpriteArrow[C]=o("Canvas/Background/SpriteArea/SpriteArrow"+(C+1),this.node)),this.SpriteArrow[C]&&(this.SpriteArrow[C].active=!1),this.LabelReward[C]||(this.LabelReward[C]=null==(d=o("Canvas/Background/SpriteArea/LabelReward"+(C+1),this.node))?void 0:d.getComponent(g)),this.LabelReward[C]&&(this.LabelReward[C].string="")}},n.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),v.REQ_BANNER&&d.reqBannerAd(v.getAdMobUnitIdForBanner())},n.updateDisplay=function(e){var t,i,n;this.options=e,null==(t=this.btnReceive)||t.enableCCButtonListener(this,!0,!1,this.options.fnReceive),null==(i=this.btnDoubleReceive)||i.enableCCButtonListener(this,!0,!1,this.options.fnDoubleReceive);var o=this.countElements(this.options.foundRewardItem),r=o[0],h=o[1],u=r.length>this.SpriteFrame.length?this.SpriteFrame.length:r.length,p=-1,d=1==u?0:2==u?100:30,v=null==(n=this.SpriteArea)||null==(n=n.getComponent(a))?void 0:n.contentSize.clone(),f=null;this.totalFish=0;for(var g=0;g<u;g++)if(p=r[g],f=b.getRowsByTagId(p)){if(this.totalFish+=f.rewardFish*h.get(r[g]),this.SpriteFrame[g]){var R,S=null==(R=this.SpriteFrame[g])||null==(R=R.getComponent(a))?void 0:R.contentSize.clone();d=(v.height-S.height*u)/(u+1)*(g+1)+S.height*g+S.height/2,c.log("offsetY["+g+"]: "+d+" / "+(v.height-d)+" "+p),this.SpriteFrame[g].position=new l(150,v.height-d,0),this.SpriteFrame[g].active=!0;var w=this.SpriteFrame[g].getChildByName("Sprite").getComponent(s);C.loadSpriteFrameAndBind(w,"textures@Texture2D/Hall_MiniGame_Collect/Hall_MiniGame_Collect/collect_item"+p,!1,this,(function(e){}))}var B,F;if(this.SpriteArrow[g])this.SpriteArrow[g].position=new l(320,null==(B=this.SpriteFrame[g])?void 0:B.position.y,0),this.SpriteArrow[g].active=!0;if(this.LabelReward[g])this.LabelReward[g].node.position=new l(450,null==(F=this.SpriteFrame[g])?void 0:F.position.y,0),c.setRichTextString(this.LabelReward[g],"<img src='collect_item4' width=64 height=64 offset=-15/><color=#8F635C>"+h.get(r[g])*f.rewardFish+"</color>")}c.setRichTextString(this.Body,"<color=#50a1cd>"+m("CatRoomScore6_UI2")+"</color> <img src='collect_item4' width=64 height=64 offset=-15/><color=#8F635C>"+this.totalFish+"</color>","")},n.onDisable=function(){var t,i;null==(t=this.btnReceive)||t.enableCCButtonListener(this,!1,!1,this.options.fnReceive),null==(i=this.btnDoubleReceive)||i.enableCCButtonListener(this,!1,!1,this.options.fnDoubleReceive),v.REQ_BANNER&&d.closeBannerAd(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.countElements=function(e){var t=new Map;e.forEach((function(e){t.set(e,(t.get(e)||0)+1)}));var i=Array.from(t.keys());return i.sort((function(e,t){return e<t?-1:e>t?1:0})),[i,t]},i}(h)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameCollectGameOver",resType:p.Prefab},R=S))||R);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameDragonfly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCScrollInfinity.ts","./CCPopup.ts","./CCRichText.ts","./CCCacheRes.ts","./CCUtils.ts","./CCBoxCollider2D.ts","./CCLingoData.ts","./CCPopupManager.ts","./CCPanelMiniGameOver.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCAudioManager.ts","./CCTween.ts"],(function(e){var t,i,n,o,r,a,s,l,c,h,p,u,d,f,g,m,C,S,v,y,b,T,_,w,D,I,E,L,P,M,O,B,G,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,l=e.Label,c=e.Sprite,h=e.sp,p=e.find,u=e.Canvas,d=e.UITransform,f=e.Node,g=e.Vec3},function(e){m=e.DEV},function(e){C=e.CCScrollInfinity},function(e){S=e.default},function(e){v=e.CCRichText},function(e){y=e.CCResType,b=e.default},function(e){T=e.default},function(e){_=e.CCBoxCollider2D,w=e.PHY_GROUP},function(e){D=e._T},function(e){I=e.default},function(e){E=e.CCPanelMiniGameOver},function(e){L=e.CCEvent},function(e){P=e.default,M=e.EVENT_TYPE,O=e.MINIGAME_IDX},function(e){B=e.CCPlayerData},function(e){G=e.audioMgr},function(e){R=e.CCTween}],execute:function(){var A,N,x,k,F,z,H,U,j,Y,X,V,K,W,Q,q,J,Z;a._RF.push({},"e6a41BQVARD1ojG6njj1Hsj","CCPanelMiniGameDragonfly",void 0);var $=s.ccclass,ee=s.property;e("CCPanelMiniGameDragonfly",(A=$("CCPanelMiniGameDragonfly"),N=ee({type:C,displayName:"",tooltip:m}),x=ee({type:l,displayName:"",tooltip:m}),k=ee({type:v,displayName:"",tooltip:m}),F=ee({type:c,displayName:"",tooltip:m}),z=ee({type:l,displayName:"",tooltip:m}),H=ee({type:c,displayName:"",tooltip:m}),U=ee({type:h.Skeleton,displayName:"",tooltip:m}),A(((Z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"scrollBg",X,o(t)),t.canvas=null,n(t,"LabelScore",V,o(t)),n(t,"LabelScoreTips",K,o(t)),n(t,"SpriteStart",W,o(t)),n(t,"LabelStartTips",Q,o(t)),n(t,"SpriteTimer",q,o(t)),n(t,"Spine",J,o(t)),t.score=0,t.rewardLevel=-1,t.numOfLuckyDraws=0,t.rewardRange=[[0,1e3,1],[1100,3e3,1],[3100,6900,1],[7e3,0,1]],t.velocityY=0,t.gravity=-800,t.jumpSpeed=400,t.gamestart=!1,t.gameover=!1,t.bottomY=0,t.lastTrackIndex=-1,t}i(t,e);var a=t.prototype;return a.onEnable=function(){var t,i,n,o=this;(e.prototype.onEnable&&e.prototype.onEnable.call(this),G.playMusic(P.MINIGAME_AUDIO_BGM_ROOT+"minigame_bgm"),L.on(M.SHOW_TIMER,this.showTimer,this),L.on(M.BEGIN_CONTACT,this.onBeginContact,this),L.on(M.END_CONTACT,this.onEndContact,this),this.canvas)||(this.canvas=null==(n=p("Canvas",this.node))?void 0:n.getComponent(u));if(this.scrollBg){this.scrollBg.autoScroll=!1,this.scrollBg.scrollSpeed=200,this.scrollBg.loop=!0,this.scrollBg.reverse=!1;var a=this.scrollBg.getComponent(d).width,s=this.scrollBg.getComponent(d).height;this.scrollBg.onNodeCreated=function(e,t){if(0!=t){for(var i=o.scrollBg.getComponent(d),n=Math.round(i.height/2),r=-Math.round(i.height/2),l=Math.round((i.width-276)/4),h="",p=function(r){var p=new f(h="Pipe_Up_"+t+"_"+r);p.parent=e,p.name=h;var u=p.addComponent(c);b.loadSpriteFrameAndBind(u,"textures@Texture2D/Hall_MiniGame_Dragonfly/Hall_MiniGame_Dragonfly/block",!1,o,(function(e,t){i=u.getComponent(d),u.node.active=!0,i.setAnchorPoint(.5,1);var o=p.addComponent(_);o.setOriginSize(i.width,i.height),o.randomHeight(.5,.9,s/2),o.group=w.BLOCK,p.setPosition(r*(a/2-l),n)}))},u=-1;u<2;u++)p(u);for(var g=function(i){var n=new f(h="Pipe_Down_"+t+"_"+i);n.parent=e,n.name=h;var p=n.getComponent(c)||n.addComponent(c);b.loadSpriteFrameAndBind(p,"textures@Texture2D/Hall_MiniGame_Dragonfly/Hall_MiniGame_Dragonfly/block",!1,o,(function(e,t){var o=p.getComponent(d);p.node.active=!0,o.setAnchorPoint(.5,0);var c=n.getComponent(_)||n.addComponent(_);c.setOriginSize(o.width,o.height),c.randomHeight(.5,.9,s/2),c.group=w.BLOCK,n.setPosition(i*(a/2-l),r)}))},m=-1;m<2;m++)g(m)}},this.scrollBg.onNodeDisable=function(e,t){for(var i,n=r(e.children);!(i=n()).done;){var o=i.value.getComponent(_);o&&(o.randomHeight(.5,.9,s/2),o.passed=!1)}}}this.schedule((function(){o.refreshUI()}),1),this.LabelStartTips&&(this.LabelStartTips.string=D("buildingRight_gametext301"));var l=null==(t=this.getComponent(d))?void 0:t.contentSize;this.bottomY=-l.clone().height/2-(this.Spine?(null==(i=this.Spine.getComponent(d))?void 0:i.contentSize.height)*this.Spine.node.scale.y:0),this.endGame(!1),this.showStartTips(!1),this.animation(0,"idle")},a.onDisable=function(){this.unscheduleAllCallbacks(),L.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.onBeginContact=function(e,t,i){console.log("onBeginContact -> selfCollider["+e.group+"]["+this.name+"].otherCollider["+t.group+"]["+t.name+"]"),this.endGame(!0)},a.onEndContact=function(e,t,i){console.log("onEndContact -> selfCollider["+e.group+"]["+this.name+"].otherCollider["+t.group+"]["+t.name+"]")},a.showStartTips=function(e){this.SpriteStart&&(this.SpriteStart.node.active=e),this.LabelStartTips&&(this.LabelStartTips.node.active=e),this.SpriteTimer&&(this.SpriteTimer.node.active=!1)},a.refreshUI=function(){if(this.LabelScore&&(this.LabelScore.string=""+D("buildingRight_gametext19",this.score),this.LabelScore.node.active=!0),this.LabelScoreTips){for(var e=0,t=0;t<this.rewardRange.length&&this.rewardLevel!=this.rewardRange.length-1;t++)if(this.rewardRange[t][0]<=this.score&&(this.score<=this.rewardRange[t][1]||0==this.rewardRange[t][0])&&this.score<=this.rewardRange[t+1][0]&&(e=this.rewardRange[t+1][0]-this.score),(-1==this.rewardLevel||this.rewardLevel<t)&&this.rewardRange[t][0]<=this.score&&(this.score<=this.rewardRange[t][1]||0==this.rewardRange[t][1])){this.numOfLuckyDraws++,this.rewardLevel=t;break}T.setRichTextString(this.LabelScoreTips,"<size=32><color=#57ffe1>"+D("buildingRight_gametext20",e)+" "+D("buildingRight_gametext22","</color><color=#ff8888>+1</color><color=#57ffe1>")+"</color></size>"),this.LabelScoreTips.node.active=this.numOfLuckyDraws<4}},a.showTimer=function(e){var t=this;this.showStartTips(!0);this.schedule((function i(){if(T.log("fnTimer: "+e),e<=0)return G.playEffect(P.MINIGAME_AUDIO_EFFECT_PREFIX+"timer_go"),t.unschedule(i),void t.startGame();b.loadSpriteFrameAndBind(t.SpriteTimer,"textures@Texture2D/Hall_Common/Hall_Common/minigame_timer_"+e,!1,t,(function(t,i){t.SpriteTimer.node.active=!0,t.SpriteTimer.node.setScale(g.ONE),R.scale(t.SpriteTimer.node,1.5),e--,G.playEffect(P.MINIGAME_AUDIO_EFFECT_PREFIX+"timer")}))}),1)},a.startGame=function(){T.log("startGame"),this.gamestart=!0,this.gameover=!1,this.score=0,this.rewardLevel=-1,this.numOfLuckyDraws=0,this.refreshUI(),this.showStartTips(!1),this.scrollBg&&(this.scrollBg.autoScroll=!0)},a.endGame=function(e){var t=this;if(!this.gameover&&(T.log("endGame.showSettlement:"+e),this.gamestart=!1,this.gameover=!0,this.scrollBg&&(this.scrollBg.autoScroll=!1),G.playEffect(P.MINIGAME_AUDIO_EFFECT_PREFIX+"3.crash"),e)){var i=parseInt(P.MINIGAME_LIST[O.DRAGONFLY][0],10);B.setMiniGameScoreToday(i,this.score),this.scheduleOnce((function(){I.showPanel(E.resObj,{score:t.score,numOfLuckyDraws:t.numOfLuckyDraws},!0)}),0)}},a.animation=function(e,t,i){if(!this.Spine)return 0;if(e==this.lastTrackIndex)return 0;this.lastTrackIndex=e,this.Spine.setToSetupPose(),this.Spine.setBonesToSetupPose(),this.Spine.setSlotsToSetupPose(),this.Spine.clearAnimations(),this.Spine.clearTracks();var n=this.Spine.setAnimation(e,t,i);return n&&n.animationEnd||0},a.fnAnimationIdle=function(){this.animation(0,"idle")},a.update=function(e){if(this.Spine&&!this.gameover){this.velocityY+=this.gravity*e;var t=this.Spine.node.position.clone();this.Spine.node.setPosition(t.x,t.y+this.velocityY*e,t.z),this.Spine.node.position.y<=this.bottomY?this.endGame(!0):this.checkPassObstacle()}},a.checkPassObstacle=function(){for(var e=this.scrollBg.node.children,t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.children.length;n++){var o=i.children[n];if(o.name.startsWith("Pipe_Up_")){var r=o.getComponent(_);r&&(r.passed||o.worldPosition.x>this.Spine.node.worldPosition.x||(r.passed=!0,this.score+=100))}}},a.onClick=function(){if((this.gamestart||!this.gameover)&&this.Spine){var e=this.animation(1,"dianji");0!=e&&(this.unschedule(this.fnAnimationIdle),this.scheduleOnce(this.fnAnimationIdle,e),this.velocityY=this.jumpSpeed,G.playEffect(P.MINIGAME_AUDIO_EFFECT_PREFIX+"3.click"))}},t}(S)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameDragonfly",resType:y.Prefab},X=t((Y=Z).prototype,"scrollBg",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"LabelScore",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(Y.prototype,"LabelScoreTips",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Y.prototype,"SpriteStart",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Y.prototype,"LabelStartTips",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(Y.prototype,"SpriteTimer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(Y.prototype,"Spine",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Y))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameExtraClicks.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts"],(function(t){var n,e,i,o,l,u,r,a,s,p,c,h,b,T,f,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,u=t._decorator,r=t.Sprite,a=t.Label,s=t.Node},function(t){p=t.default},function(t){c=t.DEV},function(t){h=t.CCButton},function(t){b=t.CCResType,T=t.default},function(t){f=t.default},function(t){d=t.default}],execute:function(){var m,S,C,y,E,g,v,O,_,B,H,A,M,U,N,x,R,w;l._RF.push({},"3da36oWJatKOrV42OdoxExH","CCPanelMiniGameExtraClicks",void 0);var z=u.ccclass,D=u.property;t("CCPanelMiniGameExtraClicks",(m=z("CCPanelMiniGameExtraClicks"),S=D({type:r,tooltip:c}),C=D({type:a,tooltip:c}),y=D({type:a,tooltip:c}),E=D({type:a,tooltip:c}),g=D({type:a,tooltip:c}),v=D({type:r,tooltip:c}),O=D({type:h,tooltip:c}),m(((w=function(t){function n(){for(var n,e=arguments.length,l=new Array(e),u=0;u<e;u++)l[u]=arguments[u];return n=t.call.apply(t,[this].concat(l))||this,i(n,"SprImage",H,o(n)),i(n,"labelTitle",A,o(n)),i(n,"contentTitle",M,o(n)),i(n,"contentBody",U,o(n)),i(n,"labelSubmit",N,o(n)),i(n,"SprSubmit",x,o(n)),i(n,"btnSubmit",R,o(n)),n}e(n,t);var l=n.prototype;return l.onShow=function(){var t,n,e,i,o,l,u,r;null==(t=this.btnSubmit)||null==(t=t.node)||t.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(n=this.btnSubmit)||null==(n=n.node)||n.on(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(l=this.btnSubmit)||null==(l=l.node)||l.on(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(u=this.btnSubmit)||null==(u=u.node)||u.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),null==(r=this.btnSubmit)||null==(r=r.node)||r.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&f.reqBannerAd(d.getAdMobUnitIdForBanner())},l.onHide=function(t){var n,e,i,o;null==(n=this.btnSubmit)||null==(n=n.node)||n.off(s.EventType.TOUCH_START,this.onTouchStart,this),null==(e=this.btnSubmit)||null==(e=e.node)||e.off(s.EventType.TOUCH_MOVE,this.onTouchMove,this),null==(i=this.btnSubmit)||null==(i=i.node)||i.off(s.EventType.TOUCH_END,this.onTouchEnd,this),null==(o=this.btnSubmit)||null==(o=o.node)||o.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.REQ_BANNER&&f.closeBannerAd()},l.updateDisplay=function(t){this.labelTitle&&t.title.length&&(this.labelTitle.string=t.title),this.contentTitle&&t.contentTitle.length&&(this.contentTitle.string=t.contentTitle),this.contentBody&&t.contentBody.length&&(this.contentBody.string=t.contentBody),this.labelSubmit&&t.submitText.length&&(this.labelSubmit.string=t.submitText),this.SprImage&&t.image.length&&T.loadSpriteFrameAndBind(this.SprImage,t.image),this.SprSubmit&&t.submitIcon.length&&T.loadSpriteFrameAndBind(this.SprSubmit,t.submitIcon)},l.onTouchStart=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},l.onTouchMove=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(.95,.95,1),t.propagationStopped=!0},l.onTouchEnd=function(t){var n;null==(n=this.btnSubmit)||null==(n=n.node)||n.setScale(1,1,1),t.propagationStopped=!0,this.options.fnSubmit&&this.options.fnSubmit(this)},n}(p)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameExtraClicks",resType:b.Prefab},H=n((B=w).prototype,"SprImage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(B.prototype,"labelTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(B.prototype,"contentTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(B.prototype,"contentBody",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(B.prototype,"labelSubmit",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(B.prototype,"SprSubmit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(B.prototype,"btnSubmit",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=B))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameJump.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCScrollInfinity.ts","./CCPopup.ts","./CCRichText.ts","./CCCacheRes.ts","./CCUtils.ts","./CCBoxCollider2D.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCAudioManager.ts","./CCTween.ts","./CCButton.ts","./CCPopupManager.ts","./CCPanelMiniGameOver.ts"],(function(t){var i,e,n,o,r,a,l,s,c,h,u,p,m,d,f,g,C,S,v,y,b,B,w,T,L,_,E,k,I,F,D,N,P,M,A,O;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,l=t._decorator,s=t.Label,c=t.Sprite,h=t.sp,u=t.Vec3,p=t.find,m=t.Canvas,d=t.UITransform,f=t.BoxCollider2D,g=t.Node},function(t){C=t.DEV},function(t){S=t.CCScrollInfinity},function(t){v=t.default},function(t){y=t.CCRichText},function(t){b=t.CCResType,B=t.default},function(t){w=t.default},function(t){T=t.CCBoxCollider2D,L=t.PHY_GROUP},function(t){_=t._T},function(t){E=t.CCEvent},function(t){k=t.default,I=t.EVENT_TYPE,F=t.MINIGAME_IDX},function(t){D=t.CCPlayerData},function(t){N=t.audioMgr},function(t){P=t.CCTween},function(t){M=t.CCButton},function(t){A=t.default},function(t){O=t.CCPanelMiniGameOver}],execute:function(){var x,R,j,G,X,z,J,K,W,H,U,Y,V,q,Q,Z,$,tt,it,et,nt,ot,rt,at,lt,st,ct,ht;a._RF.push({},"9f935Mbsl5GHIjPpS3nqaf0","CCPanelMiniGameJump",void 0);var ut=l.ccclass,pt=l.property;t("CCPanelMiniGameJump",(x=ut("CCPanelMiniGameJump"),R=pt({type:S,displayName:"-",tooltip:C}),j=pt({type:S,displayName:"-",tooltip:C}),G=pt({type:S,displayName:"-",tooltip:C}),X=pt({type:S,displayName:"",tooltip:C}),z=pt({type:s,displayName:"",tooltip:C}),J=pt({type:s,displayName:"",tooltip:C}),K=pt({type:y,displayName:"",tooltip:C}),W=pt({type:c,displayName:"",tooltip:C}),H=pt({type:s,displayName:"",tooltip:C}),U=pt({type:c,displayName:"",tooltip:C}),Y=pt({type:h.Skeleton,displayName:"",tooltip:C}),V=pt({type:M}),x(((ht=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"scrollFar",Z,o(i)),n(i,"scrollMiddle",$,o(i)),n(i,"scrollNear",tt,o(i)),n(i,"scrollBlock",it,o(i)),n(i,"LabelCountDown",et,o(i)),n(i,"LabelScore",nt,o(i)),n(i,"LabelScoreTips",ot,o(i)),n(i,"SpriteStart",rt,o(i)),n(i,"LabelStartTips",at,o(i)),n(i,"SpriteTimer",lt,o(i)),n(i,"Spine",st,o(i)),n(i,"btnClick",ct,o(i)),i.canvas=null,i.spineInitPos=new u(-321,-220,0),i.originWidth=116,i.originHeight=470,i.originBlockSizeWidth=11.5,i.originBlockOffsetX=52.25,i.score=0,i.score_earned={},i.rewardLevel=-1,i.numOfLuckyDraws=0,i.rewardRange=[[0,300,1],[400,600,1],[700,900,1],[1e3,0,1]],i.velocityX=0,i.velocityY=0,i.minJumpSpeedX=100,i.maxJumpSpeedX=400,i.minJumpSpeedY=300,i.maxJumpSpeedY=600,i.gravity=-800,i.isLongPressed=!1,i.jumping=!1,i.jumpCount=0,i.chargeStartTime=0,i.maxChargeTime=0,i.maxWidth=0,i.gamestart=!1,i.gameover=!1,i.lastTrackIndex=-1,i.fnCountDown=null,i.fnIdle=null,i}e(i,t);var a=i.prototype;return a.onEnable=function(){var i,e=this;(t.prototype.onEnable&&t.prototype.onEnable.call(this),N.playMusic(k.MINIGAME_AUDIO_BGM_ROOT+"minigame_bgm"),E.on(I.SHOW_TIMER,this.showTimer,this),E.on(I.BEGIN_CONTACT,this.onBeginContact,this),E.on(I.END_CONTACT,this.onEndContact,this),this.btnClick&&this.btnClick.enableCCButtonListener(this,!0,!1,null,this.onBtnPressed,null,this.onBtnCanceled),this.canvas)||(this.canvas=null==(i=p("Canvas",this.node))?void 0:i.getComponent(m));if(this.scrollBlock){this.maxWidth=this.scrollBlock.getComponent(d).width;w.GetSafeAreaInsetsOrigin();this.scrollBlock.onNodeCreated=function(t,i){var n;if(0!=i){var o=e.scrollBlock.getComponent(d),r=(Math.round((o.width-3*e.originWidth)/4),""),a=t.getChildByName("block");if(a){null==(n=a.getComponent(d))||n.contentSize.height;var l=a.getChildByName("DeathBlock");l&&(l.block=!0);for(var s=function(){r="Pipe_Down_"+h;var t=a.getChildByName(r);t||((t=new g(r)).parent=a);var n=t.getComponent(c)||t.addComponent(c);B.loadSpriteFrameAndBind(n,"textures@Texture2D/Hall_MiniGame_Jump/Hall_MiniGame_Jump/column",!1,e,(function(e,o){var r,a,l;n.type=c.Type.SLICED,n.node.active=!0,n.getComponent(d).setAnchorPoint(.5,0);var s=e.originWidth,h=null==(r=t.getChildByName("box_middle"))?void 0:r.getComponent(T);h&&(s=h.randomWidth(.1,.2,e.maxWidth),h.tag+=10*i);var u=null==(a=t.getChildByName("box_left"))?void 0:a.getComponent(T);u&&u.node.setPosition(-e.originBlockOffsetX-(s-e.originWidth)/2,0,0);var p=null==(l=t.getChildByName("box_right"))?void 0:l.getComponent(T);p&&p.node.setPosition(e.originBlockOffsetX+(s-e.originWidth)/2,0,0);var m=t.getComponent(d);m&&(m.width=s)}))},h=-1;h<2;h++)s()}}},this.scrollBlock.onNodeDisable=function(t,i){var n=p("block",t);if(n)for(var o,a=r(n.children);!(o=a()).done;){var l=o.value;if(l.name.startsWith("Pipe_Down_"))for(var s,c=r(l.children);!(s=c()).done;){var h,u,m=s.value.getComponent(T);if(m&&m.group==L.SAFE){var f=m.randomWidth(.1,.2,e.maxWidth);m.passed=!1,e.score_earned[m.tag]=!1;var g=null==(h=l.getChildByName("box_left"))?void 0:h.getComponent(T);g&&g.node.setPosition(-e.originBlockOffsetX-(f-e.originWidth)/2,0,0);var C=null==(u=l.getChildByName("box_right"))?void 0:u.getComponent(T);C&&C.node.setPosition(e.originBlockOffsetX+(f-e.originWidth)/2,0,0);var S=l.getComponent(d);S&&(S.width=f)}}}}}this.schedule((function(){e.refreshUI()}),1),this.LabelStartTips&&(this.LabelStartTips.string=_("buildingRight_gametext201")),this.endGame(!1),this.showStartTips(!1),this.animation(0,"idle")},a.onDisable=function(){this.btnClick&&this.btnClick.enableCCButtonListener(this,!1,!1,null,this.onBtnPressed,null,this.onBtnCanceled),this.unscheduleAllCallbacks(),E.targetOff(this),t.prototype.onDisable&&t.prototype.onDisable.call(this)},a.onBeginContact=function(t,i,e){if(t.group==L.SELF&&i.group==L.BLOCK_LEFT||t.group==L.BLOCK_LEFT&&i.group==L.SELF){if(0==this.jumpCount||this.gameover)return;return w.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... BLOCK_LEFT ... "),this.jumping=!1,this.velocityX=0,this.fnAnimationFangKaiShiBaiHou(),void this.endGame(!0)}if(t.group==L.SELF&&i.group==L.BLOCK_RIGHT||t.group==L.BLOCK_RIGHT&&i.group==L.SELF){if(0==this.jumpCount||this.gameover)return;return w.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... BLOCK_RIGHT ... "),this.jumping=!1,this.velocityX=0,this.fnAnimationFangKaiShiBaiQian(),void this.endGame(!0)}if(t.group==L.SELF&&i.group==L.BLOCK||t.group==L.BLOCK&&i.group==L.SELF){if(0==this.jumpCount||this.gameover)return;return w.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... BLOCK ... "),this.jumping=!1,this.velocityX=0,void this.endGame(!0)}if(t.group==L.SELF&&i.group==L.SAFE||t.group==L.SAFE&&i.group==L.SELF){if(0==this.jumpCount||this.gameover)return;w.log("onBeginContact.jumpCount: "+this.jumpCount+" selfCollider["+t.name+"]: "+t.tag+" otherCollider["+i.name+"]: "+i.tag+" ... SAFE ... "),this.stopScroll(),this.jumping=!1,this.velocityX=0;var n=i.group==L.SAFE?i.tag:t.tag;this.score_earned[n]||(this.score_earned[n]=!0,this.score+=100);var o=this.fnAnimationFangKai2();this.fnAnimationResetIdle(!0,o)}else;},a.onEndContact=function(t,i,e){},a.showStartTips=function(t){this.SpriteStart&&(this.SpriteStart.node.active=t),this.LabelStartTips&&(this.LabelStartTips.node.active=t),this.SpriteTimer&&(this.SpriteTimer.node.active=!1)},a.refreshUI=function(){if(this.LabelScore&&(this.LabelScore.string=""+_("buildingRight_gametext19",this.score),this.LabelScore.node.active=!0),this.LabelScoreTips){for(var t=0,i=0;i<this.rewardRange.length&&this.rewardLevel!=this.rewardRange.length-1;i++)if(this.rewardRange[i][0]<=this.score&&(this.score<=this.rewardRange[i][1]||0==this.rewardRange[i][0])&&this.score<=this.rewardRange[i+1][0]&&(t=this.rewardRange[i+1][0]-this.score),(-1==this.rewardLevel||this.rewardLevel<i)&&this.rewardRange[i][0]<=this.score&&(this.score<=this.rewardRange[i][1]||0==this.rewardRange[i][1])){this.numOfLuckyDraws++,this.rewardLevel=i;break}w.setRichTextString(this.LabelScoreTips,"<size=32><color=#57ffe1>"+_("buildingRight_gametext20",t)+" "+_("buildingRight_gametext22","</color><color=#ff8888>+1</color><color=#57ffe1>")+"</color></size>"),this.LabelScoreTips.node.active=this.numOfLuckyDraws<4}},a.showTimer=function(t){var i=this;this.showStartTips(!0);this.schedule((function e(){if(w.log("fnTimer: "+t),t<=0)return N.playEffect(k.MINIGAME_AUDIO_EFFECT_PREFIX+"timer_go"),i.unschedule(e),void i.startGame();B.loadSpriteFrameAndBind(i.SpriteTimer,"textures@Texture2D/Hall_Common/Hall_Common/minigame_timer_"+t,!1,i,(function(i,e){i.SpriteTimer.node.active=!0,i.SpriteTimer.node.setScale(u.ONE),P.scale(i.SpriteTimer.node,1.5),t--,N.playEffect(k.MINIGAME_AUDIO_EFFECT_PREFIX+"timer")}))}),1)},a.showCountDown=function(t){var i=this;this.fnCountDown||(this.fnCountDown=function(){if(i.LabelCountDown.node.active||(i.LabelCountDown.node.active=!0),t<=0)return i.unschedule(i.fnCountDown),i.jumping=!1,i.velocityX=0,void i.endGame(!0);i.LabelCountDown.string=""+w.formatTime(t),P.scale(i.LabelCountDown.node,1),t--,N.playEffect(k.MINIGAME_AUDIO_EFFECT_PREFIX+"timer")}),this.schedule(this.fnCountDown,1)},a.startGame=function(){w.log("startGame"),this.scrollBlock&&(this.Spine&&this.jumpCount>0&&(this.Spine.node.active=!1),this.Spine&&(this.fnAnimationIdle(),this.Spine.node.setPosition(this.spineInitPos.clone()),this.Spine.node.active=!0),this.isLongPressed=!1,this.jumping=!1,this.jumpCount=0,this.gamestart=!0,this.gameover=!1,this.score=0,this.score_earned={},this.rewardLevel=-1,this.numOfLuckyDraws=0,this.refreshUI(),this.showStartTips(!1),this.showCountDown(60),this.scrollFar&&(this.scrollFar.autoScroll=!1),this.scrollMiddle&&(this.scrollMiddle.autoScroll=!1),this.scrollNear&&(this.scrollNear.autoScroll=!1),this.scrollBlock&&(this.scrollBlock.autoScroll=!1))},a.endGame=function(t){var i=this;if(!this.gameover&&(w.log("endGame.showSettlement:"+t),this.gamestart=!1,this.gameover=!0,this.fnCountDown&&this.unschedule(this.fnCountDown),this.LabelCountDown.node.active=!1,this.stopScroll(),N.playEffect(k.MINIGAME_AUDIO_EFFECT_PREFIX+"3.crash"),t)){var e=parseInt(k.MINIGAME_LIST[F.JUMPING_FUN][0],10);D.setMiniGameScoreToday(e,this.score),this.scheduleOnce((function(){A.showPanel(O.resObj,{score:i.score,numOfLuckyDraws:i.numOfLuckyDraws},!0)}),1)}},a.animationReset=function(){this.Spine&&(this.Spine.setToSetupPose(),this.Spine.setBonesToSetupPose(),this.Spine.setSlotsToSetupPose(),this.Spine.clearAnimations(),this.Spine.clearTracks())},a.animation=function(t,i,e){if(!this.Spine)return 0;this.lastTrackIndex=t,this.animationReset();var n=this.Spine.setAnimation(t,i,e);return n?(w.log("animation["+i+"].trackEntry["+i+"]: "+n.animationEnd),n.animationEnd||0):0},a.fnAnimationIdle=function(){this.animation(0,"idle")},a.fnAnimationAnXia=function(){return this.animation(1,"anxia",!1)},a.fnAnimationFangKai=function(t){if(!this.Spine)return 0;this.animationReset();var i=this.Spine.setAnimation(2,"fangkai",!1);if(i){var e=i.animationEnd||1;return t>0&&(i.timeScale=e/t),w.log("trackEntry[fangkai]: "+e+" costTime: "+t+" timeScale: "+i.timeScale),e}return 0},a.fnAnimationFangKai2=function(){return this.animation(3,"fangkai2",!1)},a.fnAnimationFangKaiShiBaiQian=function(){return this.animation(4,"fangkaishibai_q",!1)},a.fnAnimationFangKaiShiBaiHou=function(){return this.animation(5,"fangkaishibai_h",!1)},a.fnAnimationResetIdle=function(t,i){var e=this;void 0===t&&(t=!0),void 0===i&&(i=0),this.fnIdle&&(this.unschedule(this.fnIdle),this.fnIdle=null),t&&(this.fnIdle=function(){e.fnAnimationIdle()},this.scheduleOnce(this.fnIdle,i))},a.onBtnPressed=function(t,i,e,n){n&&(!t.gamestart&&t.gameover||t.Spine&&(t.isLongPressed||t.jumping||(t.isLongPressed=!0,t.chargeStartTime=Date.now()/1e3,t.fnAnimationResetIdle(!1),t.maxChargeTime=t.fnAnimationAnXia())))},a.onBtnCanceled=function(t,i,e){t.jump()},a.jump=function(){if((this.gamestart||!this.gameover)&&this.Spine&&this.isLongPressed&&!this.jumping){this.jumping=!0,this.jumpCount++,this.isLongPressed=!1;var t=Date.now()/1e3-this.chargeStartTime;t=Math.max(0,Math.min(t,this.maxChargeTime)),w.log("jump.chargeTime: "+t+"/"+this.maxChargeTime);var i=t/this.maxChargeTime;this.velocityX=this.minJumpSpeedX+(this.maxJumpSpeedX-this.minJumpSpeedX)*i,this.velocityY=this.minJumpSpeedY+(this.maxJumpSpeedY-this.minJumpSpeedY)*i;var e=-2*this.velocityY/this.gravity;this.fnAnimationResetIdle(!1),this.fnAnimationFangKai(e);var n=this.velocityX*e;w.log("jump.chargeTime["+i+"]: "+t+"/"+this.maxChargeTime+" velocity: "+this.velocityX+"/"+this.velocityY+" flyTime: "+e.toFixed(2)+"s jumpDistanceX: "+n),N.playEffect(k.MINIGAME_AUDIO_EFFECT_PREFIX+"3.click")}},a.scrollByFlyTime=function(t,i){var e=this;this.scrollBlock&&(this.scrollBlock.autoScroll=!0),this.scrollNear&&(this.scrollNear.autoScroll=!0),this.scrollMiddle&&(this.scrollMiddle.autoScroll=!0),this.scrollFar&&(this.scrollFar.autoScroll=!0),this.scheduleOnce((function(){e.scrollBlock&&(e.scrollBlock.autoScroll=!1),e.scrollNear&&(e.scrollNear.autoScroll=!1),e.scrollMiddle&&(e.scrollMiddle.autoScroll=!1),e.scrollFar&&(e.scrollFar.autoScroll=!1)}),t)},a.stopScroll=function(){this.scrollBlock&&(this.scrollBlock.autoScroll=!1),this.scrollNear&&(this.scrollNear.autoScroll=!1),this.scrollMiddle&&(this.scrollMiddle.autoScroll=!1),this.scrollFar&&(this.scrollFar.autoScroll=!1)},a.scrollByDeltaX=function(t){this.scrollBlock&&(this.scrollBlock.scrollByOffset(new u(-t,0,0)),this.scrollBlock.checkLoop()),this.scrollNear&&(this.scrollNear.scrollByOffset(new u(.7*-t,0,0)),this.scrollNear.checkLoop()),this.scrollMiddle&&(this.scrollMiddle.scrollByOffset(new u(.5*-t,0,0)),this.scrollMiddle.checkLoop()),this.scrollFar&&(this.scrollFar.scrollByOffset(new u(.3*-t,0,0)),this.scrollFar.checkLoop()),w.log("spineOffsetX: "+t)},a.update=function(t){var i;if(this.Spine&&!this.gameover&&this.jumping){this.velocityY+=this.gravity*t;var e=this.Spine.node.position.clone(),n=e.x+this.velocityX*t,o=e.y+this.velocityY*t;this.Spine.node.setPosition(n,o,e.z);var r=this.velocityX*t;n<0?this.Spine.node.setPosition(n,o,e.z):(this.Spine.node.setPosition(0,o,e.z),this.scrollByDeltaX(r)),null==(i=this.Spine.getComponent(f))||i.apply()}},a.checkPassObstacle=function(){for(var t=0;t<this.scrollBlock.node.children.length;t++)for(var i=this.scrollBlock.node.children[t].getChildByName("block"),e=0;e<i.children.length;e++){var n,o=i.children[e];if(o.name.startsWith("Pipe_Down_")){var r=null==(n=o.getChildByName("box_middle"))?void 0:n.getComponent(T);if(r&&!(r.passed||o.worldPosition.x>this.Spine.node.worldPosition.x)){r.passed=!0;var a=r.tag;1==this.jumpCount&&1==a||this.score_earned[a]||(this.score_earned[a]=!0,this.score+=100)}}}},i}(v)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameJump",resType:b.Prefab},Z=i((Q=ht).prototype,"scrollFar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"scrollMiddle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(Q.prototype,"scrollNear",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Q.prototype,"scrollBlock",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(Q.prototype,"LabelCountDown",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Q.prototype,"LabelScore",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Q.prototype,"LabelScoreTips",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Q.prototype,"SpriteStart",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Q.prototype,"LabelStartTips",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=i(Q.prototype,"SpriteTimer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Q.prototype,"Spine",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Q.prototype,"btnClick",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Q))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCLingoData.ts","./CCDefine.ts","./CCUtils.ts","./CCEvent.ts","./CCRichText.ts","./CCPlayerData.ts","./CCBuildingRightData.ts","./CCPanelMiniGameListRow.ts"],(function(e){var t,i,n,a,o,s,r,l,c,u,C,h,f,m,p,g,d,v,T,L,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Sprite,l=e.Canvas,c=e.find,u=e.Label},function(e){C=e.default},function(e){h=e.CCResType},function(e){f=e.default},function(e){m=e._T},function(e){p=e.default,g=e.EVENT_TYPE},function(e){d=e.default},function(e){v=e.CCEvent},function(e){T=e.CCRichText},function(e){L=e.CCPlayerData},function(e){b=e.default},function(e){y=e.CCPanelMiniGameListRow}],execute:function(){var I,R,M,N,_,P,S,x;o._RF.push({},"f06d16yi0hLsI6AssmHeu3c","CCPanelMiniGameList",void 0);var w=s.ccclass,B=s.property;e("CCPanelMiniGameList",(I=w("CCPanelMiniGameList"),R=B({type:T}),M=B({type:r}),I(((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"LabelRecover",P,a(t)),n(t,"SpriteTime",S,a(t)),t.sv=null,t.fnTimer=null,t}i(t,e);var o=t.prototype;return o.onBuildItem=function(e,t){var i=p.MINIGAME_LIST.length;if(!(t<0||t>=i)){e.getComponent(y).notifyIdx=t,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(l).enabled=!1);var n=c("Canvas/Background/ScrollView",e).getComponent(f);n&&(n.numItems=1)}},o.init=function(e){var t=this;this.options=e,this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1);var i=c("Canvas/Background/LabelTitle",this.node);i&&(i.getComponent(u).string=m("buildingRight_gametext1")),this.sv||(this.sv=c("Canvas/Background/ScrollView1",this.node).getComponent(f),this.sv&&(this.sv.numItems=p.MINIGAME_LIST.length)),this.fnTimer||(this.fnTimer=function(){t.refreshUI()}),this.fnTimer(),this.schedule(this.fnTimer,1)},o.refreshUI=function(){this.SpriteTime&&(this.SpriteTime.node.active=L.getNumOfChallange()<b.getNumOfChallangeMax()),this.LabelRecover&&(this.LabelRecover.node.active=L.getNumOfChallange()<b.getNumOfChallangeMax(),this.LabelRecover.node.active&&d.setRichTextString(this.LabelRecover,m("UI_Recharge_UI9","<color=#30b840>Add 1</color> ","<color=#8F635C>after "+d.formatTime(Math.ceil(L.getNextNumOfChallangeRecoverTime()/1e3))+"</color>"),"textures@Texture2D/Hall_UI/Hall_UI"))},o.onShow=function(){v.on(g.NUM_OF_CHALLANGE_UPDATE,this.refreshUI,this),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},o.onHide=function(e){v.targetOff(this)},t}(C)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameList",resType:h.Prefab},P=t((_=x).prototype,"LabelRecover",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(_.prototype,"SpriteTime",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=_))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCButton.ts","./CCLingoData.ts","./CCDefine.ts","./CCCacheRes.ts","./CCEffct.ts","./CCPopupManager.ts","./CCPanelMiniGameListItemDetails.ts","./CCEvent.ts","./CCPlayerData.ts","./CCPanelMiniGameExtraClicks.ts","./CCAdHelper.ts","./CCSceneHall.ts"],(function(e){var t,i,n,a,l,o,r,s,u,c,C,g,m,p,f,d,h,I,b,_,M,S,L,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Label,s=e.Sprite,u=e.Canvas},function(e){c=e.default},function(e){C=e.DEV},function(e){g=e.CCButton},function(e){m=e._T},function(e){p=e.default,f=e.EVENT_TYPE},function(e){d=e.default},function(e){h=e.CCEffect},function(e){I=e.default},function(e){b=e.CCPanelMiniGameListItemDetails},function(e){_=e.CCEvent},function(e){M=e.CCPlayerData},function(e){S=e.CCPanelMiniGameExtraClicks},function(e){L=e.default},function(e){P=e.CCSceneHall}],execute:function(){var x,y,H,E,G,v,N,T,D;l._RF.push({},"92986ilzn9NgbEPOlcCWJ1l","CCPanelMiniGameListItem",void 0);var B=o.ccclass,w=o.property;e("CCPanelMiniGameListItem",(x=B("CCPanelMiniGameListItem"),y=w({type:r,tooltip:C}),H=w({type:r,tooltip:C}),E=w({type:s}),x((N=t((v=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"LabelName",N,a(t)),n(t,"LabelScoreHighestScore",T,a(t)),n(t,"spriteBg",D,a(t)),t.gameId=0,t}i(t,e);var l=t.prototype;return l.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1)},l.updateUI=function(e){var t=p.MINIGAME_LIST.length;e<0||e>=t||(this.gameId=parseInt(p.MINIGAME_LIST[e][0],10),d.loadSpriteFrameAndBind(this.spriteBg,"textures@Texture2D/Hall_MiniGame/Hall_MiniGame/game_item"+c.paddding(this.gameId,2)),this.LabelName&&(this.LabelName.string=""+m(p.MINIGAME_LIST[e][1])),this.LabelScoreHighestScore&&(this.LabelScoreHighestScore.string=m("buildingRight_popup_text24",M.getMiniGameScoreHighest(this.gameId))))},l.onBtnPressed=function(e,t,i,n){n||(c.log("onBtnPressStart.gameId: "+e.gameId),e.gameId<0||e.gameId>p.MINIGAME_LIST.length||(0!=M.getNumOfChallange()?I.showPanel(b.resObj,{gameId:e.gameId,fnOnShow:null},!0):I.showPanel(S.resObj,{title:m("buildingRight_popup_text11"),contentTitle:""+m("buildingRight_popup_text12",p.appConfig.mg.a),contentBody:m("buildingRight_popup_text13"),image:"textures@Texture2D/Hall_MiniGame/Hall_MiniGame/extra_clicks",submitIcon:"textures@Texture2D/Hall_Common/Hall_Common/common_video",submitText:m("buildingRight_popup_text14"),fnSubmit:function(e){_.emit(f.PUSH_EVENT,"ad_15"),L.showAds((function(){M.addNumOfChallange(p.appConfig.mg.a),e.hide(!1,0)}))||h.toast(P.SceneHallUI,"textures@prefabs/floatingBanner",m("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},!0)))},t}(g)).prototype,"LabelName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"LabelScoreHighestScore",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"spriteBg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=v))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameListItemDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCLingoData.ts","./CCDefine.ts","./CCCacheRes.ts","./CCEffct.ts","./CCPopupManager.ts","./CCPanelMiniGameDragonfly.ts","./CCPopup.ts","./CCEvent.ts","./CCPlayerData.ts","./CCPanelMiniGameJump.ts","./CCPanelMiniGameBridge.ts","./CCHostTasksData.ts","./CCSceneHall.ts","./CCAudioManager.ts"],(function(e){var t,n,a,i,s,r,o,l,u,c,f,d,p,h,C,b,g,m,S,y,I,D,L,P,T,M,_,v,w,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,l=e._decorator,u=e.Label,c=e.Sprite,f=e.Canvas,d=e.isValid},function(e){p=e.default},function(e){h=e.CCButton},function(e){C=e._T},function(e){b=e.default,g=e.EVENT_TYPE},function(e){m=e.CCResType,S=e.default},function(e){y=e.CCEffect},function(e){I=e.default},function(e){D=e.CCPanelMiniGameDragonfly},function(e){L=e.default},function(e){P=e.CCEvent},function(e){T=e.CCPlayerData},function(e){M=e.CCPanelMiniGameJump},function(e){_=e.CCPanelMiniGameBridge},function(e){v=e.default},function(e){w=e.CCSceneHall},function(e){B=e.audioMgr}],execute:function(){var H,G,k,E,x,O,R,N,z,A,U,j,F,W,J,V;o._RF.push({},"f79897dZbRM4Y0Cy43PJn6W","CCPanelMiniGameListItemDetails",void 0);var Y=l.ccclass,Z=l.property;e("CCPanelMiniGameListItemDetails",(H=Y("CCPanelMiniGameListItemDetails"),G=Z({type:u}),k=Z({type:h}),E=Z({type:u}),x=Z({type:u}),O=Z({type:c}),R=Z({type:c}),H(((V=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"LabelTitle",A,i(t)),a(t,"btnStart",U,i(t)),a(t,"LabelStart",j,i(t)),a(t,"LabelDesc",F,i(t)),a(t,"SpriteDesc",W,i(t)),a(t,"spriteBg",J,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){},o.onShow=function(){this.btnStart.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(f).enabled=!1),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},o.onHide=function(e){P.targetOff(this),this.btnStart.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},o.init=function(e){this.options=e,this.updateUI(this.options.gameId)},o.updateUI=function(e){for(var t=-1,n=b.MINIGAME_LIST.length,a=0;a<n;a++){if(e==parseInt(b.MINIGAME_LIST[a][0],10)){t=a;break}}t<0||t>=n||(this.btnStart&&(this.btnStart.Idx=t),this.LabelTitle&&(this.LabelTitle.string=C(b.MINIGAME_LIST[t][1])),this.LabelStart&&(this.LabelStart.string=C("buildingRight_gametext10_1")),S.loadSpriteFrameAndBind(this.spriteBg,"textures@Texture2D/Hall_MiniGame/Hall_MiniGame/game_item"+p.paddding(e,2)),this.refreshDesc(b.MINIGAME_LIST[t].slice(2)))},o.refreshDesc=function(e){for(var t=0;t<3;t++)d(this.LabelDesc[t])&&(this.LabelDesc[t].node.active=!1),d(this.SpriteDesc[t])&&(this.SpriteDesc[t].node.active=!1);for(var n=0;n<e.length;n++)d(this.LabelDesc[n])&&(this.LabelDesc[n].string=C(e[n]),this.LabelDesc[n].node.active=!0),d(this.SpriteDesc[n])&&(S.loadSpriteFrameAndBind(this.SpriteDesc[n],"textures@Texture2D/Hall_Common/Hall_Common/common_circle"),this.SpriteDesc[n].node.active=!0)},o.onBtnClose=function(t){p.log("onBtnClose"),e.prototype.onBtnClose.call(this,t)},o.onBtnPressStart=function(e,t,n){switch(p.log("onBtnPressStart.gameId: "+t),t){case 0:y.showLoading(s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.addHotTaskProcess(),T.subNumOfChallange(),I.showPanel(_.resObj,null,!0,0);case 3:case"end":return t.stop()}}),t)})))).then((function(){I.suspended.forEach((function(e){e.node.destroy()})),I.suspended.splice(0,I.suspended.length),P.emit(g.SHOW_TIMER,3)}));break;case 1:y.showLoading(s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.addHotTaskProcess(),T.subNumOfChallange(),I.showPanel(M.resObj,null,!0,0);case 3:case"end":return t.stop()}}),t)})))).then((function(){I.suspended.forEach((function(e){e.node.destroy()})),I.suspended.splice(0,I.suspended.length),P.emit(g.SHOW_TIMER,3)}));break;case 2:y.showLoading(s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.addHotTaskProcess(),T.subNumOfChallange(),I.showPanel(D.resObj,null,!0,0);case 3:case"end":return t.stop()}}),t)})))).then((function(){I.suspended.forEach((function(e){e.node.destroy()})),I.suspended.splice(0,I.suspended.length),P.emit(g.SHOW_TIMER,3)}));break;case 3:y.toast(w.SceneHallUI,"textures@prefabs/floatingBanner",""+C("UI_hall_tab_button3"),"textures@Texture2D/Hall_UI/Hall_UI"),B.playEffect("failed")}},o.addHotTaskProcess=function(){var e=v.getRowsByTagId(T.data.hotTaskId);if(e&&e.needPlayRightGameCount>0){var t=T.getHotTaskProcess(T.data.hotTaskId);0==t.status&&(t.progressCurrent+=1,T.addHotTaskProcesss(T.data.hotTaskId,t.progressCurrent))}},t}(L)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameListItemDetails",resType:m.Prefab},A=t((z=V).prototype,"LabelTitle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"btnStart",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"LabelStart",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"LabelDesc",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(z.prototype,"SpriteDesc",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(z.prototype,"spriteBg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=z))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameListRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPanelMiniGameListItem.ts"],(function(n){var t,e,i,o,a;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){a=n.CCPanelMiniGameListItem}],execute:function(){var r;e._RF.push({},"6778ai9/bNM/o1DGlxfQVrp","CCPanelMiniGameListRow",void 0);var c=i.ccclass;i.property,n("CCPanelMiniGameListRow",c("CCPanelMiniGameListRow")(r=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).notifyIdx=0,t}t(e,n);var i=e.prototype;return i.update=function(n){},i.onBuildItem=function(n,t){n.getComponent(a).updateUI(this.notifyIdx)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameLuckyDraws.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCLingoData.ts","./CCDefine.ts","./CCCacheRes.ts","./CCEffct.ts","./CCPopup.ts","./CCPlayerData.ts","./CCEvent.ts","./CCAdHelper.ts","./CCSceneHall.ts","./CCPopupManager.ts","./CCPanelMiniGameLuckyDrawsItem.ts","./CCUtils.ts","./CCAudioManager.ts","./CCPropData.ts"],(function(t){var e,n,a,i,r,s,o,l,u,c,d,b,p,h,f,y,L,C,g,w,m,D,k,I,P,_,v,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,l=t._decorator,u=t.Label,c=t.Sprite,d=t.Canvas},function(t){b=t.CCButton},function(t){p=t._T},function(t){h=t.default,f=t.EVENT_TYPE},function(t){y=t.CCResType,L=t.default},function(t){C=t.CCEffect},function(t){g=t.default},function(t){w=t.CCPlayerData},function(t){m=t.CCEvent},function(t){D=t.default},function(t){k=t.CCSceneHall},function(t){I=t.default},function(t){P=t.CCPanelMiniGameLuckyDrawsItem},function(t){_=t.default},function(t){v=t.audioMgr},function(t){B=t.default}],execute:function(){var S,x,R,T,E,N,A,M,F,O,G,H,U,V,z,Y,W,j,X,Z,q,J;o._RF.push({},"6f36brZrSRG16afsHIHBoah","CCPanelMiniGameLuckyDraws",void 0);var K=l.ccclass,Q=l.property;t("CCPanelMiniGameLuckyDraws",(S=K("CCPanelMiniGameLuckyDraws"),x=Q({type:u}),R=Q({type:u}),T=Q({type:u}),E=Q({type:b}),N=Q({type:u}),A=Q({type:b}),M=Q({type:c}),F=Q({type:u}),O=Q({type:b}),S(((J=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"LabelTips",U,i(e)),a(e,"LabelTitle",V,i(e)),a(e,"LabelSpinsLeft",z,i(e)),a(e,"btnRewards",Y,i(e)),a(e,"LlabelLuckyDraws",W,i(e)),a(e,"btnLuckyDraws",j,i(e)),a(e,"SpriteVideo",X,i(e)),a(e,"LabelLuckyDrawsAds",Z,i(e)),a(e,"btnLuckyDrawsAds",q,i(e)),e.totalOfLuckyDraws=0,e.rewards=[[0,0,0],[0,1,0],[h.PROP_GOLD_ID,0,0],[h.PROP_GOLD_ID,1,0],[101,2,0],[102,3,0],[103,3,0],[104,3,0]],e}n(e,t);var o=e.prototype;return o.onLoad=function(){},o.onEnable=function(){var e=this;t.prototype.onEnable&&t.prototype.onEnable.call(this),this.btnLuckyDraws.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnLuckyDrawsAds.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),v.playMusic("catbgm2"),this.btnRewards.forEach((function(t){t.enableCCButtonListener(e,!0,!1,e.onBtnPressStart)})),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(d).enabled=!1),this.rewards.forEach((function(t){0==t[0]?t[1]=w.data.RPM*(0==t[1]?10:5):t[0]==h.PROP_GOLD_ID&&(t[1]=w.data.RPMG*(0==t[1]?10:5))})),this.rewards=_.shuffle(this.rewards);for(var n=0;n<this.btnRewards.length;n++){var a,i,r=this.btnRewards[n],s=null==(a=r.node.getChildByName("Sprite"))?void 0:a.getComponent(c);L.loadSpriteFrameAndBind(s,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+this.rewards[n][0],!1,this,(function(t){}));var o=null==(i=r.node.getChildByName("LabelNum"))?void 0:i.getComponent(u);o&&(o.string=""+this.rewards[n][1])}},o.onDisable=function(){var e=this;this.btnRewards.forEach((function(t){t.enableCCButtonListener(e,!1,!1,e.onBtnPressStart)})),this.btnLuckyDraws.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnLuckyDrawsAds.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.init=function(t){this.options=t,this.updateUI()},o.updateUI=function(){if(!(this.options.numOfLuckyDraws<0)&&(this.LabelTips&&(this.LabelTips.string=p("buildingRight_gametext15")),this.LabelTitle&&(this.LabelTitle.string=p("buildingRight_gametext13")),this.LlabelLuckyDraws&&(this.LlabelLuckyDraws.string=p("buildingRight_gametext16")),this.LabelLuckyDrawsAds&&(this.LabelLuckyDrawsAds.string=p("buildingRight_gametext18")),this.LabelSpinsLeft&&(this.LabelSpinsLeft.string=p("buildingRight_gametext17",this.options.numOfLuckyDraws)),this.switchBtnToWatchAds(!1),this.enableBtnClose(!1),0==this.options.numOfLuckyDraws)){var t=this.availableRewardsList();t.length>0?this.switchBtnToWatchAds(!0):0==t.length&&(this.LlabelLuckyDraws.string=p("update6")),this.enableBtnClose(!0)}},o.switchBtnToWatchAds=function(t){this.btnLuckyDraws.enableCCButtonListener(this,!t,!1,this.onBtnPressStart),this.btnLuckyDrawsAds.enableCCButtonListener(this,t,!1,this.onBtnPressStart),this.SpriteVideo&&(this.SpriteVideo.node.active=t)},o.addNumOfLuckyDraws=function(){this.options.numOfLuckyDraws+=1,this.updateUI()},o.enableButtonGray=function(t,e){var n=t.getComponent(c);n&&(n.grayscale=e);var a=t.node.getChildByName("Sprite");a&&(a.getComponent(c).grayscale=e)},o.enableHighlight=function(t,e){var n=this;if(this.btnRewards.forEach((function(t,a){e.includes(a)||n.enableButtonGray(t,!0);var i=t.node.getChildByName("SpriteMask");i&&(i.active=!1)})),!e.includes(t-1))return!1;var a=this.btnRewards[t-1].node.getChildByName("SpriteMask");return a&&(a.active=!0),!0},o.gotReward=function(t){var e=this.btnRewards[t-1].node.getChildByName("SpriteGot");e&&(e.active=!0)},o.availableRewardsList=function(){for(var t=[],e=0;e<this.rewards.length;e++)0===this.rewards[e][2]&&t.push(e);return t},o.onBtnPressStart=function(t,e,n){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:var a=t.rewards[e-1][0];I.showPanel(P.resObj,{typeId:a},!0);break;case 9:var i=t.availableRewardsList();if(0===i.length)return _.log("numOfLuckyDraws.nil"),void t.hide(!1,.3);t.options.numOfLuckyDraws--;for(var o=i[_.randomRange(0,i.length)],l=i[_.randomRange(0,i.length)],u=5*t.rewards.length+(o-l+t.rewards.length)%t.rewards.length,c=[],d=Math.floor(.7*u),b=0;b<=u;b++)if(b<d)c.push(10);else{var y=10+490*((b-d)/(u-d));c.push(y),_.log("delays["+_.paddding(b,4)+"]: "+_.paddding((y/1e3).toFixed(5),8,"0",5))}_.log("rndRewardIdx: "+o+" totalSteps: "+u+" startIdx: "+l+" availableIdxList: "+i+" delaysLength: "+c.length),t.btnLuckyDraws.node.setPosition(t.btnLuckyDraws.node.position.add(h.INFINITY_VEC3)),t.LabelSpinsLeft.node.setPosition(t.LabelSpinsLeft.node.position.add(h.INFINITY_VEC3)),r(s().mark((function e(){var n,a,r,d,b,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=0;case 2:if(!(a<=u)){e.next=13;break}if(t.enableHighlight((l+a)%t.rewards.length+1,i)){e.next=5;break}return e.abrupt("continue",10);case 5:return v.playEffect(h.MINIGAME_AUDIO_EFFECT_PREFIX+"luckydraws"),_.log("delay["+_.paddding(a,4)+"]["+_.paddding(parseFloat(""+n/1e3).toFixed(2),5,"0",2)+"]["+_.paddding(c[a].toFixed(2),6,"0",2)+"]: "+_.paddding((c[a]/1e3).toFixed(5),8,"0",5)),e.next=9,_.sleepBySchedule(t,c[a]/1e3);case 9:n+=c[a];case 10:a++,e.next=2;break;case 13:if(_.log("cost: "+(n/1e3).toFixed(2)+"s"),t.gotReward(o%t.rewards.length+1),t.btnLuckyDraws.enableCCButtonListenerWithoutTarget(!0),t.rewards[o][2]=1,_.log("rewarded!"),r=t.rewards[o][0],d=t.rewards[o][1],0!=r){e.next=24;break}k.addMoney(d),e.next=38;break;case 24:if(b=B.getRowsByTypeId(r)){e.next=27;break}return e.abrupt("return");case 27:if(f=w.getPropTodayCount(r),!(b.dailyAccessLimit>0&&f+d>=b.dailyAccessLimit)){e.next=37;break}if(!((d=b.dailyAccessLimit-f)<=0)){e.next=37;break}return C.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",""+p("tips_text"),"textures@Texture2D/Hall_Common/Hall_Common"),v.playEffect("failed"),t.btnLuckyDraws.node.setPosition(t.btnLuckyDraws.node.position.subtract(h.INFINITY_VEC3)),t.LabelSpinsLeft.node.setPosition(t.LabelSpinsLeft.node.position.subtract(h.INFINITY_VEC3)),t.updateUI(),e.abrupt("return");case 37:r==h.PROP_GOLD_ID?k.addGold(d):(w.addPropCount(r,d),w.addPropTodayCount(r,d));case 38:C.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",""+p("UI_Recharge_UI9","<img src='Item_"+r+"' width=72 height=72 offset=-15/> x",d),"textures@Texture2D/Hall_Item/Hall_Item"),v.playEffect(h.MINIGAME_AUDIO_EFFECT_PREFIX+"luckydraws_suc"),t.btnLuckyDraws.node.setPosition(t.btnLuckyDraws.node.position.subtract(h.INFINITY_VEC3)),t.LabelSpinsLeft.node.setPosition(t.LabelSpinsLeft.node.position.subtract(h.INFINITY_VEC3)),t.updateUI();case 43:case"end":return e.stop()}}),e)})))();break;case 10:m.emit(f.PUSH_EVENT,"ad_16"),D.showAds((function(){t.addNumOfLuckyDraws()}))||C.toast(k.SceneHallUI,"textures@prefabs/floatingBanner",p("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},e}(g)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameLuckyDraws",resType:y.Prefab},U=e((H=J).prototype,"LabelTips",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(H.prototype,"LabelTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"LabelSpinsLeft",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"btnRewards",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(H.prototype,"LlabelLuckyDraws",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"btnLuckyDraws",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(H.prototype,"SpriteVideo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(H.prototype,"LabelLuckyDrawsAds",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"btnLuckyDrawsAds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=H))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameLuckyDrawsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCLingoData.ts","./CCCacheRes.ts","./CCPopup.ts","./CCRichText.ts","./CCPropData.ts","./CCUtils.ts","./CCPlayerData.ts","./CCButton.ts","./CCDefine.ts","./CCEvent.ts"],(function(e){var t,i,n,o,r,s,l,a,c,u,p,h,b,d,m,f,C,y,I,L,g,v,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.Label,c=e.Canvas,u=e.EventHandler},function(e){p=e._T},function(e){h=e.CCResType,b=e.default},function(e){d=e.default},function(e){m=e.CCRichText},function(e){f=e.default},function(e){C=e.default},function(e){y=e.CCPlayerData,I=e.CC_NEWBIE_GUIDE_TYPE},function(e){L=e.CCButton},function(e){g=e.default,v=e.EVENT_TYPE},function(e){D=e.CCEvent}],execute:function(){var S,E,_,N,T,P,w,B,z,H,G,R,U,x,F,A,k,M,O,j,J,W;r._RF.push({},"6a077GPJghHRZ4rhoG989J3","CCPanelMiniGameLuckyDrawsItem",void 0);var Y=s.ccclass,V=s.property;e("CCPanelMiniGameLuckyDrawsItem",(S=Y("CCPanelMiniGameLuckyDrawsItem"),E=V({type:l}),_=V({type:a}),N=V({type:a}),T=V({type:m}),P=V({type:l}),w=V({type:l}),B=V({type:a}),z=V({type:L}),H=V({type:a}),S(((W=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"spriteItem",U,o(t)),n(t,"LabelTitle",x,o(t)),n(t,"LabelDesc",F,o(t)),n(t,"LabelItemDesc",A,o(t)),n(t,"SpriteItemDesc",k,o(t)),n(t,"SpriteNum",M,o(t)),n(t,"LabelNum",O,o(t)),n(t,"btnUse",j,o(t)),n(t,"LabelUse",J,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){},r.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1)},r.onDisable=function(){this.btnUse&&this.btnUse.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},r.onShow=function(){if(e.prototype.onShow&&e.prototype.onShow.call(this),g.ENABLE_NEWBIE_GUIDE&&610==y.getNewbieGuideStepsCompleted(I.LEFT_SCENE)){var t=y.getNewbieGuideStepsCompleted(I.LEFT_SCENE);if(t>0){var i=y.getNewbieGuideStepsNext(I.LEFT_SCENE,t);if(!i)return;D.emit(v.GOTO_NEXT,i.orderId)}}},r.init=function(e){this.options=e,this.updateUI()},r.updateUI=function(){var e=f.getRowsByTypeId(this.options.typeId);if(e){if(this.LabelTitle&&(this.LabelTitle.string=p(e.name)),this.LabelDesc&&(this.LabelDesc.string=p(e.desc)),this.spriteItem){var t=this.spriteItem.getComponent(l);t&&b.loadSpriteFrameAndBind(t,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+this.options.typeId)}if(0==e.func.length?(this.LabelItemDesc[0].node.active=!1,this.SpriteItemDesc[0].node.active=!1):C.setRichTextString(this.LabelItemDesc[0],"<size=24><color=#8F635C>"+p("Building_Item_Role")+" </color><color=#30b840>"+p(e.func)+"</color></size>"),0==e.access.length?(this.LabelItemDesc[1].node.active=!1,this.SpriteItemDesc[1].node.active=!1):C.setRichTextString(this.LabelItemDesc[1],"<size=24><color=#8F635C>"+p("Building_Item_Access")+" </color><color=#30b840>"+p(e.access)+"</color></size>"),0==e.dailyAccessLimit)this.LabelItemDesc[2].node.active=!1,this.SpriteItemDesc[2].node.active=!1;else{var i=y.getPropTodayCount(this.options.typeId);i>=e.dailyAccessLimit?C.setRichTextString(this.LabelItemDesc[2],"<size=24><color=#8F635C>"+p("Building_Item_SPDesc","</color><color=#ff0000>"+i+"</color><color=#30b840>",e.dailyAccessLimit+"</color></size>")):C.setRichTextString(this.LabelItemDesc[2],"<size=24><color=#8F635C>"+p("Building_Item_SPDesc","</color><color=#30b840>"+i,e.dailyAccessLimit+"</color></size>"))}if(this.LabelNum){var n=0;n=0==this.options.typeId?y.data.money:y.getPropCount(this.options.typeId),this.LabelNum.string=p("Building_Item_CurOwn")+" "+n}this.btnUse&&this.btnUse.enableCCButtonListener(this,null!=this.options.eventHandler&&this.options.eventHandler.handler.length>0,!1,this.onBtnPressStart),this.LabelNum&&(this.LabelNum.node.active=!(null!=this.options.eventHandler&&this.options.eventHandler.handler.length>0)),this.SpriteNum&&(this.SpriteNum.node.active=!(null!=this.options.eventHandler&&this.options.eventHandler.handler.length>0))}},r.onHidePanel=function(){this.hide(!1,0)},r.onBtnPressStart=function(e,t,i){e.event()},r.event=function(){this.options.eventHandler&&(this.onHidePanel(),this.options.eventHandler.handler.length&&u.emitEvents([this.options.eventHandler],this.options.typeId))},t}(d)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameLuckyDrawsItem",resType:h.Prefab},U=t((R=W).prototype,"spriteItem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"LabelTitle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"LabelDesc",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(R.prototype,"LabelItemDesc",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(R.prototype,"SpriteItemDesc",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(R.prototype,"SpriteNum",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(R.prototype,"LabelNum",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"btnUse",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(R.prototype,"LabelUse",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=R))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelMiniGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCLingoData.ts","./CCCacheRes.ts","./CCEffct.ts","./CCPopupManager.ts","./CCPopup.ts","./CCPanelMiniGameLuckyDraws.ts","./CCEvent.ts","./CCTween.ts"],(function(e){var t,n,i,a,r,o,s,l,u,c,p,f,b,C,h,d,m,y,L,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Label,c=e.Sprite,p=e.Canvas},function(e){f=e.CCButton},function(e){b=e._T},function(e){C=e.CCResType},function(e){h=e.CCEffect},function(e){d=e.default},function(e){m=e.default},function(e){y=e.CCPanelMiniGameLuckyDraws},function(e){L=e.CCEvent},function(e){g=e.CCTween}],execute:function(){var w,v,O,R,P,D,S,k,T,B,G,M,z,E,_,x;s._RF.push({},"fd1860pdwRH1aQR3tFxfWLr","CCPanelMiniGameOver",void 0);var N=l.ccclass,j=l.property;e("CCPanelMiniGameOver",(w=N("CCPanelMiniGameOver"),v=j({type:u}),O=j({type:u}),R=j({type:u}),P=j({type:u}),D=j({type:f}),S=j({type:c}),w(((x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"LabelTitle",B,a(t)),i(t,"LabelScore",G,a(t)),i(t,"LabelNumOfLuckyDraws",M,a(t)),i(t,"LlabelClaimRewards",z,a(t)),i(t,"btnClaimRewards",E,a(t)),i(t,"SpriteGameOver",_,a(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){},s.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.btnClaimRewards.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1)},s.onDisable=function(){e.prototype.onDisable&&e.prototype.onDisable.call(this),L.targetOff(this),this.btnClaimRewards.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},s.onHidePanel=function(){this.hide(!1,0)},s.init=function(e){this.options=e,this.updateUI()},s.updateUI=function(){var e=this;this.options.score<0||(this.LabelTitle&&(this.LabelTitle.string=b("buildingRight_gametext12")),this.LabelScore&&(this.LabelScore.string="",this.scheduleOnce((function(){e.LabelScore.string=""+e.options.score,g.scale(e.LabelScore.node,1.5)}),.5)),this.LabelNumOfLuckyDraws&&(this.LabelNumOfLuckyDraws.string=""+b("buildingRight_gametext14",this.options.numOfLuckyDraws)),this.LlabelClaimRewards&&(this.LlabelClaimRewards.string=""+b("buildingRight_gametext13")))},s.onBtnPressStart=function(e,t,n){switch(t){case 1:h.showLoading(r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.showPanel(y.resObj,{numOfLuckyDraws:e.options.numOfLuckyDraws},!0,0);case 1:case"end":return t.stop()}}),t)})))).then((function(){d.suspended.forEach((function(e){e.node.destroy()})),d.suspended.splice(0,d.suspended.length)}))}},t}(m)).resObj={bundleName:"textures",relativePath:"prefabs/panelMiniGameOver",resType:C.Prefab},B=t((T=x).prototype,"LabelTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"LabelScore",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"LabelNumOfLuckyDraws",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"LlabelClaimRewards",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"btnClaimRewards",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"SpriteGameOver",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelNetworkRetry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCLingoData.ts","./CCButton.ts","./CCPopup.ts","./CCCacheRes.ts"],(function(t){var e,r,n,i,o,a,l,u,s,p,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label},function(t){u=t.DEV},function(t){s=t._T},function(t){p=t.CCButton},function(t){c=t.default},function(t){y=t.CCResType}],execute:function(){var b,f,C,h,d,L,R,w,g,B,P,v;o._RF.push({},"c3af5wA7d1HrLZHahI6Jo2m","CCPanelNetworkRetry",void 0);var k=a.ccclass,N=a.property;t("CCPanelNetworkRetry",(b=k("CCPanelNetworkRetry"),f=N({type:l,tooltip:u}),C=N({type:l,tooltip:u}),h=N({type:l,tooltip:u}),d=N({type:p,tooltip:u}),b(((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"LabelTitle",w,i(e)),n(e,"LabelBody",g,i(e)),n(e,"LabelRetry",B,i(e)),n(e,"btnRetry",P,i(e)),e}r(e,t);var o=e.prototype;return o.onShow=function(){var t;null==(t=this.btnRetry)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},o.onHide=function(t){var e;null==(e=this.btnRetry)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},o.init=function(t){this.LabelTitle&&(this.LabelTitle.string=t.isNetworkErr?s("update1"):s("update4")),this.LabelBody&&(this.LabelBody.string=t.isNetworkErr?s("update2"):s("update5")),this.LabelRetry&&(this.LabelRetry.string=t.isNetworkErr?s("update3"):s("update6"))},o.onBtnPressStart=function(t,e,r){t.options.fnRetry&&t.options.fnRetry(),t.hide()},e}(c)).resObj={bundleName:"textures",relativePath:"prefabs/panelNetworkRetry",resType:y.Prefab},w=e((R=v).prototype,"LabelTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(R.prototype,"LabelBody",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"LabelRetry",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(R.prototype,"btnRetry",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelNpcUnlocked.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCCacheRes.ts","./env","./CCLingoData.ts","./CCNpcData.ts","./Npc.ts","./CCCatData.ts"],(function(e){var t,n,i,o,a,l,r,u,s,p,c,d,f,C,b,g,h,m,y,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Label,u=e.Node,s=e.UITransform,p=e.isValid,c=e.Vec3},function(e){d=e.default},function(e){f=e.default},function(e){C=e.CCResType,b=e.default},function(e){g=e.DEV},function(e){h=e._T},function(e){m=e.default},function(e){y=e.Npc},function(e){L=e.default}],execute:function(){var I,v,w,N,D,P,S,T,z,U,k,R,B,_,j,x,A,F;a._RF.push({},"e5e3aZARxRF4LWJtMMo5XIJ","CCPanelNpcUnlocked",void 0);var M=l.ccclass,V=l.property;e("CCPanelNpcUnlocked",(I=M("CCPanelNpcUnlocked"),v=V({type:r,tooltip:g}),w=V({type:r,tooltip:g}),N=V({type:u,tooltip:g}),D=V({type:r,tooltip:g}),P=V({type:r,tooltip:g}),S=V({type:r,tooltip:g}),T=V({displayName:"tagId"}),I(((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"LabelTitle",k,o(t)),i(t,"LabelDesc",R,o(t)),i(t,"SpriteItem",B,o(t)),i(t,"LabelCond1",_,o(t)),i(t,"LabelCond2",j,o(t)),i(t,"LabelNewCustomer",x,o(t)),i(t,"tagId",A,o(t)),t}n(t,e);var a=t.prototype;return a.onShow=function(){},a.onHide=function(e){},a.updateDisplay=function(e){this.tagId=e.tagId;var t=m.getRowsByTagId(this.tagId);if(t){if(this.SpriteItem){var n,i="man"+d.paddding(t.resId,3),o=this.SpriteItem.getChildByName("spine");o||(o=new u("spine"),this.SpriteItem.addChild(o));var a=o.getComponent(y)||o.addComponent(y);a.initSpine(i),a.showShadow(!1),null==(n=a.node.getComponent(s))||n.setAnchorPoint(.5,0),b.loadSpine(a.name,a.ske,(function(){var e;if(p(a)){a.animation(0,"idle"),a.pause();var t=null==(e=a.getComponent(s))?void 0:e.contentSize.clone();a.node.position=new c(0,-t.height/2,0)}else d.error("CCPanelNpcUnlocked.loadSpine.invalid.isDestoryed")}),(function(e){d.log("onBuildItem: loadSpine.failed: "+a.name+" ... error: "+e)}))}if(this.LabelTitle&&(this.LabelTitle.string=h(t.name)),this.LabelDesc&&(this.LabelDesc.string=h(t.desc)),this.LabelCond1){var l=[];t.needUnlockedCatId.forEach((function(e){var t=L.getRowsByTagId(e);t.name&&l.push(h(t.name))})),this.LabelCond1.string=h("NPCCondition1",l.join(""))}this.LabelCond2&&(this.LabelCond2.string=h("NPCCondition2",t.needOutsideLevel)),this.LabelNewCustomer&&(this.LabelNewCustomer.string=h("CatUI13"))}},t}(f)).resObj={bundleName:"textures",relativePath:"prefabs/panelNpcUnlocked",resType:C.Prefab},k=t((U=F).prototype,"LabelTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"LabelDesc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(U.prototype,"SpriteItem",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(U.prototype,"LabelCond1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"LabelCond2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"LabelNewCustomer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(U.prototype,"tagId",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=U))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelOutside.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCCacheRes.ts","./CCAdHelper.ts","./CCButton.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCOutsideNpc.ts","./CCEffct.ts","./CCFacadeData.ts","./CCAudioManager.ts","./CCTween.ts"],(function(e){var t,n,i,o,a,s,r,l,d,u,p,c,h,f,C,g,b,m,L,v,S,y,B,A,N,w,T,O,E,R,D,I,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Sprite,l=e.Label,d=e.Node,u=e.Vec3,p=e.UITransform,c=e.isValid,h=e.tween,f=e.find,C=e.ProgressBar},function(e){g=e.default},function(e){b=e.default},function(e){m=e.DEV},function(e){L=e.CCResType,v=e.default},function(e){S=e.default},function(e){y=e.CCButton},function(e){B=e._T},function(e){A=e.CCEvent},function(e){N=e.EVENT_TYPE,w=e.default},function(e){T=e.default},function(e){O=e.CCPlayerData},function(e){E=e.CCOutsideNpc},function(e){R=e.CCEffect},function(e){D=e.default},function(e){I=e.audioMgr},function(e){X=e.CCTween}],execute:function(){var k,P,U,F,_,V,x,z,M,H,q,W,j,G,Q,J,K,Y;a._RF.push({},"9a0b3DDedtFD5fEW3PqKAkq","CCPanelOutside",void 0);var Z=s.ccclass,$=s.property;e("CCPanelOutside",(k=Z("CCPanelOutside"),P=$({type:r,tooltip:m}),U=$({type:l,tooltip:m}),F=$({type:l,tooltip:m}),_=$({type:r,tooltip:m}),V=$({type:r,tooltip:m}),x=$({type:y,tooltip:m}),z=$({type:y,tooltip:m}),k(((Y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"SpriteBackend",q,o(t)),i(t,"LabelLeaflet",W,o(t)),i(t,"LabelTimeLeft",j,o(t)),i(t,"SpriteAnger",G,o(t)),i(t,"SpriteSmile",Q,o(t)),i(t,"btnVideo",J,o(t)),i(t,"btnUpgrade",K,o(t)),t.progressBar=null,t.spineXiaoshou=null,t.fnOnShow=null,t.outsideLevel=0,t.fnLoop=null,t.SpineArr=null,t}n(t,e);var a=t.prototype;return a.onShow=function(){this.doStart(),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},a.onHide=function(e){this.doEnd()},a.doStart=function(){var e=this;A.on(N.OUTSIDE_LEAFLET_REWARD,this.refreshUI,this),A.on(N.OUTSIDE_LEAFLET_UPGRADED,this.upgraded,this),A.on(N.LEAFLET_NOT_ENOUGH,this.onLeafletNotEnough,this),this.btnVideo.enableCCButtonListener(this,!0,!1,this.options.fnBtnVideo),this.btnUpgrade.enableCCButtonListener(this,!0,!1,this.options.fnBtnUpgrade);var t=.5,n=D.getRowsByLevel(O.data.outsideLevel);n&&(t=g.randomRange(n.minTimeIntervalForNpcAppear,n.maxTimeIntervalForNpcAppear)),this.fnLoop=function(){e.loop()},this.schedule(this.fnLoop,t),I.playMusic("street"),w.REQ_BANNER&&S.reqBannerAd(w.getAdMobUnitIdForBanner())},a.doEnd=function(){I.playMusic("catbgm2"),this.fnLoop&&(this.unschedule(this.fnLoop),this.fnLoop=null),this.btnVideo.enableCCButtonListener(this,!1,!1,this.options.fnBtnVideo),this.btnUpgrade.enableCCButtonListener(this,!1,!1,this.options.fnBtnUpgrade),this.unscheduleAllCallbacks(),this.spineXiaoshou&&(this.spineXiaoshou.selfDestroy(),this.spineXiaoshou=null),A.targetOff(this),w.REQ_BANNER&&S.closeBannerAd()},a.loop=function(){var e,t=g.randomRange(0,100);t<30||((t=g.randomRange(0,100))<20&&(e=O.getNpcUnlockedPreByProb())?this.generateNpc(e.tagId,e.resId,!0):(e=O.getNpcUnlockedByProb())&&this.generateNpc(e.tagId,e.resId,!1))},a.generateNpc=function(e,t,n){var i,o=this,a="man"+g.paddding(t,3),s=""+a,r=this.SpineArr.getChildByName(a);r=new d(a),this.SpineArr.addChild(r);var l=r.getComponent(E)||r.addComponent(E);l.initSpine(s),l.showShadow(!0),l.data.npcId=e,l.data.outsideIn=[new u(0,160,0),new u(0,360,0),new u(768,160,0),new u(768,360,0)],l.data.outsideOut=[new u(768,160,0),new u(768,360,0),new u(0,160,0),new u(0,360,0)];var f=g.random([0,l.data.outsideIn.length-1]),C=l.data.outsideIn[f].clone().add3f(0,160==l.data.outsideIn[f].y?g.randomRange(0,200):-g.randomRange(0,200),0);l.node.setPosition(C),null==(i=l.node.getComponent(p))||i.setAnchorPoint(.5,0),v.loadSpine(l.name,l.ske,(function(){var e;c(l)?(null==l||null==(e=l.node)||null==(e=e.getChildByName("spine"))||e.setScale(w.spineNpcScale,w.spineNpcScale,1),null==l||l.setSkinName("default"),null==l||l.timeScale(O.getSpineAnimationSpeed()),null==l||l.setSpeed(O.getSpineWalkSpeed()),null==l||l.animation(1,"walk",!0),null==l||l.showNewFlag(n),null==l||l.pause(!1),0==f||1==f?(l.data.flip=!0,g.flipNodeX(l.ske.node,!0)):(l.data.flip=!1,g.flipNodeX(l.ske.node,!1)),l&&l.node&&(l.data.tween=h(l.node).to(6,{position:l.data.outsideOut[f].clone().add3f(0,160==l.data.outsideOut[f].y?g.randomRange(0,200):-g.randomRange(0,200),0)}).call((function(){l.node.active=!1,l.node.children&&l.node.removeAllChildren(),l.node.removeFromParent(),l.node.destroy()})).start())):g.error("CCPanelOutside.loadSpine.invalid.isDestoryed")}),(function(e){c(r)?(o.SpineArr.removeChild(r),g.log("onBuildItem: loadSpine.failed: "+l.name+" ... error: "+e+" ... spineNode.removed")):g.log("onBuildItem: loadSpine.failed: "+l.name+" ... error: "+e+" ... spineNode.invalid")})),g.reOrderRender(this.SpineArr)},a.fnRecoverTimeLeft=function(){this.LabelLeaflet&&(this.LabelLeaflet.string=O.data.leaflet+"/"+T.data.OutSideFlyerRecoverMax);var e=Math.ceil(O.getNextLeafletRecoverTime()/1e3);e>0&&(this.LabelTimeLeft.string=""+g.formatTime(e)),this.LabelTimeLeft.node.active=O.data.leaflet<T.data.OutSideFlyerRecoverMax},a.updateDisplay=function(e){var t=this;this.refreshUI(),this.fnRecoverTimeLeft(),this.schedule((function(){t.fnRecoverTimeLeft()}),1)},a.refreshUI=function(){var e;(this.outsideLevel=O.data.outsideLevel,this.SpineArr||(this.SpineArr=f("Canvas/Background/SpineArr",this.node)),this.LabelLeaflet)||(this.LabelLeaflet=null==(e=f("Canvas/Background/LabelLeaflet",this.node))?void 0:e.getComponent(l));this.LabelLeaflet&&(this.LabelLeaflet.string=O.data.leaflet+"/"+T.data.OutSideFlyerRecoverMax),this.btnVideo&&(this.btnVideo.node.getChildByName("Label").getComponent(l).string="+"+T.data.OutSideFlyerRecoverCountByAds+B("FacadeUI2")),this.btnUpgrade&&(this.btnUpgrade.node.getChildByName("Label").getComponent(l).string=B("FacadeUI1")),v.loadSpriteFrameAndBind(this.SpriteBackend,"textures@Texture2D/Hall_Outside/Hall_Outside/out_building"+g.paddding(O.data.outsideLevel,2))},a.upgraded=function(e){var t=this;if(!(e<=T.data.DefaultStorefront)&&this.outsideLevel==e-1){var n=this.SpriteBackend.node.position.add3f(0,Math.abs(-518),0).clone();this.SpriteBackend.node.position=n.clone(),v.loadSpriteFrameAndBind(this.SpriteBackend,"textures@Texture2D/Hall_Outside/Hall_Outside/out_building"+g.paddding(e,2)),X.springJumpByCount(this.SpriteBackend.node,n,-518,2,1.5,.8,.4,.2,2.5,(function(){t.refreshUI()}))}},a.onLeafletNotEnough=function(){var e=this,t=0;this.spineXiaoshou?this.spineXiaoshou.node.active||(this.spineXiaoshou.node.active=!0,this.spineXiaoshou.spine.loop=!1,this.spineXiaoshou.spine.clearTracks(),this.spineXiaoshou.spine.setAnimation(0,"zhiyin2",!0),this.spineXiaoshou.spine.setCompleteListener((function(n){t<1?t++:e.spineXiaoshou.node.active=!1}))):R.clickHand(this.btnVideo.node,"textures@prefabs/spineXiaoshou",new u(0,0,0),null,(function(n){var i;(e.spineXiaoshou=n,e.spineXiaoshou.node.active=!0,e.spineXiaoshou.spine.loop=!1,e.spineXiaoshou.spine.clearTracks(),e.spineXiaoshou.node.position.add3f(0,-50,0),e.spineXiaoshou.spine.setAnimation(0,"zhiyin2",!0),e.spineXiaoshou.spine.setCompleteListener((function(n){t<1?t++:e.spineXiaoshou.node.active=!1})),e.progressBar)||(e.progressBar=null==(i=f("Canvas/ProgressBar",e.spineXiaoshou.node))?void 0:i.getComponent(C),e.progressBar.progress=1,e.progressBar.node.active=!1)}),!1)},t}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelOutside",resType:L.Prefab},q=t((H=Y).prototype,"SpriteBackend",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"LabelLeaflet",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"LabelTimeLeft",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(H.prototype,"SpriteAnger",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"SpriteSmile",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"btnVideo",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(H.prototype,"btnUpgrade",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=H))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelOutsideUpgrade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCEffct.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCFacadeData.ts","./CCSceneHall.ts","./CCSundryData.ts","./CCEvent.ts","./CCDefine.ts","./CCAudioManager.ts","./CCSpineGuide.ts"],(function(e){var t,i,n,l,r,a,o,u,s,f,p,c,b,d,h,g,C,L,y,v,m,w,S,N,E,U,x,_,D,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.Label,u=e.Sprite,s=e.RichText,f=e.Vec3,p=e.UITransform},function(e){c=e.default},function(e){b=e.default},function(e){d=e.DEV},function(e){h=e.CCButton},function(e){g=e.CCResType,C=e.default},function(e){L=e.default},function(e){y=e.CCEffect},function(e){v=e._T},function(e){m=e.CCPlayerData,w=e.CC_NEWBIE_GUIDE_TYPE},function(e){S=e.default},function(e){N=e.CCSceneHall},function(e){E=e.default},function(e){U=e.CCEvent},function(e){x=e.default,_=e.EVENT_TYPE},function(e){D=e.audioMgr},function(e){I=e.CCSpineGuide}],execute:function(){var T,B,P,F,O,z,R,H,A,M,V,G,j,k,Q,Y,q,J,W,K,X,Z,$,ee,te,ie,ne,le,re,ae,oe,ue,se,fe,pe,ce,be,de,he,ge,Ce,Le;r._RF.push({},"03aefo/7ehCRJn0xwjEpA/b","CCPanelOutsideUpgrade",void 0);var ye=a.ccclass,ve=a.property;e("CCPanelOutsideUpgrade",(T=ye("CCPanelOutsideUpgrade"),B=ve({type:o,tooltip:d}),P=ve({type:u,tooltip:d}),F=ve({type:u,tooltip:d}),O=ve({type:u,tooltip:d}),z=ve({type:o,tooltip:d}),R=ve({type:o,tooltip:d}),H=ve({type:u,tooltip:d}),A=ve({type:u,tooltip:d}),M=ve({type:u,tooltip:d}),V=ve({type:o,tooltip:d}),G=ve({type:o,tooltip:d}),j=ve({type:o,tooltip:d}),k=ve({type:o,tooltip:d}),Q=ve({type:s,tooltip:d}),Y=ve({type:u,tooltip:d}),q=ve({type:h,tooltip:d}),J=ve({type:s,tooltip:d}),W=ve({type:s,tooltip:d}),K=ve({type:h,tooltip:d}),T(((Le=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"labelTitle",$,l(t)),n(t,"imageOld",ee,l(t)),n(t,"imageNew",te,l(t)),n(t,"SpriteFrameCurrent",ie,l(t)),n(t,"LabelEffectCurrentTitle",ne,l(t)),n(t,"LabelEffectCurrentDesc",le,l(t)),n(t,"SpriteFrameNext",re,l(t)),n(t,"SpriteArrow",ae,l(t)),n(t,"SpriteEffectNext",oe,l(t)),n(t,"LabelEffectNextTitle",ue,l(t)),n(t,"LabelEffectNextDesc",se,l(t)),n(t,"LabelLvNow",fe,l(t)),n(t,"LabelLvNext",pe,l(t)),n(t,"labelUpgrade",ce,l(t)),n(t,"SpriteMoney",be,l(t)),n(t,"btnUpgrade",de,l(t)),n(t,"contentNeedVip",he,l(t)),n(t,"labelFullLevel",ge,l(t)),n(t,"btnFullLevel",Ce,l(t)),t}i(t,e);var r=t.prototype;return r.onShow=function(){x.REQ_BANNER&&L.reqBannerAd(x.getAdMobUnitIdForBanner()),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},r.onHide=function(e){var t;null==(t=this.btnUpgrade)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),x.REQ_BANNER&&L.closeBannerAd()},r.updateDisplay=function(){this.refreshUI()},r.refreshUI=function(){var e=m.data.outsideLevel,t=S.getRowsByLevel(e);if(t){var i,n,l,r,a,o=S.getRowsByLevel(e+1),u=m.getNewbieGuideStepsCompleted(w.OUTSIDE_UPGRADE);if(this.labelTitle&&(this.labelTitle.string=v("FacadeUI1")),this.LabelEffectCurrentTitle&&(this.LabelEffectCurrentTitle.string=v("StaffUI3")),this.LabelEffectCurrentDesc&&(this.LabelEffectCurrentDesc.string=v(t.desc)),this.SpriteFrameNext&&(this.SpriteFrameNext.node.active=!!o),this.LabelLvNow)if(this.LabelLvNow.string="Lv."+t.level.toString(),!o)this.LabelLvNow.node.position=new f(-(null==(i=this.LabelLvNow.getComponent(p))?void 0:i.contentSize.width)/2||0,this.LabelLvNow.node.position.y,0);if(this.LabelLvNext&&(this.LabelLvNext.string="Lv."+(o?o.level.toString():t.level.toString())),this.LabelEffectNextTitle&&(this.LabelEffectNextTitle.string=v("StaffUI4"),this.LabelEffectNextTitle.node.active=!!o),this.LabelEffectNextDesc&&(o&&(this.LabelEffectNextDesc.string=v(o.desc)),this.LabelEffectNextDesc.node.active=!!o),this.SpriteMoney&&(this.SpriteMoney.node.active=!!o&&402!=u),this.labelUpgrade&&(o&&(this.labelUpgrade.string=402==u?"<outline color=#1e678f width=2>"+v("UI_hall_button7_5")+"</outline>":v("StaffUI6","<outline color=#1e678f width=2>"+t.needMoney)+"</outline>"),this.labelUpgrade.node.active=!!o),this.labelFullLevel&&(this.labelFullLevel.string=v("StaffUI2"),this.labelFullLevel.node.active=!o),this.contentNeedVip&&(o&&c.setRichTextString(this.contentNeedVip,v("CatRoomPartUI10","  <img src='main_icon02' width=49 height=33 offset=5/>  ",t.needVip),"textures@Texture2D/Hall_UI/Hall_UI"),this.contentNeedVip.node.active=!!o),o)null==(n=this.btnUpgrade)||n.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(l=this.btnFullLevel)||l.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.imageNew&&C.loadSpriteFrameAndBind(this.imageNew,"textures@Texture2D/Hall_Outside/Hall_Outside/out_building_thumb"+c.paddding(e+1,2));else null==(r=this.btnUpgrade)||r.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(a=this.btnFullLevel)||a.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.imageNew&&(this.imageNew.node.active=!1);this.imageOld&&(C.loadSpriteFrameAndBind(this.imageOld,"textures@Texture2D/Hall_Outside/Hall_Outside/out_building_thumb"+c.paddding(e,2)),o||(this.imageOld.node.position=new f(0,this.imageOld.node.position.y,0))),this.SpriteEffectNext&&(this.SpriteEffectNext.node.active=!!o),this.SpriteArrow&&(this.SpriteArrow.node.active=!!o),this.LabelLvNext&&(this.LabelLvNext.node.active=!!o)}},r.onBtnPressStart=function(e,t,i){switch(t){case 0:e.hide();break;case 1:var n=m.data.money,l=m.data.vip,r=m.data.outsideLevel+1,a=403==I.currentOrderId&&403==m.getNewbieGuideStepsCompleted(w.OUTSIDE_UPGRADE)&&1==m.data.outsideLevel,o=S.getRowsByLevel(m.data.outsideLevel);if(!o)return e.refreshUI(),!1;if(!S.getRowsByLevel(r))return e.refreshUI(),!1;if(!a){if(n<o.needMoney)return y.toast(N.SceneHallUI,"textures@prefabs/floatingBanner",""+v(E.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",o.needMoney),"textures@Texture2D/Hall_UI/Hall_UI"),D.playEffect("failed"),!1;if(l<o.needVip)return y.toast(N.SceneHallUI,"textures@prefabs/floatingBanner",""+v(E.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=5/> x",o.needVip),"textures@Texture2D/Hall_UI/Hall_UI"),D.playEffect("failed"),!1}return a||N.addMoney(-o.needMoney),m.updateOutsideLevel(r),e.refreshUI(),D.playEffect("success"),y.toast(N.SceneHallUI,"textures@prefabs/floatingBanner",""+v("tishshop2"),"textures@Texture2D/Hall_UI/Hall_UI"),U.emit(_.OUTSIDE_LEAFLET_UPGRADED,r),!0}},t}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelOutsideUpgrade",resType:g.Prefab},$=t((Z=Le).prototype,"labelTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Z.prototype,"imageOld",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Z.prototype,"imageNew",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Z.prototype,"SpriteFrameCurrent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Z.prototype,"LabelEffectCurrentTitle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Z.prototype,"LabelEffectCurrentDesc",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Z.prototype,"SpriteFrameNext",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Z.prototype,"SpriteArrow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Z.prototype,"SpriteEffectNext",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Z.prototype,"LabelEffectNextTitle",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Z.prototype,"LabelEffectNextDesc",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Z.prototype,"LabelLvNow",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Z.prototype,"LabelLvNext",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Z.prototype,"labelUpgrade",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Z.prototype,"SpriteMoney",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Z.prototype,"btnUpgrade",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Z.prototype,"contentNeedVip",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Z.prototype,"labelFullLevel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(Z.prototype,"btnFullLevel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Z))||X));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelProductsSale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCLingoData.ts","./CCSundryData.ts","./CCPlayerData.ts","./CCSceneHall.ts","./CCDefine.ts","./CCEvent.ts","./CCEffct.ts"],(function(t){var e,n,i,a,r,l,o,s,u,c,p,f,b,C,d,h,S,y,P,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,o=t.Label},function(t){s=t.default},function(t){u=t.DEV},function(t){c=t.CCButton},function(t){p=t.CCResType},function(t){f=t.default},function(t){b=t._T},function(t){C=t.default},function(t){d=t.CCPlayerData},function(t){h=t.CCSceneHall},function(t){S=t.default,y=t.EVENT_TYPE},function(t){P=t.CCEvent},function(t){m=t.CCEffect}],execute:function(){var _,v,g,w,R,E,T,B,L,D,M,N,z,A,H,I;r._RF.push({},"2f154Jo10tFB6sn/zDAfwdZ","CCPanelProductsSale",void 0);var U=l.ccclass,V=l.property;t("CCPanelProductsSale",(_=U("CCPanelProductsSale"),v=V({type:o,tooltip:u}),g=V({type:o,tooltip:u}),w=V({type:o,tooltip:u}),R=V({type:o,tooltip:u}),E=V({type:o,tooltip:u}),T=V({type:c,tooltip:u}),_(((I=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"labelTitle",D,a(e)),i(e,"contentTitle",M,a(e)),i(e,"LabelRewardMoney",N,a(e)),i(e,"LabelRewardVip",z,a(e)),i(e,"labelSubmit",A,a(e)),i(e,"btnSubmit",H,a(e)),e}n(e,t);var r=e.prototype;return r.onShow=function(){var t;null==(t=this.btnSubmit)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),S.REQ_BANNER&&f.reqBannerAd(S.getAdMobUnitIdForBanner())},r.onHide=function(t){var e;null==(e=this.btnSubmit)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),S.REQ_BANNER&&f.closeBannerAd()},r.init=function(t){this.options=t,this.labelTitle&&(this.labelTitle.string=b("UI_Event_Npc2003")),this.contentTitle&&(this.contentTitle.string=b("UI_Event_Npc2003_1")),this.labelSubmit&&(this.labelSubmit.string=b("UI_Event_Npc_tongyong"));var e=C.data.SpCus2003_Params[0],n=C.data.SpCus2003_Params[1],i=C.data.SpCus2003_Params[2],a=C.data.SpCus2003_Params[3],r=C.data.SpCus2003_Params[4],l=0;if(this.LabelRewardMoney){var o=Math.floor(d.data.RPM*e);l=o>i?i:o,l=o>n?o:n,this.LabelRewardMoney.string=""+l}var s=0;if(this.LabelRewardVip){var u=Math.floor(d.data.vip*a/100);s=u>r?r:u,this.LabelRewardVip.string=""+s}d.setRewardProductsSale([l,s])},r.onBtnClose=function(t){this.options.fnClose&&this.options.fnClose(this)},r.onBtnPressStart=function(t,e,n){P.emit(y.PUSH_EVENT,"ad_5"),f.showAds((function(){d.setRewardProductsSaleTime();var e=d.getRewardProductsSale();if(2==e.length){var n=e[0],i=e[1];n>0&&h.addMoney(n),i>0&&h.addVip(i)}t.options.fnSubmit&&t.options.fnSubmit(t),t.hide(!1,0)}))||m.toast(h.SceneHallUI,"textures@prefabs/floatingBanner",b("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},e}(s)).resObj={bundleName:"textures",relativePath:"prefabs/panelProductsSale",resType:p.Prefab},D=e((L=I).prototype,"labelTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(L.prototype,"contentTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(L.prototype,"LabelRewardMoney",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"LabelRewardVip",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"labelSubmit",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"btnSubmit",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelRecharge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCCacheRes.ts","./CCAdHelper.ts","./CCButton.ts","./CCLingoData.ts","./CCDefine.ts"],(function(e){var t,n,i,o,r,a,s,l,c,u,p,h,b,g,C,f,d,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Label,c=e.find,u=e.RichText},function(e){p=e.default},function(e){h=e.default},function(e){b=e.DEV},function(e){g=e.CCResType},function(e){C=e.default},function(e){f=e.CCButton},function(e){d=e._T},function(e){v=e.default}],execute:function(){var R,y,B,T,S,_,m,L,I,U,P,D,z,k;r._RF.push({},"1d8c2gjg4tKrZsZ0l+Pf2k1","CCPanelRecharge",void 0);var w=a.ccclass,M=a.property;e("CCPanelRecharge",(R=w("CCPanelRecharge"),y=M({type:f,tooltip:b}),B=M({type:s,tooltip:b}),T=M({type:l,tooltip:b}),S=M({type:f,tooltip:b}),_=M({type:f,tooltip:b}),R(((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"btnTitle",I,o(t)),i(t,"SprTip",U,o(t)),i(t,"LabelMoneyVal",P,o(t)),i(t,"btnReceive",D,o(t)),i(t,"btnReceiveDouble",z,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.SprTip&&(this.SprTip.node.active=!1)},r.onDestroy=function(){},r.onShow=function(){var e,t,n;this.LabelMoneyVal&&(this.LabelMoneyVal.string=this.options.money.toString()),null==(e=this.btnTitle)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(t=this.btnReceive)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(n=this.btnReceiveDouble)||n.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.SprTip&&(this.SprTip.node.active=!1),v.REQ_BANNER&&C.reqBannerAd(v.getAdMobUnitIdForBanner())},r.onHide=function(e){var t,n,i;p.log("onHide: "+this.node.name),null==(t=this.btnTitle)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnReceive)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(i=this.btnReceiveDouble)||i.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.SprTip&&(this.SprTip.node.active=!1),v.REQ_BANNER&&C.closeBannerAd()},r.updateDisplay=function(e){this.LabelMoneyVal&&(this.LabelMoneyVal.string=e.money.toString());var t=c("Canvas/Background/SprTip/LabelRechargePerMinute",this.node);t&&(t.getComponent(u).string=d("UI_Recharge_UI4","<color=#30B840><size=18>"+e.RPM+"</size></color>"));var n=c("Canvas/Background/SprTip/LabelRechargeLimit",this.node);n&&(n.getComponent(u).string=d("UI_Recharge_UI5","<color=#30B840><size=18>"+e.RL+"</size></color>"));var i=c("Canvas/Background/SprTip/LabelTip",this.node);i&&(i.getComponent(l).string=d("UI_Recharge_UI6"));var o=c("Canvas/Background/Title",this.node);o&&(o.getComponent(l).string=d("UI_Recharge_UI2"));var r=c("Canvas/Background/Body",this.node);r&&(r.getComponent(l).string=d("UI_Recharge_UI8"));var a=c("Canvas/Background/Body2",this.node);if(a&&(a.getComponent(l).string=d("UI_Recharge_UI3")),this.btnReceive&&(this.btnReceive.node.getChildByName("Label").getComponent(l).string=d("UI_Recharge_UI7")),this.btnReceiveDouble){var s,h=null==(s=this.btnReceiveDouble.node.getChildByName("CCRichText"))?void 0:s.getComponent("CCRichText");p.setRichTextString(h,d("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> x2</outline>"),"textures@Texture2D/Hall_UI/Hall_UI")}},r.onBtnPressStart=function(e,t,n){switch(t){case 1:e.options.fnReceive&&e.options.fnReceive(e,e.options.money);break;case 2:e.options.fnReceiveDouble&&e.options.fnReceiveDouble(e,e.options.money);break;case 3:e.SprTip&&(e.SprTip.node.active=!e.SprTip.node.active)}},t}(h)).resObj={bundleName:"textures",relativePath:"prefabs/panelRecharge",resType:g.Prefab},I=t((L=k).prototype,"btnTitle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"SprTip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(L.prototype,"LabelMoneyVal",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"btnReceive",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"btnReceiveDouble",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=L))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelRechargeGold.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./env","./CCCacheRes.ts","./CCAdHelper.ts","./CCButton.ts","./CCLingoData.ts","./CCRichText.ts","./CCDefine.ts"],(function(e){var t,i,n,o,r,a,l,s,u,c,p,h,b,g,R,C,d,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.Label,u=e.find,c=e.RichText},function(e){p=e.default},function(e){h=e.default},function(e){b=e.DEV},function(e){g=e.CCResType},function(e){R=e.default},function(e){C=e.CCButton},function(e){d=e._T},function(e){f=e.CCRichText},function(e){v=e.default}],execute:function(){var T,_,B,S,L,y,m,I,U,x,P,D,G,w,M,z;r._RF.push({},"3621830AAlBhLXM1fwTat5R","CCPanelRechargeGold",void 0);var H=a.ccclass,k=a.property;e("CCPanelRechargeGold",(T=H("CCPanelRechargeGold"),_=k({type:C,tooltip:b}),B=k({type:l,tooltip:b}),S=k({type:s,tooltip:b}),L=k({type:f,tooltip:b}),y=k({type:C,tooltip:b}),m=k({type:C,tooltip:b}),T(((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"btnTitle",x,o(t)),n(t,"SprTip",P,o(t)),n(t,"LabelTotal",D,o(t)),n(t,"LabelMinute",G,o(t)),n(t,"btnReceive",w,o(t)),n(t,"btnReceiveDouble",M,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.SprTip&&(this.SprTip.node.active=!1)},r.onDestroy=function(){},r.onShow=function(){var e,t,i;this.LabelTotal&&(this.LabelTotal.string=""+d("buildingRight_popup_text5",this.options.RRG.toString(),this.options.RLG.toString())),this.LabelMinute&&p.setRichTextString(this.LabelMinute,"<color=#8F635C>"+d("buildingRight_popup_text6",this.options.RPMG,"</color><img src='main_icon09' />"),"textures@Texture2D/Hall_UI/Hall_UI"),null==(e=this.btnTitle)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(t=this.btnReceive)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(i=this.btnReceiveDouble)||i.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.SprTip&&(this.SprTip.node.active=!1),v.REQ_BANNER&&R.reqBannerAd(v.getAdMobUnitIdForBanner()),this.options&&this.options.fnOnShow&&this.options.fnOnShow(this)},r.onHide=function(e){var t,i,n;p.log("onHide: "+this.node.name),null==(t=this.btnTitle)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(i=this.btnReceive)||i.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnReceiveDouble)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.SprTip&&(this.SprTip.node.active=!1),v.REQ_BANNER&&R.closeBannerAd()},r.updateDisplay=function(e){this.LabelTotal&&(this.LabelTotal.string=""+d("buildingRight_popup_text5",this.options.RRG.toString(),this.options.RLG.toString())),this.LabelMinute&&p.setRichTextString(this.LabelMinute,"<color=#8F635C>"+d("buildingRight_popup_text6",this.options.RPMG,"</color><img src='main_icon09' />"),"textures@Texture2D/Hall_UI/Hall_UI");var t=u("Canvas/Background/SprTip/LabelRechargePerMinute",this.node);t&&(t.getComponent(c).string=d("UI_Recharge_UI4","<color=#30B840><size=18>"+e.RPMG+"</size></color>"));var i=u("Canvas/Background/SprTip/LabelRechargeLimit",this.node);i&&(i.getComponent(c).string=d("UI_Recharge_UI5","<color=#30B840><size=18>"+e.RLG+"</size></color>"));var n=u("Canvas/Background/SprTip/LabelTip",this.node);n&&(n.getComponent(s).string=d("UI_Recharge_UI6"));var o=u("Canvas/Background/Title",this.node);o&&(o.getComponent(s).string=d("UI_Recharge_UI2"));var r=u("Canvas/Background/Body",this.node);r&&(r.getComponent(s).string=d("UI_Recharge_UI8"));var a=u("Canvas/Background/Body2",this.node);if(a&&(a.getComponent(s).string=d("UI_Recharge_UI3")),this.btnReceive&&(this.btnReceive.node.getChildByName("Label").getComponent(s).string=d("UI_Recharge_UI7")),this.btnReceiveDouble){var l,h=null==(l=this.btnReceiveDouble.node.getChildByName("CCRichText"))?void 0:l.getComponent("CCRichText");p.setRichTextString(h,d("UI_Recharge_UI9","<img src='main_icon09' width=36 height=36 offset=0/>","<outline color=#1e678f width=2> x2</outline>"),"textures@Texture2D/Hall_UI/Hall_UI")}},r.onBtnPressStart=function(e,t,i){switch(t){case 1:e.options.fnReceive&&e.options.fnReceive(e,e.options.RRG);break;case 2:e.options.fnReceiveDouble&&e.options.fnReceiveDouble(e,e.options.RRG);break;case 3:e.SprTip&&(e.SprTip.node.active=!e.SprTip.node.active)}return!0},t}(h)).resObj={bundleName:"textures",relativePath:"prefabs/panelRechargeGold",resType:g.Prefab},x=t((U=z).prototype,"btnTitle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(U.prototype,"SprTip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"LabelTotal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(U.prototype,"LabelMinute",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(U.prototype,"btnReceive",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(U.prototype,"btnReceiveDouble",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=U))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelRepair.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCButton.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCDefine.ts","./CCPanelManagementStaffDetails.ts","./CCEvent.ts","./CCSceneHall.ts","./CCPopupManager.ts","./CCStaffData.ts","./CCEffct.ts","./CCAudioManager.ts"],(function(e){var t,n,i,s,a,o,r,l,u,f,c,p,d,C,h,T,g,R,m,_,I,A,v,S,b;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,o=e.find,r=e.Label,l=e.Sprite},function(e){u=e.default},function(e){f=e.default},function(e){c=e.CCResType},function(e){p=e.default},function(e){d=e.CCButton},function(e){C=e._T},function(e){h=e.CCPlayerData},function(e){T=e.StaffType,g=e.default,R=e.EVENT_TYPE},function(e){m=e.CCPanelManagementStaffDetails},function(e){_=e.CCEvent},function(e){I=e.CCSceneHall},function(e){A=e.default},function(e){v=e.default},function(e){S=e.CCEffect},function(e){b=e.audioMgr}],execute:function(){var P,k;s._RF.push({},"2e1853CnCFNGZCk/rysp7IA","CCPanelRepair",void 0);var y=a.ccclass;a.property,e("CCPanelRepair",y("CCPanelRepair")(((k=function(e){function s(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).labelTitle=null,t.contentTitle=null,t.contentBody=null,t.remainingTimes=null,t.remainingTimesAfter=null,t.btnRepair=null,t.btnQuickRepair=null,t.SpriteTime=null,t.fnTimer=null,t}t(s,e);var a=s.prototype;return a.onLoad=function(){},a.onDestroy=function(){},a.onShow=function(){var e,t,n=this;null==(e=this.btnRepair)||e.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),null==(t=this.btnQuickRepair)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.fnTimer||(this.fnTimer=function(){var e=h.getStaffLevelUsing(T.REPAIRMAN);e&&(n.remainingTimes&&(n.remainingTimes.string=C("UI_tray_Pop_6",""+e.skillsCount,""+e.skillsMaxCount)),u.setRichTextString(n.remainingTimesAfter,C("UI_Recharge_UI9","<color=#30b840>Add 1</color> ","<color=#8F635C>after "+u.formatTime(e.skillsLeftTime)+"</color>"),"textures@Texture2D/Hall_UI/Hall_UI"),n.remainingTimesAfter&&(n.remainingTimesAfter.node.active=e.skillsCount<e.skillsMaxCount),n.SpriteTime&&(n.SpriteTime.node.active=e.skillsCount<e.skillsMaxCount))}),this.fnTimer(),this.schedule(this.fnTimer,1),g.REQ_BANNER&&p.reqBannerAd(g.getAdMobUnitIdForBanner())},a.onHide=function(e){var t,n;this.fnTimer&&(this.unschedule(this.fnTimer),this.fnTimer=null),null==(t=this.btnRepair)||t.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),null==(n=this.btnQuickRepair)||n.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),g.REQ_BANNER&&p.closeBannerAd()},a.init=function(){var e=n(i().mark((function e(t){var n,s,a,f,c,p,g,R;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.options=t,n=h.getStaffLevelUsing(T.REPAIRMAN),this.SpriteTime||(this.SpriteTime=null==(s=o("Canvas/Background/SpriteTime",this.node))?void 0:s.getComponent(l)),this.SpriteTime&&(this.SpriteTime.node.active=!!n),this.labelTitle=u.findLabelAndSetString(this.node,"Canvas/Background/Title",C("UI_tray_Pop_1")),this.contentTitle=u.findLabelAndSetString(this.node,"Canvas/Background/ContentTitle",C("UI_tray_Pop_2")),this.contentBody=u.findLabelAndSetString(this.node,"Canvas/Background/ContentBody",C("UI_tray_Pop_3")),!n){e.next=14;break}return this.remainingTimes=u.findLabelAndSetString(this.node,"Canvas/Background/RemainingTimes",C("UI_tray_Pop_6",""+n.skillsCount,""+n.skillsMaxCount)),e.next=11,u.findRichTextAndSetString(this.node,"Canvas/Background/RemainingTimesAfter",C("UI_Recharge_UI9","<color=#30b840>Add 1</color> ","<color=#8F635C>after "+u.formatTime(n.skillsLeftTime)+"</color>"),"textures@Texture2D/Hall_UI/Hall_UI");case 11:this.remainingTimesAfter=e.sent,this.remainingTimesAfter&&(this.remainingTimesAfter.node.active=n.skillsCount<n.skillsMaxCount),this.SpriteTime&&(this.SpriteTime.node.active=n.skillsCount<n.skillsMaxCount);case 14:this.btnRepair||(this.btnRepair=null==(a=o("Canvas/Background/btnRepair",this.node))?void 0:a.getComponent(d)),this.btnRepair&&(c=null==(f=this.btnRepair.node)?void 0:f.getComponent(r))&&(c.string=C("UI_tray_Pop_4")),this.btnQuickRepair||(this.btnQuickRepair=null==(p=o("Canvas/Background/btnQuickRepair",this.node))?void 0:p.getComponent(d)),this.btnQuickRepair&&(R=null==(g=this.btnQuickRepair.node)?void 0:g.getComponent(r))&&(R.string=C("UI_tray_Pop_5"));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.onBtnPressStart=function(e,t,n){switch(t){case 1:if(h.getStaffLevelUsing(T.REPAIRMAN))return h.setStaffLevelUsingUseSkills(T.REPAIRMAN)?(h.setQuickRepairCushionTypeId(e.options.cushionTypeId),h.setQuickRepairCushionPos(e.options.brokenPos),_.emit(R.CAT_TREE_WAITTING_STAFF_REPAIR,e.options.cushionTypeId,e.options.brokenPos),void e.hide()):(b.playEffect("failed"),void S.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",C("UI_tray_Pop_8"),"textures@Texture2D/Hall_UI/Hall_UI"));var i=v.getRowByTagIdAndLevel(T.REPAIRMAN,1);if(!i)return;return void A.showPanel(m.resObj,{notifyIdx:0,typeId:T.REPAIRMAN,level:1,fnRecruitable:function(){if(!h.setStaffLevelUsingUseSkills(T.REPAIRMAN))return b.playEffect("failed"),void S.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",C("UI_tray_Pop_8"),"textures@Texture2D/Hall_UI/Hall_UI");h.setQuickRepairCushionTypeId(e.options.cushionTypeId),h.setQuickRepairCushionPos(e.options.brokenPos),_.emit(R.CAT_TREE_WAITTING_STAFF_REPAIR,e.options.cushionTypeId,e.options.brokenPos),e.hide()},fnUpgrade:function(){},fnAcclerator:function(e){_.emit(R.PUSH_EVENT,"ad_13"),p.showAds((function(){h.setStaffLevelUsingUpgradeDone(e),_.emit(R.STAFF_ACCLERATOR,"")}))||S.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",C("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},fnFillMoney:function(e){var t=h.getStaffLevelUsing(e);i=t?v.getRowByTagIdAndLevel(t.tagId,t.level+1):v.getRowByTagIdAndLevel(e,1);var n=h.data.money;if(n<i.needMoney){var s=i.needMoney-n;p.showAds((function(){I.addMoney(s),_.emit(R.STAFF_FILLMONEY,"")}))||S.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",C("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},fnFullLevel:function(){},fnComplete:function(){}},!0);case 2:_.emit(R.PUSH_EVENT,"ad_13"),p.showAds((function(){e.hide(!1,0),h.setQuickRepairCushionTypeId(e.options.cushionTypeId),h.setQuickRepairCushionPos(e.options.brokenPos),_.emit(R.CAT_TREE_QUICK_REPAIR,e.options.cushionTypeId,e.options.brokenPos)}))||S.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",C("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},s}(f)).resObj={bundleName:"textures",relativePath:"prefabs/panelRepair",resType:c.Prefab},P=k))||P);s._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSecrets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCLingoData.ts"],(function(e){var t,n,a,i,l,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator},function(e){i=e.default},function(e){l=e.CCResType},function(e){s=e._T}],execute:function(){var r,o;n._RF.push({},"83316eYtn9CEKCMSxS9Ocv3","CCPanelSecrets",void 0);var c=a.ccclass;a.property,e("CCPanelSecrets",c("CCPanelSecrets")(((o=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).Title=null,t.LabelPromotion=null,t.LabelObtainIncome=null,t.LabelMinimalistFrontDesk=null,t.LabeBigOrange=null,t.LabeCleaner=null,t.LabeCleanerBubbles=null,t.LabeUpgradFacilities=null,t.LabePurchaseCat=null,t.LabeRecruitingStaff=null,t.LabelMoney1=null,t.LabelMoney2=null,t.LabelMoney3=null,t}t(n,e);var a=n.prototype;return a.init=function(e){this.options=e},a.onLoad=function(){this.Title&&(this.Title.string=s("GameTipsUI1")),this.LabelPromotion&&(this.LabelPromotion.string=s("GameTipsUI2")),this.LabelObtainIncome&&(this.LabelObtainIncome.string=s("GameTipsUI3")),this.LabeUpgradFacilities&&(this.LabeUpgradFacilities.string=s("GameTipsUI4")),this.LabePurchaseCat&&(this.LabePurchaseCat.string=s("GameTipsUI5")),this.LabeRecruitingStaff&&(this.LabeRecruitingStaff.string=s("GameTipsUI6"))},n}(i)).resObj={bundleName:"textures",relativePath:"prefabs/panelSecrets",resType:l.Prefab},r=o))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSeekSponsor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPopup.ts","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCDefine.ts","./CCLingoData.ts","./CCPopupManager.ts","./CCPanelSeekSponsorRewards.ts","./CCPlayerData.ts","./CCEvent.ts","./CCDrawData.ts","./CCEffct.ts","./CCSceneHall.ts","./CCSceneMain.ts","./CCAudioManager.ts"],(function(e){var t,n,i,r,a,s,o,l,u,c,p,b,C,S,f,h,d,k,y,P,g,E,v,_,L,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Label,l=e.Canvas,u=e.Vec3},function(e){c=e.default},function(e){p=e.default},function(e){b=e.CCButton},function(e){C=e.CCResType},function(e){S=e.default},function(e){f=e.EVENT_TYPE,h=e.default},function(e){d=e._T},function(e){k=e.default},function(e){y=e.CCPanelSeekSponsorRewards},function(e){P=e.CCPlayerData},function(e){g=e.CCEvent},function(e){E=e.default},function(e){v=e.CCEffect},function(e){_=e.CCSceneHall},function(e){L=e.CCSceneMain},function(e){D=e.audioMgr}],execute:function(){var A,B,m,T,w,I,O,R,F,x,U,z,H,N,K,M,G,V,Y,W,j,X;a._RF.push({},"0af2afoKl9OtLslpctG9guU","CCPanelSeekSponsor",void 0);var q=s.ccclass,J=s.property;e("CCPanelSeekSponsor",(A=q("CCPanelSeekSponsor"),B=J({type:o}),m=J({type:o}),T=J({type:o}),w=J({type:o}),I=J({type:o}),O=J({type:b}),R=J({type:b}),F=J({type:b}),x=J({type:b}),A(((X=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"LabelTitle",H,r(t)),i(t,"LabelSeekDesc",N,r(t)),i(t,"LabelSeekAdvDesc",K,r(t)),i(t,"LabelSeek",M,r(t)),i(t,"LabelSeekAdv",G,r(t)),i(t,"btnFinder",V,r(t)),i(t,"btnSeek",Y,r(t)),i(t,"btnFinderAdv",W,r(t)),i(t,"btnSeekAdv",j,r(t)),t.isWatchedAds=!1,t}n(t,e);var a=t.prototype;return a.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1),this.btnFinder&&this.btnFinder.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnSeek&&this.btnSeek.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnFinderAdv&&this.btnFinderAdv.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnSeekAdv&&this.btnSeekAdv.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),g.on(f.SEEK_SPONSOR_REFRESH,this.updateUI,this),g.on(f.SEEK_SPONSOR_LUCKY_DRAW,this.luckyDraw,this)},a.onDisable=function(){g.targetOff(this),this.btnFinder&&this.btnFinder.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnSeek&&this.btnSeek.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnFinderAdv&&this.btnFinderAdv.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnSeekAdv&&this.btnSeekAdv.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.updateDisplay=function(e){this.options=e,this.updateUI()},a.updateUI=function(){var e,t,n;(this.LabelTitle&&(this.LabelTitle.string=d("SponsorText1")),this.LabelSeekDesc&&(this.LabelSeekDesc.string=d("SponsorText2")),this.LabelSeekAdvDesc&&(this.LabelSeekAdvDesc.string=d("SponsorText3")),this.LabelSeek&&(this.LabelSeek.string=d("SponsorText4",P.getSeekSponsorCount(),h.appConfig.ss)),this.LabelSeekAdv&&(this.LabelSeekAdv.string=d("SponsorText5")),this.btnSeek)&&(P.getSeekSponsorCount()>0?null==(e=this.btnSeek.getComponent(b))||e.setGray(!1,!1,this.onBtnPressStart):null==(t=this.btnSeek.getComponent(b))||t.setGray(!0,!0,this.onBtnPressStart));this.btnSeekAdv&&(null==(n=this.btnSeekAdv.getComponent(b))||n.setGray(!1,!1,this.onBtnPressStart))},a.luckyDraw=function(){var e=E.pick(-1,h.appConfig.ssn,!0);if(0!=e.length){var t="",n=[];e.forEach((function(e){t+=d("UI_Recharge_UI9","<img src='Item_"+e.propItem[0]+"' width=80 height=80 offset=0,-20/> x",e.propItem[1])+"   ",n.push(e.propItem)})),t.length&&(t=t.trimEnd(),D.playEffect(h.LEFT_SCENE_EFFECT_ROOT+"draw"),this.updateUI(),v.hezuo(L.getSceneUI(),"textures@prefabs/spineHezuo",new u(0,0,0),n,(function(e){D.playEffect(h.LEFT_SCENE_EFFECT_ROOT+"clap")}),(function(e){n.forEach((function(e){var t=e[0],n=e[1];switch(t){case h.PROP_MONEY_ID:_.addMoney(n);break;case h.PROP_VIP_ID:_.addVip(n);break;case h.PROP_EXP_ID:_.addExp(n);break;case h.PROP_GOLD_ID:_.addGold(n);default:P.addPropCount(t,n),P.addPropTodayCount(t,n)}})),D.playEffect("reward"),v.toast(_.SceneHallUI,"textures@prefabs/floatingBanner",t,"textures@Texture2D/Hall_Item/Hall_Item")})))}else c.log("wtf???")},a.onBtnPressStart=function(e,t,n){switch(c.log("CCPanelSeekSponsor.onBtnPressStart.idx: "+t),t){case 0:case 2:k.showPanel(y.resObj,null,!0);break;case 1:if(!P.subSeekSponsorCount())return void e.setGray(!0,!0,this.onBtnPressStart);g.emit(f.SEEK_SPONSOR_LUCKY_DRAW);break;case 3:g.emit(f.PUSH_EVENT,"ad_17"),S.showAds((function(){g.emit(f.SEEK_SPONSOR_LUCKY_DRAW)}))||v.toast(_.SceneHallUI,"textures@prefabs/floatingBanner",d("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")}},t}(p)).resObj={bundleName:"textures",relativePath:"prefabs/panelSeekSponsor",resType:C.Prefab},H=t((z=X).prototype,"LabelTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"LabelSeekDesc",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"LabelSeekAdvDesc",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"LabelSeek",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"LabelSeekAdv",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"btnFinder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(z.prototype,"btnSeek",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(z.prototype,"btnFinderAdv",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"btnSeekAdv",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=z))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSeekSponsorRewards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCPropData.ts","./CCPanelSeekSponsorRewardsRow.ts","./CCDrawData.ts"],(function(e){var n,t,o,a,s,r,i,l,p,C,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,a=e.Canvas,s=e.find},function(e){r=e.default},function(e){i=e.CCResType},function(e){l=e.default},function(e){p=e.CCPropType},function(e){C=e.CCPanelSeekSponsorRewardsRow},function(e){c=e.default}],execute:function(){var u,d;t._RF.push({},"a80310ij+tKf78pR27inOs5","CCPanelSeekSponsorRewards",void 0);var f=o.ccclass;o.property,e("CCPanelSeekSponsorRewards",f("CCPanelSeekSponsorRewards")(((d=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))||this).listProps=null,n}n(t,e);var o=t.prototype;return o.onBuildProp=function(e,n){var t=p.PROP;e.getComponent(C).type=t,e.getComponent(C).notifyIdx=n,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(a).enabled=!1);var o=s("Canvas/Background/ScrollView",e).getComponent(l);o&&(o.name=""+n,o.numItems=4)},o.init=function(e){this.options=e,this.listProps||(this.listProps=s("Canvas/Background/ScrollView1",this.node).getComponent(l),this.listProps&&(this.listProps.numItems=c.totalRows(4)))},o.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(a).enabled=!1)},o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this)},t}(r)).resObj={bundleName:"textures",relativePath:"prefabs/panelSeekSponsorRewards",resType:i.Prefab},u=d))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSeekSponsorRewardsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelMiniGameLuckyDrawsItem.ts","./CCPropData.ts"],(function(e){var t,n,o,r,s,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){r=e.CCButton},function(e){s=e.default},function(e){a=e.CCPanelMiniGameLuckyDrawsItem},function(e){c=e.default}],execute:function(){var u;n._RF.push({},"0e0e2dzocFM0r9kG+TsKjnN","CCPanelSeekSponsorRewardsItem",void 0);var i=o.ccclass;o.property,e("CCPanelSeekSponsorRewardsItem",i("CCPanelSeekSponsorRewardsItem")(u=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).type=0,t.notifyIdx=0,t}t(n,e);var o=n.prototype;return o.update=function(e){},o.onBtnPressed=function(e,t,o,r){r||-1!=e.Idx&&c.getRowsByTypeId(e.Idx)&&n.showDetails(e.Idx,e.notifyIdx)},n.showDetails=function(e,t,n){s.showPanel(a.resObj,{typeId:e},!0)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSeekSponsorRewardsRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List.ts","./CCCacheRes.ts","./CCPanelSeekSponsorRewardsItem.ts","./CCDrawData.ts"],(function(e){var t,n,o,a,i,r,s,l,p,C,d,h,c,g,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.find,i=e.Canvas,r=e.Label,s=e.Sprite,l=e.UITransform,p=e.Rect,C=e.Size,d=e.Component},function(e){h=e.default},function(e){c=e.default},function(e){g=e.CCPanelSeekSponsorRewardsItem},function(e){u=e.default}],execute:function(){var m;n._RF.push({},"1c0baD7wbVP+bx3WXQs9Tgz","CCPanelSeekSponsorRewardsRow",void 0);var v=o.ccclass;o.property,e("CCPanelSeekSponsorRewardsRow",v("CCPanelSeekSponsorRewardsRow")(m=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).type=0,t.notifyIdx=0,t}t(n,e);var o=n.prototype;return o.update=function(e){},o.onBuildItem=function(e,t){var n=e.parent.parent.parent.getComponent(h),o=(this.type,parseInt(n.name)),d=u.getRowsByRowIdx(o,4,!0,!1,!1)[t];if(null!=d.orderId){var m=d.propItem[0];e.getComponent(g).Idx=m,e.getComponent(g).type=this.type,e.getComponent(g).notifyIdx=1e4*this.notifyIdx+t,e.getComponent(g).scaleEnable=!1,e.getChildByName("Canvas")&&(e.getChildByName("Canvas").getComponent(i).enabled=!1);var v=a("Canvas/LabelNum",e);if(v){var f=(u.totalWeight(m)/u.totalWeight()*100).toFixed(2);v.getComponent(r).string=f+"%",v.active=!0}var w=a("Canvas/SpriteItem",e);if(w){var S=w.getComponent(s);S&&c.loadSpriteFrameAndBind(S,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+m,!1,this,(function(e,t){var n,o=null==(n=w.getComponent(l))?void 0:n.contentSize,a=w.getComponent(s).spriteFrame.clone().originalSize,i=new p(0,0,a.width,a.height);if(i.width>i.height){var r=i.width/o.width;i.width=o.width,i.height/=r}else{var d=i.height/o.height;i.width/=d,i.height=o.height}w.getComponent(l).setContentSize(new C(i.width,i.height)),w.active=!0}))}}else{e.getComponent(g).Idx=-1,e.getComponent(g).scaleEnable=!1;var I=a("Canvas/LabelNum",e);I&&(I.active=!1);var y=a("Canvas/SpriteItem",e);y&&(y.active=!1)}},n}(d))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelSettingGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPathManager.ts","./CCDebugPanel.ts","./CCUtils.ts","./CCButton.ts"],(function(t){var n,i,e,s,o,l,u,r,d,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,s=t.EditBox,o=t.Node,l=t.Component},function(t){u=t.CCPathManager},function(t){r=t.CCDebugPanel},function(t){d=t.default},function(t){a=t.CCButton}],execute:function(){var h;i._RF.push({},"c3fe7Avh4ZNXbfeTEYDuNCS","CCPanelSettingGrid",void 0);var C=e.ccclass;e.property,t("CCPanelSettingGrid",C("CCPanelSettingGrid")(h=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this)._defaultGridRows=50,n._defaultGridCols=30,n._btnSubmit=null,n._btnReset=null,n._editRows=null,n._editCols=null,n}n(i,t);var e=i.prototype;return e.start=function(){},e.update=function(t){},e.onEnable=function(){var t,n,i,e,l,r,d,h,C;(this._btnSubmit||(this._btnSubmit=this.node.getChildByName("btnSubmit")),this._btnReset||(this._btnReset=this.node.getChildByName("btnReset")),this._editRows)||(this._editRows=null!=(r=null==(d=this.node.getChildByName("editRows"))?void 0:d.getComponent(s))?r:null);this._editCols||(this._editCols=null!=(h=null==(C=this.node.getChildByName("editCols"))?void 0:C.getComponent(s))?h:null);null==(t=this._btnSubmit)||t.on(o.EventType.TOUCH_END,this.onSubmit,this),null==(n=this._btnReset)||n.on(o.EventType.TOUCH_END,this.onReset,this),this._editRows.string=null!=(i=u.gridRows.toString())?i:this._defaultGridRows.toString(),this._editCols.string=null!=(e=u.gridCols.toString())?e:this._defaultGridCols.toString();var _=null==(l=this._btnSubmit)?void 0:l.getComponent(a);_&&(_.enabled=!0,_.transition=a.Transition.NONE,_.transition=a.Transition.SPRITE)},e.onDisable=function(){var t,n;null==(t=this._btnSubmit)||t.off(o.EventType.TOUCH_END,this.onSubmit,this),null==(n=this._btnReset)||n.off(o.EventType.TOUCH_END,this.onReset,this)},e.onSubmit=function(){var t,n,i,e,s,o=parseInt(null!=(t=null==(n=this._editRows)?void 0:n.string)?t:this._defaultGridRows.toString(),10),l=parseInt(null!=(i=null==(e=this._editCols)?void 0:e.string)?i:this._defaultGridCols.toString(),10);d.log("rows: "+o+" cols: "+l),null==(s=this.node)||null==(s=s.parent)||null==(s=s.parent)||null==(s=s.parent)||null==(s=s.getComponent(r))||s.onChangeGrid(o,l)},e.onReset=function(){this._editRows&&(this._editRows.string=this._defaultGridRows.toString()),this._editCols&&(this._editCols.string=this._defaultGridCols.toString())},i}(l))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./List.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPanelShopItem.ts"],(function(t){var n,e,o,a,i,s,r,u,p,c,h,l,C,d;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.find,i=t.Label,s=t.PageView},function(t){r=t.default},function(t){u=t.CCResType},function(t){p=t.default},function(t){c=t._T},function(t){h=t.CCEvent},function(t){l=t.default,C=t.EVENT_TYPE},function(t){d=t.CCPanelShopItem}],execute:function(){var f,v;e._RF.push({},"e6a11AFAQFLHZNDgBSot8n4","CCPanelShop",void 0);var g=o.ccclass;o.property,t("CCPanelShop",g("CCPanelShop")(((v=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).pv=null,n.content=null,n}n(e,t);var o=e.prototype;return o.onBuildShopItem=function(t,n){var e,o="panelShopItem"+l.getIapItemByIdx(n).disPrice,i=null==(e=a("Canvas/Background/"+o,this.node))?void 0:e.getComponent(d);i&&i.updateUI(n)},o.init=function(t){this.options=t;var n=a("Canvas/Background/LabelTitle",this.node);if(n&&(n.getComponent(i).string=c("UI_hall_button6")),!this.pv){if(this.pv=a("Canvas/Background/PageView",this.node).getComponent(s),!this.pv)return;this.content||(this.content=a("Canvas/Background/PageView/view/content/ScrollView",this.node).getComponent(p),this.content&&(this.content.numItems=l.getIapItemNum()))}for(var e=l.getIapItemNum(),o=0;o<e;o++){var r,u="panelShopItem"+l.getIapItemByIdx(o).disPrice,h=null==(r=a("Canvas/Background/"+u,this.node))?void 0:r.getComponent(d);h&&h.updateUI(o)}},o.onLoad=function(){this.onShopRefresh()},o.onShow=function(){h.on(C.SHOP_REFRESH,this.onShopRefresh,this),h.on(C.HIDE_PANEL,this.onHidePanel,this)},o.onHide=function(t){h.targetOff(this)},o.onHidePanel=function(){this.hide(!1,0)},o.onShopRefresh=function(){var t=l.getIapItemNum();this.content&&(this.content.numItems=t);for(var n=0;n<t;n++){l.getIapItemByIdx(n);var e,o=null==(e=a("Canvas/Background/"+("panelShopItem"+n),this.node))?void 0:e.getComponent(d);o&&o.updateUI(n)}},e}(r)).resObj={bundleName:"textures",relativePath:"prefabs/panelShop",resType:u.Prefab},f=v))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCButton.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCRichText.ts","./CCCacheRes.ts","./CCPay.ts","./CCNative.ts"],(function(t){var e,i,n,a,l,r,o,s,u,c,h,d,b,p,f,g,C,m,y,P,D,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Sprite,s=t.Label,u=t.Canvas,c=t.Component},function(t){h=t.default},function(t){d=t.DEV},function(t){b=t.CCShopItemType,p=t.CCPlayerData},function(t){f=t.CCButton},function(t){g=t._T},function(t){C=t.CCEvent},function(t){m=t.default},function(t){y=t.CCRichText},function(t){P=t.default},function(t){D=t.default},function(t){v=t.default}],execute:function(){var L,I,S,B,w,R,x,T,z,F,_,O,U,E,k,A,N,H,$,j,J,M,V;l._RF.push({},"3969b3Q4UdJeJMUZxt+ClST","CCPanelShopItem",void 0);var G=r.ccclass,K=r.property;t("CCPanelShopItem",(L=G("CCPanelShopItem"),I=K({type:o,tooltip:d}),S=K({type:s,tooltip:d}),B=K({type:s,tooltip:d}),w=K({type:s,tooltip:d}),R=K({type:y,tooltip:d}),x=K({type:f,tooltip:d}),T=K({type:s,tooltip:d}),z=K({type:o,tooltip:d}),F=K({type:s,tooltip:d}),_=K({type:s,tooltip:d}),L((E=e((U=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"Background",E,a(e)),n(e,"labelTitle",k,a(e)),n(e,"labelDesc",A,a(e)),n(e,"LabelOriginPrice",N,a(e)),n(e,"LabelDetails",H,a(e)),n(e,"btnPurchased",$,a(e)),n(e,"LabelPurchased",j,a(e)),n(e,"SpriteDis",J,a(e)),n(e,"LabelDisRatio",M,a(e)),n(e,"LabelDisOff",V,a(e)),e.idx=0,e}i(e,t);var l=e.prototype;return l.onLoad=function(){},l.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),this.btnPurchased.enableCCButtonListener(this,!0,!1,this.onBtnPressStart)},l.onDisable=function(){this.btnPurchased.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),C.targetOff(this),this.unscheduleAllCallbacks()},l.updateUI=function(t){var e=m.getIapItemByIdx(t);if(e)switch(this.idx=t,e.type){case b.GOLD:this.updateUIItem(t,e,!0);break;case b.ADFREE:this.updateUIItem(t,e,!1)}},l.updateUIItem=function(t,e,i){if(this.Background&&(P.loadSpriteFrameAndBind(this.Background,"textures@Texture2D/Hall_Common/Hall_Common/"+e.bg),this.Background.node.active=!0),this.labelTitle&&(e.name.length?(this.labelTitle.string=g(e.name),this.labelTitle.node.active=!0):(this.labelTitle.string="",this.labelTitle.node.active=!1)),this.labelDesc&&(e.desc.length?(this.labelDesc.string=g(e.desc),this.labelDesc.node.active=!i):(this.labelDesc.string="",this.labelDesc.node.active=!1)),this.LabelOriginPrice){var n=(e.disPrice/(1-e.disRatio)).toFixed(2);this.LabelOriginPrice.string="$"+n,this.LabelOriginPrice.node.active=e.disRatio>0}if(this.LabelDetails)if(i){var a=e.reward;h.setRichTextString(this.LabelDetails,"<img src='item_meiyuan' width=55 height=47 offset=-8/><color=#FFFFFF><outline color=#000000 width=2><size=30>x"+a+"</size></outline></color>","textures@Texture2D/Hall_UI/Hall_UI"),this.LabelDetails.node.active=!0}else this.LabelDetails.node.active=!1;if(this.btnPurchased)if(this.btnPurchased.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnPurchased.Idx=t,i)this.btnPurchased.getComponent(o).grayscale=!1,this.btnPurchased.preventSwallow=!1;else{var l=p.isPurchased(e.id,e.type);this.btnPurchased.getComponent(o).grayscale=l,this.btnPurchased.preventSwallow=l}if(this.LabelPurchased){if(i)this.LabelPurchased.string="$"+e.disPrice;else{var r=p.isPurchased(e.id,e.type);this.LabelPurchased.string=r?g("CatUI6"):"$"+e.disPrice}this.LabelPurchased.node.active=!0}this.SpriteDis&&(this.SpriteDis.node.active=e.disRatio>0),this.LabelDisRatio&&(e.disRatio>0&&(this.LabelDisRatio.string="-"+(100*e.disRatio).toFixed(0)+"%"),this.LabelDisRatio.node.active=e.disRatio>0),this.LabelDisOff&&(this.LabelDisOff.node.active=e.disRatio>0)},l.onBtnPressStart=function(t,e,i){h.log("onBtnPressStart.idx["+e+"].rid: "+t.idx);var n=m.getIapItemByIdx(e);if(n){var a=h.NowTimeStamp(),l=v.get("deviceId")||"",r=v.get("fingerPrint")||"",o=h.md5(l+r),s=h.randomNum(11),u=h.randomNum(8),c=""+s+o+a+u;h.log("strA["+l.length+"]: "+l),h.log("strB["+r.length+"]: "+r),h.log("strC["+o.length+"]: "+o),h.log("head["+s.length+"]: "+s),h.log("foot["+u.length+"]: "+u),h.log("data["+c.length+"]: "+c+" -> "+c.substring(11,43)+" / "+c.substring(43,56));var d=m.NATIVE_PURCHASE_OBFUSCATED_KEY.map((function(t){return String.fromCharCode(t)})).join(""),b=""+h.md5(h.md5(""+c+d));h.log("data2["+b.length+"]: "+b),D.buy(n.productId,c,b)}},e}(c)).prototype,"Background",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(U.prototype,"labelTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(U.prototype,"labelDesc",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(U.prototype,"LabelOriginPrice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(U.prototype,"LabelDetails",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(U.prototype,"btnPurchased",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(U.prototype,"LabelPurchased",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(U.prototype,"SpriteDis",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(U.prototype,"LabelDisRatio",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(U.prototype,"LabelDisOff",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=U))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCCacheRes.ts","./CCButton.ts","./List.ts","./CCDailyTaskData.ts","./CCPanelTaskItemTask.ts","./CCAchievementData.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts"],(function(t){var n,e,a,s,i,o,h,b,r,l,p,c,T,u,C,d,g,m;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,s=t.find,i=t.Label,o=t.PageView,h=t.Sprite},function(t){b=t.default},function(t){r=t.CCResType},function(t){l=t.CCButton},function(t){p=t.default},function(t){c=t.default},function(t){T=t.CCPanelTaskItemTask,u=t.CCTaskItemType},function(t){C=t.default},function(t){d=t._T},function(t){g=t.CCEvent},function(t){m=t.EVENT_TYPE}],execute:function(){var f,v;e._RF.push({},"5d007w2CRpEU7+cUbLJqbi0","CCPanelTask",void 0);var B=a.ccclass;a.property,t("CCPanelTask",B("CCPanelTask")(((v=function(t){function e(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this).btnTab1=null,n.sprTab1=null,n.btnTab2=null,n.sprTab2=null,n.btnTab3=null,n.sprTab3=null,n.pv=null,n.content1=null,n.content2=null,n.content3=null,n.topItem=null,n}n(e,t);var a=e.prototype;return a.onBuildTaskItem=function(t,n){n>=c.keysByVip().length-1&&(n=c.keysByVip().length-2);var e=c.keysByVip()[n+1];t.name=""+e;var a=t.getComponent(T);a&&a.updateUI(u.TASK,e)},a.onBuildAchievementItem=function(t,n){var e=C.keys()[n];t.name=""+e;var a=t.getComponent(T);a&&a.updateUI(u.ACHIEVEMENT,e)},a.onBuildTaskSpecialItem=function(t,n){},a.init=function(t){this.options=t;var n,e,a,b=s("Canvas/Background/LabelTitle",this.node);if(b&&(b.getComponent(i).string=d("UI_hall_button4_tapy1")),(b=s("Canvas/Background/SprTabBg/Label1",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy1")),(b=s("Canvas/Background/SprTabBg/btnTab1/Label",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy1")),(b=s("Canvas/Background/SprTabBg/Label2",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy2")),(b=s("Canvas/Background/SprTabBg/btnTab2/Label",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy2")),(b=s("Canvas/Background/SprTabBg/Label3",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy3")),(b=s("Canvas/Background/SprTabBg/btnTab3/Label",this.node))&&(b.getComponent(i).string=d("UI_hall_button4_tapy3")),!this.pv){if(this.pv=s("Canvas/Background/PageView",this.node).getComponent(o),!this.pv)return;var r;if(!this.content1)if(this.content1=s("Canvas/Background/PageView/view/content/ScrollView1",this.node).getComponent(p),this.content1&&(this.content1.numItems=c.keysByVip().length-1),!this.topItem)this.topItem=null==(r=this.content1.node.getChildByName("panelTaskItemTask"))?void 0:r.getComponent(T);this.content2||(this.content2=s("Canvas/Background/PageView/view/content/ScrollView2",this.node).getComponent(p),this.content2&&(this.content2.numItems=C.keys().length)),this.content3||(this.content3=s("Canvas/Background/PageView/view/content/ScrollView3",this.node).getComponent(p),this.content3&&(this.content3.numItems=1))}(this.btnTab1||(this.btnTab1=s("Canvas/Background/SprTabBg/btnTab1",this.node).getComponent(l),this.btnTab1&&(this.btnTab1.node.active=!0)),this.sprTab1)||(this.sprTab1=null==(n=this.btnTab1)?void 0:n.node.getComponent(h),this.sprTab1&&(this.sprTab1.enabled=!1));(this.btnTab2||(this.btnTab2=s("Canvas/Background/SprTabBg/btnTab2",this.node).getComponent(l),this.btnTab2&&(this.btnTab2.node.active=!0)),this.sprTab2)||(this.sprTab2=null==(e=this.btnTab2)?void 0:e.node.getComponent(h),this.sprTab2&&(this.sprTab2.enabled=!1));(this.btnTab3||(this.btnTab3=s("Canvas/Background/SprTabBg/btnTab3",this.node).getComponent(l),this.btnTab3&&(this.btnTab3.node.active=!0)),this.sprTab3)||(this.sprTab3=null==(a=this.btnTab3)?void 0:a.node.getComponent(h),this.sprTab3&&(this.sprTab3.enabled=!1));this.enableTabBtn(!this.options.fromSpecialNpc,!1,!!this.options.fromSpecialNpc)},a.onShow=function(){this.btnTab1.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnTab3.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),g.on(m.TASK_REFRESH,this.onTaskRefresh,this),g.on(m.ACHIEVEMENT_REFRESH,this.onAchievementRefresh,this),g.on(m.HIDE_PANEL,this.onHidePanel,this)},a.onHide=function(t){this.btnTab1.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab2.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnTab3.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),g.targetOff(this)},a.onTaskRefresh=function(){if(this.content1.numItems=c.keysByVip().length-1,this.topItem){var t=c.keysByVip()[0];this.topItem.name=""+t,this.topItem.updateUI(u.TASK,t)}this.onAchievementRefresh()},a.onAchievementRefresh=function(){this.content2.numItems=C.keys().length},a.onHidePanel=function(){this.hide(!1,0)},a.onBtnPressStart=function(t,n,e){switch(n){case 1:t.enableTabBtn(!0,!1,!1);break;case 2:t.enableTabBtn(!1,!0,!1);break;case 3:t.enableTabBtn(!1,!1,!0)}},a.enableTabBtn=function(t,n,e){if(this.btnTab1&&this.btnTab1.node.children.forEach((function(n){n.active=t})),this.btnTab2&&this.btnTab2.node.children.forEach((function(t){t.active=n})),this.btnTab3&&this.btnTab3.node.children.forEach((function(t){t.active=e})),this.sprTab1&&(this.sprTab1.enabled=t),this.sprTab2&&(this.sprTab2.enabled=n),this.sprTab3&&(this.sprTab3.enabled=e),this.pv)if(t){if(this.pv.scrollToPage(0,.5),this.topItem){var a=c.keysByVip()[0];this.topItem.name=""+a,this.topItem.updateUI(u.TASK,a)}}else n?this.pv.scrollToPage(1,.5):e&&this.pv.scrollToPage(2,.5)},e}(b)).resObj={bundleName:"textures",relativePath:"prefabs/panelTask",resType:r.Prefab},f=v))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelTaskItemSpecial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCButton.ts","./CCSundryData.ts","./CCLingoData.ts","./CCDefine.ts","./CCSceneHall.ts","./CCEffct.ts","./CCQueue.ts","./CCEvent.ts","./CCAudioManager.ts"],(function(e){var t,i,n,a,l,r,o,s,c,u,p,b,h,f,d,g,m,C,T,y,S,v,w,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Sprite,s=e.Label,c=e.Canvas,u=e.Component},function(e){p=e.default},function(e){b=e.DEV},function(e){h=e.CCPlayerData},function(e){f=e.CCButton},function(e){d=e.default},function(e){g=e._T},function(e){m=e.default,C=e.EVENT_TYPE,T=e.SpecialNpcType},function(e){y=e.CCSceneHall},function(e){S=e.CCEffect},function(e){v=e.default},function(e){w=e.CCEvent},function(e){R=e.audioMgr}],execute:function(){var B,_,I,k,D,P,U,O,z,N,L,E,M,V,x,H,F,A,W,Y,G,K,j,Q,q,J,X,Z,$,ee,te,ie,ne,ae,le,re,oe,se,ce,ue,pe;l._RF.push({},"a3283oeFRdI/aWC5PtP3aD2","CCPanelTaskItemSpecial",void 0);var be=r.ccclass,he=r.property;e("CCPanelTaskItemSpecial",(B=be("CCPanelTaskItemSpecial"),_=he({type:o,tooltip:b}),I=he({type:s,tooltip:b}),k=he({type:s,tooltip:b}),D=he({type:o,tooltip:b}),P=he({type:o,tooltip:b}),U=he({type:o,tooltip:b}),O=he({type:o,tooltip:b}),z=he({type:o,tooltip:b}),N=he({type:o,tooltip:b}),L=he({type:s,tooltip:b}),E=he({type:s,tooltip:b}),M=he({type:s,tooltip:b}),V=he({type:s,tooltip:b}),x=he({type:s,tooltip:b}),H=he({type:s,tooltip:b}),F=he({type:f,tooltip:b}),A=he({type:s,tooltip:b}),W=he({type:f,tooltip:b}),Y=he({type:s,tooltip:b}),B((j=t((K=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,n(t,"Background",j,a(t)),n(t,"labelTitle",Q,a(t)),n(t,"labelDesc",q,a(t)),n(t,"SpriteFrame1",J,a(t)),n(t,"SpriteFrame2",X,a(t)),n(t,"SpriteSpecialTask",Z,a(t)),n(t,"SpriteMoney",$,a(t)),n(t,"SpriteVip",ee,a(t)),n(t,"SpriteTime",te,a(t)),n(t,"labelReward",ie,a(t)),n(t,"labelRewardMoney",ne,a(t)),n(t,"labelRewardVip",ae,a(t)),n(t,"labelTime",le,a(t)),n(t,"labelTips",re,a(t)),n(t,"labelNoTask",oe,a(t)),n(t,"btnReceive",se,a(t)),n(t,"labelReceive",ce,a(t)),n(t,"btnOngoing",ue,a(t)),n(t,"labelOngoing",pe,a(t)),t._rid=0,t.fnTimer=null,t}i(t,e);var l=t.prototype;return l.onLoad=function(){},l.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnOngoing.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.updateUI()},l.onDisable=function(){this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnOngoing.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.fnTimer&&(this.unschedule(this.fnTimer),this.fnTimer=null)},l.updateUI=function(){var e=this;this.fnTimer||(this.fnTimer=function(){e.refreshUI()}),this.fnTimer(),this.schedule(this.fnTimer,1)},l.refreshUI=function(){var e=h.getDailySpecialTaskProcess();if(e&&(!e||e.accepted&&!e.claimed)){var t=e.taskId,i=d.data.SpecialTask_Name[t],n=d.data.SpecialTask_Describe[t],a=(m.DAILY_SPECIAL_TASK_COUNTDOWN>0?m.DAILY_SPECIAL_TASK_COUNTDOWN:d.data.NPCSpecialTask[2])-Math.ceil((p.NowTimeStamp()-e.lastAcceptedTime)/1e3);this.labelTitle&&(this.labelTitle.string=g(i)),this.labelDesc&&(this.labelDesc.string=g(n)),this.labelReceive&&(this.labelReceive.string=g("DailyUI2")),this.labelOngoing&&(this.labelOngoing.string=g("DailyUI1")),this.labelRewardMoney&&(this.labelRewardMoney.string=e.rewardMoney.toString()),this.labelRewardVip&&(this.labelRewardVip.string=e.rewardVip.toString()),this.labelTime&&(this.labelTime.string=p.formatTime(a),a<=0&&(this.SpriteTime&&(this.SpriteTime.node.active=!1),this.labelTime.node.active=!1)),this.labelTips&&(this.labelTips.string=g("SpecialTalk_Shit")),this.labelNoTask&&(this.labelNoTask.node.active=!1),e.completed?e.claimed||(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnOngoing.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.labelReceive.node.active=!0,this.labelOngoing.node.active=!1):(this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnOngoing.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.labelReceive.node.active=!1,this.labelOngoing.node.active=!0,this.btnOngoing.scaleEnable=!1,this.btnOngoing.interactable=!1)}else this.notask()},l.notask=function(){this.Background&&(this.Background.node.active=!1),this.labelTitle&&(this.labelTitle.node.active=!1),this.labelDesc&&(this.labelDesc.node.active=!1),this.SpriteFrame1&&(this.SpriteFrame1.node.active=!1),this.SpriteFrame2&&(this.SpriteFrame2.node.active=!1),this.SpriteTime&&(this.SpriteTime.node.active=!1),this.SpriteMoney&&(this.SpriteMoney.node.active=!1),this.SpriteVip&&(this.SpriteVip.node.active=!1),this.SpriteSpecialTask&&(this.SpriteSpecialTask.node.active=!1),this.labelReward&&(this.labelReward.node.active=!1),this.labelRewardMoney&&(this.labelRewardMoney.node.active=!1),this.labelRewardVip&&(this.labelRewardVip.node.active=!1),this.labelTime&&(this.labelTime.node.active=!1),this.labelTips&&(this.labelTips.node.active=!1),this.labelReceive&&(this.labelReceive.node.active=!1),this.labelOngoing&&(this.labelOngoing.node.active=!1),this.labelNoTask&&(this.labelNoTask.string=g("SpecialTalk_NO"),this.labelNoTask.node.active=!0),this.btnReceive&&this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.btnOngoing&&this.btnOngoing.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)},l.onBtnPressStart=function(e,t,i){switch(t){case 1:var n=h.getDailySpecialTaskProcess();if(!n||n&&(!n.completed||n.claimed))return;var a=n.rewardMoney,l=n.rewardVip,r=n.rewardGold;a>0&&(y.addMoney(a),v.push(.5,(function(e){S.toast(y.SceneHallUI,"textures@prefabs/floatingBanner",""+g("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/> x",a),"textures@Texture2D/Hall_UI/Hall_UI")}))),l>0&&(y.addVip(l),v.push(1,(function(e){S.toast(y.SceneHallUI,"textures@prefabs/floatingBanner",""+g("UI_Recharge_UI9","<img src='main_icon02' width=49 height=33 offset=0/> x",l),"textures@Texture2D/Hall_UI/Hall_UI")}))),r>0&&(y.addGold(r),v.push(1,(function(e){S.toast(y.SceneHallUI,"textures@prefabs/floatingBanner",""+g("UI_Recharge_UI9","<img src='main_icon09' width=36 height=36 offset=0/> x",r),"textures@Texture2D/Hall_UI/Hall_UI")}))),R.playEffect("reward"),h.setDailySpecialTaskProcessClaimed(),w.emit(C.PRE_LEAVE,T.NPCName2007+2e3),p.log("onTouchEndClaimed")}},t}(u)).prototype,"Background",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"labelTitle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(K.prototype,"labelDesc",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(K.prototype,"SpriteFrame1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"SpriteFrame2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"SpriteSpecialTask",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"SpriteMoney",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(K.prototype,"SpriteVip",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(K.prototype,"SpriteTime",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(K.prototype,"labelReward",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(K.prototype,"labelRewardMoney",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(K.prototype,"labelRewardVip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(K.prototype,"labelTime",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(K.prototype,"labelTips",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(K.prototype,"labelNoTask",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(K.prototype,"btnReceive",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(K.prototype,"labelReceive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(K.prototype,"btnOngoing",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(K.prototype,"labelOngoing",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=K))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelTaskItemTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCDailyTaskData.ts","./CCAchievementData.ts","./CCButton.ts","./CCLingoData.ts","./CCSceneHall.ts","./CCEffct.ts","./CCEvent.ts","./CCDefine.ts","./CCBtnPromotion.ts","./CCAudioManager.ts"],(function(e){var t,i,n,r,s,a,l,o,d,h,c,u,b,g,p,C,m,f,y,v,I,T,w,P,E,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.Label,o=e.Sprite,d=e.ProgressBar,h=e.Canvas,c=e.Component},function(e){u=e.default},function(e){b=e.DEV},function(e){g=e.CCPlayerData},function(e){p=e.default,C=e.DailyTaskStatus},function(e){m=e.default,f=e.AchievementStatus},function(e){y=e.CCButton},function(e){v=e._T},function(e){I=e.CCSceneHall},function(e){T=e.CCEffect},function(e){w=e.CCEvent},function(e){P=e.EVENT_TYPE},function(e){E=e.CCBtnPromotion},function(e){_=e.audioMgr}],execute:function(){var S,R,B,D,N,M,L,k,U,A,G,x,H,V,z,O,F,K,j,Y,q,J,Q,W,X;s._RF.push({},"4ad6bsl/jBNfa0wDzDNvwgD","CCPanelTaskItemTask",void 0);var Z=a.ccclass,$=a.property,ee=e("CCTaskItemType",function(e){return e[e.TASK=0]="TASK",e[e.ACHIEVEMENT=1]="ACHIEVEMENT",e}({}));e("CCPanelTaskItemTask",(S=Z("CCPanelTaskItemTask"),R=$({type:l,tooltip:b}),B=$({type:l,tooltip:b}),D=$({type:l,tooltip:b}),N=$({type:o,tooltip:b}),M=$({type:o,tooltip:b}),L=$({type:o,tooltip:b}),k=$({type:l,tooltip:b}),U=$({type:y,tooltip:b}),A=$({type:d,tooltip:b}),G=$({type:l,tooltip:b}),x=$({type:l,tooltip:b}),S((z=t((V=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"labelTitle",z,r(t)),n(t,"labelDesc",O,r(t)),n(t,"labelText",F,r(t)),n(t,"spriteMoney",K,r(t)),n(t,"spriteVip",j,r(t)),n(t,"spriteGold",Y,r(t)),n(t,"LabelRewardNum",q,r(t)),n(t,"btnReceive",J,r(t)),n(t,"ProgressBar",Q,r(t)),n(t,"labelProgress",W,r(t)),n(t,"LabelComplete",X,r(t)),t._tid=0,t._rid=0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){},s.onEnable=function(){this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(h).enabled=!1),this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.schedule((function(){w.emit(P.TASK_REFRESH)}),1)},s.onDisable=function(){this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.unscheduleAllCallbacks()},s.updateUI=function(e,t){switch(this._tid=e,this._rid=t,this._tid){case ee.TASK:this.updateTaskUI();break;case ee.ACHIEVEMENT:this.updateAchievementUI()}},s.updateTaskUI=function(){var e=p.getRowsByTaskId(this._rid),t=p.getDailyTaskStatus(this._rid),i=g.getDailyTaskProcess(this._rid);if(this.labelTitle&&e.taskName.length&&(this.labelTitle.string=v(e.taskName)),this.LabelRewardNum&&(e.rewardMoney>0?this.LabelRewardNum.string=e.rewardMoney.toString():e.rewardGold>0&&(this.LabelRewardNum.string=e.rewardGold.toString())),this.LabelComplete&&(this.LabelComplete.node.active=!1),this.labelDesc&&(this.labelDesc.node.active=!1),this.labelText&&(t==C.GOTO?this.labelText.string=v("DailyUI4"):t==C.GOING?this.labelText.string=v("DailyUI1"):t==C.CAN_CLAIMED?this.labelText.string=v("DailyUI2"):t==C.COMPLETED&&this.LabelComplete&&(this.LabelComplete.node.active=!0,this.LabelComplete.string=v("DailyUI6"))),this.btnReceive&&(t==C.CAN_CLAIMED||t==C.GOTO?(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(o).grayscale=!1,this.btnReceive.preventSwallow=!1,this.btnReceive.Idx=t==C.CAN_CLAIMED?0:1):t==C.GOING?(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(o).grayscale=!0,this.btnReceive.preventSwallow=!0):this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)),this.spriteMoney.node.active=e.rewardMoney>0,this.spriteVip.node.active=!1,this.spriteGold.node.active=e.rewardGold>0,this.ProgressBar){var n=0;e.needTaskCompletedNum>0&&(this.labelProgress&&(this.labelProgress.string=i.taskCompletedNum+"/"+e.needTaskCompletedNum),n=i.taskCompletedNum/e.needTaskCompletedNum),e.needEarnMoney>0&&(this.labelProgress&&(this.labelProgress.string=i.earnMoney+"/"+e.needEarnMoney),n=i.earnMoney/e.needEarnMoney),e.needClientBuyIn>0&&(this.labelProgress&&(this.labelProgress.string=i.clientBuyIn+"/"+e.needClientBuyIn),n=i.clientBuyIn/e.needClientBuyIn),e.needRecharge>0&&(this.labelProgress&&(this.labelProgress.string=i.recharge+"/"+e.needRecharge),n=i.recharge/e.needRecharge),e.needSoldCofee>0&&(this.labelProgress&&(this.labelProgress.string=i.soldCofee+"/"+e.needSoldCofee),n=i.soldCofee/e.needSoldCofee),e.needSendFlyers>0&&(this.labelProgress&&(this.labelProgress.string=i.sendFlyers+"/"+e.needSendFlyers),n=i.sendFlyers/e.needSendFlyers),e.needTakeSpecialTask>0&&(this.labelProgress&&(this.labelProgress.string=i.takeSpecialTask+"/"+e.needTakeSpecialTask),n=i.takeSpecialTask/e.needTakeSpecialTask),e.needSoldCake>0&&(this.labelProgress&&(this.labelProgress.string=i.soldCake+"/"+e.needSoldCake),n=i.soldCake/e.needSoldCake),e.needEarnGold>0&&(this.labelProgress&&(this.labelProgress.string=i.earnGold+"/"+e.needEarnGold),n=i.earnGold/e.needEarnGold),e.needTrainNumber>0&&(this.labelProgress&&(this.labelProgress.string=i.trainNumber+"/"+e.needTrainNumber),n=i.trainNumber/e.needTrainNumber),e.needMatchesNumber>0&&(this.labelProgress&&(this.labelProgress.string=i.matchesNumber+"/"+e.needMatchesNumber),n=i.matchesNumber/e.needMatchesNumber),this.ProgressBar.progress=n}},s.updateAchievementUI=function(){var e=m.getRowsByAchievementId(this._rid),t=m.getAchievementStatus(this._rid),i=g.getAchievementProcess(this._rid);if(this.labelTitle&&e.achivementName.length&&(this.labelTitle.string=v(e.achivementName)),this.LabelRewardNum&&(e.rewardMoney>0&&0==e.rewardVip&&0==e.rewardGold&&(this.LabelRewardNum.string=e.rewardMoney.toString()),0==e.rewardMoney&&e.rewardVip>0&&0==e.rewardGold&&(this.LabelRewardNum.string=e.rewardVip.toString()),0==e.rewardMoney&&0==e.rewardVip&&e.rewardGold>0&&(this.LabelRewardNum.string=e.rewardGold.toString())),this.LabelComplete&&(this.LabelComplete.node.active=!1),this.labelDesc&&(this.labelDesc.node.active=!0,this.labelDesc.string=v(e.achivementDesc)),this.labelText&&(t==f.INCOMPLETE?this.labelText.string=v("DailyUI1"):t==f.CAN_CLAIMED?this.labelText.string=v("DailyUI2"):t==f.COMPLETED&&this.LabelComplete&&(this.LabelComplete.node.active=!0,this.LabelComplete.string=v("DailyUI6"))),this.btnReceive&&(t==f.CAN_CLAIMED?(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(o).grayscale=!1,this.btnReceive.preventSwallow=!1):t==f.INCOMPLETE?(this.btnReceive.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.btnReceive.getComponent(o).grayscale=!0,this.btnReceive.preventSwallow=!0):t==f.COMPLETED&&this.btnReceive.enableCCButtonListener(this,!1,!1,this.onBtnPressStart)),e.rewardMoney>0&&(this.spriteMoney.node.active=!0,this.spriteVip.node.active=!1,this.spriteGold.node.active=!1),e.rewardVip>0&&(this.spriteMoney.node.active=!1,this.spriteVip.node.active=!0,this.spriteGold.node.active=!1),e.rewardGold>0&&(this.spriteMoney.node.active=!1,this.spriteVip.node.active=!1,this.spriteGold.node.active=!0),this.ProgressBar){var n=0;e.needMoney>0&&(this.labelProgress&&(this.labelProgress.string=i.money+"/"+e.needMoney),n=i.money/e.needMoney),e.needVip>0&&(this.labelProgress&&(this.labelProgress.string=i.vip+"/"+e.needVip),n=i.vip/e.needVip),e.needGold>0&&(this.labelProgress&&(this.labelProgress.string=i.gold+"/"+e.needGold),n=i.gold/e.needGold),e.needBuildingId.length>0&&(this.labelProgress&&(this.labelProgress.string=i.buildingIds.length+"/"+e.needBuildingId.length),n=i.buildingIds.length/e.needBuildingId.length),e.needChapterId>0&&(this.labelProgress&&(this.labelProgress.string=(i.chapterId==e.needChapterId?1:0)+"/"+(e.needChapterId>0?1:0)),n=i.chapterId==e.needChapterId?1:0),this.ProgressBar.progress=n}},s.onBtnPressStart=function(e,t,i){u.log("onTouchEndReceive.tid: "+e._tid+", rid: "+e._rid);var n=0,r=0,s=0;u.GetVisibleSize();switch(e._tid){case ee.TASK:if(t==C.GOTO)return w.emit(P.HIDE_PANEL),void E.showDetails(!0);var a=p.getRowsByTaskId(e._rid);if(!a)return;return(n=a.rewardMoney)>0&&(I.addMoney(n),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+v("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/> x",n),"textures@Texture2D/Hall_UI/Hall_UI")),(s=a.rewardGold)>0&&(I.addGold(s),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+v("UI_Recharge_UI9","<img src='main_icon09' width=36 height=36 offset=0/> x",s),"textures@Texture2D/Hall_UI/Hall_UI")),_.playEffect("reward"),g.setDailyTaskCompleted(a.taskId),void w.emit(P.TASK_REFRESH);case ee.ACHIEVEMENT:var l=m.getRowsByAchievementId(e._rid);if(!l)return;return n=l.rewardMoney,r=l.rewardVip,s=l.rewardGold,n>0&&(I.addMoney(n),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+v("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/> x",n),"textures@Texture2D/Hall_UI/Hall_UI")),r>0&&(I.addVip(r),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+v("UI_Recharge_UI9","<img src='main_icon02' width=49 height=33 offset=5/> x",r),"textures@Texture2D/Hall_UI/Hall_UI")),s>0&&(I.addGold(s),T.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+v("UI_Recharge_UI9","<img src='main_icon09' width=36 height=36 offset=5/> x",s),"textures@Texture2D/Hall_UI/Hall_UI")),_.playEffect("reward"),g.setAchievementCompleted(l.achivementId),void w.emit(P.ACHIEVEMENT_REFRESH)}},t}(c)).prototype,"labelTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(V.prototype,"labelDesc",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(V.prototype,"labelText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(V.prototype,"spriteMoney",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"spriteVip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"spriteGold",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(V.prototype,"LabelRewardNum",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(V.prototype,"btnReceive",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(V.prototype,"ProgressBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"labelProgress",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(V.prototype,"LabelComplete",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=V))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelTaskSpecialSingle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCButton.ts","./CCSundryData.ts","./CCLingoData.ts","./CCPopup.ts","./CCCacheRes.ts","./CCDefine.ts","./CCPopupManager.ts","./CCPanelTask.ts","./CCQueue.ts"],(function(e){var t,i,n,l,a,r,o,s,p,c,u,b,f,C,h,d,y,m,S,g,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,o=e.Sprite,s=e.Label,p=e.Canvas},function(e){c=e.default},function(e){u=e.DEV},function(e){b=e.CCPlayerData},function(e){f=e.CCButton},function(e){C=e.default},function(e){h=e._T},function(e){d=e.default},function(e){y=e.CCResType},function(e){m=e.default},function(e){S=e.default},function(e){g=e.CCPanelTask},function(e){T=e.default}],execute:function(){var w,v,P,A,D,B,k,z,L,R,_,I,N,E,M,U,V,F,O,j,K,Y,x,H,Q,W,G,J,q,X,Z,$,ee,te,ie,ne,le,ae;a._RF.push({},"311c6IGQCBJ34Uejedt4BAK","CCPanelTaskSpecialSingle",void 0);var re=r.ccclass,oe=r.property;e("CCPanelTaskSpecialSingle",(w=re("CCPanelTaskSpecialSingle"),v=oe({type:o,tooltip:u}),P=oe({type:s,tooltip:u}),A=oe({type:s,tooltip:u}),D=oe({type:o,tooltip:u}),B=oe({type:o,tooltip:u}),k=oe({type:o,tooltip:u}),z=oe({type:o,tooltip:u}),L=oe({type:o,tooltip:u}),R=oe({type:o,tooltip:u}),_=oe({type:s,tooltip:u}),I=oe({type:s,tooltip:u}),N=oe({type:s,tooltip:u}),E=oe({type:s,tooltip:u}),M=oe({type:f,tooltip:u}),U=oe({type:s,tooltip:u}),V=oe({type:f,tooltip:u}),F=oe({type:s,tooltip:u}),w(((ae=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"BackgroundSingle",K,l(t)),n(t,"labelTitle",Y,l(t)),n(t,"labelDesc",x,l(t)),n(t,"SpriteFrame1",H,l(t)),n(t,"SpriteFrame2",Q,l(t)),n(t,"SpriteSpecialTask",W,l(t)),n(t,"SpriteMoney",G,l(t)),n(t,"SpriteVip",J,l(t)),n(t,"SpriteTime",q,l(t)),n(t,"labelReward",X,l(t)),n(t,"labelRewardMoney",Z,l(t)),n(t,"labelRewardVip",$,l(t)),n(t,"labelTime",ee,l(t)),n(t,"btnAccept",te,l(t)),n(t,"labelAccept",ie,l(t)),n(t,"btnClim",ne,l(t)),n(t,"labelClim",le,l(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this)},a.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),this.btnAccept.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.updateUI()},a.onDisable=function(){this.btnAccept.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.init=function(e){this.options=e},a.updateUI=function(){this.refreshUI()},a.refreshUI=function(){var e=b.getDailySpecialTaskProcess();if(!e||e&&!e.generated)this.node.active=!1;else{var t=e.taskId,i=C.data.SpecialTask_Name[t],n=C.data.SpecialTask_Describe[t];if(this.labelTitle&&(this.labelTitle.string=h(i)),this.labelDesc&&(this.labelDesc.string=h(n)),this.labelRewardMoney&&(this.labelRewardMoney.string=e.rewardMoney.toString()),this.labelRewardVip&&(this.labelRewardVip.string=e.rewardVip.toString()),!e.accepted&&!e.completed&&!e.claimed){if(this.btnAccept&&(this.btnAccept.node.active=!0),this.labelAccept&&(this.labelAccept.string=h("SpecialTalk_YES"),this.labelAccept.node.active=!0),this.SpriteTime&&(this.SpriteTime.node.active=!0),this.labelTime){var l=m.DAILY_SPECIAL_TASK_COUNTDOWN>0?m.DAILY_SPECIAL_TASK_COUNTDOWN:C.data.NPCSpecialTask[2];this.labelTime.string=c.formatTime(null!=l?l:0)}return this.btnAccept.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.labelAccept.node.active=!0,this.btnClim.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),void(this.labelClim.node.active=!1)}this.btnClim&&(this.btnClim.node.active=!0),this.labelClim&&(this.labelClim.string=h("DailyUI2"),this.labelClim.node.active=!0),this.SpriteTime&&(this.SpriteTime.node.active=!1),this.labelTime&&(this.labelTime.node.active=!1),this.btnAccept.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.labelAccept.node.active=!1,this.btnClim.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),this.labelClim.node.active=!0}},a.onBtnPressStart=function(e,t,i){switch(t){case 1:b.updateDailyTaskProcess(0,0,0,0,0,1,0,0,0,0),b.setDailySpecialTaskProcessAccepted(),e.options.fnSubmit&&e.options.fnSubmit(e),c.log("onTouchEndAccepted");break;case 2:e.options.fnSubmit&&e.options.fnSubmit(e),c.log("onTouchEndClaimed"),T.push(1,(function(e){S.showPanel(g.resObj,{fromSpecialNpc:!0})}))}},a.onHide=function(e){this.options.fnClose&&this.options.fnClose(this)},t}(d)).resObj={bundleName:"textures",relativePath:"prefabs/panelTaskSpecialSingle",resType:y.Prefab},K=t((j=ae).prototype,"BackgroundSingle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(j.prototype,"labelTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(j.prototype,"labelDesc",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(j.prototype,"SpriteFrame1",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"SpriteFrame2",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(j.prototype,"SpriteSpecialTask",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(j.prototype,"SpriteMoney",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"SpriteVip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"SpriteTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(j.prototype,"labelReward",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"labelRewardMoney",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"labelRewardVip",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"labelTime",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"btnAccept",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"labelAccept",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"btnClim",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"labelClim",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=j))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPanelTourGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./env","./CCButton.ts","./CCCacheRes.ts","./CCAdHelper.ts","./CCLingoData.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCSceneHall.ts","./CCEvent.ts","./CCDefine.ts","./Npc.ts","./CCEffct.ts"],(function(t){var e,n,i,o,r,l,u,a,s,c,p,b,f,C,d,m,h,S,y,_,T,g,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,u=t.Sprite,a=t.Label},function(t){s=t.default},function(t){c=t.DEV},function(t){p=t.CCButton},function(t){b=t.CCResType,f=t.default},function(t){C=t.default},function(t){d=t._T},function(t){m=t.CCPlayerData},function(t){h=t.default},function(t){S=t.CCSceneHall},function(t){y=t.CCEvent},function(t){_=t.default,T=t.EVENT_TYPE},function(t){g=t.NPC_TYPE},function(t){E=t.CCEffect}],execute:function(){var B,P,v,I,N,H,R,w,A,D,U,x,G,L,z,F,V,Y;r._RF.push({},"781b9Ei3KhKLZL++goLm9xy","CCPanelTourGuide",void 0);var j=l.ccclass,K=l.property;t("CCPanelTourGuide",(B=j("CCPanelTourGuide"),P=K({type:u,tooltip:c}),v=K({type:a,tooltip:c}),I=K({type:a,tooltip:c}),N=K({type:a,tooltip:c}),H=K({type:a,tooltip:c}),R=K({type:u,tooltip:c}),w=K({type:p,tooltip:c}),B(((Y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"SprImage",U,o(e)),i(e,"labelTitle",x,o(e)),i(e,"contentTitle",G,o(e)),i(e,"contentBody",L,o(e)),i(e,"labelSubmit",z,o(e)),i(e,"SprSubmit",F,o(e)),i(e,"btnSubmit",V,o(e)),e}n(e,t);var r=e.prototype;return r.onShow=function(){var t;null==(t=this.btnSubmit)||t.enableCCButtonListener(this,!0,!1,this.onBtnPressStart),_.REQ_BANNER&&C.reqBannerAd(_.getAdMobUnitIdForBanner())},r.onHide=function(t){var e;null==(e=this.btnSubmit)||e.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),_.REQ_BANNER&&C.closeBannerAd()},r.init=function(t){this.options=t,this.labelTitle&&(this.labelTitle.string=d("UI_Event_Npc2002")),this.contentTitle&&(this.contentTitle.string=d("UI_Event_Npc2002_1")),this.contentBody&&(this.contentBody.string=d("UI_Event_Npc2002_2")),this.labelSubmit&&(this.labelSubmit.string=d("UI_Event_Npc_tongyong")),this.SprImage&&f.loadSpriteFrameAndBind(this.SprImage,"textures@Texture2D/Hall_UI/Hall_UI/panelImageTourGuide"),this.SprSubmit&&f.loadSpriteFrameAndBind(this.SprSubmit,"textures@Texture2D/Hall_Common/Hall_Common/common_video")},r.onBtnClose=function(t){this.options.fnClose&&this.options.fnClose(this)},r.onBtnPressStart=function(t,e,n){y.emit(T.PUSH_EVENT,"ad_4"),C.showAds((function(){m.setRewardTourGuideTime();var e=h.data.SpCusGuiderParams[0];e>0&&(m.setRewardTourGuideCustomNum(e),y.emit(T.GENERATE_TOUR_NPC,g.PLAYER)),t.options.fnSubmit&&t.options.fnSubmit(t)}))||E.toast(S.SceneHallUI,"textures@prefabs/floatingBanner",d("tishshibai1"),"textures@Texture2D/Hall_UI/Hall_UI")},e}(s)).resObj={bundleName:"textures",relativePath:"prefabs/panelTourGuide",resType:b.Prefab},U=e((D=Y).prototype,"SprImage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"labelTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(D.prototype,"contentTitle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"contentBody",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"labelSubmit",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(D.prototype,"SprSubmit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(D.prototype,"btnSubmit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCPathManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./CCUtils.ts","./index.js"],(function(e){var i,t,n,o,l,s,r,d,a,u,h,f,_;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy,o=e._decorator,l=e.Size,s=e.Vec3,r=e.Vec2,d=e.math,a=e.tween,u=e.TweenSystem,h=e.Component},null,function(e){f=e.default},function(e){_=e.default}],execute:function(){var g,c;n._RF.push({},"63137MCn/1OJ53QWy25aNDF","CCPathManager",void 0);var v=o.ccclass,y=(o.property,e("SCREEN_PATH_TYPE",function(e){return e[e.BOTH=0]="BOTH",e[e.HALL=1]="HALL",e[e.RIGHT=2]="RIGHT",e}({})));e("CCPathManager",v("CCPathManager")(((c=function(e){function n(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(i=e.call.apply(e,[this].concat(n))||this)._grid=void 0,i._finder=void 0,i.tMove=null,i.realSpeed=0,i._isWalking=!1,i._endTile=new r(0,0),i._player=null,i._speed=.1,i._needFixedPos=!1,i}i(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){},o.loadGrid=function(e,i,t){return void 0===i&&(i=.1),void 0===t&&(t=!1),!!e&&(!(!n.tileSize&&!n.matrix.length)&&(this._player=e,this._grid||(n.matrix.length>0?this._grid=new _.Grid(n.matrix):n.tileSize&&(this._grid=new _.Grid(n.tileSize.width,n.tileSize.height))),this._finder||(this._finder=new _.AStarFinder({allowDiagonal:!0,dontCrossCorners:!0})),this.speed=i,this.realSpeed=1,this.needFixedPos=t,!0))},n.setGrid=function(e,i,t,o,r,d,a){n.matrix=[];for(var u=0;u<t;u++){n.matrix[u]=[];for(var h=0;h<o;h++)n.matrix[u][h]=0}a.forEach((function(e){n.matrix[e.y][e.x]=1})),n.gridSize=new l(r,d),n.tileSize=new l(r/o,d/t),n.gridRows=t,n.gridCols=o,n.offset=new s(e,i,0)},n.randomWalkable=function(e,i){if(void 0===e&&(e=y.HALL),void 0===i&&(i=-1),!this.walkable.length)return f.error("randomWalkable.nil"),null;var t=this.walkable.filter((function(e){return-1==i?e:e.x==i}));switch(e){case y.BOTH:break;case y.HALL:t=t.filter((function(e){return e.x<30}));break;case y.RIGHT:t=t.filter((function(e){return e.x>=30}))}var n=t[d.randomRangeInt(0,t.length)];return n.x<30&&n.y<=15||29==n.x&&n.y>=19||30==n.x&&(n.y<=15||n.y>=19)?null:(0!=n.x&&1!=n.x||19!=n.y&&20!=n.y&&25!=n.y&&26!=n.y&&35!=n.y&&36!=n.y)&&(28!=n.x&&29!=n.x||25!=n.y&&26!=n.y&&35!=n.y&&36!=n.y)?n:null},o.getRandomWalkableTileByTryCount=function(e,i,t){void 0===e&&(e=y.HALL),void 0===i&&(i=-1),void 0===t&&(t=10);for(var o=null,l=!1,s=0;s<t;s++){if(!(o=n.randomWalkable(e,i)))return;if(this.isWalkable(o)){l=!0;break}}return l||(o=new r(Math.floor(n.gridRows/2),Math.floor(n.gridCols/2))),o},o._moveToTile=function(e,i,t,o,l,d){var u,h,_,g=this;if(void 0===i&&(i=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===d&&(d=null),this._isWalking)f.log("_moveToTile._isWalking so movement ignored");else if(null==(u=this._grid)?void 0:u.isWalkableAt(e.x,e.y)){var c=null==(h=this._grid)?void 0:h.clone(),v=n._position2Tile(this._player.getPosition(),this._needFixedPos);if(v.x<0||v.x>=n.gridCols||v.y<0||v.y>=n.gridRows)f.log("_moveToTile.startTile:"+v+" more than tileArea:"+n.gridCols+"x"+n.gridRows+" so movement ignored");else{var y=null==(_=this._finder)?void 0:_.findPath(v.x,v.y,e.x,e.y,c);if(0!==y.length){i&&i(y);var x=new s(0,0,0),p=new s(0,0,0),w=new r(0,0);this.tMove&&(this.tMove.stop(),this.tMove.destroySelf(),this.tMove=null),this.tMove=a(this._player),y.forEach((function(e,i){0!==i&&(w=new r(e[0],e[1]),x=n._tile2Position(w,g.needFixedPos),g.tMove.to(g.speed,{position:x},{easing:"linear",onStart:function(e){t&&(p=i==y.length-1?n._tile2Position(new r(y[i][0],y[i][1]),g.needFixedPos):n._tile2Position(new r(y[i+1][0],y[i+1][1]),g.needFixedPos),t&&t(e,i,y.length,new r(y[i][0],y[i][1]),p))},onUpdate:function(e,t){o&&(p=i==y.length-1?n._tile2Position(new r(y[i][0],y[i][1]),g.needFixedPos):n._tile2Position(new r(y[i+1][0],y[i+1][1]),g.needFixedPos),o&&o(e,i,y.length,new r(y[i][0],y[i][1]),p,t))},onComplete:function(e){l&&(p=i==y.length-1?n._tile2Position(new r(y[i][0],y[i][1]),g.needFixedPos):n._tile2Position(new r(y[i+1][0],y[i+1][1]),g.needFixedPos),l&&l(e,i,y.length,new r(y[i][0],y[i][1]),p))}}))})),this.tMove.call((function(){g.tMove.stop(),g.tMove.destroySelf(),g.tMove=null,g._onMovingEnd(d)})),this.tMove.start(),this.setSpeed(this.realSpeed),this._isWalking=!0}else f.log("_moveToTile.startTile:"+v+" endTile:"+e+" not found path!")}}else f.log("_moveToTile.endTile:"+e+" is blocked so movement ignored")},o.isWalkable=function(e){var i;return null==(i=this._grid)?void 0:i.isWalkableAt(e.x,e.y)},o.setSpeed=function(e){if(this.realSpeed=e,this.tMove){var i=this.tMove._finalAction;i&&i.setSpeed&&i.setSpeed(e)}},o._stop=function(){this._player&&(this._isWalking=!1,this.tMove&&(this.tMove.stop(),this.tMove=null))},o._pause=function(e){void 0===e&&(e=!0),this._player&&this.tMove&&(e?u.instance.ActionManager.pauseTarget(this._player):u.instance.ActionManager.resumeTarget(this._player))},o._onMovingEnd=function(e){void 0===e&&(e=null),this._isWalking=!1;var i=!0,t=n._position2Tile(this._player.getPosition(),this._needFixedPos);t.equals(this._endTile)||(i=!1,f.log("_onMovingEnd.endTile:"+t+" _endTile:"+this._endTile+" needFixedPos:"+this._needFixedPos+" name:"+this.node.name+" ... endTile not match!")),e&&e(i)},n._tile2Position=function(e,i){void 0===i&&(i=!1);var t=e.x*n.tileSize.width+(i?n.tileSize.width/2:0),o=n.gridSize.height-(e.y+1)*n.tileSize.height+(i?n.tileSize.height/2:0);return new s(t+n.offset.x,o+n.offset.y,0)},n._position2Tile=function(e,i){void 0===i&&(i=!1);var t=Math.floor((e.x-n.offset.x)/n.tileSize.width),o=(n.gridSize.height+n.offset.y-e.y-(i?n.tileSize.height/2:0))/n.tileSize.height;return o=Math.round(o),i||--o,t<0&&(t=0),new r(t,o)},o.walkToTile=function(e,i,t,n,o,l){void 0===i&&(i=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===l&&(l=null),this._isWalking||(this._endTile=e,this._moveToTile(this._endTile,i,t,n,o,l))},o.walkToPosition=function(e,i,t,o,l,s){void 0===i&&(i=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===l&&(l=null),void 0===s&&(s=null),this._isWalking||(this._endTile=n._position2Tile(e,this._needFixedPos),this._moveToTile(this._endTile,i,t,o,l,s))},t(n,[{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"needFixedPos",get:function(){return this._needFixedPos},set:function(e){this._needFixedPos=e}}],[{key:"gridSize",get:function(){return n._gridSize},set:function(e){n._gridSize=e}},{key:"tileSize",get:function(){return n._tileSize},set:function(e){n._tileSize=e}},{key:"gridRows",get:function(){return n._gridRows},set:function(e){n._gridRows=e}},{key:"gridCols",get:function(){return n._gridCols},set:function(e){n._gridCols=e}},{key:"offset",get:function(){return n._offset.clone()},set:function(e){n._offset=e.clone()}},{key:"matrix",get:function(){return n._matrix},set:function(e){n._matrix=e}}]),n}(h)).walkable=[],c._gridSize=new l(768,1366),c._tileSize=new l(76,76),c._gridRows=10,c._gridCols=10,c._offset=new s(0,0,0),c._matrix=[],g=c))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCPay.ts",["cc","./CCUtils.ts","./CCNative.ts","./CCDefine.ts"],(function(E){var C,t,n,N,i,R;return{setters:[function(E){C=E.cclegacy,t=E._decorator,n=E.sys},function(E){N=E.default},function(E){i=E.default},function(E){R=E.default}],execute:function(){var a,_;C._RF.push({},"359bbT8+YxATqZoUxZ8q9ya","CCPay",void 0);var A=t.ccclass,e=(t.property,E("CCGooglePayPurchaseState",function(E){return E[E.UNSPECIFIED_STATE=0]="UNSPECIFIED_STATE",E[E.PURCHASED=1]="PURCHASED",E[E.PENDING=2]="PENDING",E}({})),E("CCPayRspTypeFromNative",function(E){return E[E.CONNECT_FAILED=0]="CONNECT_FAILED",E[E.CONNECT_SUCCEED=1]="CONNECT_SUCCEED",E[E.PRODUCT_NIL=2]="PRODUCT_NIL",E[E.PURCHASE_FAILED=3]="PURCHASE_FAILED",E[E.PURCHASE_CANCEL=4]="PURCHASE_CANCEL",E[E.PURCHASE_SUCCEED=5]="PURCHASE_SUCCEED",E}({})),E("CCPayRspBillingResponseCode",function(E){return E[E.SERVICE_TIMEOUT=-3]="SERVICE_TIMEOUT",E[E.FEATURE_NOT_SUPPORTED=-2]="FEATURE_NOT_SUPPORTED",E[E.SERVICE_DISCONNECTED=-1]="SERVICE_DISCONNECTED",E[E.OK=0]="OK",E[E.USER_CANCELED=1]="USER_CANCELED",E[E.SERVICE_UNAVAILABLE=2]="SERVICE_UNAVAILABLE",E[E.BILLING_UNAVAILABLE=3]="BILLING_UNAVAILABLE",E[E.ITEM_UNAVAILABLE=4]="ITEM_UNAVAILABLE",E[E.DEVELOPER_ERROR=5]="DEVELOPER_ERROR",E[E.ERROR=6]="ERROR",E[E.ITEM_ALREADY_OWNED=7]="ITEM_ALREADY_OWNED",E[E.ITEM_NOT_OWNED=8]="ITEM_NOT_OWNED",E[E.NETWORK_ERROR=12]="NETWORK_ERROR",E}({})),E("default",A("CCPay")(((_=function(){function E(){}return E.init=function(E,C){if(N.log("init.skuIds["+E+"]"),!n.isNative)return!1;this.onNative=C,n.os==n.OS.ANDROID&&i.call(R.NATIVE_CLASS_ROOT_PATH+"/googleplay/CCGooglePlayPay","init","(Ljava/lang/String;)V",E.join(","))},E.buy=function(E,C,t){if(N.log("buy.skuId["+E+"]"),!n.isNative)return!1;n.os==n.OS.ANDROID&&i.call(R.NATIVE_CLASS_ROOT_PATH+"/googleplay/CCGooglePlayPay","buy","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",E,C,t)},E.onNotifyFromNative=function(E,C){n.isNative&&this.onNative&&this.onNative(E,CryptoJS.enc.Base64.parse(C).toString(CryptoJS.enc.Utf8))},E}()).isProcessing=!1,_.onNative=null,a=_))||a));window.CCPay=e,C._RF.pop()}}}));

System.register("chunks:///_virtual/CCPlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCStorage.ts","./CCUtils.ts","./CCSundryData.ts","./CCDefine.ts","./CCBuildingData.ts","./CCEvent.ts","./CCStaffData.ts","./CCFacadeData.ts","./CCCatData.ts","./CCEventNpcData.ts","./CCCatRoomData.ts","./CCNpcData.ts","./CCHostTasksData.ts","./CCDailyTaskData.ts","./CCAchievementData.ts","./CCGuideData.ts","./CCBuildingRightData.ts","./CCCatUpgrade.ts","./CCCatCompeti.ts","./CCEventData.ts"],(function(e){var t,a,i,s,d,n,o,l,r,h,u,c,m,p,_,T,f,g,v,k,C,S,P,U,I,R,N,L,y,G,E,O;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy,i=e.js,s=e._decorator,d=e.PhysicsSystem2D,n=e.EPhysics2DDrawFlags},function(e){o=e.default},function(e){l=e.default},function(e){r=e.default},function(e){h=e.default,u=e.BuildingTypeId,c=e.EVENT_TYPE,m=e.SpecialNpcType},function(e){p=e.default},function(e){_=e.CCEvent},function(e){T=e.default,f=e.StaffStatus},function(e){g=e.default},function(e){v=e.default},function(e){k=e.default},function(e){C=e.default},function(e){S=e.default},function(e){P=e.default},function(e){U=e.DailyTaskStatus,I=e.default},function(e){R=e.default,N=e.AchievementStatus},function(e){L=e.default},function(e){y=e.default},function(e){G=e.default},function(e){E=e.default},function(e){O=e.default}],execute:function(){var w,b;a._RF.push({},"44973w8SLhCapyyQjlpEQ/+","CCPlayerData",void 0);var A=i.IDGenerator,M=s.ccclass,D=(s.property,"Profile"),B=e("SignInType",function(e){return e[e.Unknown=0]="Unknown",e[e.Guest=1]="Guest",e[e.Google=2]="Google",e[e.Apple=3]="Apple",e}({})),H=e("LingoType",function(e){return e[e.EN=0]="EN",e[e.CN=1]="CN",e}({})),F=e("StaffSkillsStatus",function(e){return e[e.IDLE=0]="IDLE",e[e.WORKING=1]="WORKING",e}({})),x=e("GOTO_TYPE",function(e){return e[e.GOTO_UNKNOWN=-2]="GOTO_UNKNOWN",e[e.GOTO_CLAIM_REWARD=-1]="GOTO_CLAIM_REWARD",e[e.GOTO_BUILDING=0]="GOTO_BUILDING",e[e.GOTO_BUY_CAT=1]="GOTO_BUY_CAT",e[e.GOTO_OUTSIDE=2]="GOTO_OUTSIDE",e[e.GOTO_BUY_STAFF=3]="GOTO_BUY_STAFF",e[e.GOTO_MINI_GAME=4]="GOTO_MINI_GAME",e[e.GOTO_CATPART_UPGRADE=5]="GOTO_CATPART_UPGRADE",e[e.GOTO_UNLOCK_RIGHT=6]="GOTO_UNLOCK_RIGHT",e[e.GOTO_UNLOCK_LEFT=7]="GOTO_UNLOCK_LEFT",e[e.GOTO_RIGHT_MINI_GAME=8]="GOTO_RIGHT_MINI_GAME",e[e.GOTO_TEAM_MEMBER=9]="GOTO_TEAM_MEMBER",e[e.GOTO_MATCHS=10]="GOTO_MATCHS",e}({})),W=e("CCAdEventStatus",function(e){return e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETED=2]="COMPLETED",e[e.CLAIMED=3]="CLAIMED",e}({})),V=e("CCShopItemType",function(e){return e[e.GOLD=0]="GOLD",e[e.ADFREE=1]="ADFREE",e}({})),K=e("CC_NEWBIE_GUIDE_TYPE",function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.DEVELIVERING=1]="DEVELIVERING",e[e.DOUBLE_INCOME=2]="DOUBLE_INCOME",e[e.CATHOUSE_UPGRADE=3]="CATHOUSE_UPGRADE",e[e.OUTSIDE_UPGRADE=4]="OUTSIDE_UPGRADE",e[e.RIGHT_SCENE=5]="RIGHT_SCENE",e[e.LEFT_SCENE=6]="LEFT_SCENE",e[e.LEFT_SCENE_MATCH=7]="LEFT_SCENE_MATCH",e[e.LEFT_SCENE_MATCH_WON=8]="LEFT_SCENE_MATCH_WON",e}({}));e("CCPlayerData",M("CCPlayerData")(((b=function(){function e(){}return e.initData=function(){return{version:0,debug:!1,newbieAni:-1,newbieGuideStepCompleted:0,newbieGuideStepsCompleted:{},newbieGuideVersion:0,uuid:this.IDG.getNewId(),name:"Guest",level:0,money:r.data.DefaultCoins,gold:0,vip:r.data.DefaultVIP,exp:0,score:r.data.DefaultChip,outsideLevel:r.data.DefaultStorefront,numOfPromotion:0,leaflet:r.data.OutSideFlyerRecoverMax,leafletRecoverTime:Array(r.data.OutSideFlyerRecoverMax).fill(0),lastNotifyTimeLeafletFull:0,numOfChallange:h.appConfig.mg.t,numOfChallangeRecoverTime:[],II:0,RPM:0,RL:0,RR:0,lastRechargeIncomeTime:l.NowTimeStamp(),IIG:0,RPMG:0,RLG:0,RRG:0,lastRechargeGoldIncomeTime:l.NowTimeStamp(),doubleIncomeTimeLeft:0,buildingIdUnlocked:[],buildingIdPurchased:[],buildingLevelUnlocked:{},buildingLevelUsing:{},buildingDelivering:{},queueCushionBroken:{},staffFirstClicked:[],staffLevelUsing:{},npcUnlockedPre:{},npcUnlocked:{},catLevelUnlocked:{},catUpgradeUsing:{},specialNpcUnlocked:{},specialNpcAppearTime:[],hotTaskId:0,hotTaskProcess:{},dailyTaskProcess:{},dailyTaskVipToday:0,dailyTaskVipTodayUpdateTime:0,dailyTaskGoldStoreLimitToday:0,dailyTaskGoldStoreLimitTodayUpdateTime:0,achievementProcess:{},outsideProcess:{},numOfBubbles:[0,0,0,0,0],lingoType:H.EN,gameAccelRate:1,spineAnimationSpeed:1,spineWalkSpeed:1,timeScaleUpValue:1,lastTimeScaleUpLeftValue:0,lastTimeScaleUp:l.NowTimeStamp(),lastUpdateTime:l.NowTimeStamp(),lastHeartBeatTime:0,quickRepairCushionTypeId:0,quickRepairCushionPos:-1,rewardProductsSale:[0,0],rewardProductsSaleTime:0,rewardTourGuideCustomNum:0,rewardTourGuideTime:0,catRoomLevelUsing:{},miniGameLeftCount:r.data.HardwareGameTimesRecoverLimit,miniGameLeftRecoverTime:Array(r.data.HardwareGameTimesRecoverLimit).fill(0),miniGameDriedFishCount:0,miniGameTodayScore:{},miniGameHighestScore:{},miniGameScoreLastUpdateTime:l.NowTimeStamp(),lastLoginInType:B.Unknown,purchasedRecords:[],lastBackupTime:0,lastBackupVip:0,nextBackupTime:0,props:{},propsToday:{},propsTodayLastUpdateTime:l.NowTimeStamp(),leftSceneUnlocked:!1,rightSceneUnlocked:!1,backpackUnlocked:!1,dailySpecialTaskProcess:{taskId:-1,rewardMoney:0,rewardVip:0,rewardGold:0,generated:!1,accepted:!1,completed:!1,claimed:!1,lastGeneratedTime:0,lastAcceptedTime:0,lastCompletedTime:0,lastClaimedTime:0,nextGeneratedTime:0},seekSponsorCount:h.appConfig.ss,seekSponsorCountLastUpdateTime:l.NowTimeStamp(),matchChapterId:0,matchRoundId:0,matchVersion:0,matchProgress:{},adWatchedCount:0,adWatchedLastUpdateTime:0,adEventProcess:{},adEventProcessLastUpdateTime:0}},e.loadAsString=function(){return o.load(D)},e.cover=function(e){if(!e||null==e)return!1;try{this._data=JSON.parse(e)}catch(e){return l.log("cover.err: "+e),!1}return l.log("cover.lastBackupTime: "+l.formatTimestamp(this._data.lastBackupTime)+" lastBackupVip: "+this._data.lastBackupVip+" vip: "+this._data.vip+" ... OK"),!0},e.load=function(){var t=this,a=o.load(D);if(a){try{this._data=JSON.parse(a)}catch(e){this._data=this.initData()}null==this._data.debug&&(this._data.debug=!1),null==this._data.newbieAni&&(this._data.newbieAni=-1),null==this._data.newbieGuideStepCompleted&&(this._data.newbieGuideStepCompleted=0),null==this._data.newbieGuideStepsCompleted&&(this._data.newbieGuideStepsCompleted={}),null==this._data.newbieGuideVersion&&(this._data.newbieGuideVersion=0),null==this._data.uuid&&(this._data.uuid=this.IDG.getNewId()),null==this._data.name&&(this._data.name="Guest"),null==this._data.level&&(this._data.level=0),null==this._data.money&&(this._data.money=r.data.DefaultCoins),null==this._data.gold&&(this._data.gold=0),null==this._data.vip&&(this._data.vip=r.data.DefaultVIP),null==this._data.exp&&(this._data.exp=0),null==this._data.score&&(this._data.score=0),null==this._data.outsideLevel&&(this._data.outsideLevel=r.data.DefaultStorefront),null==this._data.numOfPromotion&&(this._data.numOfPromotion=0),null==this._data.numOfChallange&&(this._data.numOfChallange=h.appConfig.mg.t),null==this._data.numOfChallangeRecoverTime&&(this._data.numOfChallangeRecoverTime=[]),null==this._data.leaflet&&(this._data.leaflet=r.data.OutSideFlyerRecoverMax),"number"==typeof this._data.leafletRecoverTime?(this._data.leafletRecoverTime=Array(r.data.OutSideFlyerRecoverMax).fill(0),this._data.leaflet!=r.data.OutSideFlyerRecoverMax&&(this._data.leaflet=r.data.OutSideFlyerRecoverMax)):Array.isArray(this._data.leafletRecoverTime)?this._data.leafletRecoverTime.length!=r.data.OutSideFlyerRecoverMax&&(this._data.leafletRecoverTime=Array(r.data.OutSideFlyerRecoverMax).fill(0)):(null==this._data.leafletRecoverTime&&(this._data.leafletRecoverTime=Array(r.data.OutSideFlyerRecoverMax).fill(0)),this._data.leaflet!=r.data.OutSideFlyerRecoverMax&&(this._data.leaflet=r.data.OutSideFlyerRecoverMax));var i=this._data.leafletRecoverTime.filter((function(e){return e>0})).length;this._data.leaflet!=r.data.OutSideFlyerRecoverMax-i&&(this._data.leaflet=r.data.OutSideFlyerRecoverMax-(i>0?i:0)),null!=this._data.newbieGuideStepCompleted&&null!=this._data.newbieGuideStepsCompleted&&this._data.newbieGuideStepCompleted>0&&this._data.newbieGuideStepCompleted!=this.getNewbieGuideStepsCompleted(K.DEFAULT)&&this.setNewbieGuideStepsCompleted(K.DEFAULT,this._data.newbieGuideStepCompleted),null==this._data.lastNotifyTimeLeafletFull&&(this._data.lastNotifyTimeLeafletFull=0),null==this._data.II&&(this._data.II=0),null==this._data.RPM&&(this._data.RPM=0),null==this._data.RL&&(this._data.RL=0),null==this._data.RR&&(this._data.RR=0),null==this._data.lastRechargeIncomeTime&&(this._data.lastRechargeIncomeTime=l.NowTimeStamp()),null==this._data.IIG&&(this._data.IIG=0),null==this._data.RPMG&&(this._data.RPMG=0),null==this._data.RLG&&(this._data.RLG=0),null==this._data.RRG&&(this._data.RRG=0),null==this._data.lastRechargeGoldIncomeTime&&(this._data.lastRechargeGoldIncomeTime=l.NowTimeStamp()),null==this._data.doubleIncomeTimeLeft&&(this._data.doubleIncomeTimeLeft=0),null==this._data.buildingIdUnlocked&&(this._data.buildingIdUnlocked=[]),null==this._data.buildingIdPurchased&&(this._data.buildingIdPurchased=[]),null==this._data.buildingLevelUnlocked&&(this._data.buildingLevelUnlocked={}),null==this._data.buildingLevelUsing&&(this._data.buildingLevelUsing={}),null==this._data.buildingDelivering&&(this._data.buildingDelivering={}),null==this._data.queueCushionBroken&&(this._data.queueCushionBroken={}),null==this._data.staffFirstClicked&&(this._data.staffFirstClicked=[]),null==this._data.staffLevelUsing&&(this._data.staffLevelUsing={}),null==this._data.npcUnlockedPre&&(this._data.npcUnlockedPre={}),null==this._data.npcUnlocked&&(this._data.npcUnlocked={}),null==this._data.catLevelUnlocked&&(this._data.catLevelUnlocked={}),null==this._data.catUpgradeUsing&&(this._data.catUpgradeUsing={}),null==this._data.specialNpcUnlocked&&(this._data.specialNpcUnlocked={}),null==this._data.specialNpcAppearTime&&(this._data.specialNpcAppearTime=[]),null==this._data.hotTaskId&&(this._data.hotTaskId=0),null==this._data.hotTaskProcess&&(this._data.hotTaskProcess={}),null==this._data.dailyTaskProcess&&(this._data.dailyTaskProcess={}),null==this._data.dailyTaskVipToday&&(this._data.dailyTaskVipToday=0),null==this._data.dailyTaskVipTodayUpdateTime&&(this._data.dailyTaskVipTodayUpdateTime=0),null==this._data.dailyTaskGoldStoreLimitToday&&(this._data.dailyTaskGoldStoreLimitToday=0),null==this._data.dailyTaskGoldStoreLimitTodayUpdateTime&&(this._data.dailyTaskGoldStoreLimitTodayUpdateTime=0),null==this._data.achievementProcess&&(this._data.achievementProcess={}),null==this._data.outsideProcess&&(this._data.outsideProcess={}),null==this._data.numOfBubbles&&(this._data.numOfBubbles=[0,0,0,0,0]),null==this._data.lingoType&&(this._data.lingoType=H.CN),null==this._data.gameAccelRate&&(this._data.gameAccelRate=1),null==this._data.spineAnimationSpeed&&(this._data.spineAnimationSpeed=1),null==this._data.spineWalkSpeed&&(this._data.spineWalkSpeed=1),null==this._data.timeScaleUpValue&&(this._data.timeScaleUpValue=1),null==this._data.lastTimeScaleUpLeftValue&&(this._data.lastTimeScaleUpLeftValue=0),null==this._data.lastTimeScaleUp&&(this._data.lastTimeScaleUp=l.NowTimeStamp()),null==this._data.lastUpdateTime&&(this._data.lastUpdateTime=l.NowTimeStamp()),null==this._data.lastHeartBeatTime&&(this._data.lastHeartBeatTime=0),null==this._data.quickRepairCushionTypeId&&(this._data.quickRepairCushionTypeId=0),null==this._data.quickRepairCushionPos&&(this._data.quickRepairCushionPos=-1),null==this._data.rewardProductsSale&&(this._data.rewardProductsSale=[0,0]),null==this._data.rewardProductsSaleTime&&(this._data.rewardProductsSaleTime=0),null==this._data.rewardTourGuideCustomNum&&(this._data.rewardTourGuideCustomNum=0),null==this._data.rewardTourGuideTime&&(this._data.rewardTourGuideTime=0),null==this._data.catRoomLevelUsing&&(this._data.catRoomLevelUsing={}),null==this._data.miniGameLeftCount&&(this._data.miniGameLeftCount=r.data.HardwareGameTimesRecoverLimit),null==this._data.miniGameLeftRecoverTime&&(this._data.miniGameLeftRecoverTime=Array(r.data.HardwareGameTimesRecoverLimit).fill(0)),null==this._data.miniGameDriedFishCount&&(this._data.miniGameDriedFishCount=0),null==this._data.miniGameTodayScore&&(this._data.miniGameTodayScore={}),null==this._data.miniGameHighestScore&&(this._data.miniGameHighestScore={}),null==this._data.miniGameScoreLastUpdateTime&&(this._data.miniGameScoreLastUpdateTime=l.NowTimeStamp()),null==this._data.lastLoginInType&&(this._data.lastLoginInType=B.Unknown),null==this._data.purchasedRecords&&(this._data.purchasedRecords=[]),null==this._data.lastBackupTime&&(this._data.lastBackupTime=0),null==this._data.lastBackupVip&&(this._data.lastBackupVip=0),null==this._data.nextBackupTime&&(this._data.nextBackupTime=0),null==this._data.props&&(this._data.props={}),null==this._data.propsToday&&(this._data.propsToday={}),null==this._data.propsTodayLastUpdateTime&&(this._data.propsTodayLastUpdateTime=l.NowTimeStamp()),null==this._data.leftSceneUnlocked&&(this._data.leftSceneUnlocked=!1),null==this._data.rightSceneUnlocked&&(this._data.rightSceneUnlocked=!1),null==this._data.backpackUnlocked&&(this._data.backpackUnlocked=!1),null==this._data.dailySpecialTaskProcess&&(this._data.dailySpecialTaskProcess={taskId:-1,rewardMoney:0,rewardVip:0,rewardGold:0,generated:!1,accepted:!1,completed:!1,claimed:!1,lastGeneratedTime:0,lastAcceptedTime:0,lastCompletedTime:0,lastClaimedTime:0,nextGeneratedTime:0}),null==this._data.seekSponsorCount&&(this._data.seekSponsorCount=h.appConfig.ss),null==this._data.seekSponsorCountLastUpdateTime&&(this._data.seekSponsorCountLastUpdateTime=l.NowTimeStamp()),null==this._data.matchChapterId&&(this._data.matchChapterId=0),null==this._data.matchRoundId&&(this._data.matchRoundId=0),null==this._data.matchVersion&&(this._data.matchVersion=0),null==this._data.matchProgress&&(this._data.matchProgress={}),null==this._data.adWatchedCount&&(this._data.adWatchedCount=0),null==this._data.adWatchedLastUpdateTime&&(this._data.adWatchedLastUpdateTime=0),null==this._data.adEventProcess&&(this._data.adEventProcess=[]),null==this._data.adEventProcessLastUpdateTime&&(this._data.adEventProcessLastUpdateTime=0),0==this.data.newbieGuideVersion&&this.getNewbieGuideStepsCompleted(K.RIGHT_SCENE)<511&&(e.removeBuildingIdPurchased(u.Hall_Right_Stage),e.removeBuildingIdUnlocked(u.Hall_Right_Stage),e.removeBuildingLevelUnlocked(u.Hall_Right_Stage),e.removeBuildingLevelUsing(u.Hall_Right_Stage),this.data.newbieGuideVersion=1)}else this._data=this.initData();var s=!1;return this.data.RLG=0,this.data.RPMG=0,y.iterator((function(e,t){}),(function(e){t.getBuildingIdPurchased().includes(100*e.typeId+e.level)&&(t.data.RLG+=e.storeLimit,t.data.RPMG+=e.rewardRecharge)})),s&&(l.log("patch#2025/07/10: CCBuildingRightData changed, save data"),this.save()),s=!1,null!=this.data.catUpgradeUsing&&(Object.entries(this.data.catUpgradeUsing).forEach((function(e){e[0];var t=e[1];null!=t.status&&null==t.buildingId&&(delete t.status,t.buildingId=0,s=!0)})),s&&(l.log("patch#2025/07/15: catUpgradeUsing changed, save data"),this.save())),0==this._data.matchVersion&&(this._data.matchProgress={},this._data.matchChapterId=0,this._data.matchVersion=1),delete this._data.miniGameLastPlayTime,l.log("load: "+JSON.stringify(this._data)),this._data},e.save=function(){this._data.lastUpdateTime=l.NowTimeStamp();var e=JSON.stringify(this._data);o.save(D,e)},e.isDebug=function(){return this._data.debug||h.ENABLE_CHANNEL_TEST||!1},e.setDebug=function(e){this._data.debug=e,e&&!h.ENABLE_CHANNEL_TEST?d.instance.debugDrawFlags=n.All:d.instance.debugDrawFlags=n.None,this.save()},e.isNewbieAniCompleted=function(){return this._data.newbieAni==h.newbieAniMax},e.setNewbieAniCompleted=function(){this.isNewbieAniCompleted()||(this._data.newbieAni=h.newbieAniMax,this.save())},e.isNewBieGuideStepsCompleted=function(e){return!(!this._data||null==this._data)&&(this._data.newbieGuideStepsCompleted||(this._data.newbieGuideStepsCompleted={}),this.getNewbieGuideStepsCompleted(e)>=L.maxStep(e)||!1)},e.setNewbieGuideStepsCompleted=function(e,t){this._data&&null!=this._data&&(this._data.newbieGuideStepsCompleted||(this._data.newbieGuideStepsCompleted={}),this._data.newbieGuideStepsCompleted[e]=t,this.save())},e.getNewbieGuideStepsCompleted=function(e){return this._data&&null!=this._data?(this._data.newbieGuideStepsCompleted||(this._data.newbieGuideStepsCompleted={}),this._data.newbieGuideStepsCompleted[e]||0):0},e.getNewbieGuideStepsNext=function(e,t){return this.isNewBieGuideStepsCompleted(e)?null:L.getRowsNext(e,t)},e.updateNewbieGuideStepsCompleted=function(e,t,a){void 0===a&&(a=!0),this.isNewBieGuideStepsCompleted(e)||(this.setNewbieGuideStepsCompleted(e,t),t<1||!a||(l.log("updateNewbieGuideStepsCompleted: "+e+", "+t),_.emit(c.NEWBIE_GUIDE_STEP_EVENT,"nb_"+t)))},e.getBuildingIdUnlocked=function(){return this._data.buildingIdUnlocked.sort()},e.setBuildingIdUnlocked=function(e,t){var a=100*e+t;return!this._data.buildingIdUnlocked.find((function(e){return e==a}))&&(this._data.buildingIdUnlocked.push(a),this.save(),!0)},e.removeBuildingIdUnlocked=function(e){this._data.buildingIdUnlocked&&(this._data.buildingIdUnlocked=this._data.buildingIdUnlocked.filter((function(t){return Math.floor(t/100)!==e})),this.save())},e.getBuildingIdPurchased=function(){return this._data.buildingIdPurchased.sort()},e.setBuildingIdPurchased=function(e,t){var a=100*e+t;if(this._data.buildingIdPurchased.find((function(e){return e==a})))return!1;this._data.buildingIdPurchased.push(a),this.updateAchievementProcess(0,0,0,a,0);var i=y.getNumOfChallange(e,t);return i>0&&this.addNumOfChallange(i),this.save(),!0},e.removeBuildingIdPurchased=function(e){this._data.buildingIdPurchased&&(this._data.buildingIdPurchased=this._data.buildingIdPurchased.filter((function(t){return Math.floor(t/100)!==e})),this.save())},e.getBuildingLevelUnlocked=function(e){return this._data.buildingLevelUnlocked||(this._data.buildingLevelUnlocked={}),this._data.buildingLevelUnlocked[e]||{level:0,lastUpdateTime:0}},e.setBuildingLevelUnlocked=function(e,t){if(this.setBuildingIdUnlocked(e,t)){var a=this._data.buildingLevelUnlocked[e];if(a&&a.level>=t)return;this._data.buildingLevelUnlocked[e]={level:t,lastUpdateTime:l.NowTimeStamp()},this.save()}},e.removeBuildingLevelUnlocked=function(e){this._data.buildingLevelUnlocked&&this._data.buildingLevelUnlocked[e]&&(delete this._data.buildingLevelUnlocked[e],this.save())},e.getBuildingLevelUsing=function(e){return this._data.buildingLevelUsing||(this._data.buildingLevelUsing={}),this._data.buildingLevelUsing[e]||{level:0,lastUpdateTime:0}},e.setBuildingLevelUsing=function(e,t){this._data.buildingLevelUsing[e]={level:t,lastUpdateTime:l.NowTimeStamp()},this.save()},e.removeBuildingLevelUsing=function(e){this._data.buildingLevelUsing&&this._data.buildingLevelUsing[e]&&(delete this._data.buildingLevelUsing[e],this.save())},e.updateRPM=function(){var e=this.data.lastRechargeIncomeTime,t=l.NowTimeStamp(),a=(t-e)/1e3;if(a<this.data.II)return!1;var i=parseFloat((this.data.RPM/60*a).toFixed(2));return this.data.RR+=i,this.data.RR>this.data.RL&&(this.data.RR=this.data.RL),this.data.lastRechargeIncomeTime=t,this.save(),!0},e.collectMoney=function(e){e<=0||(this.data.RR-e<0?this.data.RR=0:this.data.RR-=e,this.save())},e.addMoney=function(e){this.data.money+=e,this.save()},e.updateMoney=function(e){this.data.money=e,this.save()},e.addVip=function(e){this.data.vip+=e,this.save()},e.updateVip=function(e){this.data.vip=e,this.save()},e.addExp=function(e){this.data.exp+=e,this.save()},e.updateExp=function(e){this.data.exp=e,this.save()},e.updateRPMG=function(){var e=this.data.lastRechargeGoldIncomeTime,t=l.NowTimeStamp(),a=(t-e)/1e3;if(a<this.data.IIG)return!1;var i=parseFloat((this.data.RPMG/60*a).toFixed(2));return this.data.RRG+=i,this.data.RRG>this.data.RLG&&(this.data.RRG=this.data.RLG),this.data.lastRechargeGoldIncomeTime=t,this.save(),!0},e.collectGold=function(e){e<=0||(this.data.RRG-e<0?this.data.RRG=0:this.data.RRG-=e,this.save())},e.addGold=function(e){this.data.gold+=e,this.save()},e.updateGold=function(e){this.data.gold=e,this.save()},e.getBuildingDeliveringCount=function(){return this._data.buildingDelivering?Object.keys(this._data.buildingDelivering).length:0},e.getNearestDeliveringTimeDifference=function(){var e;if(null==(e=this._data)||!e.buildingDelivering)return 0;var t=l.NowTimeStamp(),a=1/0;for(var i in this._data.buildingDelivering){var s=this._data.buildingDelivering[i].deliveredTime-t;s>=0&&s<a&&(a=s)}return a===1/0?0:Math.floor(a/1e3)},e.getSortedBuildingDeliveringTimedifference=function(){var e,t=l.NowTimeStamp();if(null==(e=this._data)||!e.buildingDelivering)return[];var a=Object.values(this._data.buildingDelivering),i=[];return a.forEach((function(e){i.push((e.deliveredTime-t)/1e3)})),i.sort((function(e,t){return e-t})),i},e.getSortedBuildingDeliveringItems=function(){var e;l.NowTimeStamp();if(null==(e=this._data)||!e.buildingDelivering)return[];var t=Object.values(this._data.buildingDelivering);return t.sort((function(e,t){return e.deliveredTime-t.deliveredTime})),t},e.getBuildingDelivering=function(e){return this._data.buildingDelivering||(this._data.buildingDelivering=[]),this._data.buildingDelivering[e]||{type:0,typeId:0,level:0,buyTime:0,deliveredTime:0}},e.setBuildingDelivering=function(t,a,i){if(!(this.getBuildingDelivering(t).level>0)){var s=l.NowTimeStamp(),d=Math.floor(t/100),n=t%100,o=s+1e3*a;if(this._data.buildingDelivering[t]={type:i,typeId:d,level:n,buyTime:s,deliveredTime:o},0==i){var r=p.getRowByTypeIdAndLevel(d,n);r&&(d==u.Hall_cash_register_level&&(this.data.II=60*r.rechargeInterval,this.data.RL+=r.storeLimit),this.data.RPM+=r.rewardRecharge,this.data.vip+=r.rewardVip,e.updateAchievementProcess(0,r.rewardVip,0,0,0))}else if(2==i);else{var h=y.getRowByTypeIdAndLevel(d,n);h&&(d==u.Hall_Right_Bar&&(this.data.IIG=60),this.data.RLG+=h.storeLimit,this.data.RPMG+=h.rewardRecharge)}this.save()}},e.setBuildingDelivered=function(e){var t=this.getBuildingDelivering(e);t.level>0&&(t.deliveredTime=l.NowTimeStamp())},e.updateBuildingDelivering=function(e){var t=this,a=0,i=0,s=l.NowTimeStamp(),d=[];for(var n in this._data.buildingDelivering){var o=Number(n),r=this._data.buildingDelivering[o];(r.deliveredTime-s)/1e3<=0?(e&&e(r.typeId,r.level,r.type),a++,d.push(o)):i++}d.forEach((function(e){delete t._data.buildingDelivering[e]})),_.emit(c.DECORATION_DELIVERING,i),0!=a&&(_.emit(c.DECORATION_DELIVERED,""),this.save())},e.getStaffFirstClicked=function(e){return this._data.staffFirstClicked||(this._data.staffFirstClicked=[]),this._data.staffFirstClicked[e]},e.setStaffFirstClicked=function(e){return!this._data.staffFirstClicked[e]&&(this._data.staffFirstClicked[e]=!0,this.save(),!0)},e.getStaffLevelUsing=function(e){return this._data.staffLevelUsing||(this._data.staffLevelUsing={}),this._data.staffLevelUsing[e]},e.setStaffLevelUsing=function(e,t){var a=T.getRowByTagIdAndLevel(e,t);if(!a)return!1;var i=this.getStaffLevelUsing(e);if(i){if(i.level>=t)return!1}else i={tagId:e,level:0,workingStatus:F.WORKING,staffStutas:f.NONE,upgradeTime:0,upgradeTimeLeft:0,lastWorkingStartTime:l.NowTimeStamp(),lastIdleStartTime:0,skillsTime:a.skillsTime,skillsCoolTime:a.skillsCoolTime,leftTime:0,skillsLeftTime:0,skillsLastUseTime:0,skillsRecoverTime:[],skillsLastRecoverTime:0,skillsMaxCount:0,skillsCount:0,isInitial:!1,lastUpdateTime:0};return!(this._data.money<a.needMoney)&&(!(this._data.vip<a.needVip)&&(i.level=t,i.staffStutas=f.UPGRADING,i.upgradeTime=l.NowTimeStamp()+1e3*a.needUpgradingTime,i.upgradeTimeLeft=Math.ceil((i.upgradeTime-l.NowTimeStamp())/1e3),i.skillsMaxCount<a.skillsMaxCount&&i.skillsCount++,i.skillsMaxCount=a.skillsMaxCount,i.lastUpdateTime=l.NowTimeStamp(),this._data.staffLevelUsing[e]=i,this.save(),!0))},e.getStaffLevelUsingInitial=function(e){var t=this.getStaffLevelUsing(e);return!(!t||!t.isInitial)},e.setStaffLevelUsingInitial=function(e,t){void 0===t&&(t=!0);var a=this.getStaffLevelUsing(e);a&&(a.isInitial=t,this._data.staffLevelUsing[e]=a),this.save()},e.resetStaffLevelUsingInitial=function(){for(var e in this._data.staffLevelUsing)this.setStaffLevelUsingInitial(parseInt(e,10),!1);this.save()},e.setStaffLevelUsingUpgradeDone=function(e){var t=this.getStaffLevelUsing(e);return!!t&&(t.upgradeTime=l.NowTimeStamp(),this.save(),!0)},e.setStaffLevelUsingUseSkills=function(e){var t=this.getStaffLevelUsing(e);if(!t)return!1;var a=T.getRowByTagIdAndLevel(e,t.level);if(!a)return!1;if(0==t.skillsCount)return!1;var i=l.NowTimeStamp();return t.skillsMaxCount>0?(t.skillsCount--,null==t.skillsLastRecoverTime&&(t.skillsLastRecoverTime=0),0!=t.skillsLastUseTime&&t.skillsMaxCount!=t.skillsCount+1||(t.skillsLastUseTime=i),t.skillsRecoverTime.push(t.skillsLastUseTime+(t.skillsMaxCount-t.skillsCount)*a.skillsCoolTime*1e3),t.skillsLeftTime=Math.floor((t.skillsRecoverTime[0]-i)/1e3),this.save(),!0):0==t.skillsMaxCount&&Math.ceil((i-t.skillsLastUseTime)/1e3)>a.skillsCoolTime&&(t.skillsCount--,t.skillsLastUseTime=i,t.skillsRecoverTime.push(i+1e3*a.skillsCoolTime),this.save(),!0)},e.getSortedgetStaffLevelUsingSkillsTimedifference=function(e){var t=l.NowTimeStamp(),a=this.getStaffLevelUsing(e);if(!a)return[];var i=[];return a.skillsRecoverTime.forEach((function(e){i.push((e-t)/1e3)})),i.sort((function(e,t){return e-t})),i},e.updateStaffLevelUsing=function(){var e=[],t=0,a=l.NowTimeStamp();for(var i in this._data.staffLevelUsing){var s=Number(i),d=this._data.staffLevelUsing[s],n=T.getRowByTagIdAndLevel(d.tagId,d.level);if(n){switch(d.workingStatus){case F.IDLE:case F.WORKING:}if(d.workingStatus==F.IDLE||d.workingStatus==F.WORKING){var o=d.lastWorkingStartTime,r=d.lastIdleStartTime,h=d.skillsTime,u=d.skillsCoolTime,m=h+u,p=0;if(r>o&&r>0||r<o&&o>0){var g=(p=Math.floor((a-(r>o?r:o))/1e3))%m;r>o?g>u||0==g&&p>0?(d.workingStatus=F.WORKING,d.skillsTime=n.skillsTime,d.skillsCoolTime=n.skillsCoolTime,d.leftTime=n.skillsTime,d.lastWorkingStartTime=a):(d.workingStatus=F.IDLE,d.leftTime=d.skillsCoolTime-g):r<o&&(g>h||0==g&&p>0?(d.workingStatus=F.IDLE,d.skillsTime=n.skillsTime,d.skillsCoolTime=n.skillsCoolTime,d.leftTime=n.skillsCoolTime,d.lastIdleStartTime=a):(d.workingStatus=F.WORKING,d.leftTime=d.skillsTime-g))}if(d.skillsMaxCount>0){if(d.skillsRecoverTime.length>0){var v=d.skillsRecoverTime[0];(t=Math.ceil((v-a)/1e3))<=0&&(null==d.skillsLastRecoverTime&&(d.skillsLastRecoverTime=0),a-d.skillsLastRecoverTime>=1e3*d.skillsCoolTime&&(d.skillsRecoverTime.shift(),d.skillsCount++,d.lastUpdateTime=a,d.skillsLastRecoverTime=a))}d.skillsRecoverTime.length>0?d.skillsLeftTime=Math.floor((d.skillsRecoverTime[0]-a)/1e3):d.skillsLeftTime=0}}if(d.staffStutas==f.UPGRADING){var k=1e4*Math.floor((d.tagId-1)/2)+(d.tagId-1)%2;if(e.push(k),(t=Math.ceil((d.upgradeTime-a)/1e3))<=0){d.staffStutas=f.CAN_UPGRADE,d.lastUpdateTime=a,d.upgradeTimeLeft=0;continue}d.upgradeTimeLeft=t}}}e.length>0&&_.emit(c.STAFF_UPGRADING,e),e.length>0&&this.save()},e.getNpcUnlockedPre=function(e){return this._data.npcUnlockedPre||(this._data.npcUnlockedPre={}),this._data.npcUnlockedPre[e]||{lastUpdateTime:0}},e.setNpcUnlockedPre=function(e){return this._data.npcUnlockedPre||(this._data.npcUnlockedPre={}),!this._data.npcUnlockedPre[e]&&(this._data.npcUnlockedPre[e]={lastUpdateTime:l.NowTimeStamp()},this.save(),!0)},e.removeNpcUnlockedPre=function(e){this._data.npcUnlockedPre||(this._data.npcUnlockedPre={}),this._data.npcUnlockedPre[e]&&(delete this._data.npcUnlockedPre[e],this.save())},e.getNpcUnlockedPreByProb=function(){var e=this._data.npcUnlockedPre;if(!e)return null;if(0===Object.keys(e).length)return null;for(var t=Object.keys(e),a=[],i=0;i<t.length;i++){var s=S.getRowsByTagId(Number(t[i]));s&&a.push(s)}for(var d=0,n=a.map((function(e){return d+=e.ratioAppear})),o=l.randomRange(0,n[n.length-1]),r=0;r<n.length;r++)if(o<n[r])return a[r];return null},e.getNpcUnlocked=function(e){return this._data.npcUnlocked||(this._data.npcUnlocked={}),this._data.npcUnlocked[e]||{lastUpdateTime:0}},e.setNpcUnlocked=function(e){return!this._data.npcUnlocked[e]&&(this._data.npcUnlocked[e]={lastUpdateTime:l.NowTimeStamp()},this.save(),!0)},e.getNpcUnlockedByProb=function(){var e=this._data.npcUnlocked;if(!e)return null;if(0===Object.keys(e).length)return null;for(var t=Object.keys(e),a=[],i=0;i<t.length;i++){var s=S.getRowsByTagId(Number(t[i]));s&&a.push(s)}for(var d=0,n=a.map((function(e){return d+=e.ratioAppear})),o=l.randomRange(0,n[n.length-1]),r=0;r<n.length;r++)if(o<n[r])return a[r];return null},e.checkNpcUnlockedByUnlockedCat=function(){var t=this;S.iterator((function(a,i){if(!(e.getNpcUnlocked(a).lastUpdateTime>0||e.getNpcUnlockedPre(a).lastUpdateTime>0)){var s=S.getRowsByTagId(a);if(s&&!(t._data.outsideLevel<s.needOutsideLevel)){var d=0;i.needUnlockedCatId.find((function(t){e.getCatLevelUnlocked(t).level>0&&d++})),d==i.needUnlockedCatId.length&&(h.prepareNpcUnlockedExclude.includes(a)?(e.setNpcUnlocked(a),l.log("npcId: "+a+" unlocked ...")):(e.setNpcUnlockedPre(a),l.log("npcId: "+a+" prepare unlocked ...")))}}}))},e.getCatLevelUnlocked=function(e){return this._data.catLevelUnlocked||(this._data.catLevelUnlocked={}),this._data.catLevelUnlocked[e]||{level:0,lastUpdateTime:0}},e.setCatLevelUnlocked=function(e,t){this._data.catLevelUnlocked[e]={level:t,lastUpdateTime:l.NowTimeStamp()},this.save()},e.getCatLevelUnlockedRandom=function(){var e=this._data.catLevelUnlocked,t=[];for(var a in e){var i=this.getCatLevelUnlocked(Number(a)).level;i>0&&t.push({typeId:Number(a),level:i})}return t.length>0?t[Math.floor(Math.random()*t.length)]:null},e.getCatLevelUnlockedRandomByWeight=function(){var e=this._data.catLevelUnlocked,t=[];for(var a in e){var i=this.getCatLevelUnlocked(Number(a)).level;if(i>0){var s=v.getRowsByTagId(Number(a)).ratio;t.push({typeId:Number(a),level:i,weight:s})}}if(t.length>0){t.sort((function(e,t){return e.weight-t.weight}));for(var d=0,n=t.map((function(e){return d+=e.weight})),o=l.randomRange(0,d),r=0,h=0;h<n.length;h++)if(o<n[h]){r=h;break}return t[r]}return null},e.getCatUpgradeUsing=function(e){return this._data.catUpgradeUsing||(this._data.catUpgradeUsing={}),this._data.catUpgradeUsing[e]||{catId:0,level:0,buildingId:0,lastTrainCompleteTime:0,lastUpgradeCompleteTime:0,lastUpdateTime:0}},e.setCatUpgradeUsing=function(e,t,a,i,s){void 0===i&&(i=0),void 0===s&&(s=0),this._data.catUpgradeUsing[e]={catId:e,level:t,buildingId:a,lastTrainCompleteTime:i,lastUpgradeCompleteTime:s,lastUpdateTime:l.NowTimeStamp()},this.save()},e.getCatUpgradeUsingByBuildingId=function(e){if(!this._data.catUpgradeUsing)return null;for(var t in this._data.catUpgradeUsing){var a=this._data.catUpgradeUsing[t];if(a.buildingId===e)return a}return null},e.getCatUpgradeTotalPower=function(){var e=0;if(!this._data.catUpgradeUsing)return e;for(var t in this._data.catUpgradeUsing){var a=this._data.catUpgradeUsing[t];a.level<1||(e+=G.getRowByLevel(a.level).power)}return e},e.updateCatUpgradUsing=function(){if(this._data.catUpgradeUsing){for(var e=l.NowTimeStamp(),t=0,a=0,i=Object.entries(this._data.catUpgradeUsing);a<i.length;a++){var s=i[a],d=parseInt(s[0],10),n=(s[1].level,s[1].buildingId),o=s[1].lastTrainCompleteTime,r=s[1].lastUpgradeCompleteTime;o>0&&o<=e&&(s[1].lastTrainCompleteTime=-1,s[1].lastUpdateTime=e,_.emit(c.ENABLE_TRAIN,n,d,!1,!1,!0,!0),t++),r>0&&r<=e&&(s[1].lastUpgradeCompleteTime=0,s[1].lastUpdateTime=e,t++)}0!=t&&this.save()}},e.getSpecialNpcUnlocked=function(e){return this._data.specialNpcUnlocked||(this._data.specialNpcUnlocked={}),this._data.specialNpcUnlocked[e]},e.setSpecialNpcUnlocked=function(e,t){this._data.specialNpcUnlocked||(this._data.specialNpcUnlocked={}),this._data.specialNpcUnlocked[e]=t,this.save()},e.getSpecialNpcInitial=function(e){var t=this.getSpecialNpcUnlocked(e);return!(!t||!t.isInitial)},e.setSpecialNpcInitial=function(e,t){void 0===t&&(t=!0);var a=this.getSpecialNpcUnlocked(e);a&&(a.isInitial=t,this._data.specialNpcUnlocked[e]=a),this.save()},e.resetSpecialNpcWorkingStatus=function(){for(var e in this._data.specialNpcUnlocked)this._data.specialNpcUnlocked[e].workingStatus=F.IDLE,this._data.specialNpcUnlocked[e].skillsUsingCount=0,this._data.specialNpcUnlocked[e].isInitial=!1;this.save()},e.pushSpecialNpcAppearTime=function(){this._data.specialNpcAppearTime.push(l.NowTimeStamp()),this.save()},e.getSpecialNpcAppearTimeTotal=function(){return this._data.specialNpcAppearTime.length},e.updateSpecialNpcUnlocked=function(){var e=!1,t=0,a=0,i=864e5;for(var s in this._data.specialNpcAppearTime=this._data.specialNpcAppearTime.filter((function(e){return l.NowTimeStamp()-e<i})),this._data.specialNpcUnlocked){var d=Number(s),n=k.getRowsByTagId(d);if(null==n)return;var o=this.getSpecialNpcUnlocked(d);o&&(t=l.NowTimeStamp()-o.lastEnableTime,a=Math.floor(t/1e3),o.workingStatus==F.WORKING?o.workingDuration>0?a>=o.workingDuration&&(o.workingStatus=F.IDLE,_.emit(c.PRE_LEAVE,d),e=!0):0==o.workingDuration&&d==m.NPCName2006+2e3&&o.skillsUsingCount>=r.data.SpCusMagnetoParams[1]&&(o.workingStatus=F.IDLE,_.emit(c.PRE_LEAVE,d),e=!0):o.workingStatus==F.IDLE&&o.workingDuration>=0&&o.todayEnableCount>=n.appearLimit&&t>=i&&(o.todayEnableCount=0,o.todayHitCount=0,o.skillsUsingCount=0,o.workingStatus=F.WORKING,e=!0))}e&&this.save()},e.getHotTaskProcess=function(e){return this._data.hotTaskProcess&&this._data.hotTaskProcess[e]||null},e.addHotTaskProcesss=function(e,t){if(this._data.hotTaskProcess[e]=this.getHotTaskProcess(e)||{progressCurrent:0,progressMax:0,status:0,rewardClaimed:!1,gotoType:x.GOTO_UNKNOWN,lastUpdateTime:l.NowTimeStamp()},1!=this._data.hotTaskProcess[e].status&&!this._data.hotTaskProcess[e].rewardClaimed){var a=P.getRowsByTagId(e);if(a){if(a.needSendLeafletCount>0)a.needSendLeafletCount==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_OUTSIDE,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needSendLeafletCount);else if(a.needPlayMiniGameCount>0)a.needPlayMiniGameCount==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_MINI_GAME,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needPlayMiniGameCount);else if(a.needBuildingId>0)a.needBuildingId==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_BUILDING,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needBuildingId);else if(a.needCatId>0)a.needCatId==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_BUY_CAT,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needCatId);else if(a.needNpcId>0){var i=Math.floor(a.needNpcId/100),s=a.needNpcId%100,d=this.getStaffLevelUsing(i),n=!1;d&&a.needNpcId==t&&d.level>=s&&(n=!0,this.setHotTaskCompleted(e)),n||(this._data.hotTaskProcess[e].gotoType=x.GOTO_BUY_STAFF,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needNpcId)}else a.needCatPartId>0?a.needCatPartId==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_CATPART_UPGRADE,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needCatPartId):a.needUnlockRight>0?a.needUnlockRight==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_UNLOCK_RIGHT,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needUnlockRight):a.needUnlockLeft>0?a.needUnlockLeft==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_UNLOCK_LEFT,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needUnlockLeft):a.needPlayRightGameCount>0?a.needPlayRightGameCount==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_RIGHT_MINI_GAME,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needPlayRightGameCount):a.needCatTeamMemberLevel>0?a.needCatTeamMemberLevel==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_TEAM_MEMBER,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needCatTeamMemberLevel):a.needMatchesNumber>0&&(a.needMatchesNumber==t?this.setHotTaskCompleted(e):(this._data.hotTaskProcess[e].gotoType=x.GOTO_MATCHS,this._data.hotTaskProcess[e].progressCurrent=t,this._data.hotTaskProcess[e].progressMax=a.needMatchesNumber));this._data.hotTaskProcess[e].lastUpdateTime=l.NowTimeStamp(),this.save()}}},e.setHotTaskCompleted=function(e){1==this._data.hotTaskProcess[e].status||this._data.hotTaskProcess[e].rewardClaimed||(this._data.hotTaskProcess[e].status=1,this._data.hotTaskProcess[e].progressCurrent=this._data.hotTaskProcess[e].progressMax,this._data.hotTaskProcess[e].rewardClaimed=!1,this._data.hotTaskProcess[e].gotoType=x.GOTO_CLAIM_REWARD,this.save(),_.emit(c.HOT_TASK_COMPLETED),_.emit(c.HOTTASK_EVENT,"ht_"+e))},e.setHotTaskRewardClaimed=function(e){this._data.hotTaskProcess[e]=this._data.hotTaskProcess[e]||{},1!=this._data.hotTaskProcess[e].status||this._data.hotTaskProcess[e].rewardClaimed||(this._data.hotTaskProcess[e].rewardClaimed=!0,this.save())},e.initHotTaskProgress=function(){return 0==this._data.hotTaskId&&(this._data.hotTaskId=P.getFirstTaskId(),this.addHotTaskProcesss(this._data.hotTaskId,0),this.save(),!0)},e.updateHotTaskId=function(){if(-1!=this._data.hotTaskId&&!this.initHotTaskProgress()){var e=this.getHotTaskProcess(this._data.hotTaskId);if(e){if(0==e.status){var t=P.getRowsByTagId(this._data.hotTaskId);if(!t)return;switch(e.gotoType){case x.GOTO_BUILDING:if(!this.getBuildingIdPurchased().find((function(e){return e==t.needBuildingId})))return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_BUY_CAT:var a=this.getCatLevelUnlocked(t.needCatId);if(!a)return;if(a.level<1)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_BUY_STAFF:var i=Math.floor(t.needNpcId/100),s=t.needNpcId%100,d=this.getStaffLevelUsing(i);if(!d)return;if(d.level<s)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_CATPART_UPGRADE:var n=Math.floor(t.needCatPartId/10),o=t.needCatPartId%10,l=this.getCatRoomLevelUsing(n);if(!l)return;if(l.level<o)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_UNLOCK_RIGHT:if(!this.data.rightSceneUnlocked)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_UNLOCK_LEFT:if(!this.data.leftSceneUnlocked)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_RIGHT_MINI_GAME:break;case x.GOTO_TEAM_MEMBER:var r=Math.floor(t.needCatTeamMemberLevel/1e3),h=t.needCatTeamMemberLevel%1e3,u=this.getCatUpgradeUsing(r);if(!u)return;if(u.level<h)return;this.setHotTaskCompleted(this._data.hotTaskId);break;case x.GOTO_MATCHS:break;default:return}}if(1==e.status&&e.rewardClaimed){if(this._data.hotTaskId=P.getNextTaskId(this._data.hotTaskId),_.emit(c.HOT_TASK_COMPLETED),-1==this._data.hotTaskId)return;this.addHotTaskProcesss(this._data.hotTaskId,0)}}}},e.getDailyTaskProcess=function(e){return this._data.dailyTaskProcess||(this._data.dailyTaskProcess={}),this._data.dailyTaskProcess[e]=this._data.dailyTaskProcess[e]||{taskId:e,taskCompletedNum:0,earnMoney:0,clientBuyIn:0,recharge:0,soldCofee:0,sendFlyers:0,takeSpecialTask:0,soldCake:0,earnGold:0,trainNumber:0,matchesNumber:0,status:U.GOING,lastUpdateTime:l.NowTimeStamp()},this._data.dailyTaskProcess[e]},e.resetDailyTaskProcess=function(e){this._data.dailyTaskProcess[e]=this._data.dailyTaskProcess[e]||{},this._data.dailyTaskProcess[e].taskId=e,this._data.dailyTaskProcess[e].taskCompletedNum=0,this._data.dailyTaskProcess[e].earnMoney=0,this._data.dailyTaskProcess[e].clientBuyIn=0,this._data.dailyTaskProcess[e].recharge=0,this._data.dailyTaskProcess[e].soldCofee=0,this._data.dailyTaskProcess[e].sendFlyers=0,this._data.dailyTaskProcess[e].soldCake=0,this._data.dailyTaskProcess[e].earnGold=0,this._data.dailyTaskProcess[e].trainNumber=0,this._data.dailyTaskProcess[e].matchesNumber=0,this._data.dailyTaskProcess[e].takeSpecialTask=0,this._data.dailyTaskProcess[e].status=U.GOING,this._data.dailyTaskProcess[e].lastUpdateTime=l.NowTimeStamp(),this.save()},e.setDailyTaskCompleted=function(e){var t=this;this._data.dailyTaskProcess[e]&&(this._data.dailyTaskProcess[e].status==U.CAN_CLAIMED&&(this._data.dailyTaskProcess[e].status=U.COMPLETED,this._data.dailyTaskProcess[e].lastUpdateTime=l.NowTimeStamp(),I.keysByVip().forEach((function(e){var a=t.getDailyTaskProcess(e);if(a&&a.status!=U.CAN_CLAIMED&&a.status!=U.COMPLETED&&a.status==U.GOING){var i=I.getRowsByTaskId(e);if(i.needTaskCompletedNum<1)return;a.taskCompletedNum++,a.taskCompletedNum==i.needTaskCompletedNum&&(a.status=U.CAN_CLAIMED)}})),this.save()))},e.updateDailyTaskProcess=function(e,t,a,i,s,d,n,o,l,r){var h=this;if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===d&&(d=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===l&&(l=0),void 0===r&&(r=0),0!=e||0!=t||0!=a||0!=i||0!=s||0!=d||0!=n||0!=o||0!=l||0!=r){var u=!1;I.keysByVip().forEach((function(c){var m=h.getDailyTaskProcess(c);if(m&&m.status!=U.CAN_CLAIMED&&m.status!=U.COMPLETED){var p=I.getRowsByTaskId(c);p&&(e>0&&p.needEarnMoney>0&&m.earnMoney<p.needEarnMoney&&(m.earnMoney+e>=p.needEarnMoney?m.earnMoney=p.needEarnMoney:m.earnMoney+=e,u=!0),t>0&&p.needClientBuyIn>0&&m.clientBuyIn<p.needClientBuyIn&&(m.clientBuyIn+t>=p.needClientBuyIn?m.clientBuyIn=p.needClientBuyIn:m.clientBuyIn+=t,u=!0),a>0&&p.needRecharge>0&&m.recharge<p.needRecharge&&(m.recharge+a>=p.needRecharge?m.recharge=p.needRecharge:m.recharge+=a,u=!0),i>0&&p.needSoldCofee>0&&m.soldCofee<p.needSoldCofee&&(m.soldCofee+i>=p.needSoldCofee?m.soldCofee=p.needSoldCofee:m.soldCofee+=i,u=!0),s>0&&p.needSendFlyers>0&&m.sendFlyers<p.needSendFlyers&&(m.sendFlyers+s>=p.needSendFlyers?m.sendFlyers=p.needSendFlyers:m.sendFlyers+=s,u=!0),d>0&&p.needTakeSpecialTask>0&&m.takeSpecialTask<p.needTakeSpecialTask&&(m.takeSpecialTask+d>=p.needTakeSpecialTask?m.takeSpecialTask=p.needTakeSpecialTask:m.takeSpecialTask+=d,u=!0),n>0&&p.needSoldCake>0&&m.soldCake<p.needSoldCake&&(m.soldCake+n>=p.needSoldCake?m.soldCake=p.needSoldCake:m.soldCake+=n,u=!0),o>0&&p.needEarnGold>0&&m.earnGold<p.needEarnGold&&(m.earnGold+o>=p.needEarnGold?m.earnGold=p.needEarnGold:m.earnGold+=o,u=!0),l>0&&p.needTrainNumber>0&&m.trainNumber<p.needTrainNumber&&(m.trainNumber+l>=p.needTrainNumber?m.trainNumber=p.needTrainNumber:m.trainNumber+=l,u=!0),r>0&&p.needMatchesNumber>0&&m.matchesNumber<p.needMatchesNumber&&(m.matchesNumber+r>=p.needMatchesNumber?m.matchesNumber=p.needMatchesNumber:m.matchesNumber+=r,u=!0))}})),u&&this.save()}},e.updateDailyTaskAndAchievementProcess=function(){var t=this,a=l.NowTodayHour();if(this._data.dailyTaskVipTodayUpdateTime!=a)return this._data.dailyTaskVipToday=this._data.vip,this._data.dailyTaskVipTodayUpdateTime=a,I.keysByVip().forEach((function(e){t.resetDailyTaskProcess(e)})),void this.save();if(this._data.dailyTaskGoldStoreLimitTodayUpdateTime!=a)return this._data.dailyTaskGoldStoreLimitToday=this._data.RLG,this._data.dailyTaskGoldStoreLimitTodayUpdateTime=a,I.keysByVip().forEach((function(e){t.resetDailyTaskProcess(e)})),void this.save();var i=!1,s=I.keysByVip(),d=0;if(s.forEach((function(e){var a=t.getDailyTaskProcess(e);if(a){a.status!=U.CAN_CLAIMED&&a.status!=U.COMPLETED||a.status==U.COMPLETED&&d++;var s=I.getDailyTaskStatus(e);a.status!=s&&(i=!0,a.status=s)}})),d>0&&s.forEach((function(e){var a=t.getDailyTaskProcess(e);a&&a.taskCompletedNum>0&&a.taskCompletedNum==d-1&&(a.status!=U.CAN_CLAIMED&&a.status!=U.COMPLETED||(a.taskCompletedNum=d,t.save()))})),R.keys().forEach((function(e){var a=t.getAchievementProcess(e);if(a&&a.status!=N.CAN_CLAIMED&&a.status!=N.COMPLETED){var s=R.getAchievementStatus(e);a.status!=s&&(i=!0,a.status=s)}})),r.data.NPCSpecialTask[1]<=e.data.vip&&(!h.ENABLE_NEWBIE_GUIDE||h.ENABLE_NEWBIE_GUIDE&&e.getNewbieGuideStepsCompleted(K.DEFAULT)>=h.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP)&&h.ALLOW_GENERATE_SPECIAL_NPC){var n=!1,o=l.NowTimeStamp(),u=this.getDailySpecialTaskProcess();(!u||u&&!u.generated&&!u.accepted&&!u.completed&&!u.claimed||u.nextGeneratedTime>0&&o-u.nextGeneratedTime>=0)&&(n=!0,u.nextGeneratedTime=0);var m=h.DAILY_SPECIAL_TASK_COUNTDOWN>0?h.DAILY_SPECIAL_TASK_COUNTDOWN:r.data.NPCSpecialTask[2];if(n){var p=l.randomRange(0,r.data.SpecialTask_Describe.length),T=Math.ceil(e.data.RPM*m/60);T>r.data.NPCSpecialTask[3]&&(T=r.data.NPCSpecialTask[3]);var f=Math.ceil(l.getHighestPlaceValue(this.data.vip)*r.data.NPCSpecialTask[4]);f>r.data.NPCSpecialTask[5]&&(f=r.data.NPCSpecialTask[5]),this.setDailySpecialTaskProcessGenerated(!0,p,T,f,0),_.emit(c.DAILY_SPECIAL_TASK_GERNERATED)}else{if(u&&u.generated&&u.accepted&&!u.claimed&&!u.completed)Math.ceil((o-u.lastAcceptedTime)/1e3)>=m&&this.setDailySpecialTaskProcessCompleted()}}i&&this.save()},e.getAchievementProcess=function(e){return this._data.achievementProcess||(this._data.achievementProcess={}),this._data.achievementProcess[e]=this._data.achievementProcess[e]||{achivementId:e,buildingIds:[],money:0,vip:0,gold:0,chapterId:0,status:N.INCOMPLETE,lastUpdateTime:l.NowTimeStamp()},null==this._data.achievementProcess[e].chapterId&&(this._data.achievementProcess[e].chapterId=0),this._data.achievementProcess[e]},e.setAchievementCompleted=function(e){this._data.achievementProcess[e]&&this._data.achievementProcess[e].status==N.CAN_CLAIMED&&(this._data.achievementProcess[e].status=N.COMPLETED,this._data.achievementProcess[e].lastUpdateTime=l.NowTimeStamp(),this.save())},e.updateAchievementProcess=function(e,t,a,i,s){var d=this;if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),0!=e||0!=t||0!=a||0!=i||0!=s){var n=!1;R.keys().forEach((function(o){var l=d.getAchievementProcess(o);if(l&&l.status!=N.CAN_CLAIMED&&l.status!=N.COMPLETED){var r=R.getRowsByAchievementId(o);r&&(e>0&&r.needMoney>0&&l.money<r.needMoney&&(l.money+e>=r.needMoney?l.money=r.needMoney:l.money+=e,n=!0),t>0&&r.needVip>0&&l.vip<r.needVip&&(l.vip+t>=r.needVip?l.vip=r.needVip:l.vip+=t,n=!0),a>0&&r.needGold>0&&l.gold<r.needGold&&(l.gold+a>=r.needGold?l.gold=r.needGold:l.gold+=a,n=!0),i>0&&r.needBuildingId.length>0&&r.needBuildingId.includes(i)&&-1==l.buildingIds.indexOf(i)&&(l.buildingIds.push(i),l.buildingIds=Array.from(new Set(l.buildingIds)),l.buildingIds.sort(),n=!0),s>0&&r.needChapterId==s&&d.isMatchProcessChampion(s)&&(l.chapterId=r.needChapterId,n=!0))}})),n&&this.save()}},e.getOutsideProcess=function(e){return this._data.outsideProcess||(this._data.outsideProcess={}),this._data.outsideProcess[e]||{level:0,lastUpdateTime:0}},e.setOutsideCompleted=function(e,t,a){this._data.outsideProcess[e]=this._data.outsideProcess[e]||{},this._data.outsideProcess[e].lastUpdateTime=l.NowTimeStamp(),this.save()},e.getDoubleIncomeTimeLeft=function(){return this._data.doubleIncomeTimeLeft},e.setDoubleIncomeTimeLeft=function(e){this._data.doubleIncomeTimeLeft!=e&&(this._data.doubleIncomeTimeLeft=e,this._data.doubleIncomeTimeLeft>=r.data.ExtracCoinsTimeLimit&&(this._data.doubleIncomeTimeLeft=r.data.ExtracCoinsTimeLimit),this.save())},e.addDoubleIncomeTimeLeft=function(e){this._data.doubleIncomeTimeLeft+=e,this._data.doubleIncomeTimeLeft>=r.data.ExtracCoinsTimeLimit&&(this._data.doubleIncomeTimeLeft=r.data.ExtracCoinsTimeLimit),this.save()},e.updateOutsideLevel=function(e){this._data.outsideLevel=e,this.save()},e.getNumOfPromotion=function(){return this._data.numOfPromotion},e.addNumOfPromotion=function(){this._data.numOfPromotion>r.data.OutSideFlyerRecoverCountByAds+r.data.OutSideFlyerRecoverMax||(this._data.numOfPromotion+=1,this.save())},e.subNumOfPromotion=function(){this._data.numOfPromotion<=0||(this.data.numOfPromotion-=1,this.save())},e.getLeaflet=function(){return this._data.leaflet||0},e.addLeaflet=function(e){this._data.leaflet+=e,this._data.leaflet>=r.data.OutSideFlyerRecoverMax&&(this._data.leafletRecoverTime=Array(r.data.OutSideFlyerRecoverMax).fill(0)),this.save(),_.emit(c.REFRESH_UI)},e.subLeafLet=function(){if(this._data.leaflet<=0)return!1;var e=r.data.OutSideFlyerRecoverMax-this._data.leaflet;if(this._data.leaflet-=1,this._data.leaflet<r.data.OutSideFlyerRecoverMax&&0==this._data.leafletRecoverTime[e]){var t=g.getRowsByLevel(this.data.outsideLevel);if(t){var a=this._data.leafletRecoverTime.filter((function(e){return e>0})).sort((function(e,t){return t-e}));0==a.length?this._data.leafletRecoverTime[e]=l.NowTimeStamp()+1e3*t.restoreTimeForflyers:this._data.leafletRecoverTime[e]=a[0]+1e3*t.restoreTimeForflyers}}return this.save(),_.emit(c.REFRESH_UI),!0},e.getNextLeafletRecoverTime=function(){var e=l.NowTimeStamp(),t=this._data.leafletRecoverTime.filter((function(e){return e>0})).sort((function(e,t){return e-t}));return 0==t.length?0:t[0]-e},e.updateLeaflet=function(){var e=this,t=l.NowTimeStamp();if(!(this.data.leaflet>=r.data.OutSideFlyerRecoverMax)){var a=0;this.data.leafletRecoverTime.forEach((function(i,s){i>0&&i<=t&&(a++,e.data.leafletRecoverTime.shift(),e.data.leafletRecoverTime.push(0),e.data.leaflet+=1,_.emit(c.REFRESH_UI))})),a>0&&this.save()}},e.getNumOfChallange=function(){return this._data.numOfChallange||0},e.addNumOfChallange=function(e){var t=y.getNumOfChallangeMax();this._data.numOfChallange+e-t>0?this._data.numOfChallange=t:this._data.numOfChallange+=e,0!=this._data.numOfChallange+this._data.numOfChallangeRecoverTime.length-t&&this._data.numOfChallangeRecoverTime.splice(-this._data.numOfChallange,this._data.numOfChallange),this.save(),_.emit(c.NUM_OF_CHALLANGE_UPDATE)},e.subNumOfChallange=function(){if(this._data.numOfChallange<=0)return!1;this._data.numOfChallange-=1;var e=60*h.appConfig.mg.m*1e3,t=0;this._data.numOfChallangeRecoverTime.length>0&&(t=this._data.numOfChallangeRecoverTime[this._data.numOfChallangeRecoverTime.length-1]);var a=Math.max(l.NowTimeStamp(),t)+e;return this._data.numOfChallangeRecoverTime.push(a),this.save(),_.emit(c.NUM_OF_CHALLANGE_UPDATE),!0},e.getNextNumOfChallangeRecoverTime=function(){var e=l.NowTimeStamp(),t=this._data.numOfChallangeRecoverTime.filter((function(e){return e>0})).sort((function(e,t){return e-t}));return 0==t.length?0:t[0]-e},e.updateNumOfChallange=function(){var e=this,t=this.getNumOfChallange(),a=y.getNumOfChallangeMax();if(t>=a)this.data.numOfChallangeRecoverTime.length>0&&(this.data.numOfChallangeRecoverTime=[],this.save());else{var i=0,s=l.NowTimeStamp(),d=this.data.numOfChallangeRecoverTime,n=[];if(d.forEach((function(t,o){if(t>0&&t<=s){if(e.data.numOfChallange>=a)return;i++,d[o]=0,e.data.numOfChallange+=1,n.push(o)}})),i>0){_.emit(c.NUM_OF_CHALLANGE_UPDATE);for(var o=n.length-1;o>=0;o--)d.splice(n[o],1);this.save()}}},e.getGameAccelRate=function(){return this.data.gameAccelRate},e.setGameAccelerate=function(e){null!=this.data&&(this.data.gameAccelRate=e,this.save())},e.isGameAccelerate=function(){return this.data.gameAccelRate==r.data.GameAccelRate},e.getSpineAnimationSpeed=function(){return this.data.spineAnimationSpeed},e.setSpineAnimationSpeed=function(e){this.data.spineAnimationSpeed=e,this.save()},e.getSpineWalkSpeed=function(){return this.data.spineWalkSpeed},e.setSpineWalkSpeed=function(e){this.data.spineWalkSpeed=e,this.save()},e.getSpineAnimationSpeedAccelerate=function(){return this.data.spineAnimationSpeed*this.data.gameAccelRate},e.getSpineWalkSpeedAccelerate=function(){return this.data.spineWalkSpeed*this.data.gameAccelRate*h.ENABLE_DEBUG_NPC_ACCELERATE_FACTOR},e.getNumOfBubbles=function(e){return this.data.numOfBubbles[e]||0},e.setNumOfBubbles=function(e,t){this.data.numOfBubbles[e]=t,this.save()},e.resetNumOfBubbles=function(){this.data.numOfBubbles=[0,0,0,0,0],this.save()},e.getQueueCushionBroken=function(e){return this._data.queueCushionBroken||(this._data.queueCushionBroken={}),this._data.queueCushionBroken[e]||[!1,!1]},e.setQueueCushionBroken=function(e,t){this._data.queueCushionBroken[e]=t,this.save()},e.getQueueCushionBrokenTotal=function(){return Object.keys(this._data.queueCushionBroken).length},e.getQueueCushionBrokenCount=function(e){var t=0;for(var a in this._data.queueCushionBroken)for(var i=this._data.queueCushionBroken[a],s=0;s<2;s++)i[s]===e&&t++;return t},e.getQueueCushionBrokenIteratorExclude=function(e,t){for(var a in this._data.queueCushionBroken)for(var i=this._data.queueCushionBroken[parseInt(a,10)],s=0;s<2;s++)i[s]!==e&&t(parseInt(a,10),s)},e.getQuickRepairCushionTypeId=function(){return this._data.quickRepairCushionTypeId},e.setQuickRepairCushionTypeId=function(e){this._data.quickRepairCushionTypeId=e,this.save()},e.resetQuickRepairCushionTypeIdAndPos=function(){this._data.quickRepairCushionTypeId=0,this._data.quickRepairCushionPos=-1,this.save()},e.getQuickRepairCushionPos=function(){return this._data.quickRepairCushionPos},e.setQuickRepairCushionPos=function(e){this._data.quickRepairCushionPos=e,this.save()},e.getRewardProductsSaleTime=function(){return this._data.rewardProductsSaleTime},e.setRewardProductsSaleTime=function(){this._data.rewardProductsSaleTime=l.NowTimeStamp(),this.save()},e.getRewardProductsSale=function(){return this._data.rewardProductsSale||[0,0]},e.setRewardProductsSale=function(e){e.length==this._data.rewardProductsSale.length&&(this._data.rewardProductsSale=e,this.save())},e.getRewardTourGuideTime=function(){return this._data.rewardTourGuideTime},e.setRewardTourGuideTime=function(){this._data.rewardTourGuideTime=l.NowTimeStamp(),this.save()},e.getRewardTourGuideCustomNum=function(){return this._data.rewardTourGuideCustomNum||0},e.setRewardTourGuideCustomNum=function(e){this._data.rewardTourGuideCustomNum=e,this.save()},e.subRewardTourGuideCustomNum=function(){this.data.rewardTourGuideCustomNum<=0||(this.data.rewardTourGuideCustomNum-=1,this.save())},e.getCatRoomLevelUsing=function(e){return this._data.catRoomLevelUsing||(this._data.catRoomLevelUsing={}),this._data.catRoomLevelUsing[e]=this._data.catRoomLevelUsing[e]||{level:1,lastUpdateTime:l.NowTimeStamp()},this._data.catRoomLevelUsing[e]},e.setCatRoomLevelUsing=function(e,t){if(!(null!=this._data.catRoomLevelUsing[e]&&this._data.catRoomLevelUsing[e].level>=t)){this._data.catRoomLevelUsing[e]={level:t,lastUpdateTime:l.NowTimeStamp()};var a=C.getRowByTypeIdAndLevel(e,t);this._data.score+=a.score,this.save()}},e.initCatRoomLevelUsing=function(){for(var e=0,t=1;t<5;t++){var a=this.getCatRoomLevelUsing(t);0==a.level&&this.setCatRoomLevelUsing(t,1);var i=C.getRowByTypeIdAndLevel(t,a.level);i&&(e+=i.score)}e>0&&e!=this.data.score&&(this.data.score=e,this.save())},e.getMiniGameLeftCount=function(){return this._data.miniGameLeftCount},e.subMiniGameLeftCount=function(){if(this._data.miniGameLeftCount<=0)return!1;var e=r.data.HardwareGameTimesRecoverLimit-this._data.miniGameLeftCount;return this._data.miniGameLeftCount-=1,this._data.miniGameLeftCount<r.data.HardwareGameTimesRecoverLimit&&0==this._data.miniGameLeftRecoverTime[e]&&(this._data.miniGameLeftRecoverTime[e]=0==e?l.NowTimeStamp()+1e3*r.data.HardwareGameTimesRecoverCycle:this._data.miniGameLeftRecoverTime[e-1]+1e3*r.data.HardwareGameTimesRecoverCycle),this.save(),!0},e.addMiniGameLeftCount=function(e){if(!(e<1||this._data.miniGameLeftCount+e>r.data.HardwareGameTimesRecoverLimit)){this._data.miniGameLeftCount+=e;var t=this._data.miniGameLeftRecoverTime;e<=t.length?t.fill(0,t.length-e):t.fill(0),this.save()}},e.getMiniGameLeftCountRecoverLeftTime=function(){var e=l.NowTimeStamp(),t=this._data.miniGameLeftRecoverTime.filter((function(e){return e>0})).sort((function(e,t){return e-t}));return 0==t.length?0:t[0]-e},e.updateMiniGameLeftCount=function(){var e=this,t=l.NowTimeStamp();if(!(this.data.miniGameLeftCount>=r.data.HardwareGameTimesRecoverLimit)){var a=0;this.data.miniGameLeftRecoverTime.forEach((function(i,s){i>0&&i<=t&&(a++,e.data.miniGameLeftRecoverTime.shift(),e.data.miniGameLeftRecoverTime.push(0),e.data.miniGameLeftCount+=1,_.emit(c.REFRESH_UI))})),a>0&&this.save()}},e.getMiniGameDriedFishCount=function(){return this._data.miniGameDriedFishCount},e.setMiniGameDriedFishCount=function(e){this._data.miniGameDriedFishCount=e;var t=this.getPropCount(h.PROP_DRIEDFISH_ID);t!=e&&this.addPropCount(h.PROP_DRIEDFISH_ID,-t+e),this.save()},e.getDailySpecialTaskProcess=function(){return this._data.dailySpecialTaskProcess},e.setDailySpecialTaskProcessGenerated=function(e,t,a,i,s){this._data.dailySpecialTaskProcess.taskId=t,this._data.dailySpecialTaskProcess.rewardMoney=a,this._data.dailySpecialTaskProcess.rewardVip=i,this._data.dailySpecialTaskProcess.rewardGold=s,this._data.dailySpecialTaskProcess.generated=e,this._data.dailySpecialTaskProcess.accepted=!1,this._data.dailySpecialTaskProcess.completed=!1,this._data.dailySpecialTaskProcess.claimed=!1,this._data.dailySpecialTaskProcess.lastGeneratedTime=l.NowTimeStamp(),this._data.dailySpecialTaskProcess.lastAcceptedTime=0,this._data.dailySpecialTaskProcess.lastCompletedTime=0,this._data.dailySpecialTaskProcess.lastClaimedTime=0,this.save()},e.setDailySpecialTaskProcessAccepted=function(){this._data.dailySpecialTaskProcess.accepted||this._data.dailySpecialTaskProcess.completed||this._data.dailySpecialTaskProcess.claimed||(this._data.dailySpecialTaskProcess.accepted=!0,this._data.dailySpecialTaskProcess.lastAcceptedTime=l.NowTimeStamp(),this.save())},e.setDailySpecialTaskProcessCompleted=function(){!this._data.dailySpecialTaskProcess.accepted||this._data.dailySpecialTaskProcess.completed||this._data.dailySpecialTaskProcess.claimed||(this._data.dailySpecialTaskProcess.completed=!0,this._data.dailySpecialTaskProcess.lastCompletedTime=l.NowTimeStamp(),this.save())},e.setDailySpecialTaskProcessClaimed=function(){this._data.dailySpecialTaskProcess.accepted&&this._data.dailySpecialTaskProcess.completed&&!this._data.dailySpecialTaskProcess.claimed&&(this._data.dailySpecialTaskProcess.claimed=!0,this._data.dailySpecialTaskProcess.lastClaimedTime=l.NowTimeStamp(),this._data.dailySpecialTaskProcess.nextGeneratedTime=l.NowTimeStamp(),this.save())},e.addPurchasedRecords=function(e){e&&(this._data.purchasedRecords=this._data.purchasedRecords||[],this._data.purchasedRecords.push(e),this.save())},e.isPurchased=function(e,t){if(!this._data||null==this._data)return!1;if(!this._data.purchasedRecords)return!1;for(var a=0;a<this._data.purchasedRecords.length;a++){var i=this._data.purchasedRecords[a];if(i&&i.id==e&&i.type==t)return!0}return!1},e.isAdFree=function(){return this.isPurchased(104,V.ADFREE)},e.isHaveProp=function(){return!(!this._data||null==this._data)&&(!!this._data.props&&Object.keys(this._data.props).length>0)},e.getPropCount=function(e){return this._data&&null!=this._data&&this._data.props&&this._data.props[e]||0},e.isHasPropMoreThan=function(e){return!(!this._data||null==this._data)&&(!!this._data.props&&void 0)},e.addPropCount=function(e,t){this._data&&null!=this._data&&this._data.props&&(this._data.props[e]||(this._data.props[e]=0),this._data.props[e]+=t,this._data.propsTodayLastUpdateTime=l.NowTimeStamp(),this.save())},e.getPropTodayCount=function(e){return this._data&&null!=this._data&&this._data.propsToday&&this._data.propsToday[e]||0},e.addPropTodayCount=function(e,t){this._data&&null!=this._data&&this._data.propsToday&&(this._data.propsToday[e]||(this._data.propsToday[e]=0),this._data.propsToday[e]+=t,this._data.propsTodayLastUpdateTime=l.NowTimeStamp(),this.save())},e.resetPropTodayCount=function(){this._data&&null!=this._data&&(l.isSameDay(l.NowTimeStamp(),this._data.propsTodayLastUpdateTime)||(this._data.propsToday={},this._data.propsTodayLastUpdateTime=l.NowTimeStamp(),this.save()))},e.addAdWatchedCount=function(){this._data&&null!=this._data&&(this._data.adWatchedCount+=1,this._data.adWatchedLastUpdateTime=l.NowTimeStamp(),this.updateAdEventProcessStatus(),this.save())},e.resetAdWatchedCount=function(){this._data&&null!=this._data&&(l.isSameDay(l.NowTimeStamp(),this._data.adWatchedLastUpdateTime)||(this._data.adWatchedCount=0,this._data.adWatchedLastUpdateTime=l.NowTimeStamp(),this.save()))},e.getAdEventProcess=function(e){return this._data&&null!=this._data&&this._data.adEventProcess&&this._data.adEventProcess[e]||null},e.addAdEventProcess=function(e,t,a,i,s){this._data&&null!=this._data&&(this._data.adEventProcess||(this._data.adEventProcess={}),this._data.adEventProcess[e]={eventId:e,needWatchAdCount:t,rewardPropId:a,rewardPropNum:i,status:s,lastUpdateTime:l.NowTimeStamp()},this.save())},e.setAdEventProcessStatus=function(e,t){this._data&&null!=this._data&&(this._data.adEventProcess||(this._data.adEventProcess={}),this._data.adEventProcess[e]&&(this._data.adEventProcess[e].status=t,this._data.adEventProcess[e].lastUpdateTime=l.NowTimeStamp(),this.save()))},e.updateAdEventProcessStatus=function(){var e=this;this._data&&null!=this._data&&(this._data.adEventProcess||(this._data.adEventProcess={}),Object.values(this._data.adEventProcess).forEach((function(t){t.status==W.IN_PROGRESS&&t.needWatchAdCount<=e._data.adWatchedCount&&(t.status=W.COMPLETED,t.lastUpdateTime=l.NowTimeStamp())})),this._data.adEventProcessLastUpdateTime=l.NowTimeStamp(),this.save())},e.resetAdEventProcess=function(){var t=this;this._data&&null!=this._data&&(l.isSameDay(l.NowTimeStamp(),this._data.adEventProcessLastUpdateTime)||(this._data.adEventProcess={},O.iterator((function(a){var i=l.random(a.rewardPropIdRange),s=l.random(a.rewardNumRange)*(i==h.PROP_MONEY_ID?e.data.RPM:1);i==h.PROP_MONEY_ID&&s<r.data.SpCus2003_Params[1]&&(s=r.data.SpCus2003_Params[1]),t.addAdEventProcess(a.typeId,a.needWatchAdCount,i,s,W.IN_PROGRESS)})),this._data.adEventProcessLastUpdateTime=l.NowTimeStamp(),this.save()))},e.setMiniGameScoreToday=function(e,t){if(this._data&&null!=this._data){this._data.miniGameTodayScore||(this._data.miniGameTodayScore={});var a=this.getMiniGameScoreHighest(e);this._data.miniGameTodayScore[e]=t,a<t&&this.setMiniGameScoreHighest(e,t),this._data.miniGameScoreLastUpdateTime=l.NowTimeStamp(),this.save()}},e.getMiniGameScoreToday=function(e){return this._data&&null!=this._data?(this._data.miniGameTodayScore||(this._data.miniGameTodayScore={}),this._data.miniGameTodayScore[e]||0):0},e.setMiniGameScoreHighest=function(e,t){this._data&&null!=this._data&&(this._data.miniGameHighestScore||(this._data.miniGameHighestScore={}),this._data.miniGameHighestScore[e]=t,this._data.miniGameScoreLastUpdateTime=l.NowTimeStamp(),this.save())},e.getMiniGameScoreHighest=function(e){return this._data&&null!=this._data?(this._data.miniGameHighestScore||(this._data.miniGameHighestScore={}),this._data.miniGameHighestScore[e]||0):0},e.resetMiniGameScoreHighest=function(){this._data&&null!=this._data&&(l.isSameDay(l.NowTimeStamp(),this._data.miniGameScoreLastUpdateTime)||(this._data.miniGameHighestScore={},this._data.miniGameScoreLastUpdateTime=l.NowTimeStamp(),this.save()))},e.getSeekSponsorCount=function(){return this._data&&null!=this._data?this._data.seekSponsorCount:0},e.subSeekSponsorCount=function(){return!(!this._data||null==this._data)&&(!(this._data.seekSponsorCount<=0)&&(this._data.seekSponsorCount--,this.save(),!0))},e.resetSeekSponsorCount=function(){this._data&&null!=this._data&&(l.isSameDay(l.NowTimeStamp(),this._data.seekSponsorCountLastUpdateTime)||(this._data.seekSponsorCount=h.appConfig.ss,this._data.seekSponsorCountLastUpdateTime=l.NowTimeStamp(),this.save(),_.emit(c.SEEK_SPONSOR_REFRESH)))},e.getMatchProcessList=function(t){return this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]||[]},e.getMatchProcess=function(t,a){return this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]?this._data.matchProgress[t-e.matchChapterIdOffset].find((function(e){return e.roundId==a})):null},e.isMatchProcessWon=function(t,a){this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]||(this._data.matchProgress[t-e.matchChapterIdOffset]=[]);var i=this.getMatchProcess(t,a);if(i)return i.won},e.setMatchProcessWon=function(t,a){this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]||(this._data.matchProgress[t-e.matchChapterIdOffset]=[]);var i=this.getMatchProcess(t,a);i&&(i.won=!0,i.lastWonTime=l.NowTimeStamp(),E.isRoundMax(t,a)&&(0==i.lastChampionTime&&(i.lastChampionTime=l.NowTimeStamp()),this.updateAchievementProcess(0,0,0,0,t)),i.lastPlayTime=l.NowTimeStamp(),this.data.matchChapterId=t,this.data.matchRoundId=a,this.save())},e.resetMatchProcess=function(t,a){this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]||(this._data.matchProgress[t-e.matchChapterIdOffset]=[]);var i=this.getMatchProcess(t,a);if(i)i.lastPlayTime=l.NowTimeStamp(),i.lastWonTime=0;else{var s={roundId:a,won:!1,lastPlayTime:l.NowTimeStamp(),lastWonTime:0,lastChampionTime:0};this._data.matchProgress[t-e.matchChapterIdOffset].push(s)}this.save()},e.resetMatchProcessByChapterId=function(t){this._data.matchProgress||(this._data.matchProgress={}),this._data.matchProgress[t-e.matchChapterIdOffset]||(this._data.matchProgress[t-e.matchChapterIdOffset]=[]),this._data.matchProgress[t-e.matchChapterIdOffset].forEach((function(e){e.won=!1,e.lastPlayTime=l.NowTimeStamp(),e.lastWonTime=0})),this.save()},e.getMatchProcessRoundIdWonMax=function(t){this._data.matchProgress||(this._data.matchProgress={});var a=this._data.matchProgress[t-e.matchChapterIdOffset]||[];if(0==a.length)return 0;var i=a.filter((function(e){return e.won}));return 0==i.length?0:i.sort((function(e,t){return t.roundId-e.roundId}))[0].roundId},e.getMatchProcessCompleted=function(e){var t=this.getMatchProcessRoundIdWonMax(e);return E.isRoundMax(e,t)},e.isMatchProcessChampion=function(t){if(!this._data.matchProgress)return!1;var a=this._data.matchProgress[t-e.matchChapterIdOffset]||[];return 0!=a.length&&a[a.length-1].lastChampionTime>0},e.getMatchThreeRoundIdsByCurrentWonRoundId=function(e){var t=[],a=this.getMatchProcessRoundIdWonMax(e);if(E.isRoundMin(e,a))t=E.getRoundIdDiffList(e,a,3,!0,!0);else if(E.isRoundMax(e,a))t=E.getRoundIdDiffList(e,a,-3,!0,!1);else{var i;a+2<=E.getRoundDataList(e).length?(i=E.getRoundIdDiffList(e,a,2,!1,!0),t=[a].concat(i)):t=[E.getRoundIdDiffList(e,a,-1,!1,!1)[0]||0,a,E.getRoundIdDiffList(e,a,1,!1,!0)[0]||0]}return t},t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data=void 0,b.IDG=new A,b.matchChapterIdOffset=100,w=b))||w);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCButton.ts","./CCUtils.ts","./CCAudioManager.ts"],(function(n){var t,e,i,o,a,l,r,s,c,u,p,f,C,h,b,v,d,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.Node,s=n.tween,c=n.Vec3,u=n.BlockInputEvents,p=n.UITransform,f=n.isValid,C=n.UIOpacity,h=n.Component},function(n){b=n.DEV},function(n){v=n.CCButton},function(n){d=n.default},function(n){y=n.audioMgr}],execute:function(){var g,k,m,w,D,E,B,H,T;a._RF.push({},"78f818WIKVNCLzxbusBAiVt","CCPopup",void 0);var z=l.ccclass,N=l.property;n("default",(g=z("CCPopup"),k=N({type:r,tooltip:b}),m=N({type:r,tooltip:b}),w=N({type:r,tooltip:b}),g((B=t((E=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return t=n.call.apply(n,[this].concat(a))||this,i(t,"background",B,o(t)),i(t,"main",H,o(t)),i(t,"btnClose",T,o(t)),t.animDuration=.3,t.blocker=null,t.options=null,t.finishCallback=null,t}e(t,n);var a=t.prototype;return a.onEnable=function(){var n,t;null==(n=this.btnClose)||n.off(r.EventType.TOUCH_END,this.onBtnClose,this),null==(t=this.btnClose)||t.on(r.EventType.TOUCH_END,this.onBtnClose,this)},a.onDisable=function(){var n;null==(n=this.btnClose)||n.off(r.EventType.TOUCH_END,this.onBtnClose,this)},a.enableBtnClose=function(n){var t,e;n?null==(t=this.btnClose)||t.on(r.EventType.TOUCH_END,this.onBtnClose,this):null==(e=this.btnClose)||e.off(r.EventType.TOUCH_END,this.onBtnClose,this);this.btnClose&&(this.btnClose.active=n)},a.onBtnClose=function(n){var t,e=null==(t=n.target)?void 0:t.getComponent(v);e?this.hide(!1,e.popUpCloseDuration):this.hide(!1)},a.show=function(n,t){var e=this;if(void 0===t&&(t=this.animDuration),this.main)return new Promise((function(i){y.playEffect("panelOpen"),e.options=n;var o=e.background,a=e.main;e.node.active=!0,o&&(o.active=!0),a.active=!0,a.scale.set(.5,.5,1),e.init(e.options),e.updateDisplay(e.options),o&&t>0&&s(o).to(.8*t,{}).start(),t>0?s(a).to(t,{scale:new c(1,1,1)},{easing:"backOut"}).call((function(){e.onShow&&e.onShow(),i()})).start():(e.onShow&&e.onShow(),i())}))},a.hide=function(n,t){var e=this;return void 0===n&&(n=!1),void 0===t&&(t=this.animDuration),new Promise((function(i){var o=e.node;if(0!==t){var a=e.blocker;if(!a&&((a=e.blocker=new r("blocker")).addComponent(u),a.setParent(null==o?void 0:o.getChildByName("Canvas")),a.addComponent(p),f(o))){var l,h,b=(null==(l=o.getChildByName("Canvas"))||null==(l=l.getComponent(p))?void 0:l.contentSize)||d.GetVisibleSize();null==(h=a.getComponent(p))||h.setContentSize(b)}a.active=!0}e.background&&t>0&&s(e.background).delay(.2*t).to(.8*t,{scale:new c(1,1,1)},{progress:function(n,t,i,o){return i=n+t*o,e.background.getComponent(C).opacity=0,i}}).start(),t>0&&e.main?s(e.main).to(t,{scale:new c(.5,.5,1)},{easing:"backIn"}).call((function(){e.blocker&&(e.blocker.active=!1),f(o)&&o.activeInHierarchy&&f(o.parent)&&(o.active=!1),e.onHide&&e.onHide(n),y.playEffect("panelClose"),i(),e.finishCallback&&e.finishCallback(n)})).start():(e.blocker&&(e.blocker.active=!1),f(o)&&o.activeInHierarchy&&f(o.parent)&&(o.active=!1),e.onHide&&e.onHide(n),y.playEffect("panelClose"),i(),e.finishCallback&&e.finishCallback(n))}))},a.init=function(n){},a.updateDisplay=function(n){},a.onShow=function(){},a.onHide=function(n){},a.setFinishCallback=function(n){this.finishCallback=n},t}(h)).prototype,"background",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"main",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"btnClose",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=E))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCPopup.ts","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var n,t,r,a,u,o,c,i,l,s,d;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,o=e.director,c=e.instantiate,i=e.isValid},function(e){l=e.default},function(e){s=e.default},function(e){d=e.default}],execute:function(){var p,h;a._RF.push({},"d99afknPU5M74WL2AoYuzmk","CCPopupManager",void 0);var f=u.ccclass,_=(u.property,e("CacheMode",function(e){return e[e.Once=1]="Once",e[e.Normal=2]="Normal",e[e.Frequent=3]="Frequent",e}({}))),m=e("ShowResult",function(e){return e[e.Done=1]="Done",e[e.Failed=2]="Failed",e[e.Waiting=3]="Waiting",e}({})),C=(e("default",f("CCPopupManager")(((h=function(){function e(){}return e.showPanel=function(n,a,u,o,c){return void 0===a&&(a=null),void 0===u&&(u=!1),void 0===o&&(o=.3),void 0===c&&(c=!0),new Promise(t(r().mark((function t(i){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.show(n,a,{mode:e.CacheMode.Normal,immediately:u},o,c).then((function(n){switch(n){case e.ShowResult.Done:break;case e.ShowResult.Failed:s.log("popup ... Failed");break;case e.ShowResult.Waiting:s.log("popup ... Waiting")}i(n)}));case 1:case"end":return t.stop()}}),t)}))))},e.show=function(n,a,u,p,h){return void 0===p&&(p=.3),void 0===h&&(h=!0),new Promise(t(r().mark((function f(_){var C,g,k,b;return r().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(u=e.parseParams(u),!e._current&&!e.locked){f.next=11;break}if(!u||!u.immediately){f.next=8;break}return e.locked=!1,f.next=6,e.suspend();case 6:f.next=11;break;case 8:return e.push(n,a,u,p,h),_(m.Waiting),f.abrupt("return");case 11:if(e._current={resObj:n,options:a,params:u,duration:p,canAutoShowBeNext:h},C=e.getNodeFromCache(n.relativePath),i(C)){f.next=25;break}return e.loadStartCallback&&e.loadStartCallback(),f.next=17,d.load(n);case 17:if(g=f.sent,e.loadFinishCallback&&e.loadFinishCallback(),i(g)){f.next=24;break}return s.error("[PopupManager]","",n),e._current=null,_(m.Failed),f.abrupt("return");case 24:C=c(g);case 25:if(k=C.getComponent(l)){f.next=31;break}return s.warn("[PopupManager]","",n),e._current=null,_(m.Failed),f.abrupt("return");case 31:e._current.popup=k,e._current.node=C,C.setParent(e.container||o.getScene().getChildByName("Canvas")),C.setSiblingIndex(C.parent.children.length-2),b=function(){var a=t(r().mark((function t(a){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:e.locked=e._suspended.length>0||e._queue.length>0,e.recycle(n.relativePath,C,u.mode),e._current=null,_(m.Done),e.next();case 7:case"end":return t.stop()}}),t)})));return function(e){return a.apply(this,arguments)}}(),k.setFinishCallback(b),k.show(a,p);case 38:case"end":return f.stop()}}),f)}))))},e.hide=function(){e._current.popup&&e._current.popup.hide()},e.getNodeFromCache=function(n){var t=e._nodeCache;if(t.has(n)){var r=t.get(n);if(i(r))return r;t.delete(n)}var a=d.prefabCache;if(a.has(n)){var u=a.get(n);if(i(u))return u.addRef(),c(u);a.delete(n)}return null},e.next=function(){if(!(e._current||0===e._suspended.length&&0===e._queue.length)){var n=null;n=e._suspended.length>0?e._suspended.shift():e._queue.shift(),e.locked=!1,i(n.popup)?e._current=n:n.canAutoShowBeNext&&e.show(n.resObj,n.options,n.params,n.duration,n.canAutoShowBeNext)}},e.push=function(n,t,r,a,u){e._current||e.locked?(e._queue.push({resObj:n,options:t,params:r,duration:a,canAutoShowBeNext:u}),e._queue.sort((function(e,n){return e.params.priority-n.params.priority}))):e.show(n,t,r,a,u)},e.suspend=function(){var n=t(r().mark((function n(){var t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e._current){n.next=2;break}return n.abrupt("return");case 2:t=e._current,e._suspended.push(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e.recycleAll=function(){e._nodeCache.forEach((function(e){e.destroy()})),e._nodeCache.clear(),e._queue.length=0,e._suspended.length=0,e.locked=!1,e._current=null,e.container.removeAllChildren(),e.container=null},e.recycle=function(n,t,r){switch(r){case _.Once:e._nodeCache.delete(n),t.destroy(),e.release(n);break;case _.Normal:e._nodeCache.delete(n),t.destroy();break;case _.Frequent:t.removeFromParent(),e._nodeCache.set(n,t)}},e.release=function(n){var t=e._nodeCache,r=t.get(n);r&&(t.delete(n),i(r)&&r.destroy(),r=null);var a=d.prefabCache,u=a.get(n);u&&(u.refCount<=1&&a.delete(n),u.decRef(),u=null)},e.parseParams=function(e){return null==e?new C:"[object Object]"!==Object.prototype.toString.call(e)?(s.warn("[PopupManager]",""),new C):(null==e.mode&&(e.mode=_.Normal),null==e.priority&&(e.priority=0),null==e.immediately&&(e.immediately=!1),e)},n(e,null,[{key:"nodeCache",get:function(){return e._nodeCache}},{key:"current",get:function(){return e._current}},{key:"queue",get:function(){return e._queue}},{key:"suspended",get:function(){return e._suspended}},{key:"CacheMode",get:function(){return _}},{key:"ShowResult",get:function(){return m}}]),e}())._nodeCache=new Map,h._current=null,h._queue=[],h._suspended=[],h.locked=!1,h.container=null,h.interval=.05,h.loadStartCallback=null,h.loadFinishCallback=null,p=h))||p),function(){this.mode=_.Normal,this.priority=0,this.immediately=!1});a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPropData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(t){var e,n,r,a,u,o,c,s,i;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator},function(t){o=t.default},function(t){c=t.default,s=t.CCResType},function(t){i=t.CCPlayerData}],execute:function(){var l,p;a._RF.push({},"6c995rodlVCUp4X5E5mNePf","CCPropData",void 0);var f=u.ccclass;u.property,t("CCPropType",function(t){return t[t.MATERIAL=0]="MATERIAL",t[t.PROP=1]="PROP",t[t.CURRENCY=2]="CURRENCY",t}({})),t("default",f("CCPropData")(((p=function(){function t(){}return t.addRow=function(t){this._data[t.typeId]=t},t.keys=function(t){return Object.values(this._data).filter((function(e){return e.type===t})).map((function(t){return t.typeId}))},t.keysAndName=function(t){return Object.values(this._data).filter((function(e){return e.type===t})).map((function(t){return[t.typeId,t.name]}))},t.totalRowsByType=function(t){return Object.values(this._data).filter((function(e){return e.type===t})).length},t.totalRows=function(){return Object.keys(this._data).length},t.getRowsByTypeId=function(t){return this._data[t]||null},t.getIdxByTypeIdAndPropId=function(t,e){return this.keys(t).indexOf(e)},t.getRowsByTypeAndRowIdx=function(t,e,n){var r,a,u,o;void 0===n&&(n=!1);var c=Object.values(this._data).filter((function(e){return e.type===t})).sort((function(t,e){return t.typeId-e.typeId}));n&&(c=c.filter((function(t){return i.getPropCount(t.typeId)>0})).sort((function(t,e){return t.typeId-e.typeId})));var s=4*e;return[null!=(r=c[s])?r:{},null!=(a=c[s+1])?a:{},null!=(u=c[s+2])?u:{},null!=(o=c[s+3])?o:{}]},t.iterator=function(t){Object.values(this._data).forEach((function(e){t(e)}))},t.load=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.load({bundleName:"profile",relativePath:"prop",resType:s.TextAsset}).then(n(r().mark((function e(a){var u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return u=o.csv2array(a.text,1,1),c=u.map(n(r().mark((function e(n){var a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=parseInt(n["ID"],10))){e.next=4;break}return o.error("['ID'].nil"),e.abrupt("return");case 4:u={typeId:a,name:n[""]||"",desc:n[""]||"",func:n[""]||"",access:n[""]||"",dailyAccessLimit:parseInt(n[""],10)||0,type:parseInt(n[""],10)||0,funcData:o.splitArrNumberByArrString(o.splitArrString(n[""],";"),"@")},t.addRow(u);case 6:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(c);case 6:case"end":return e.stop()}}),e)}))));case 2:o.log("load.material.total rows: "+t.totalRows()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},l=p))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCPropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCPopupManager.ts","./CCPanelMiniGameLuckyDrawsItem.ts","./CCPropData.ts","./CCRichText.ts","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,i,r,o,a,l,s,c,u,p,C,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite},function(t){s=t.CCButton},function(t){c=t.default},function(t){u=t.CCPanelMiniGameLuckyDrawsItem},function(t){p=t.default},function(t){C=t.CCRichText},function(t){d=t.default},function(t){f=t.default}],execute:function(){var h,I,m,y,x,b,P;o._RF.push({},"b4ba3hUhbFHZqNq+GNcWqQI","CCPropItem",void 0);var v=a.ccclass,R=a.property;t("CCPropItem",(h=v("CCPropItem"),I=R({type:l}),m=R({type:C}),h((b=e((x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"SpriteFrame",b,r(e)),i(e,"RichText",P,r(e)),e.eventHandler=null,e}n(e,t);var o=e.prototype;return o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this)},o.setPropId=function(t){this.Idx=t,this.Idx>=0&&f.loadSpriteFrameAndBind(this.SpriteFrame,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+t,!1),this.SpriteFrame.enabled=this.Idx>=0},o.setPropDesc=function(t,e){void 0===e&&(e=""),this.RichText&&d.setRichTextString(this.RichText,t,e)},o.onBtnPressed=function(t,n,i,r){r||(t.Idx<0||p.getRowsByTypeId(t.Idx)&&e.showDetails(t.Idx,t.eventHandler))},e.showDetails=function(t,e){void 0===e&&(e=null),c.showPanel(u.resObj,{typeId:t,eventHandler:e},!0)},e}(s)).prototype,"SpriteFrame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(x.prototype,"RichText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPropRow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./List.ts","./CCPropData.ts","./CCPlayerData.ts","./CCPropItem.ts","./CCEvent.ts","./CCDefine.ts"],(function(t){var e,n,i,r,o,s,p,a,u,l,d,c,f,h,m,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,p=t.EventHandler,a=t.Canvas,u=t.Component},function(t){l=t.default},function(t){d=t.default},function(t){c=t.default},function(t){f=t.CCPlayerData},function(t){h=t.CCPropItem},function(t){m=t.CCEvent},function(t){I=t.EVENT_TYPE}],execute:function(){var y,C,g,v,b,P,N,w,E,D,z,R,B,U,_,H;o._RF.push({},"72fcdfIX4FHxr4jVWvndptA","CCPropRow",void 0);var F=s.ccclass,S=s.property,T=s.executeInEditMode;t("CCPropRow",(y=F("CCPropRow"),C=T(),g=S({type:d,displayName:""}),v=S({type:[Number],displayName:"ID"}),b=S({displayName:""}),P=S({type:Boolean,displayName:"ID"}),N=S({type:Boolean,displayName:""}),w=S({type:p,displayName:""}),y(E=C((z=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"list",z,r(e)),i(e,"propIds",R,r(e)),i(e,"propNums",B,r(e)),i(e,"needUnique",U,r(e)),i(e,"showNum",_,r(e)),i(e,"renderEvent",H,r(e)),e}n(e,t);var o=e.prototype;return o.onEnable=function(){m.on(I.REFRESH_PROP_UI,this.updateUI,this)},o.onDisable=function(){m.targetOff(this)},o.updateUI=function(){this.list&&(this.list.numItems=this.propIds.length)},o.setPropIds=function(t){if(this.propIds=t,this.needUnique){var e=new Set(this.propIds);this.propIds=Array.from(e)}this.list&&(this.list.numItems=this.propIds.length)},o.setProps=function(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));this.setPropIds(e),this.propNums=n,this.list&&(this.list.numItems=this.propIds.length)},o.addPropId=function(t){this.propIds.push(t),this.setPropIds(this.propIds)},o.onBuildItem=function(t,e){if(this.propIds.length&&!(this.propNums.length>0&&this.propIds.length!=this.propNums.length)){var n=t.getComponent(h);if(n){n.node.getChildByName("Canvas")&&(n.node.getChildByName("Canvas").getComponent(a).enabled=!1),n.scaleEnable=!1;var i=this.propIds[e],r=c.getRowsByTypeId(i);if(!r||r&&null==r.typeId)return n.setPropId(-1),void n.setPropDesc("");n.setPropId(r.typeId);var o="";if(this.showNum){var s=this.propNums.length>0?this.propNums[e]:f.getPropCount(r.typeId);o="<size=20><outline color=#927250 width=2><color=#ffffff>"+l.formatNum2Str(s)+"</color></outline></size>"}n.setPropDesc(o),n.eventHandler=this.renderEvent}}},e}(u)).prototype,"list",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(D.prototype,"propIds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(D.prototype,"propNums",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(D.prototype,"needUnique",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=e(D.prototype,"showNum",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(D.prototype,"renderEvent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),E=D))||E)||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCPurchaseData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCFiles.ts","./CCUtils.ts"],(function(t){var a,i,e,s,n;return{setters:[function(t){a=t.createClass},function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.default},function(t){n=t.default}],execute:function(){var r,o;i._RF.push({},"a6de6fNN2tFworzAWEV32cE","CCPurchaseData",void 0);var u=e.ccclass,c=(e.property,"p.ts");t("CCPurchaseData",u("CCPurchaseData")(((o=function(){function t(){}return t.initData=function(){return{version:0,tokens:[],lastUpdateTime:n.NowTimeStamp()}},t.load=function(){var t=s.readStringFromFile(c);if(t){try{this._data=JSON.parse(t)}catch(t){this._data=this.initData()}null==this._data.tokens&&(this._data.tokens=[]),null==this._data.lastUpdateTime&&(this._data.lastUpdateTime=n.NowTimeStamp())}else this._data=this.initData();return n.log("load: "+JSON.stringify(this._data)),this._data},t.save=function(){this._data.lastUpdateTime=n.NowTimeStamp();var t=JSON.stringify(this._data);return n.log("save: "+t),s.writeStringToFile(c,t)},t.add=function(t){return!!t&&(this._data.tokens.push(t),this.save())},t.isExists=function(t){return!!t&&this._data.tokens.includes(t)},a(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data=void 0,r=o))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCQuestion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(t){var e,n,r,a,s,u,o,i;return{setters:[function(t){e=t.createClass,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator},function(t){u=t.default},function(t){o=t.default,i=t.CCResType}],execute:function(){var c,d;a._RF.push({},"012923Hst5GvJOsIODCd8HI","CCQuestion",void 0);var l=s.ccclass;s.property,t("default",l("CCQuestion")(((d=function(){function t(){}return t.addRow=function(t){this._data[t.id]=t},t.keys=function(){return Object.values(this._data).map((function(t){return t.id}))},t.totalRows=function(){return Object.keys(this._data).length},t.getRowById=function(t){var e;return null!=(e=this._data[t])?e:null},t.randomId=function(){return u.random(this.keys())},t.load=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.load({bundleName:"profile",relativePath:"question",resType:i.TextAsset}).then(n(r().mark((function e(a){var s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return s=u.csv2array(a.text,1,1),o=s.map(n(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return u.error("['id'].nil"),e.abrupt("return");case 3:a={id:parseInt(n.id,10),question:n[""]||"",options:u.splitArrString(n[""]||"",";"),answer:parseInt(n[""]||0,10),bgName:parseInt(n[""]||0,10)},t.addRow(a);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(o);case 6:case"end":return e.stop()}}),e)}))));case 2:u.log("load.question.total rows: "+t.totalRows()+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},c=d))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(t){var e,u,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){u=t.cclegacy,n=t._decorator,i=t.Component},function(t){r=t.default}],execute:function(){var o,s;u._RF.push({},"603f9Z7XqdA6KR42kZz0QT4","CCQueue",void 0);var a=n.ccclass;n.property,t("default",a("CCQueue")(((s=function(t){function u(){return t.apply(this,arguments)||this}return e(u,t),u.push=function(t,e,u){null!=e&&null!=e&&this._queue.push({data:{delay:t,func:e,args:u,originTs:r.NowTimeStamp(),triggerTs:r.NowTimeStamp()+1e3*t}})},u.pop=function(){return this._queue.shift()},u.size=function(){return this._queue.length},u.clear=function(){this._queue=[]},u.iterator=function(){var t=this;this._queue.forEach((function(e){r.NowTimeStamp()-e.data.triggerTs>0&&(e.data.func(e.data.args),t._queue.shift())}))},u.prototype.update=function(t){u.iterator()},u}(i))._queue=[],o=s))||o);u._RF.pop()}}}));

System.register("chunks:///_virtual/CCResize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,r,s,d,a,h,y,p,u,c,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,r=t._decorator,s=t.UITransform,d=t.Enum,a=t.CCInteger,h=t.Size,y=t.TransformBit,p=t.Node,u=t.Rect,c=t.Vec3,_=t.Component}],execute:function(){var f,l,g,D,E,v,L,C,T;n._RF.push({},"d6c4duMjldHobeQRqG+2yfz","CCResize",void 0);var N=r.ccclass,R=r.menu,A=r.property,m=r.disallowMultiple,H=r.requireComponent,O=r.executeInEditMode,S=function(t){return t[t.NONE=0]="NONE",t[t.CONTAINER=1]="CONTAINER",t}(S||{});t("default",(f=R("/CCResize"),l=H(s),g=A({type:d(S),displayName:""}),D=A({type:a,tooltip:""}),E=A({type:a,tooltip:""}),v=A({type:a,tooltip:""}),L=A({type:a,tooltip:""}),N(C=O(C=m(C=f(C=l((e((T=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._resize=S.NONE,e._paddingTop=0,e._paddingBottom=0,e._paddingLeft=0,e._paddingRight=0,e._layoutDirty=!0,e._layoutSize=new h(100,100),e}o(e,t);var n=e.prototype;return n.onEnable=function(){this._addEventListeners();var t=this.node.getComponent(s);null!=t&&t.contentSize.equals(new h(0,0))&&(null==t||t.setContentSize(this._layoutSize)),this._doLayoutDirty()},n.onDisable=function(){this._removeEventListeners()},n.onLoad=function(){this.onEnable()},n.onDestroy=function(){this.onDisable()},n._doLayoutDirty=function(){this._layoutDirty=!0,this.updateLayout()},n._doLayoutTransrorm=function(t){switch(t){case y.POSITION:case y.SCALE:case y.RS:case y.TRS:this._doLayoutDirty()}},n._addEventListeners=function(){this.node.on(p.EventType.SIZE_CHANGED,this._resized,this),this.node.on(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),this.node.on(p.EventType.CHILD_ADDED,this._childAdded,this),this.node.on(p.EventType.CHILD_REMOVED,this._childRemoved,this),this._addChildrenEventListeners()},n._removeEventListeners=function(){this.node.off(p.EventType.SIZE_CHANGED,this._resized,this),this.node.off(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),this.node.off(p.EventType.CHILD_ADDED,this._childAdded,this),this.node.off(p.EventType.CHILD_REMOVED,this._childRemoved,this),this._removeChildrenEventListeners()},n._addChildrenEventListeners=function(){for(var t=this.node.children,e=0;e<t.length;e+=1){var o=t[e];o.on(p.EventType.TRANSFORM_CHANGED,this._doLayoutTransrorm,this),o.on(p.EventType.SIZE_CHANGED,this._doLayoutDirty,this),o.on(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),o.on("active-in-hierarchy-changed",this._doLayoutDirty,this)}},n._removeChildrenEventListeners=function(){for(var t=this.node.children,e=0;e<t.length;e+=1){var o=t[e];o.off(p.EventType.TRANSFORM_CHANGED,this._doLayoutTransrorm,this),o.off(p.EventType.SIZE_CHANGED,this._doLayoutDirty,this),o.off(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),o.off("active-in-hierarchy-changed",this._doLayoutDirty,this)}},n._childAdded=function(t){t.on(p.EventType.TRANSFORM_CHANGED,this._doLayoutTransrorm,this),t.on(p.EventType.SIZE_CHANGED,this._doLayoutDirty,this),t.on(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),t.on("active-in-hierarchy-changed",this._doLayoutDirty,this),this._doLayoutDirty()},n._childRemoved=function(t){t.off(p.EventType.TRANSFORM_CHANGED,this._doLayoutTransrorm,this),t.off(p.EventType.SIZE_CHANGED,this._doLayoutDirty,this),t.off(p.EventType.ANCHOR_CHANGED,this._doLayoutDirty,this),t.off("active-in-hierarchy-changed",this._doLayoutDirty,this),this._doLayoutDirty()},n._resized=function(){this._layoutSize=this.node.getComponent(s).contentSize,this._doLayoutDirty()},n._doLayoutBasic=function(){for(var t=this.node.children,e=null,o=0;o<t.length;o+=1){var i=t[o];i.activeInHierarchy&&(e?u.union(e,e,i.getComponent(s).getBoundingBoxToWorld()):e=i.getComponent(s).getBoundingBoxToWorld())}if(e){var n,r=null!=(n=this.node.getComponent(s))?n:this.node.addComponent(s),d=r.convertToNodeSpaceAR(new c(e.x,e.y));d=new c(d.x-this.paddingLeft,d.y-this.paddingBottom);var a=r.convertToNodeSpaceAR(new c(e.xMax,e.yMax)),y=(a=new c(a.x+this.paddingRight,a.y+this.paddingTop)).subtract(d),p=new h(parseFloat(y.x.toFixed(2)),parseFloat(y.y.toFixed(2)));if(0!==p.width){var _=-d.x/p.width;r.anchorX=parseFloat(_.toFixed(2))}if(0!==p.height){var f=-d.y/p.height;r.anchorY=parseFloat(f.toFixed(2))}r.setContentSize(p)}},n.updateLayout=function(){this._resize===S.CONTAINER&&(this._layoutDirty&&this.node.children.length&&this.node.children.find((function(t){return t.activeInHierarchy}))&&(this._doLayoutBasic(),this._layoutDirty=!1))},i(e,[{key:"resizeMode",get:function(){return this._resize},set:function(t){this._resize=t,this._doLayoutDirty()}},{key:"paddingTop",get:function(){return this._paddingTop},set:function(t){this._paddingTop=t,this._doLayoutDirty()}},{key:"paddingBottom",get:function(){return this._paddingBottom},set:function(t){this._paddingBottom=t,this._doLayoutDirty()}},{key:"paddingLeft",get:function(){return this._paddingLeft},set:function(t){this._paddingLeft=t,this._doLayoutDirty()}},{key:"paddingRight",get:function(){return this._paddingRight},set:function(t){this._paddingRight=t,this._doLayoutDirty()}}]),e}(_)).prototype,"resizeMode",[g],Object.getOwnPropertyDescriptor(T.prototype,"resizeMode"),T.prototype),e(T.prototype,"paddingTop",[D],Object.getOwnPropertyDescriptor(T.prototype,"paddingTop"),T.prototype),e(T.prototype,"paddingBottom",[E],Object.getOwnPropertyDescriptor(T.prototype,"paddingBottom"),T.prototype),e(T.prototype,"paddingLeft",[v],Object.getOwnPropertyDescriptor(T.prototype,"paddingLeft"),T.prototype),e(T.prototype,"paddingRight",[L],Object.getOwnPropertyDescriptor(T.prototype,"paddingRight"),T.prototype),C=T))||C)||C)||C)||C)||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/CCRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,l,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.Label,l=t.Font,r=t.RichText}],execute:function(){var c;i._RF.push({},"ff6c0nK+5NCZ7HNSA80lX+z","CCRichText",void 0);var a=o.ccclass,s=(o.property,o.disallowMultiple,o.executeInEditMode);t("CCRichText",a("CCRichText")(c=s(c=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var o=i.prototype;return o.start=function(){},o.update=function(t){},o._applyTextAttribute=function(t){var e=t.node.getComponent(n);if(e){this._resetLabelState(e);var i,o=t.styleIndex;if(this._textArray[o]&&(i=this._textArray[o].style),i){if(i.color?e.color=this._convertLiteralColorValue(i.color):e.color=this._fontColor,e.isBold=!!i.bold,e.isItalic=!!i.italic,e.isUnderline=!!i.underline,i.outline){var r=t.node.getComponent(n);r||(r=t.node.addComponent(n)),t.node.getComponent(n).enableOutline=!0,r.outlineColor=this._convertLiteralColorValue(i.outline.color),r.outlineWidth=i.outline.width}e.fontSize=i.size||this._fontSize,t.clickHandler="",t.clickParam="";var c=i.event;c&&(t.clickHandler=c.click||"",t.clickParam=c.param||"")}e.cacheMode=this._cacheMode,this._font instanceof l&&!this._isSystemFontUsed?e.font=this._font:e.fontFamily=this._fontFamily,e.useSystemFont=this._isSystemFontUsed,e.lineHeight=this._lineHeight,e.updateRenderData(!0)}},i}(r))||c)||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCRoomScoreData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts"],(function(e){var t,r,n,a,o,s,c,u;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.default},function(e){c=e.default,u=e.CCResType}],execute:function(){var i,p;a._RF.push({},"baab6NV0C9PsoUb1WPa17lp","CCRoomScoreData",void 0);var l=o.ccclass,f=(o.property,e("MAX_ROOMSCORE_LEVEL",5));e("default",l("CCRoomScoreData")(((p=function(){function e(){}return e.addRow=function(e){this._data[e.tagId]=e},e.keys=function(){return Object.keys(this._data)},e.totalKeys=function(){return Object.keys(this._data).length},e.getRowsByTagId=function(e){var t;return null!=(t=this._data[e])?t:{}},e.getOtherRowsByVip=function(e){var t=Object.values(this._data).filter((function(t){return t.needVipNum<=e}));return t.length>0?t.pop():null},e.getOtherRowsRandomScoreByVip=function(e){var t=this.getOtherRowsByVip(e);if(!t)return[];for(var r=[],n=0;n<t.scoreHigh.length;n++)r.push(s.randomRange(t.scoreLow[n],t.scoreHigh[n]));return r},e.load=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.load({bundleName:"profile",relativePath:"roomscore",resType:u.TextAsset}).then(r(n().mark((function t(a){var o,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return o=s.csv2array(a.text,1,1),c=o.map(r(n().mark((function t(r){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.ID){t.next=3;break}return s.error("['ID'].nil"),t.abrupt("return");case 3:for(a={tagId:parseInt(r.ID,10),needVipNum:parseInt(r["VIP"],10),avgScore:parseInt(r[""],10),scoreHigh:[],scoreLow:[]},o=0;o<f;o++)a.scoreHigh.push(parseInt(r[""+(o+1)],10)),a.scoreLow.push(parseInt(r[""+(o+1)],10));e.addRow(a);case 6:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(c);case 6:case"end":return t.stop()}}),t)}))));case 2:s.log("load.roomscore.total rows: "+e.totalKeys()+" ... OK");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={},i=p))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/CCScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCDefine.ts"],(function(e){var n,t,E,l,o,a,g,r,i,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,E=e._decorator,l=e.macro,o=e.DynamicAtlasManager,a=e.game,g=e.Component},function(e){r=e.default},function(e){i=e.default,u=e.EnvType}],execute:function(){var A;t._RF.push({},"81f6b6tRjBLA60R22SHaAEk","CCScene",void 0);var I=E.ccclass;E.property;i.checkEnvEnabled(),l.CLEANUP_IMAGE_CACHE=!1,o.instance.init(),o.instance.maxFrameSize=2048;e("CCScene",I("CCScene")(A=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var E=t.prototype;return E.onLoad=function(){r.log("CCScene.onLoad ---\x3e")},E.onEnable=function(){r.log("CCScene.onEnable ---\x3e")},E.onDisable=function(){r.log("CCScene.onDisable ---\x3e")},E.onDestroy=function(){r.log("CCScene.onDestroy ---\x3e")},E.start=function(){this.initInfo()},E.update=function(e){},E.initInfo=function(){r.log("CCScene.initInfo ---\x3e"),i.getEnvEnabled(u.HTML5)&&r.log("HTML5: true"),i.getEnvEnabled(u.NATIVE)&&r.log("NATIVE: true"),i.getEnvEnabled(u.ANDROID)&&r.log("ANDROID: true"),i.getEnvEnabled(u.IOS)&&r.log("IOS: true"),i.getEnvEnabled(u.MAC)&&r.log("MAC: true"),i.getEnvEnabled(u.WINDOWS)&&r.log("WINDOWS: true"),i.getEnvEnabled(u.OHOS)&&r.log("OHOS: true"),i.getEnvEnabled(u.OPEN_HARMONY)&&r.log("OPEN_HARMONY: true"),i.getEnvEnabled(u.WECHAT)&&r.log("WECHAT: true"),i.getEnvEnabled(u.WECHAT_MINI_PROGRAM)&&r.log("WECHAT_MINI_PROGRAM: true"),i.getEnvEnabled(u.BAIDU)&&r.log("BAIDU: true"),i.getEnvEnabled(u.XIAOMI)&&r.log("XIAOMI: true"),i.getEnvEnabled(u.ALIPAY)&&r.log("ALIPAY: true"),i.getEnvEnabled(u.TAOBAO)&&r.log("TAOBAO: true"),i.getEnvEnabled(u.TAOBAO_MINIGAME)&&r.log("TAOBAO_MINIGAME: true"),i.getEnvEnabled(u.BYTEDANCE)&&r.log("BYTEDANCE: true"),i.getEnvEnabled(u.OPPO)&&r.log("OPPO: true"),i.getEnvEnabled(u.VIVO)&&r.log("VIVO: true"),i.getEnvEnabled(u.HUAWEI)&&r.log("HUAWEI: true"),i.getEnvEnabled(u.COCOSPLAY)&&r.log("COCOSPLAY: true"),i.getEnvEnabled(u.EDITOR)&&r.log("EDITOR: true"),i.getEnvEnabled(u.EDITOR_NOT_IN_PREVIEW)&&r.log("EDITOR_NOT_IN_PREVIEW: true"),i.getEnvEnabled(u.PREVIEW)&&r.log("PREVIEW: true"),i.getEnvEnabled(u.BUILD)&&r.log("BUILD: true"),i.getEnvEnabled(u.TEST)&&r.log("TEST: true"),i.getEnvEnabled(u.DEBUG)&&r.log("DEBUG: true"),i.getEnvEnabled(u.DEV)&&r.log("DEV: true"),i.getEnvEnabled(u.MINIGAME)&&r.log("MINIGAME: true"),i.getEnvEnabled(u.RUNTIME_BASED)&&r.log("RUNTIME_BASED: true"),i.getEnvEnabled(u.SUPPORT_JIT)&&r.log("SUPPORT_JIT: true"),i.getEnvEnabled(u.JSB)&&r.log("JSB: true");var e=r.GetDesignResolutionSize(),n=r.GetVisibleSize(),t=r.GetViewportRect(),E=r.GetSafeAreaRect();a.frameRate=240,r.log("CCScene.initInfo ---\x3e sizeDesign: "+e+" sizeVisible: "+n+" rcViewPort: "+t+" rcSafeArea: "+E),r.log("CCScene.initInfo ---\x3e Now: "+r.Now()+" NowTimeStamp: "+r.NowTimeStamp()),r.log("CCScene.initInfo ---\x3e CLEANUP_IMAGE_CACHE: "+l.CLEANUP_IMAGE_CACHE+" DynamicAtlasManager.enabled: "+o.instance.enabled+" DynamicAtlasManager.maxFrameSize: "+o.instance.maxFrameSize)},t}(g))||A);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneHall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPlayerData.ts","./CCScrollNumber.ts","./CCMapData.ts","./CCDefine.ts","./CCScene.ts","./CCPathManager.ts","./CCCacheRes.ts","./CCBuildingData.ts","./CCEffct.ts","./CCLingoData.ts","./CCEvent.ts","./CCButton.ts","./CCCatData.ts","./CCSundryData.ts","./CCNpcData.ts","./CCTileData.ts","./CCPopupManager.ts","./Npc.ts","./CCSpineMoney.ts","./CCSpineSaoba.ts","./CCSpinePohuai.ts","./CCSpineVip.ts","./CCPanelNpcUnlocked.ts","./CCSceneManager.ts","./CCAudioManager.ts","./CCNative.ts","./CCNotification.ts","./CCQueue.ts","./CCPay.ts","./CCPurchaseData.ts","./CCSceneMain.ts"],(function(e){var i,t,l,n,a,r,o,u,s,d,g,h,c,_,p,v,f,m,C,E,b,H,R,S,T,B,A,x,I,y,P,N,k,U,D,M,L,G,w,O,W,V,F,q,Q,Y,z,K,J,Z,j,X,$,ee,ie,te,le;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator,n=e.game,a=e.DynamicAtlasManager,r=e.math,o=e.Vec2,u=e.Vec3,s=e.isValid,d=e.Sprite,g=e.find,h=e.RichText,c=e.Node,_=e.Layers},function(e){p=e.default},function(e){v=e.CCPlayerData,f=e.CC_NEWBIE_GUIDE_TYPE,m=e.CCShopItemType},function(e){C=e.CCScrollNumber},function(e){E=e.default},function(e){b=e.EVENT_TYPE,H=e.default,R=e.EnvType,S=e.HALL_INDEX,T=e.BuildingTypeId},function(e){B=e.CCScene},function(e){A=e.CCPathManager,x=e.SCREEN_PATH_TYPE},function(e){I=e.default,y=e.CCResType},function(e){P=e.default},function(e){N=e.CCEffect},function(e){k=e._T},function(e){U=e.CCEvent},function(e){D=e.CCButton},function(e){M=e.default},function(e){L=e.default},function(e){G=e.default},function(e){w=e.CCTileData},function(e){O=e.default},function(e){W=e.Npc,V=e.NPC_TYPE},function(e){F=e.CCSpineMoney},function(e){q=e.CCSpineSaoba},function(e){Q=e.CCSpinePohuai},function(e){Y=e.CCSpineVip},function(e){z=e.CCPanelNpcUnlocked},function(e){K=e.CCSceneManager},function(e){J=e.audioMgr},function(e){Z=e.default},function(e){j=e.default},function(e){X=e.default},function(e){$=e.CCPayRspTypeFromNative,ee=e.CCPayRspBillingResponseCode,ie=e.CCGooglePayPurchaseState},function(e){te=e.CCPurchaseData},function(e){le=e.CCSceneMain}],execute:function(){var ne,ae;t._RF.push({},"4c0dcgE3KFPaZyFESTlikjv","CCSceneHall",void 0);var re=l.ccclass;l.property,l.executeInEditMode,e("CCSceneHall",re("CCSceneHall")(((ae=function(e){function t(){for(var i,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return(i=e.call.apply(e,[this].concat(l))||this).canvas=null,i.buildingFloor=null,i.buildingWall=null,i.buildingStreet=null,i.buildingDoor=null,i.buildingWallPaper=null,i.buildingCashRegistry=null,i.buildingAircondition=null,i.buildingDrink=null,i.buildingSouvenir=null,i.buildingCarpet=null,i.buildingSpeaker=null,i.buildingWifi=null,i.buildingVase=null,i.buildingCoffee=null,i.buildingDessert=null,i.hallRightMan=null,i.middleBtnRechargeGold=null,i.Hall_BM_BaTai_DiTan=null,i.buildingRightBar=null,i.buildingRightStage=null,i.buildingRightGroomerLeft=null,i.buildingRightGroomerRight=null,i.buildingRightExerciseLeft=null,i.buildingRightExerciseRight=null,i.buildingRightSwingLeft=null,i.buildingRightSwingRight=null,i.loadSpineDone=!1,i.fnBeggerCheck=null,i}i(t,e),t.Instance=function(){return this.instance};var l=t.prototype;return l.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),t.instance=this,K.getInstance().setSceneNode(this.node),t.buildingCushion=[],t.queueCats=[],t.queueSpecial=[],t.queueGuest=[],t.queueConsumer=[],t.queueWaiting=[],t.queueWaitingRight=[],t.queuePlay=[],t.queuePlayRight=[],p.log("Hall.onLoad ---\x3e"),U.on(b.REFRESH_BUILDING,this.refreshBuilding,this),U.on(b.REFRESH_BUILDING_RIGHT,this.refreshBuildingRight,this),U.on(b.TAKE_DROPPED_MONEY,this.takeDroppedMoney,this),U.on(b.TAKE_DROPPED_VIP,this.takeDroppedVip,this),U.on(b.DROP_MONEY,this.dropMoney,this),U.on(b.BEGGER_ENTER,this.onBeggerEnter,this),U.on(b.BEGGER_LEAVE,this.onBeggerLeave,this),U.on(b.CAT_TREE_TAKE_DAMAGE,this.onCatTreeTakeDamage,this),U.on(b.CAT_TREE_QUICK_REPAIR,this.onCatTreeQuickRepair,this),U.on(b.GENERATE_TOUR_NPC,this.onGenerateTourNpc,this),U.on(b.GENERATE_OUTSIDE_NPC,this.onGenerateOutsideNpc,this),U.on(b.HOT_TASK_COMPLETED,this.onHotTaskCompleted,this),U.on(b.NPC_UNLOCKED,this.onNpcUnlocked,this),U.on(b.NEED_NOTIFY,this.onNeedNotify,this),U.on(b.SHOP_PURCHASE_STATUS,this.onPurchaseStatus,this),U.on(b.EVENT_MAIN_PAGE_TURNING,this.onMainPageTruning,this)},l.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),p.log("Hall.onEnable ---\x3e")},l.onDisable=function(){p.log("Hall.onDisable ---\x3e"),v.save(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},l.onDestroy=function(){p.log("Hall.onDestroy ---\x3e"),U.targetOff(this),v.save(),this.unscheduleAllCallbacks(),t.instance===this&&(t.instance=null),t.Hall_Area_Middle=null,t.SceneHallUI=null,t.rechargeMoney=null,t.rechargeGold=null,t.topSprMoney=null,t.topTextMoney=null,t.topSprVip=null,t.topTextVip=null,t.topBtnSecrets=null,t.topSprGold=null,t.topTextGold=null,t.topSprExp=null,t.topTextExp=null,t.topDelivery=null,t.dayTimer=null,t.HallWallMask=null,p.recyleNode(t.buildingCushion),p.recyleNode(t.queueCats),p.recyleNode(t.queueSpecial),p.recyleNode(t.queueGuest),p.recyleNode(t.queueConsumer),p.recyleNode(t.queueWaiting),p.recyleNode(t.queueWaitingRight),p.recyleNode(t.queuePlay),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},l.start=function(){var i=this;e.prototype.start&&e.prototype.start.call(this),p.log("Hall.start ---\x3e"),U.emit(b.PUSH_EVENT,"login"),this.loadUI()?(p.log("loadUI ... OK"),this.loadPath((function(){v.initCatRoomLevelUsing(),i.loadSpine(),p.log("loadSpineGroup ... OK"),i.createDynamicUI(),i.saveProfile()}))):p.error("loadUI.error")},l.update=function(e){},l.saveProfile=function(){this.schedule((function(){v.save()}),10)},t.showStats=function(e){if(t.dayTimer){if(!v.isDebug()||H.ENABLE_CHANNEL_TEST)return t.dayTimer.string.length>0&&(t.dayTimer.string=""),void(t.dayTimer.node.active=!1);var i=p.GetDesignResolutionSize(),l=p.GetVisibleSize(),r=p.GetViewportRect(),o=p.GetSafeAreaRect(),u=["-".repeat(40),"frameRate: "+n.frameRate,"frameTime: "+n.frameTime.toFixed(2)+" ms","deltaTime: "+n.deltaTime.toFixed(4)+" s","frameStartTime: "+p.formatTime(n.frameStartTime/1e3)+" s","totalTime: "+p.formatTime(n.totalTime/1e3)+" s","-".repeat(40),"sizeDesign: "+i.width+" x "+i.height,"sizeVisible: "+Math.ceil(l.width)+" x "+Math.ceil(l.height),"rcViewPort: "+Math.ceil(r.x)+" x "+Math.ceil(r.y)+" x "+Math.ceil(r.width)+" x "+Math.ceil(r.height),"rcSafeArea: "+Math.ceil(o.x)+" x "+Math.ceil(o.y)+" x "+Math.ceil(o.width)+" x "+Math.ceil(o.height),"isGestureNavigationEnabled: "+Z.get("isGestureNavigationEnabled"),"isCutoutScreen: "+Z.get("isCutoutScreen"),"safeInsetTop: "+Z.get("safeInsetTop"),"safeInsetBottom: "+Z.get("safeInsetBottom"),"systemWindowInsetTop: "+Z.get("systemWindowInsetTop"),"systemWindowInsetBottom: "+Z.get("systemWindowInsetBottom"),"statusBarHeight: "+Z.get("statusBarHeight"),"navigationBarHeight: "+Z.get("navigationBarHeight"),"-".repeat(40),"dynamicAtlas enabled: "+a.instance.enabled,"dynamicAtlas atlasCount: "+a.instance.atlasCount+" / "+a.instance.maxAtlasCount,"dynamicAtlas texSize: "+a.instance.textureSize,"dynamicAtlas frameSize: "+a.instance.maxFrameSize,"-".repeat(40),"orderChangeDelay: "+e.toFixed(2)+" s","children: "+t.Hall_Area_Middle.children.length,"-".repeat(40)];H.getEnvEnabled(R.HTML5)&&u.push("HTML5: true"),H.getEnvEnabled(R.NATIVE)&&u.push("NATIVE: true"),H.getEnvEnabled(R.ANDROID)&&u.push("ANDROID: true"),H.getEnvEnabled(R.IOS)&&u.push("IOS: true"),H.getEnvEnabled(R.MAC)&&u.push("MAC: true"),H.getEnvEnabled(R.WINDOWS)&&u.push("WINDOWS: true"),H.getEnvEnabled(R.OHOS)&&u.push("OHOS: true"),H.getEnvEnabled(R.OPEN_HARMONY)&&u.push("OPEN_HARMONY: true"),H.getEnvEnabled(R.WECHAT)&&u.push("WECHAT: true"),H.getEnvEnabled(R.WECHAT_MINI_PROGRAM)&&u.push("WECHAT_MINI_PROGRAM: true"),H.getEnvEnabled(R.BAIDU)&&u.push("BAIDU: true"),H.getEnvEnabled(R.XIAOMI)&&u.push("XIAOMI: true"),H.getEnvEnabled(R.ALIPAY)&&u.push("ALIPAY: true"),H.getEnvEnabled(R.TAOBAO)&&u.push("TAOBAO: true"),H.getEnvEnabled(R.TAOBAO_MINIGAME)&&u.push("TAOBAO_MINIGAME: true"),H.getEnvEnabled(R.BYTEDANCE)&&u.push("BYTEDANCE: true"),H.getEnvEnabled(R.OPPO)&&u.push("OPPO: true"),H.getEnvEnabled(R.VIVO)&&u.push("VIVO: true"),H.getEnvEnabled(R.HUAWEI)&&u.push("HUAWEI: true"),H.getEnvEnabled(R.COCOSPLAY)&&u.push("COCOSPLAY: true"),H.getEnvEnabled(R.EDITOR)&&u.push("EDITOR: true"),H.getEnvEnabled(R.EDITOR_NOT_IN_PREVIEW)&&u.push("EDITOR_NOT_IN_PREVIEW: true"),H.getEnvEnabled(R.PREVIEW)&&u.push("PREVIEW: true"),H.getEnvEnabled(R.BUILD)&&u.push("BUILD: true"),H.getEnvEnabled(R.TEST)&&u.push("TEST: true"),H.getEnvEnabled(R.DEBUG)&&u.push("DEBUG: true"),H.getEnvEnabled(R.DEV)&&u.push("DEV: true"),H.getEnvEnabled(R.MINIGAME)&&u.push("MINIGAME: true"),H.getEnvEnabled(R.RUNTIME_BASED)&&u.push("RUNTIME_BASED: true"),H.getEnvEnabled(R.SUPPORT_JIT)&&u.push("SUPPORT_JIT: true"),H.getEnvEnabled(R.JSB)&&u.push("JSB: true"),u.push.apply(u,["-".repeat(40),p.Now()]),t.dayTimer.string=u.join("\n"),t.dayTimer.node.active=!0}},t.refreshBubbles=function(){var e,i,t,l,n;null==(e=p.random(this.queueGuest))||null==(e=e.getComponent(W))||e.bubbles(),null==(i=p.random(this.queueConsumer))||null==(i=i.getComponent(W))||i.bubbles(),null==(t=p.random(this.queueWaiting))||null==(t=t.getComponent(W))||t.bubbles(),null==(l=p.random(this.queueWaitingRight))||null==(l=l.getComponent(W))||l.bubbles(),null==(n=p.random(this.queuePlay))||null==(n=n.getComponent(W))||n.bubbles()},l.generateCat=function(){var e=this;if(this.loadSpineDone&&H.ENABLE_DEBUG_GENERATE_CAT&&A.walkable.length){var i=0,l=0;L.data.CatNumNeedVIP.forEach((function(e,t){var n=e[0],a=e[1],r=e[2];v.data.vip>=r&&(i=n,l=a)}));var n=r.randomRangeInt(i,l+1);if(!(t.queueCats.length>=n)){var a=A.randomWalkable(x.HALL,0);if(a){var o=new w(a.x,a.y),u=new w(o.toVec2().x,o.toVec2().y),s=v.getCatLevelUnlockedRandomByWeight();if(!s)return;var d=M.getRowsByTagId(s.typeId);if(!d)return;for(var g=d.spineId,h=d.skineId,c=[o],_=[],f=r.randomRangeInt(5,10),m=0;m<f;m++){var C=A.randomWalkable(v.data.rightSceneUnlocked?x.BOTH:x.HALL);if(!C)return;_.push(new w(C.x,C.y,r.randomRange(1,10),(function(e,i,t,l){var n=r.randomRangeInt(0,100);if(n<15)e.animation(0,"idle");else if(n<30)e.animation(0,"idle2");else if(n<45)e.animation(0,"idle3");else if(n<60)e.animation(0,"idle4");else{if(!(n<100))return void p.log("ratio:"+n+" error!!!");e.animation(0,"idle_walk")}}),(function(e,i,t,l){})))}c.push.apply(c,_),c.push(u);var E=t.addNpc(W,t.Hall_Area_Middle,""+g,g+"_"+h,-1,v.getSpineWalkSpeed(),c,!1,!1,!0,!1,(function(e){e.data.tilesLeft.shift(),e.showShadow(!0),e.animation(1,"walk")}),(function(e,i,t,l,n,a){}),(function(e,i,t,l,n,a){}),(function(){}),(function(i,l,n,a){t.sequence(e,t.queueCats,(function(e){e.animation(1,"walk")}),i,l,n,a)}));if(!E)return;E.getComponent(W).data.type=V.CAT,E.getComponent(W).data.tiles=c,E.getComponent(W).data.tilesLeft=c.slice(),E.getComponent(W).data.skinName="default",E.getComponent(W).preventSwallow=!0,E.getComponent(W).clickThreshold=0,t.queueCats.push(E)}}}},t.canGenerateNpcByUnlockedPreProb=function(e){return void 0===e&&(e=!1),!(!e&&le.pageIndex!=S.MIDDLE)&&(!O.current&&(!(O.suspended.length>0)&&!(O.queue.length>0)))},l.generateNpc=function(e,i,l){var n=this;if(void 0===e&&(e=V.NONE),void 0===i&&(i=0),void 0===l&&(l=-1),this.loadSpineDone&&H.ENABLE_DEBUG_GENERATE_NPC&&A.walkable.length){var a;if(i<=0)p.randomRange(0,100)<20&&t.canGenerateNpcByUnlockedPreProb()&&(a=v.getNpcUnlockedPreByProb())&&(v.removeNpcUnlockedPre(a.tagId),v.setNpcUnlocked(a.tagId),U.emit(b.NPC_UNLOCKED,a.tagId)),a||(a=v.getNpcUnlockedByProb());else t.canGenerateNpcByUnlockedPreProb()&&(a=v.getNpcUnlockedPreByProb())&&(v.removeNpcUnlockedPre(a.tagId),v.setNpcUnlocked(a.tagId),U.emit(b.NPC_UNLOCKED,a.tagId)),a||(a=G.getRowsByTagId(i));if(a){var r=a.resId,o=a.needPlayCatId,u=!0,s=null,d=[].concat(H.tileIn);if(e==V.NONE)H.ENABLE_DEBUG_MODE&&(H.ENABLE_DEBUG_GENERATE_NPC_GUEST_RATIO>0||H.ENABLE_DEBUG_GENERATE_NPC_CONSUMER_RATIO>0||H.ENABLE_DEBUG_GENERATE_NPC_PLAYER_RATIO>0)&&(L.data.NPCBehaviorOdds[0]=H.ENABLE_DEBUG_GENERATE_NPC_GUEST_RATIO,L.data.NPCBehaviorOdds[1]=H.ENABLE_DEBUG_GENERATE_NPC_CONSUMER_RATIO,L.data.NPCBehaviorOdds[2]=H.ENABLE_DEBUG_GENERATE_NPC_PLAYER_RATIO),p.randomRatio(L.data.NPCBehaviorOdds,[function(){u=n.executeGuestPath(d),e=V.GUEST,s=t.queueGuest},function(){u=n.executeConsumerPath(d),e=V.CONSUMER,s=t.queueConsumer},function(){u=n.executePlayCatPath(d),e=V.PLAYER,s=null}]);else switch(e){case V.GUEST:u=this.executeGuestPath(d),s=t.queueGuest;break;case V.CONSUMER:u=this.executeConsumerPath(d),s=t.queueConsumer;break;case V.PLAYER:u=this.executePlayCatPath(d,i),s=null;break;case V.PLAYER_RIGHT:u=this.executePlayCatPathRightScene(d,i),s=null;break;default:return void p.log("generateNpc.npcType["+e+"].unknown!")}if(u&&e!=V.NONE){var g=t.addNpc(W,t.Hall_Area_Middle,"man"+p.paddding(r,3),"default",-1,v.getSpineWalkSpeed(),d,!1,!0,!0,!0,(function(e){e.data.tilesLeft.shift(),e.showShadow(!0),e.animation(1,"walk")}),(function(e,i,t,l,n,a){}),(function(e,i,t,l,n,a){}),(function(){}),(function(e,i,l,a){t.sequence(n,s,(function(e){e.animation(1,"walk")}),e,i,l,a)}));if(g)switch(g.getComponent(W).data.type=e,g.getComponent(W).data.tiles=d,g.getComponent(W).data.tilesLeft=d.slice(),g.getComponent(W).data.npcId=r,g.getComponent(W).data.catId=p.random(o),g.getComponent(W).data.dropVip=0,g.getComponent(W).data.skinName="default",g.getComponent(W).data.cushionPosId=l,g.getComponent(W).preventSwallow=!0,g.getComponent(W).clickThreshold=0,g.getComponent(W).data.type){case V.GUEST:t.queueGuest.push(g);break;case V.CONSUMER:t.queueConsumer.push(g);break;case V.PLAYER:var h=1*Math.random()+0;h<a.ratioDropVip&&p.log("ratio: "+h+" npcData.ratioDropVip: "+a.ratioDropVip),g.getComponent(W).data.dropVip=h<a.ratioDropVip?a.rewardDropVipNum:0,t.queueWaiting.push(g);break;case V.PLAYER_RIGHT:t.queueWaitingRight.push(g);break;case V.SPECIAL:t.queueSpecial.push(g);break;default:return void p.log("npc type error: "+g.getComponent(W).data.type)}}}}},l.executeGuestPath=function(e){if(t.queueGuest.length+t.queueConsumer.length+t.queuePlay.length>=L.data.ACusTotalLimit)return!1;e.push(new w(26,17));for(var i=[],l=r.randomRangeInt(1,2),n=0;n<l;n++){var a=A.randomWalkable(v.data.rightSceneUnlocked?x.BOTH:x.HALL);if(!a)return;i.push(new w(a.x,a.y))}return e.push.apply(e,i),e.push.apply(e,H.copyTileOut()),!0},l.executeConsumerPath=function(e){if(t.queueGuest.length+t.queueConsumer.length+t.queuePlay.length>=L.data.ACusTotalLimit)return!1;e.push(new w(26,17));var i=[],l=E.data.consumer;H.ENABLE_DEBUG_CONSUMER_MONEY_COVERAGE_TESTING&&l.forEach((function(e){i.push(new w(e.x,e.y,0,null,(function(e,i,l,n){var a=H.getBuildingIdForTilesRange(l);if(a>0&&v.getBuildingLevelUnlocked(a).level>0){var r,u,s=p.randomRange(-20,20),d=p.randomRange(-20,0);if(l.x<2)r=A._tile2Position(new o(l.x+1,l.y),null==(u=e._pathManager)?void 0:u.needFixedPos),s=20;else if(l.x==E.data.cols-1){var g;r=A._tile2Position(new o(l.x-2,l.y),null==(g=e._pathManager)?void 0:g.needFixedPos),s=-20}else{var h;r=A._tile2Position(l.toVec2(),null==(h=e._pathManager)?void 0:h.needFixedPos)}l.y==E.data.rows-1&&(r=A._tile2Position(new o(l.x,l.y),!1),d=-20);var c=t.topSprMoney.getWorldPosition().clone();N.dropSpineMoney(t.Hall_Area_Middle,"textures@prefabs/spineMoney",r,c,0,s,d,(function(e){le.pageIndex==S.MIDDLE&&N.floatingTips(t.SceneHallUI,"textures@prefabs/floatingTips",r,s,d,k("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> +"+e+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI")}))}})))}));for(var n=r.randomRangeInt(2,4),a=0;a<n;a++){var u=p.random(l);i.push(new w(u.x,u.y))}var s=p.random(i);return s.t=L.data.HallSimpeConsumeUseTime,s.fnBeforeDelay=function(e,i,t,l){e.animation(0,"idle")},s.fnAfterDelay=function(e,i,l,n){var a=H.getBuildingIdForTilesRange(l);if(a>0){var r=v.getBuildingLevelUnlocked(a);if(r.level>0){var u,s,d=P.getRowByTypeIdAndLevel(a,r.level),g=d.rewardConsume,h=p.randomRange(-20,20),c=p.randomRange(-20,0);if(l.x<2)u=A._tile2Position(new o(l.x+1,l.y),null==(s=e._pathManager)?void 0:s.needFixedPos),h=20;else if(l.x==E.data.cols-1){var _;u=A._tile2Position(new o(l.x-2,l.y),null==(_=e._pathManager)?void 0:_.needFixedPos),h=-20}else{var f;u=A._tile2Position(l.toVec2(),null==(f=e._pathManager)?void 0:f.needFixedPos)}l.y==E.data.rows-1&&(u=A._tile2Position(new o(l.x,l.y),!1),c=-20),d.typeId==T.Hall_coffee_machine_level?v.updateDailyTaskProcess(0,0,0,1,0,0,0,0,0,0):d.typeId==T.Hall_dessert_level&&v.updateDailyTaskProcess(0,0,0,0,0,0,1,0,0,0);var m=t.topSprMoney.getWorldPosition().clone();N.dropSpineMoney(t.Hall_Area_Middle,"textures@prefabs/spineMoney",u,m,g,h,c,(function(e){t.addMoney(e),le.pageIndex==S.MIDDLE&&(N.floatingTips(t.SceneHallUI,"textures@prefabs/floatingTips",u,h,c,k("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> +"+e+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI"),J.playEffect("reward"))}))}}},e.push.apply(e,i),e.push.apply(e,H.copyTileOut()),!0},l.executePlayCatPath=function(e,i){void 0===i&&(i=0);var l,n=t.queueWaiting.length,a=v.getNumOfPromotion(),r=v.getRewardTourGuideCustomNum(),o=L.data.PerEquipQueueCountMax+L.data.OutSideFlyerRecoverMax-1+L.data.OutSideFlyerRecoverCountByAds;L.data.ACusTotalLimit;if(-1==i)v.subRewardTourGuideCustomNum();else if(a>0&&r>0){if(n+a+r>=o+L.data.SpCusGuiderParams[0])return!1}else if(a>0&&0==r){if(n+a>=o)return!1;v.subNumOfPromotion()}else if(0==a&&r>0){if(n+r>=L.data.PerEquipQueueCountMax+L.data.SpCusGuiderParams[0])return!1;v.subRewardTourGuideCustomNum()}else if(0==a&&0==r&&n>=L.data.PerEquipQueueCountMax)return!1;(l=n>=H.tileFront.length?H.tileFront[H.tileFront.length-1]:H.tileFront[n]).y<=11&&2==e.length&&e.pop();var u=[];return u.push(new w(l.x,l.y,0,(function(e,i,t,l){e.animation(0,"idle")}),null)),e.push.apply(e,u),!0},l.executePlayCatPathRightScene=function(e,i){var l=t.queueWaitingRight.length;if(l>0)return!1;var n=H.tileFrontRight[l];n.y<=11&&2==e.length&&e.pop();var a=[];return a.push(new w(n.x,n.y,0,(function(e,i,t,l){e.animation(0,"idle")}),null)),e.push.apply(e,a),!0},t.getDroppedMoney=function(){return p.random(t.Hall_Area_Middle.children.filter((function(e){return null!=e.getComponent(F)&&!e.getComponent(F).animationRunning})))},t.getTrash=function(){return p.random(t.Hall_Area_Middle.children.filter((function(e){return null!=e.getComponent(q)&&!e.getComponent(q).animationRunning})))},l.addTile=function(e,i,t,l,n,a){void 0===l&&(l=0);var r=new w(i,t,l,n,a);e.push(r)},t.sequence=function(e,i,l,n,a,r,o){var u,s,d,g,h;n&&n.node&&(r.executeBeforeDelay(n,a,r,o),null==n||null==(u=n.data)||u.tilesLeft.shift(),null!=n&&null!=(s=n.data)&&s.tilesLeft.length?e.scheduleOnce((function(){var u;r.executeAfterDelay(n,a,r,o),t.spineAction(null==n?void 0:n.node,n,null==n||null==(u=n.data)?void 0:u.tilesLeft,0,t.Hall_Area_Middle,!0,a,l,null,null,null,(function(n,a,r,o){t.sequence(e,i,l,n,a,r,o)}))}),null==r?void 0:r.t):i&&(n&&n.node&&(n.node.active=!1),(null==n||null==(d=n.node)?void 0:d.children)&&(null==n||null==(g=n.node)||g.removeAllChildren()),null==n||null==(h=n.node)||h.removeFromParent(),i.splice(i.indexOf(null==n?void 0:n.node),1),null==n||n.destroy()))},t.accelerate=function(e,i){this.queueGuest&&this.queueGuest.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queueConsumer&&this.queueConsumer.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queueWaiting&&this.queueWaiting.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queueWaitingRight&&this.queueWaitingRight.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queuePlay&&this.queuePlay.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queuePlayRight&&this.queuePlayRight.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())})),this.queueCats&&this.queueCats.forEach((function(e){var i,t;null==(i=e.getComponent(W))||i.timeScale(v.getSpineAnimationSpeedAccelerate()),null==(t=e.getComponent(W))||t.setSpeed(v.getSpineWalkSpeedAccelerate())}))},t.updateRechargeMoney=function(){this.rechargeMoney&&(p.setRichTextString(this.rechargeMoney,k("UI_Recharge_UI1","<img src='main_icon01_2' width=34 height=20 offset=2,0/><size=16><color=#8f5837>  ","</color></size><br/><size=20><color=#dd5a27>"+Math.floor(v.data.RR)+"</color></size>"),"textures@Texture2D/Hall_UI/Hall_UI"),this.rechargeMoney.node.parent.active=Math.floor(v.data.RR)>0)},t.collectMoney=function(e){v.collectMoney(e),this.addMoney(e),v.updateDailyTaskProcess(0,0,e,0,0,0,0,0,0,0),this.updateRechargeMoney(),N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",k("UI_Recharge_UI2"),"textures@Texture2D/Hall_UI/Hall_UI")},t.addMoney=function(e){v.addMoney(e),v.updateDailyTaskProcess(e,0,0,0,0,0,0,0,0,0),v.updateAchievementProcess(e,0,0,0,0),this.topTextMoney&&(this.topTextMoney.number=v.data.money)},t.updateMoney=function(e,i){void 0===i&&(i=!0),v.updateMoney(e),this.topTextMoney&&(i?this.topTextMoney.number=v.data.money:this.topTextMoney.updateNumber(v.data.money))},t.addVip=function(e,i){void 0===i&&(i=!0),v.addVip(e),v.updateAchievementProcess(0,e,0,0,0),U.emit(b.REFRESH_UI),this.topTextVip&&(i?this.topTextVip.number=v.data.vip:this.topTextVip.updateNumber(v.data.vip))},t.updateVip=function(e,i){void 0===i&&(i=!0),v.updateVip(e),U.emit(b.REFRESH_UI),this.topTextVip&&(i?this.topTextVip.number=v.data.vip:this.topTextVip.updateNumber(v.data.vip))},t.updateRechargeGold=function(){this.rechargeGold&&(p.setRichTextString(this.rechargeGold,k("UI_Recharge_UI1","<img src='main_icon09' width=20 height=20 offset=0/><size=16><color=#8f5837>  ","</color></size><br/><size=20><color=#dd5a27>"+Math.floor(v.data.RRG)+"</color></size>"),"textures@Texture2D/Hall_UI/Hall_UI"),this.rechargeGold.node.parent.active=Math.floor(v.data.RRG)>0&&v.data.rightSceneUnlocked)},t.collectGold=function(e){v.collectGold(e),this.addGold(e),this.updateRechargeGold(),N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",k("UI_Recharge_UI2"),"textures@Texture2D/Hall_UI/Hall_UI")},t.addGold=function(e){v.addGold(e),v.updateDailyTaskProcess(0,0,0,0,0,0,0,e,0,0),v.updateAchievementProcess(0,0,e,0,0),v.addPropCount(H.PROP_GOLD_ID,e),v.addPropTodayCount(H.PROP_GOLD_ID,e),this.topTextGold&&(this.topTextGold.number=v.data.gold)},t.updateGold=function(e,i){void 0===i&&(i=!0),v.updateGold(e),this.topTextGold&&(i?this.topTextGold.number=v.data.gold:this.topTextGold.updateNumber(v.data.gold))},t.addExp=function(e){v.addExp(e),this.topTextExp&&(this.topTextExp.number=v.data.exp)},t.updateExp=function(e,i){void 0===i&&(i=!0),v.updateExp(e),this.topTextExp&&(i?this.topTextExp.number=v.data.exp:this.topTextExp.updateNumber(v.data.exp))},l.takeDroppedMoney=function(e,i){var t=this.getNesetMoney(i);e&&e(i,t)},l.takeDroppedVip=function(e,i){var t=this.getNesetVip(i);e&&e(i,t)},l.dropMoney=function(e){var i=L.data.SpCusRichManParams[1];if(!(i<=0)){var l=v.data.RPM*i,n=p.randomRange(-20,20),a=p.randomRange(-20,0),r=A._tile2Position(e);e.x<2?(r=A._tile2Position(new o(e.x+1,e.y),!0),n=20):e.x==E.data.cols-1?(r=A._tile2Position(new o(e.x-2,e.y),!0),n=-20):r=A._tile2Position(e,!0),e.y==E.data.rows-1&&(r=A._tile2Position(new o(e.x,e.y),!1),a=-20);var u=t.topSprMoney.getWorldPosition().clone();N.dropSpineMoney(t.Hall_Area_Middle,"textures@prefabs/spineMoney",r,u,l,n,a,(function(e){t.addMoney(e),le.pageIndex==S.MIDDLE&&(N.floatingTips(t.SceneHallUI,"textures@prefabs/floatingTips",r,n,a,k("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> +"+e+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI"),J.playEffect("reward"))}))}},l.onCatTreeTakeDamage=function(e){var i=this,l=v.getQuickRepairCushionTypeId(),n=v.getQuickRepairCushionPos(),a=[];if(v.getQueueCushionBrokenIteratorExclude(!0,(function(e,i){e==l&&i==n||a.push({typeId:e,position:i})})),l=0,n=-1,a.length>0){var r=p.random(a);n=r.position,l=r.typeId}if(0!=l){var o=v.getQueueCushionBroken(l);o[n]=!0,v.setQueueCushionBroken(l,o);var s=0;switch(l){case T.Hall_cushion_level12:s=0;break;case T.Hall_cushion_level14:s=1;break;case T.Hall_cushion_level16:s=2;break;case T.Hall_cushion_level21:s=3;break;case T.Hall_cushion_level23:s=4;break;case T.Hall_cushion_level25:s=5}var d=t.buildingCushion[s];if(!d)return p.log("coushion.spinePos:"+s+" is null"),o[n]=!1,void v.setQueueCushionBroken(l,o);var g=0==n?new u(-60,-20,0):new u(60,30,0),h=d.getChildByName("spinePohuai"+n.toString());h?(h.getComponent(Q).setAnimation(),h.getComponent(Q).cushionTypeId=l,h.getComponent(Q).brokenPos=n):N.pohuai(d,"textures@prefabs/spinePohuai",l,n,g),t.queuePlay.forEach((function(e){var a=e.getComponent(W);a.data.cushionTypeId==l&&a.data.cushionPosId==n&&i.npcLeave(t.queuePlay,a)}))}},l.onCatTreeQuickRepair=function(){var e=v.getQuickRepairCushionTypeId();if(e>0){var i=v.getQuickRepairCushionPos();if(0==i||1==i){var t=v.getQueueCushionBroken(e);if(t&&t[i])return t[i]=!1,v.setQueueCushionBroken(e,t),void v.resetQuickRepairCushionTypeIdAndPos()}}},l.onGenerateRightSceneNpc=function(){this.generateNpc(V.PLAYER_RIGHT,-1)},l.onGenerateTourNpc=function(e){for(var i=this,t=v.getRewardTourGuideCustomNum(),l=0;l<t;l++)this.scheduleOnce((function(){i.generateNpc(e,-1)}),1*l)},l.onGenerateOutsideNpc=function(e,i){void 0===i&&(i=-1),this.generateNpc(V.PLAYER,e,i)},l.onHotTaskCompleted=function(){U.emit(b.REFRESH_UI)},l.onNpcUnlocked=function(e){H.prepareNpcUnlockedExclude.includes(e)||O.showPanel(z.resObj,{tagId:e})},l.onNeedNotify=function(e,i,t){void 0===t&&(t=0),p.log("onNeedNotify.content["+i+"].delayInSeconds["+t+"]"),t<0||j.notifyDelayOnce(e,"","",k(i),t)},l.npcLeave=function(e,i,l){if(void 0===l&&(l=!1),i&&s(i)){if(i.data.fnDispoint&&this.unschedule(i.data.fnDispoint),i.data.fnComplete&&this.unschedule(i.data.fnComplete),i.data.cushionTypeId>0&&(0==i.data.cushionPosId||1==i.data.cushionPosId)){var n=i.data.cushionTypeId,a=i.data.cushionPosId,r=H.queueCushion.get(n);r[a]=!1,H.queueCushion.set(i.data.cushionTypeId,r),(r=H.queuePlayCat.get(n))[a]=!1,H.queuePlayCat.set(n,r);var o=0;switch(i.data.cushionTypeId){case T.Hall_cushion_level12:o=0;break;case T.Hall_cushion_level14:o=1;break;case T.Hall_cushion_level16:o=2;break;case T.Hall_cushion_level21:o=3;break;case T.Hall_cushion_level23:o=4;break;case T.Hall_cushion_level25:o=5}var u=t.buildingCushion[o].getChildByName("spinePlayCat"+a.toString());u&&(u.active=!1)}i.wantPlayDestroy(),i.bubbles(l),i.data.tilesLeft=H.copyTileOut(),i.data.tilesLeft[i.data.tilesLeft.length-1].fnBeforeDelay=function(e,t,l,n){i.node.active=!1,i.setTile(H.tileIn[0].toVec2()),i.data.tilesLeft=[],i.data.cushionTypeId=0,i.data.cushionPosId=-1},i.animation(1,"walk"),i.stopPath(),i.timeScale(2*v.getSpineAnimationSpeed()),i.setSpeed(2*v.getSpineWalkSpeedAccelerate()),t.spineAction(i.node,i,i.data.tilesLeft,0,t.Hall_Area_Middle,!0,!0,null,null,null,null,(function(i,l,n,a){t.sequence(t.Instance(),e,null,i,l,n,a)}))}},l.onBeggerTile=function(e){var i=this;e&&(t.queueGuest.forEach((function(l){var n=l.getComponent(W);null!=n&&n.isVec2InRange(e,10)&&i.npcLeave(t.queueGuest,n,!0)})),t.queueConsumer.forEach((function(l){var n=l.getComponent(W);null!=n&&n.isVec2InRange(e,10)&&i.npcLeave(t.queueConsumer,n,!0)})),t.queueWaiting.forEach((function(l){var n=l.getComponent(W);null!=n&&n.isVec2InRange(e,10)&&i.npcLeave(t.queueWaiting,n,!0)})),t.queuePlay.forEach((function(l){var n=l.getComponent(W);null!=n&&n.isVec2InRange(e,10)&&i.npcLeave(t.queuePlay,n,!0)})))},l.checkBeggerVec2=function(e){this.onBeggerTile(e.getTile())},l.onBeggerEnter=function(e){this.fnBeggerCheck||(this.fnBeggerCheck=this.checkBeggerVec2.bind(this,e),this.schedule(this.fnBeggerCheck,1))},l.onBeggerLeave=function(e){this.fnBeggerCheck&&(this.unschedule(this.fnBeggerCheck),this.fnBeggerCheck=null)},l.getNesetMoney=function(e){var i=0,l=e.node.position.clone();return t.Hall_Area_Middle.children.filter((function(i){if(i===e.node)return!1;if(null==i.getComponent(F))return!1;var t=i.getPosition().clone(),n=l.x-t.x,a=l.y-t.y;return-50<n&&n<50&&-50<a&&a<50})).forEach((function(e){var t,l;i+=(null==(t=e.getComponent(F))?void 0:t.money)||0,null==(l=e.getComponent(F))||l.selfDestroy()})),i},l.getNesetVip=function(e){var i=0,l=e.node.position.clone();return t.Hall_Area_Middle.children.filter((function(i){if(i===e.node)return!1;if(null==i.getComponent(Y))return!1;var t=i.getPosition().clone(),n=l.x-t.x,a=l.y-t.y;return-50<n&&n<50&&-50<a&&a<50})).forEach((function(e){var t,l;i+=(null==(t=e.getComponent(Y))?void 0:t.vip)||0,null==(l=e.getComponent(Y))||l.selfDestroy()})),i},l.refreshBuilding=function(e,i){switch(e){case T.Hall_cash_register_level:if(!this.buildingCashRegistry)return;this.buildingCashRegistry.active=i>0,I.loadSpriteFrameAndBind(this.buildingCashRegistry.getComponent(d),"textures@Texture2D/Hall_cash register_level/Hall_cash register_level/Hall_cash register_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level11:if(!t.buildingCatTree[0])return;t.buildingCatTree[0].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[0].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level12:if(!t.buildingCushion[0])return;t.buildingCushion[0].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[0].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level13:if(!t.buildingCatTree[1])return;t.buildingCatTree[1].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[1].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level14:if(!t.buildingCushion[1])return;t.buildingCushion[1].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[1].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level15:if(!t.buildingCatTree[2])return;t.buildingCatTree[2].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[2].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level16:if(!t.buildingCushion[2])return;t.buildingCushion[2].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[2].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_souvenir_level:if(!this.buildingSouvenir)return;this.buildingSouvenir.active=i>0,I.loadSpriteFrameAndBind(this.buildingSouvenir.getComponent(d),"textures@Texture2D/Hall_souvenir_level/Hall_souvenir_level/Hall_souvenir_level"+p.paddding(i,2));break;case T.Hall_drink_level:if(!this.buildingDrink)return;this.buildingDrink.active=i>0,I.loadSpriteFrameAndBind(this.buildingDrink.getComponent(d),"textures@Texture2D/Hall_drink_level/Hall_drink_level/Hall_drink_level"+p.paddding(i,2));break;case T.Hall_aircondition_level:if(!this.buildingAircondition)return;this.buildingAircondition.active=i>0,I.loadSpriteFrameAndBind(this.buildingAircondition.getComponent(d),"textures@Texture2D/Hall_aircondition_level/Hall_aircondition_level/Hall_aircondition_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level20:if(!t.buildingCatTree[3])return;t.buildingCatTree[3].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[3].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level21:if(!t.buildingCushion[3])return;t.buildingCushion[3].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[3].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level22:if(!t.buildingCatTree[4])return;t.buildingCatTree[4].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[4].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level23:if(!t.buildingCushion[4])return;t.buildingCushion[4].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[4].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_cat_tree_level24:if(!t.buildingCatTree[5])return;t.buildingCatTree[5].active=i>0,I.loadSpriteFrameAndBind(t.buildingCatTree[5].getComponent(d),"textures@Texture2D/Hall_cat_tree_level/Hall_cat_tree_level/Hall_cat_tree_level"+p.paddding(i,2));break;case T.Hall_cushion_level25:if(!t.buildingCushion[5])return;t.buildingCushion[5].active=i>0,I.loadSpriteFrameAndBind(t.buildingCushion[5].getComponent(d),"textures@Texture2D/Hall_cushion_level/Hall_cushion_level/Hall_cushion_level"+p.paddding(i,2));break;case T.Hall_coffee_machine_level:if(!this.buildingCoffee)return;this.buildingCoffee.active=i>0,I.loadSpriteFrameAndBind(this.buildingCoffee.getComponent(d),"textures@Texture2D/Hall_coffee_machine_level/Hall_coffee_machine_level/Hall_coffee_machine_level"+p.paddding(i,2));break;case T.Hall_dessert_level:if(!this.buildingDessert)return;this.buildingDessert.active=i>0,I.loadSpriteFrameAndBind(this.buildingDessert.getComponent(d),"textures@Texture2D/Hall_dessert_level/Hall_dessert_level/Hall_dessert_level"+p.paddding(i,2));break;case T.Hall_vase_level:for(var l=0;l<7;l++){if(!this.buildingVase[l])return;this.buildingVase[l].active=i>0,I.loadSpriteFrameAndBind(this.buildingVase[l].getComponent(d),"textures@Texture2D/Hall_vase_level/Hall_vase_level/Hall_vase_level"+p.paddding(i,2))}break;case T.Hall_speaker_level:if(!this.buildingSpeaker)return;this.buildingSpeaker.active=i>0,I.loadSpriteFrameAndBind(this.buildingSpeaker.getComponent(d),"textures@Texture2D/Hall_speaker_level/Hall_speaker_level/Hall_speaker_level"+p.paddding(i,2));break;case T.Hall_wifi_level:if(!this.buildingWifi)return;this.buildingWifi.active=i>0,I.loadSpriteFrameAndBind(this.buildingWifi.getComponent(d),"textures@Texture2D/Hall_wifi_level/Hall_wifi_level/Hall_wifi_level"+p.paddding(i,2));break;case T.Hall_door_level:if(!this.buildingDoor)return;this.buildingDoor.active=i>0,I.loadSpriteFrameAndBind(this.buildingDoor.getComponent(d),"textures@Texture2D/Hall_door_level/Hall_door_level/Hall_door_level"+p.paddding(i,2));break;case T.Hall_wallpaper_level:if(!this.buildingWallPaper)return;this.buildingWallPaper.active=i>0,I.loadSpriteFrameAndBind(this.buildingWallPaper.getComponent(d),"textures@Texture2D/Hall_wallpaper_level/Hall_wallpaper_level/Hall_wallpaper_level"+p.paddding(i,2));break;case T.Hall_floor_level:if(!this.buildingFloor)return;this.buildingFloor.active=i>0,I.loadSpriteFrameAndBind(this.buildingFloor.getComponent(d),"textures@Texture2D/Hall_floor_level/Hall_floor_level/Hall_floor_level"+p.paddding(i,2),!1,this,(function(e,i){i.type=d.Type.TILED}));break;case T.Hall_carpet_level:if(!this.buildingCarpet)return;this.buildingCarpet.active=i>0,i<10?I.loadSpriteFrameAndBind(this.buildingCarpet.getComponent(d),"textures@Texture2D/Hall_carpet_level/Hall_carpet_level-0/Hall_carpet_level"+p.paddding(i,2)):I.loadSpriteFrameAndBind(this.buildingCarpet.getComponent(d),"textures@Texture2D/Hall_carpet_level/Hall_carpet_level-1/Hall_carpet_level"+p.paddding(i,2));break;case T.Hall_wall_level:if(!this.buildingWall)return;this.buildingWall.active=i>0,I.loadSpriteFrameAndBind(this.buildingWall.getComponent(d),"textures@Texture2D/Hall_wall_level/Hall_wall_level/Hall_wall_level"+p.paddding(i,2),!1);break;default:return void p.error("refreshBuilding.typeId: "+e+" level: "+i)}},l.refreshBuildingRight=function(e,i){switch(e){case T.Hall_Right_Bar:this.buildingRightBar&&(this.buildingRightBar.active=i>0&&v.data.rightSceneUnlocked,I.loadSpriteFrameAndBind(this.buildingRightBar.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_BaTai"+p.paddding(i,2))),this.middleBtnRechargeGold&&(this.middleBtnRechargeGold.active=i>0&&v.data.rightSceneUnlocked),this.Hall_BM_BaTai_DiTan&&(this.Hall_BM_BaTai_DiTan.active=i>0&&v.data.rightSceneUnlocked),this.hallRightMan&&(this.hallRightMan.active=i>0&&v.data.rightSceneUnlocked);break;case T.Hall_Right_Stage:if(!this.buildingRightStage)return;this.buildingRightStage.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightStage.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_WuT"+p.paddding(i,2));break;case T.Hall_Right_Groomer_left:if(!this.buildingRightGroomerLeft)return;this.buildingRightGroomerLeft.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightGroomerLeft.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_ZuoZ"+p.paddding(i,2));break;case T.Hall_Right_Groomer_right:if(!this.buildingRightGroomerRight)return;this.buildingRightGroomerRight.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightGroomerRight.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_ZuoZ"+p.paddding(i,2));break;case T.Hall_Right_Exercise_left:if(!this.buildingRightExerciseLeft)return;this.buildingRightExerciseLeft.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightExerciseLeft.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_2/BM_PaoBJ"+p.paddding(i,2));break;case T.Hall_Right_Exercise_right:if(!this.buildingRightExerciseRight)return;this.buildingRightExerciseRight.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightExerciseRight.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_2/BM_PaoBJ"+p.paddding(i,2));break;case T.Hall_Right_Swing_left:if(!this.buildingRightSwingLeft)return;this.buildingRightSwingLeft.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightSwingLeft.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_2/BM_QiuQ"+p.paddding(i,2));break;case T.Hall_Right_Swing_right:if(!this.buildingRightSwingRight)return;this.buildingRightSwingRight.active=i>0,I.loadSpriteFrameAndBind(this.buildingRightSwingRight.getComponent(d),"textures@Texture2D/Hall_Right/Hall_Right_2/BM_QiuQ"+p.paddding(i,2));break;default:return void p.error("refreshBuildingRight.typeId: "+e+" level: "+i)}},l.loadUI=function(){var e,i,l,n,a,r=null,o=null,s=v.data.money;if(p.log("loadUI.money: "+s),L.data.DefaultGameIDs.forEach((function(e){v.setCatLevelUnlocked(e,1)})),!this.canvas&&(this.canvas=g("Canvas"),!this.canvas))return p.error("canvas.nil"),!1;if(!t.SceneHallUI&&(t.SceneHallUI=g("SceneHallUI",O.container),!t.SceneHallUI))return p.error("SceneHallUI.nil"),!1;t.rechargeMoney||(t.rechargeMoney=null==(e=g("Hall_Area_Middle/middleBtnRecharge/RichText",this.node))?void 0:e.getComponent(h),t.updateRechargeMoney());t.rechargeGold||(t.rechargeGold=null==(i=g("Hall_Area_Middle/middleBtnRechargeGold/RichText",this.node))?void 0:i.getComponent(h),t.updateRechargeGold());if(t.Hall_Area_Middle||(t.Hall_Area_Middle=g("Hall_Area_Middle",this.node)),!this.buildingFloor){if(this.buildingFloor=g("Hall_Area_Base/Hall_floor_level/Hall_floor_level",this.node),!this.buildingFloor)return p.error("buildingFloor.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_floor_level)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_floor_level,1),v.setBuildingIdPurchased(T.Hall_floor_level,1),v.setBuildingDelivering(100*T.Hall_floor_level+1,0,0),v.setBuildingLevelUsing(T.Hall_floor_level,1),o.level=1),this.buildingFloor.active=!0,this.refreshBuilding(T.Hall_floor_level,o.level)}if(!this.buildingCarpet){if(this.buildingCarpet=g("Hall_Area_Base/Hall_carpet_level",this.node),!this.buildingCarpet)return p.error("buildingCarpet.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_carpet_level)).level>0&&o.lastUpdateTime>0?(this.buildingCarpet.active=!0,this.refreshBuilding(T.Hall_carpet_level,o.level)):this.buildingCarpet.active=!1}if(!this.buildingWall){if(this.buildingWall=g("Hall_Area_Top/Hall_wall_level",this.node),!this.buildingWall)return p.error("buildingWall.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_wall_level)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_wall_level,1),v.setBuildingIdPurchased(T.Hall_wall_level,1),v.setBuildingDelivering(100*T.Hall_wall_level+1,0,0),v.setBuildingLevelUsing(T.Hall_wall_level,1),o.level=1),this.buildingWall.active=!0,this.refreshBuilding(T.Hall_wall_level,o.level)}if(!this.buildingStreet&&(this.buildingStreet=g("Hall_Area_Middle/Hall_street_level",this.node),!this.buildingStreet))return p.error("buildingStreet.nil"),!1;if(!this.buildingDoor){if(this.buildingDoor=g("Hall_Area_Middle/Hall_door_level",this.node),!this.buildingDoor)return p.error("buildingDoor.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_door_level)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_door_level,1),v.setBuildingIdPurchased(T.Hall_door_level,1),v.setBuildingDelivering(100*T.Hall_door_level+1,0,0),v.setBuildingLevelUsing(T.Hall_door_level,1),o.level=1),this.buildingDoor.active=!0,this.refreshBuilding(T.Hall_door_level,o.level)}if(!this.buildingWallPaper){if(this.buildingWallPaper=g("Hall_Area_Top/Hall_wallpaper_level",this.node),!this.buildingWallPaper)return p.error("buildingWallPaper.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_wallpaper_level)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_wallpaper_level,1),v.setBuildingIdPurchased(T.Hall_wallpaper_level,1),v.setBuildingDelivering(100*T.Hall_wallpaper_level+1,0,0),v.setBuildingLevelUsing(T.Hall_wallpaper_level,1),o.level=1),this.buildingWallPaper.active=!0,this.refreshBuilding(T.Hall_wallpaper_level,o.level)}if(!this.buildingCashRegistry){if(this.buildingCashRegistry=g("Hall_Area_Middle/Hall_cash register_level",this.node),!this.buildingCashRegistry)return p.error("buildingCashRegistry.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_cash_register_level)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_cash_register_level,1),v.setBuildingIdPurchased(T.Hall_cash_register_level,1),v.setBuildingDelivering(100*T.Hall_cash_register_level+1,0,0),v.setBuildingLevelUsing(T.Hall_cash_register_level,1),o.level=1),this.buildingCashRegistry.active=!0,this.refreshBuilding(T.Hall_cash_register_level,o.level)}if(!this.buildingWifi){if(this.buildingWifi=g("Hall_Area_Middle/Hall_wifi_level",this.node),!this.buildingWifi)return p.error("buildingWifi.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_wifi_level)).level>0&&o.lastUpdateTime>0?(this.buildingWifi.active=!0,this.refreshBuilding(T.Hall_wifi_level,o.level)):this.buildingWifi.active=!1}if(!this.buildingAircondition){if(this.buildingAircondition=g("Hall_Area_Middle/Hall_aircondition_level",this.node),!this.buildingAircondition)return p.error("buildingAircondition.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_aircondition_level)).level>0&&o.lastUpdateTime>0?(this.buildingAircondition.active=!0,this.refreshBuilding(T.Hall_aircondition_level,o.level)):this.buildingAircondition.active=!1}if(!this.buildingDrink){if(this.buildingDrink=g("Hall_Area_Middle/Hall_drink_level",this.node),!this.buildingDrink)return p.error("buildingDrink.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_drink_level)).level>0&&o.lastUpdateTime>0?(this.buildingDrink.active=!0,this.refreshBuilding(T.Hall_drink_level,o.level)):this.buildingDrink.active=!1}if(!this.buildingSouvenir){if(this.buildingSouvenir=g("Hall_Area_Middle/Hall_souvenir_level",this.node),!this.buildingSouvenir)return p.error("buildingSouvenir.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_souvenir_level)).level>0&&o.lastUpdateTime>0?(this.buildingSouvenir.active=!0,this.refreshBuilding(T.Hall_souvenir_level,o.level)):this.buildingSouvenir.active=!1}if(!this.buildingSpeaker){if(this.buildingSpeaker=g("Hall_Area_Middle/Hall_speaker_level",this.node),!this.buildingSpeaker)return p.error("buildingSpeaker.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_speaker_level)).level>0&&o.lastUpdateTime>0?(this.buildingSpeaker.active=!0,this.refreshBuilding(T.Hall_speaker_level,o.level)):this.buildingSpeaker.active=!1}if(!t.buildingCatTree){t.buildingCatTree=[];for(var d="",c=11;c<16;c+=2){if(!(r=g(d="Hall_Area_Middle/Hall_cat_tree_level"+c+"/Hall_cat_tree_level",this.node)))return p.error(d+" ... nofound"),!1;t.buildingCatTree.push(r),(o=v.getBuildingLevelUsing(c)).level>0&&o.lastUpdateTime>0?(r.active=!0,this.refreshBuilding(c,o.level)):r.active=!1}for(var _=20;_<25;_+=2){if(!(r=g(d="Hall_Area_Middle/Hall_cat_tree_level"+_+"/Hall_cat_tree_level",this.node)))return p.error(d+" ... nofound"),!1;t.buildingCatTree.push(r),(o=v.getBuildingLevelUsing(_)).level>0&&o.lastUpdateTime>0?(r.active=!0,this.refreshBuilding(_,o.level)):r.active=!1}}if(t.accelerate(!1,!1),U.emit(b.REFRESH_ACCELERATE_ANIMATION),0==t.buildingCushion.length){for(var f="",m=11;m<16;m+=2){if(!(r=g(f="Hall_Area_Middle/Hall_cat_tree_level"+m+"/Hall_cushion_level",this.node)))return p.error(f+" ... nofound"),!1;t.buildingCushion.push(r),(o=v.getBuildingLevelUsing(m+1)).level>0&&o.lastUpdateTime>0?(r.active=!0,this.refreshBuilding(m+1,o.level)):r.active=!1}for(var E=20;E<25;E+=2){if(!(r=g(f="Hall_Area_Middle/Hall_cat_tree_level"+E+"/Hall_cushion_level",this.node)))return p.error(f+" ... nofound"),!1;t.buildingCushion.push(r),(o=v.getBuildingLevelUsing(E+1)).level>0&&o.lastUpdateTime>0?(r.active=!0,this.refreshBuilding(E+1,o.level)):r.active=!1}}if(!this.buildingVase){this.buildingVase=[];for(var H="",R=!1,S=1;S<8;S++){if(!(r=g(H="Hall_Area_Middle/Hall_vase_level"+S,this.node)))return p.error(H+" ... nofound"),!1;this.buildingVase.push(r),(o=v.getBuildingLevelUsing(T.Hall_vase_level)).level>0&&o.lastUpdateTime>0?(R=!0,r.active=!0):r.active=!1}R&&this.refreshBuilding(T.Hall_vase_level,o.level)}if(!this.buildingCoffee){if(this.buildingCoffee=g("Hall_Area_Middle/Hall_coffee_machine_level",this.node),!this.buildingCoffee)return p.error("buildingCoffee.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_coffee_machine_level)).level>0&&o.lastUpdateTime>0?(this.buildingCoffee.active=!0,this.refreshBuilding(T.Hall_coffee_machine_level,o.level)):this.buildingCoffee.active=!1}if(!this.buildingDessert){if(this.buildingDessert=g("Hall_Area_Middle/Hall_dessert_level",this.node),!this.buildingDessert)return p.error("buildingDessert.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_dessert_level)).level>0&&o.lastUpdateTime>0?(this.buildingDessert.active=!0,this.refreshBuilding(T.Hall_dessert_level,o.level)):this.buildingDessert.active=!1}if(!this.hallRightMan){if(this.hallRightMan=g("Hall_Area_Middle/Hall_Right_man1",this.node),!this.hallRightMan)return p.error("Hall_Right_man1.nil"),!1;this.hallRightMan.active=v.data.rightSceneUnlocked}if(!this.buildingRightBar){if(this.buildingRightBar=g("Hall_Area_Middle/Hall_BM_BaTai",this.node),!this.buildingRightBar)return p.error("buildingRightBar.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Bar)).level>0&&o.lastUpdateTime>0||(v.setBuildingLevelUnlocked(T.Hall_Right_Bar,1),v.setBuildingIdPurchased(T.Hall_Right_Bar,1),v.setBuildingDelivering(100*T.Hall_Right_Bar+1,0,1),v.setBuildingLevelUsing(T.Hall_Right_Bar,1),o.level=1),this.buildingRightBar.active=v.data.rightSceneUnlocked;var B=this.buildingRightBar.getChildByName("Hall_spine_cat");B&&B.active&&(B.active=!1),this.refreshBuildingRight(T.Hall_Right_Bar,o.level)}if(!this.Hall_BM_BaTai_DiTan){if(this.Hall_BM_BaTai_DiTan=g("Hall_Area_Middle/Hall_BM_BaTai_DiTan",this.node),!this.Hall_BM_BaTai_DiTan)return p.error("Hall_BM_BaTai_DiTan.nil"),!1;this.Hall_BM_BaTai_DiTan.active=v.data.rightSceneUnlocked}if(!this.middleBtnRechargeGold){if(this.middleBtnRechargeGold=g("Hall_Area_Middle/middleBtnRechargeGold",this.node),!this.middleBtnRechargeGold)return p.error("middleBtnRechargeGold.nil"),!1;this.middleBtnRechargeGold.active=v.data.rightSceneUnlocked}if(!this.buildingRightStage){if(this.buildingRightStage=g("Hall_Area_Middle/Hall_BM_WuT",this.node),!this.buildingRightStage)return p.error("buildingRightStage.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Stage)).level>0&&o.lastUpdateTime>0?(this.buildingRightStage.active=!0,this.refreshBuildingRight(T.Hall_Right_Stage,o.level)):this.buildingRightStage.active=!1;var A=this.buildingRightStage.getChildByName("Hall_spine_cat");A&&A.active&&(A.active=!1)}if(!this.buildingRightGroomerLeft){if(this.buildingRightGroomerLeft=g("Hall_Area_Middle/Hall_BM_ZuoZ_Left",this.node),!this.buildingRightGroomerLeft)return p.error("buildingRightGroomerLeft.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Groomer_left)).level>0&&o.lastUpdateTime>0?(this.buildingRightGroomerLeft.active=!0,this.refreshBuildingRight(T.Hall_Right_Groomer_left,o.level)):this.buildingRightGroomerLeft.active=!1;var x=this.buildingRightGroomerLeft.getChildByName("Hall_spine_cat");x&&x.active&&(x.active=!1)}if(!this.buildingRightGroomerRight){if(this.buildingRightGroomerRight=g("Hall_Area_Middle/Hall_BM_ZuoZ_Right",this.node),!this.buildingRightGroomerRight)return p.error("buildingRightGroomerRight.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Groomer_right)).level>0&&o.lastUpdateTime>0?(this.buildingRightGroomerRight.active=!0,this.refreshBuildingRight(T.Hall_Right_Groomer_right,o.level)):this.buildingRightGroomerRight.active=!1;var I=this.buildingRightGroomerRight.getChildByName("Hall_spine_cat");I&&I.active&&(I.active=!1)}if(!this.buildingRightExerciseLeft){if(this.buildingRightExerciseLeft=g("Hall_Area_Middle/Hall_BM_PaoBJ_Left",this.node),!this.buildingRightExerciseLeft)return p.error("buildingRightExerciseLeft.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Exercise_left)).level>0&&o.lastUpdateTime>0?(this.buildingRightExerciseLeft.active=!0,this.refreshBuildingRight(T.Hall_Right_Exercise_left,o.level)):this.buildingRightExerciseLeft.active=!1;var y=this.buildingRightExerciseLeft.getChildByName("Hall_spine_cat");y&&y.active&&(y.active=!1)}if(!this.buildingRightExerciseRight){if(this.buildingRightExerciseRight=g("Hall_Area_Middle/Hall_BM_PaoBJ_Right",this.node),!this.buildingRightExerciseRight)return p.error("buildingRightExerciseRight.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Exercise_right)).level>0&&o.lastUpdateTime>0?(this.buildingRightExerciseRight.active=!0,this.refreshBuildingRight(T.Hall_Right_Exercise_right,o.level)):this.buildingRightExerciseRight.active=!1;var P=this.buildingRightExerciseRight.getChildByName("Hall_spine_cat");P&&P.active&&(P.active=!1)}if(!this.buildingRightSwingLeft){if(this.buildingRightSwingLeft=g("Hall_Area_Middle/Hall_BM_QiuQ_Left",this.node),!this.buildingRightSwingLeft)return p.error("buildingRightSwingLeft.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Swing_left)).level>0&&o.lastUpdateTime>0?(this.buildingRightSwingLeft.active=!0,this.refreshBuildingRight(T.Hall_Right_Swing_left,o.level)):this.buildingRightSwingLeft.active=!1;var k=this.buildingRightSwingLeft.getChildByName("Hall_spine_cat");k&&k.active&&(k.active=!1)}if(!this.buildingRightSwingRight){if(this.buildingRightSwingRight=g("Hall_Area_Middle/Hall_BM_QiuQ_Right",this.node),!this.buildingRightSwingRight)return p.error("buildingRightSwingRight.nil"),!1;(o=v.getBuildingLevelUsing(T.Hall_Right_Swing_right)).level>0&&o.lastUpdateTime>0?(this.buildingRightSwingRight.active=!0,this.refreshBuildingRight(T.Hall_Right_Swing_right,o.level)):this.buildingRightSwingRight.active=!1;var M=this.buildingRightSwingRight.getChildByName("Hall_spine_cat");M&&M.active&&(M.active=!1)}if(!t.HallWallMask&&(t.HallWallMask=g("Hall_Area_Middle/Hall_WallMask",this.node),!t.HallWallMask))return p.error("HallWallMask.nil"),!1;t.topSprMoney||(t.topSprMoney=g("SceneHallUI/topArea/topSprMoney",O.container),t.topTextMoney||(t.topTextMoney=null==(l=t.topSprMoney)||null==(l=l.getChildByName("text"))?void 0:l.getComponent(C),t.topTextMoney&&t.updateMoney(v.data.money,!1)));t.topSprVip||(t.topSprVip=g("SceneHallUI/topArea/topSprVip",O.container),t.topTextVip||(t.topTextVip=null==(n=t.topSprVip)||null==(n=n.getChildByName("text"))?void 0:n.getComponent(C),t.topTextVip&&t.updateVip(v.data.vip,!1)));t.topBtnSecrets||(t.topBtnSecrets=null==(a=g("SceneHallUI/topArea/topBtnSecrets",O.container))?void 0:a.getComponent(D),t.topBtnSecrets&&(t.topBtnSecrets.node.active=!0));if(!t.topSprGold){var G;if(t.topSprGold=g("SceneHallUI/topArea/topSprGold",O.container),!t.topTextGold)t.topTextGold=null==(G=t.topSprGold)||null==(G=G.getChildByName("text"))?void 0:G.getComponent(C),t.topTextGold&&t.updateGold(v.data.gold,!1);t.topSprGold.active=!1}if(!t.topSprExp){var w;if(t.topSprExp=g("SceneHallUI/topArea/topSprExp",O.container),!t.topTextExp)t.topTextExp=null==(w=t.topSprExp)||null==(w=w.getChildByName("text"))?void 0:w.getComponent(C),t.topTextExp&&t.updateExp(v.data.exp,!1);t.topSprExp.active=!1}return v.getQueueCushionBrokenIteratorExclude(!1,(function(e,i){p.log("typeId: "+e+" brokenPos: "+i);var l=0;switch(e){case T.Hall_cushion_level12:l=0;break;case T.Hall_cushion_level14:l=1;break;case T.Hall_cushion_level16:l=2;break;case T.Hall_cushion_level21:l=3;break;case T.Hall_cushion_level23:l=4;break;case T.Hall_cushion_level25:l=5}var n=t.buildingCushion[l];if(!n){p.log("coushion.brokenPos:"+i+" is null");var a=v.getQueueCushionBroken(e);return a[i]=!1,void v.setQueueCushionBroken(e,a)}var r=0==i?new u(-60,-20,0):new u(60,30,0),o=n.getChildByName("spinePohuai"+i.toString());o?(o.getComponent(Q).setAnimation(),o.getComponent(Q).cushionTypeId=e,o.getComponent(Q).brokenPos=i):N.pohuai(n,"textures@prefabs/spinePohuai",e,i,r)})),!0},l.onMainPageTruning=function(){},l.loadPath=function(e){var i=this;void 0===e&&(e=null);var t=E.load();if(t.version==H.mapVersion&&t.width&&t.height)return this.setPath(t),void(e&&e());var l={bundleName:"profile",relativePath:"config",resType:y.JsonAsset};I.load(l).then((function(t){if(t){var l=JSON.stringify(t.json);p.log("loadProfile: "+l+" ... OK");var n=JSON.parse(l);i.setPath(n),e&&e()}}))},l.setPath=function(e){var i,t,l,n,a=0,r=0,u=0,s=0;e.sx>e.ex?(a=e.ex,u=e.sx):(a=e.sx,u=e.ex),e.sy>e.ey?(r=e.ey,s=e.sy):(r=e.sy,s=e.ey);var d=null!=(i=e.rows)?i:0,g=null!=(t=e.cols)?t:0,h=null!=(l=e.width)?l:0,c=null!=(n=e.height)?n:0,_=[];e.matrix&&e.matrix.forEach((function(e,i){e.forEach((function(e,t){1==e&&_.push(new o(t,i))}))})),A.setGrid(a,r,d,g,h,c,_),E.data={version:H.mapVersion,sx:a,sy:r,ex:u,ey:s,width:h,height:c,rows:d,cols:g,matrix:A.matrix,consumer:e.consumer,lastUpdateTime:e.lastUpdateTime},E.save(),H.excludePathPoint.length>0?A.matrix.forEach((function(e,i){e.forEach((function(e,t){if(0==e&&(t<30&&i>15||t>=30&&i>11)){for(var l=0;l<H.excludePathPoint.length;l++){var n=H.excludePathPoint[l];if(n.x==t&&n.y==i)return}A.walkable.push(new o(t,i))}}))})):A.matrix.forEach((function(e,i){e.forEach((function(e,t){0==e&&(t<30&&i>15||t>=30&&i>11)&&A.walkable.push(new o(t,i))}))}))},l.loadSpine=function(){this.loadSpineCat(),this.loadSpineNpc()},l.loadSpineCat=function(){},l.loadSpineNpc=function(){var e=this;if(!this.loadSpineDone){t.HallWallMask.children&&t.HallWallMask.removeAllChildren();var i=[];t.Hall_Area_Middle.children.forEach((function(e){(e.name.startsWith(H.spineNpcPrefix)||e.name.startsWith("Hall_spine_")||e.name.startsWith("spinePlayCat")||e.name.startsWith("spineMoney")||e.name.startsWith("spineSaoba"))&&i.push(e)})),i.forEach((function(e){e.children&&e.removeAllChildren(),e.removeFromParent()})),this.loadSpineDone=!0,this.schedule((function(){H.ENABLE_NEWBIE_GUIDE&&!v.isNewbieAniCompleted()||(!H.ENABLE_NEWBIE_GUIDE||H.ENABLE_NEWBIE_GUIDE&&v.getNewbieGuideStepsCompleted(f.DEFAULT)>=H.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP)&&e.generateCat()}),3);var l=function(){H.ENABLE_NEWBIE_GUIDE&&!v.isNewbieAniCompleted()||(!H.ENABLE_NEWBIE_GUIDE||H.ENABLE_NEWBIE_GUIDE&&v.getNewbieGuideStepsCompleted(f.DEFAULT)>=H.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP)&&(H.ENABLE_GENERATE_NPC_RIGHT_SCENE_ONLY?e.onGenerateRightSceneNpc():v.data.rightSceneUnlocked?p.randomRange(0,100)>H.ENABLE_GENERATE_NPC_RIGHT_SCENE_RATIO?e.generateNpc():e.onGenerateRightSceneNpc():e.generateNpc())};l(),this.schedule(l,H.ENABLE_DEBUG_GENERATE_NPC_DELAY>0?H.ENABLE_DEBUG_GENERATE_NPC_DELAY:p.randomRange(L.data.NPCTimeEnter[0],L.data.NPCTimeEnter[1]))}},t.addNpc=function(e,i,l,n,a,r,o,u,d,g,h,f,m,C,E,b){var R=this;if(void 0===a&&(a=-1),void 0===o&&(o=[]),void 0===u&&(u=!1),void 0===d&&(d=!1),void 0===g&&(g=!1),void 0===h&&(h=!0),void 0===f&&(f=null),void 0===m&&(m=null),void 0===C&&(C=null),void 0===E&&(E=null),void 0===b&&(b=null),!i)return null;var S=o.length;if(S<2)return null;var T=o[0],B=o[S-1],A=i,x=A.getChildByName(l);if(x&&u)return null;if((x=new c(""+(H.spineNpcPrefix+l))).layer=_.Enum.UI_2D,-1==a?A.insertChild(x,-1):a>=0&&A.insertChild(x,a),!x)return null;var y=x.getComponent(e)||x.addComponent(e);return y.initSpine(l),I.loadSpine(l,y.ske,(function(){if(s(y)){if(T&&B){var e;if(null==y||y.setSpawn(T.toVec2(),H.spineNpcWalkSpeed,d),null==y||y.setSkinName(n),null!=y&&y.name.includes("man"))null==y||null==(e=y.node)||null==(e=e.getChildByName("spine"))||e.setScale(H.spineNpcScale,H.spineNpcScale);null==y||y.timeScale(v.getSpineAnimationSpeedAccelerate()),null==y||y.setSpeed(v.getSpineWalkSpeedAccelerate()),g&&(T.x<30&&T.y<12?y.node.parent!=R.HallWallMask&&R.HallWallMask.insertChild(x,0):y.node.parent!=A&&A.insertChild(x,t.excludeLayers.length+t.includeLayers.length)),u&&T.equals(B)?f&&f(y):t.spineAction(x,y,o,1,A,g,h,f,m,C,E,b)}}else p.error("CCSceneHall.loadSpine.invalid.isDestoryed")}),(function(e){p.log("loadSpine.name: "+l+" error: "+e+" "),x.children&&x.removeAllChildren(),x.removeFromParent(),x=null})),x},t.spineAction=function(e,i,l,n,a,r,o,u,s,d,g,h){var c=this;if(void 0===o&&(o=!0),void 0===u&&(u=null),void 0===s&&(s=null),void 0===d&&(d=null),void 0===g&&(g=null),void 0===h&&(h=null),l&&!(n>=l.length)){var _=l[n];i.walkToTile(_.toVec2(),(function(e){u&&u(i)}),(function(e,t,l,n,a){s&&s(i,t,l,n,a)}),(function(l,n,u,s,g,h){i.calcFlip(g,o),d&&d(i,n,u,s,g,h),r&&(s.y<12?i.node.parent!=t.HallWallMask&&c.HallWallMask.insertChild(e,0):i.node.parent!=a&&(e.parent.removeChild(e),a.insertChild(e,t.excludeLayers.length+t.includeLayers.length)))}),(function(e,t,l,n,a){g&&g(i,t,l,n,a)}),(function(e){h&&h(i,o,_,e)}))}},l.calcSpineNpcCount=function(){var e=0,i=0,l=0;return t.Hall_Area_Middle.children.filter((function(t){var n=t.name;if(n.startsWith(H.spineNpcPrefix))switch(n.length-H.spineNpcPrefixLength){case 4:e+=1;break;case 6:i+=1;break;case 7:l+=1}})),[e+i+l,e,i,l]},l.createDynamicUI=function(){},l.onPurchaseStatus=function(e,i){if(e==i.status){var l=i.skuId,n=H.getIapItemBySkuId(l);if(n)switch(p.log("onPurchaseStatus["+e+"].skuId["+l+"].status["+i.status+"].msg["+i.msg+"]"),i.status){case $.PRODUCT_NIL:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",k("tishshibai1"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case $.PURCHASE_FAILED:switch(i.code){case ee.SERVICE_TIMEOUT:case ee.SERVICE_DISCONNECTED:case ee.NETWORK_ERROR:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop6"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case ee.SERVICE_UNAVAILABLE:case ee.BILLING_UNAVAILABLE:case ee.FEATURE_NOT_SUPPORTED:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop4"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case ee.USER_CANCELED:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop5"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case ee.ITEM_UNAVAILABLE:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop7"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case ee.ITEM_ALREADY_OWNED:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop8"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case ee.ITEM_NOT_OWNED:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop9"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);default:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop10"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1)}return;case $.PURCHASE_CANCEL:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",k("tishshop5"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1);case $.PURCHASE_SUCCEED:switch(i.code){case ee.OK:var a=JSON.parse(i.msg);if(a.packageName!=Z.get("packageName"))return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].packageName["+a.packageName+"].invalid");if(a.productId!=i.skuId)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].productId["+a.productId+"].invalid");if(a.purchaseState!=ie.UNSPECIFIED_STATE)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].purchaseState["+a.purchaseState+"].invalid");if(!a.purchaseToken.length)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].purchaseToken["+a.purchaseToken+"].invalid");if(p.NowTimeStamp()-a.purchaseTime<0)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].purchaseTime["+a.purchaseTime+"].invalid");var r=a.obfuscatedAccountId,o=a.obfuscatedProfileId;if(64!=r.length)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].obfuscatedAccountId["+a.obfuscatedAccountId+"].invalid");if(32!=o.length)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].obfuscatedProfileId["+a.obfuscatedProfileId+"].invalid");var u=a.obfuscatedAccountId.substring(11,43),s=Number.parseInt(a.obfuscatedAccountId.substring(43,56));if(a.purchaseTime<s)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].ts["+s+"].diff["+(a.purchaseTime-s)+"].invalid");var d=Z.get("deviceId")||"",g=Z.get("fingerPrint")||"",h=p.md5(d+g);if(u!=h)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].sign["+u+"]["+h+"].invalid");var c=H.NATIVE_PURCHASE_OBFUSCATED_KEY.map((function(e){return String.fromCharCode(e)})).join(""),_=p.md5(p.md5(""+a.obfuscatedAccountId+c));if(a.obfuscatedProfileId!=_)return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].profileId["+a.obfuscatedProfileId+"]["+_+"].invalid");if(te.isExists(a.purchaseToken))return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].purchaseToken["+a.purchaseToken+"].exists!");if(!te.add(a.purchaseToken))return void p.log("onPurchaseStatus["+e+"].skuId["+l+"].status[info.status].msg["+i.msg+"].purchaseToken["+a.purchaseToken+"].save.error!");switch(N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop1"),""),n.type){case m.GOLD:X.push(1,(function(e){var i=n.reward;p.log("item: "+n.productId+" , money: "+i),i<=0||(t.addMoney(i),N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/> x",i),"textures@Texture2D/Hall_UI/Hall_UI"),J.playEffect("reward"),v.addPurchasedRecords(n),U.emit(b.PURCHASE_EVENT,n.eventName),U.emit(b.SHOP_REFRESH))}));break;case m.ADFREE:X.push(1,(function(e){J.playEffect("reward"),v.addPurchasedRecords(n),U.emit(b.PURCHASE_EVENT,n.eventName),U.emit(b.SHOP_REFRESH)}))}return;default:return N.toast(t.SceneHallUI,"textures@prefabs/floatingBanner",""+k("tishshop10"),""),void U.emit(b.PURCHASE_EVENT,n.eventName,1)}}else p.log("onPurchaseStatus["+e+"].skuId["+l+"].info["+i.msg+"].nil")}},t}(B)).buildingCatTree=null,ae.Hall_Area_Middle=null,ae.SceneHallUI=null,ae.rechargeMoney=null,ae.rechargeGold=null,ae.topSprMoney=null,ae.topTextMoney=null,ae.topSprVip=null,ae.topTextVip=null,ae.topBtnSecrets=null,ae.topSprGold=null,ae.topTextGold=null,ae.topSprExp=null,ae.topTextExp=null,ae.topDelivery=null,ae.dayTimer=null,ae.HallWallMask=null,ae.buildingCushion=null,ae.queueCats=null,ae.queueSpecial=null,ae.queueGuest=null,ae.queueConsumer=null,ae.queueWaiting=null,ae.queueWaitingRight=null,ae.queuePlay=null,ae.queuePlayRight=null,ae.instance=null,ae.excludeLayers=["Hall_street_level","Hall_door_level","Hall_light","Hall_aircondition_level","Spine_man1","Hall_cash register_level","middleBtnRecharge","Hall_drink_level","Hall_souvenir_level","Hall_wifi_level","Hall_BM_carpet","Hall_BM_WuT_DiTan","Hall_BM_BaTai_DiTan","Hall_BM_PaoBJ_DiTan_Left","Hall_BM_PaoBJ_DiTan_Right","Hall_BM_QiuQ_DiTan_Left","Hall_BM_QiuQ_DiTan_Right","Hall_WallMask"],ae.includeLayers=["Hall_BM_BaTai","middleBtnRechargeGold","Hall_Right_man1"],ne=ae))||ne);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneHallLeft.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCEvent.ts","./CCUtils.ts","./CCDefine.ts","./CCBtnBuilding.ts","./CCPlayerData.ts","./CCLingoData.ts","./CCCacheRes.ts","./CCTweenBreathe.ts","./CCEffct.ts","./CCSceneHall.ts","./CCAudioManager.ts","./CCBuildingLeftData.ts","./CCSpriteTimer.ts"],(function(e){var i,t,n,l,a,o,r,d,u,f,s,c,g,p,h,b,m,C,L,_,B,T,v,U,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Node,d=e.isValid,u=e.UITransform,f=e.Sprite,s=e.Component},function(e){c=e.CCEvent},function(e){g=e.default},function(e){p=e.EVENT_TYPE,h=e.BuildingTypeId},function(e){b=e.CCBtnBuilding},function(e){m=e.CCPlayerData},function(e){C=e._T},function(e){L=e.default},function(e){_=e.CCTweenBreathe},function(e){B=e.CCEffect},function(e){T=e.CCSceneHall},function(e){v=e.audioMgr},function(e){U=e.default},function(e){y=e.CCSpriteTimer}],execute:function(){var k,H,S,M,I,N,w,E,D,x,z,R,A,J,F,P,O,Q,G,j,V,X,Y,Z,K;a._RF.push({},"8f083Xrbz9Jh6PjfNCuYJrR","CCSceneHallLeft",void 0);var q=o.ccclass,W=o.property;o.executeInEditMode,e("CCSceneHallLeft",(k=q("CCSceneHallLeft"),H=W({type:[r],displayName:""}),S=W({type:[r],displayName:""}),M=W({type:[r],displayName:""}),I=W({type:[y],displayName:""}),N=W({type:[r],displayName:""}),w=W({type:r,displayName:""}),E=W({type:[r],displayName:""}),D=W({displayName:""}),x=W({type:r,displayName:""}),z=W({type:r,displayName:""}),R=W({type:r,displayName:""}),k((F=i((J=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,n(i,"buildingLeftLocked",F,l(i)),n(i,"buildingLeftLockedLabel",P,l(i)),n(i,"buildingLeftUnlockedUpgrade",O,l(i)),n(i,"LabelTrainTimer",Q,l(i)),n(i,"buildingLeftUnlocked",G,l(i)),n(i,"buildingLeftUnlockedNoClick",j,l(i)),n(i,"buildingLeftCatBed",V,l(i)),n(i,"buildingTypeBaseId",X,l(i)),n(i,"Hall_BM_BeiJing",Y,l(i)),n(i,"BM_DiTan",Z,l(i)),n(i,"Hall_floor_level",K,l(i)),i.fnTrainTimer=[],i}t(i,e);var a=i.prototype;return a.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),c.on(p.REFRESH_UI,this.enableOther,this),c.on(p.REFRESH_BUILDING_LEFT,this.refreshBuildingLeft,this),c.on(p.ENABLE_TRAIN,this.enableTraining,this),c.on(p.COLLECT_EXP,this.collectExp,this)},a.start=function(){e.prototype.start&&e.prototype.start.call(this),g.log("CCSceneHallLeft.start ---\x3e"),this.loadUI()||g.error("loadUI.error")},a.loadUI=function(){return this.enableBuilding(h.Hall_Left_BM_TaoQuanQuanTian),this.enableBuilding(h.Hall_Left_BM_DaDiS),this.enableBuilding(h.Hall_Left_BM_BaiBan),this.enableBuilding(h.Hall_Left_BM_PaoBJ),this.enableBuilding(h.Hall_Left_BM_MuZhuang),this.enableOther(),g.log("OK"),!0},a.resize=function(e){if(d(e)){var i=e.getComponent(u);if(i){var t=g.GetSafeAreaRect().height/2-e.node.position.y;i.height=t}e.node.setPosition(0,e.node.position.y)}},a.fill=function(e){if(d(e)){var i=e.getComponent(u),t=g.GetSafeAreaRect();i.width=t.width,i.height=t.height,e.sizeMode=f.SizeMode.CUSTOM,e.type=f.Type.TILED}},a.enableOther=function(){this.Hall_BM_BeiJing&&(m.data.leftSceneUnlocked?L.loadSpriteFrameAndBind(this.Hall_BM_BeiJing.getComponent(f),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_BeiJing",!0,this,(function(e,i){e.resize(i)})):L.loadSpriteFrameAndBind(this.Hall_BM_BeiJing.getComponent(f),"textures@Texture2D/Hall_wall_level/Hall_wall_level/Hall_wall_level01",!0,this,(function(e,i){e.resize(i)}))),this.BM_DiTan&&(this.BM_DiTan.active=m.data.leftSceneUnlocked),this.Hall_floor_level&&(m.data.leftSceneUnlocked?L.loadSpriteFrameAndBind(this.Hall_floor_level.getComponent(f),"textures@Texture2D/Hall_Right/Hall_Right_1/BM_floor",!0,this,(function(e,i){e.fill(i)})):L.loadSpriteFrameAndBind(this.Hall_floor_level.getComponent(f),"textures@Texture2D/Hall_floor_level/Hall_floor_level/Hall_floor_level02",!0,this,(function(e,i){e.fill(i)})))},a.enableBuilding=function(e){var i,t,n=e-this.buildingTypeBaseId,l=m.getBuildingLevelUsing(e);this.buildingLeftUnlocked[n]&&(null==(i=this.buildingLeftUnlocked[n])||i.getComponent(b).setSkinName("default"),this.buildingLeftUnlocked[n].active=l.level>0);(this.buildingLeftUnlockedNoClick[n]&&(this.buildingLeftUnlockedNoClick[n].active=l.level>0,this.buildingLeftUnlockedNoClick[n].getComponent(b).setSkinName("default")),this.buildingLeftLocked[n]&&(this.buildingLeftLocked[n].active=0==l.level),this.buildingLeftLockedLabel[n]&&(this.buildingLeftLockedLabel[n].active=m.data.leftSceneUnlocked&&this.buildingLeftLocked[n].active&&0==l.level,this.buildingLeftLockedLabel[n].parent.active=this.buildingLeftLockedLabel[n].active),this.buildingLeftUnlockedUpgrade[n]&&(this.buildingLeftUnlockedUpgrade[n].active=m.data.leftSceneUnlocked&&l.level>0,this.buildingLeftUnlockedUpgrade[n].parent.active=!0),this.buildingLeftCatBed[n])&&(this.buildingLeftCatBed[n].active=m.data.leftSceneUnlocked,null==(t=this.buildingLeftCatBed[n].getComponent(b))||t.animation(0,"animation"));var a=m.getCatUpgradeUsingByBuildingId(e);!a||a&&a.lastTrainCompleteTime-g.NowTimeStamp()<=0?a&&-1==a.lastTrainCompleteTime?this.enableTraining(e,-1,!0,!1,!0,!0):this.enableTraining(e,-1,!1,!1,!1,!0):this.enableTraining(e,a.catId,!0,!0,!1,!1)},a.enableTraining=function(e,i,t,n,l,a){var o=this,r=e-this.buildingTypeBaseId;if(!(r<0)){var d,u;if(this.buildingLeftUnlocked[r])if(t)null==(d=this.buildingLeftUnlocked[r])||d.getComponent(b).animation(0,"animation");else null==(u=this.buildingLeftUnlocked[r])||u.getComponent(b).animation(1,"animation2");if(this.buildingLeftUnlockedNoClick[r]&&(t?this.buildingLeftUnlockedNoClick[r].getComponent(b).animation(0,"animation"):this.buildingLeftUnlockedNoClick[r].getComponent(b).animation(1,"animation2")),n&&(this.fnTrainTimer[r]||(this.fnTrainTimer[r]=function(){var i=m.getCatUpgradeUsingByBuildingId(e);if(!i||i&&0==i.buildingId)return o.unschedule(o.fnTrainTimer[r]),void(o.fnTrainTimer[r]=null);if(i&&-1==i.lastTrainCompleteTime)return o.unschedule(o.fnTrainTimer[r]),void(o.fnTrainTimer[r]=null);var t=Math.ceil((i.lastTrainCompleteTime-g.NowTimeStamp())/1e3);if(t<=0)return o.unschedule(o.fnTrainTimer[r]),void(o.fnTrainTimer[r]=null);o.LabelTrainTimer[r].time=t}),this.fnTrainTimer[r](),this.schedule(this.fnTrainTimer[r],1)),this.LabelTrainTimer[r]&&(this.LabelTrainTimer[r].node.active=n),this.buildingLeftUnlockedUpgrade[r]){var s,c,p;this.buildingLeftUnlockedUpgrade[r].active=!n,null==(s=this.buildingLeftUnlockedUpgrade[r])||s.getComponent(f),L.loadSpriteFrameAndBind(null==(c=this.buildingLeftUnlockedUpgrade[r])?void 0:c.getComponent(f),"textures@Texture2D/Hall_Left/Hall_Left/"+(l?"icon_Exp_36":"BM_JiaHao"),!1,this,(function(e,i){e.fill(e.Hall_floor_level.getComponent(f))}));var h=null==(p=this.buildingLeftUnlockedUpgrade[r])?void 0:p.parent;null!=h&&h.getComponent(_)&&(a?h.getComponent(_).onBreatheOn():h.getComponent(_).onBreatheOff()),null!=h&&h.getComponent(f)&&(h.getComponent(f).enabled=!n)}this.enableCatBed(i>=0?i:r+1,i>=0)}},a.enableCatBed=function(e,i){var t,n,l=e-1;l<0||this.buildingLeftCatBed[l]&&(i?null==(t=this.buildingLeftCatBed[l].getComponent(b))||t.animation(0,"animation2"):null==(n=this.buildingLeftCatBed[l].getComponent(b))||n.animation(1,"animation"))},a.collectExp=function(e){var i=m.getCatUpgradeUsingByBuildingId(e);if(i&&-1==i.lastTrainCompleteTime){var t=m.getBuildingLevelUsing(e);if(t){var n=U.getRowByTypeIdAndLevel(e,t.level);n&&(m.setCatUpgradeUsing(i.catId,i.level,0,0,i.lastUpgradeCompleteTime),T.addExp(n.trainExp),B.toast(T.SceneHallUI,"textures@prefabs/floatingBanner",""+C("UI_Recharge_UI9","<img src='Item_2' width=80 height=80 offset=0,-22/> x",n.trainExp),"textures@Texture2D/Hall_Item/Hall_Item"),v.playEffect("reward"),this.refreshBuildingLeft(e,t.level))}}},a.refreshBuildingLeft=function(e,i){switch(e){case h.Hall_Left_BM_TaoQuanQuanTian:case h.Hall_Left_BM_DaDiS:case h.Hall_Left_BM_BaiBan:case h.Hall_Left_BM_PaoBJ:case h.Hall_Left_BM_MuZhuang:this.enableBuilding(e);break;default:return void g.error("refreshBuildingLeft.typeId: "+e+" level: "+i)}},i}(s)).prototype,"buildingLeftLocked",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(J.prototype,"buildingLeftLockedLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(J.prototype,"buildingLeftUnlockedUpgrade",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(J.prototype,"LabelTrainTimer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(J.prototype,"buildingLeftUnlocked",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(J.prototype,"buildingLeftUnlockedNoClick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(J.prototype,"buildingLeftCatBed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(J.prototype,"buildingTypeBaseId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=i(J.prototype,"Hall_BM_BeiJing",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(J.prototype,"BM_DiTan",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(J.prototype,"Hall_floor_level",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=J))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneHallLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSpineQiehuan.ts","./CCEffct.ts","./Npc.ts","./CCSceneHall.ts","./CCSundryData.ts","./CCSpinePlayCat.ts","./CCDefine.ts","./CCUtils.ts","./CCRoomScoreData.ts","./CCPlayerData.ts","./CCCatData.ts","./CCTileData.ts","./CCPathManager.ts","./CCSpineSaoba.ts","./CCBuildingData.ts","./CCEvent.ts","./CCAdHelper.ts","./CCSceneMain.ts","./CCBuildingRightData.ts","./CCGuideData.ts"],(function(e){var t,i,n,a,l,o,u,s,d,r,c,g,h,f,E,C,p,_,R,v,A,m,T,I,y,N,D,S,L,b,B;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,a=e.sys,l=e.Vec3,o=e.Component},function(e){u=e.CCSpineQiehuan},function(e){s=e.CCEffect},function(e){d=e.Npc},function(e){r=e.CCSceneHall},function(e){c=e.default},function(e){g=e.CCSpinePlayCat},function(e){h=e.EVENT_TYPE,f=e.default,E=e.HALL_INDEX,C=e.BuildingTypeId},function(e){p=e.default},function(e){_=e.default},function(e){R=e.CCPlayerData,v=e.CC_NEWBIE_GUIDE_TYPE},function(e){A=e.default},function(e){m=e.CCTileData},function(e){T=e.CCPathManager,I=e.SCREEN_PATH_TYPE},function(e){y=e.CCSpineSaoba},function(e){N=e.default},function(e){D=e.CCEvent},function(e){S=e.default},function(e){L=e.CCSceneMain},function(e){b=e.default},function(e){B=e.default}],execute:function(){var H;i._RF.push({},"018fdHM6DVLbaTwtU+GrsQ2","CCSceneHallLogic",void 0);var G=n.ccclass;n.property,n.executeInEditMode,e("CCSceneHallLogic",G("CCSceneHallLogic")(H=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).fnAdPreload=null,t}t(i,e);var n=i.prototype;return n.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),D.on(h.GAME_LOOP,this.gameLoop,this),D.on(h.PLAY_CAT,this.playCat,this),D.on(h.PLAY_CAT_RIGHT,this.playCatRight,this),D.on(h.REFRESH_ACCELERATE_ANIMATION,this.refreshAccelerateAnimation,this),D.on(h.EVENT_AD_REWARD_EARN,this.onAdRewardEarn,this),D.on(h.EVENT_AD_REWARD_DISMISSED,this.onAdRewardDismissed,this),D.on(h.CHECK_GUIDE,this.checkGuide,this)},n.onDisable=function(){D.targetOff(this),this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.checkGuide=function(e,t){if(void 0===t&&(t=!0),f.ENABLE_NEWBIE_GUIDE&&R.isNewbieAniCompleted()&&!R.isNewBieGuideStepsCompleted(e)){var i,n,a=B.getRowsNext(e,R.getNewbieGuideStepsCompleted(e));if(a)if(!(a.needVip>0&&R.data.vip<a.needVip))switch(e){case v.DEFAULT:if(L.pageIndex!=E.MIDDLE)return;R.getNewbieGuideStepsCompleted(e)<f.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP&&this.scheduleOnce((function(){s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t)}));break;case v.DEVELIVERING:if(L.pageIndex!=E.MIDDLE)return;break;case v.DOUBLE_INCOME:if(L.pageIndex!=E.MIDDLE)return;s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t);break;case v.CATHOUSE_UPGRADE:if(L.pageIndex!=E.MIDDLE)return;if(i=B.maxStep(v.CATHOUSE_UPGRADE),(n=R.getNewbieGuideStepsCompleted(v.CATHOUSE_UPGRADE))>=310&&n<i&&0==R.data.miniGameDriedFishCount)return;s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t);break;case v.OUTSIDE_UPGRADE:if(L.pageIndex!=E.MIDDLE)return;s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t);break;case v.RIGHT_SCENE:if(L.pageIndex!=E.RIGHT)return;if(!R.data.rightSceneUnlocked)return;s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t);break;case v.LEFT_SCENE:case v.LEFT_SCENE_MATCH:case v.LEFT_SCENE_MATCH_WON:if(L.pageIndex!=E.LEFT)return;if(!R.data.leftSceneUnlocked)return;s.guide(L.getSceneUI(),"textures@prefabs/spineGuide",e,t)}}},n.gameLoop=function(){var e=this;f.ENABLE_NEWBIE_GUIDE&&this.checkGuide(v.DEFAULT,!0),this.schedule((function(){e.checkGuide(v.DOUBLE_INCOME,!0),e.checkGuide(v.CATHOUSE_UPGRADE,!0),e.checkGuide(v.OUTSIDE_UPGRADE,!0),e.checkGuide(v.RIGHT_SCENE,!0),e.checkGuide(v.LEFT_SCENE,!0)}),.1),this.schedule((function(){f.ENABLE_NEWBIE_GUIDE&&!R.isNewbieAniCompleted()||(R.resetPropTodayCount(),R.resetMiniGameScoreHighest(),R.resetSeekSponsorCount(),R.resetAdWatchedCount(),R.resetAdEventProcess(),R.updateBuildingDelivering((function(e,t,i){0==i?(N.getRowByTypeIdAndLevel(e,t).transportDelay>0&&s.dropdownBuildingDelivered(r.topDelivery,"textures@prefabs/dropdownDelivery",e,t,0),(1==t||f.ENABLE_DECORATION_AUTO_DRESS_UP)&&(R.setBuildingLevelUsing(e,t),D.emit(h.REFRESH_BUILDING,e,t))):(b.getRowByTypeIdAndLevel(e,t).transportDelay>0&&s.dropdownBuildingDelivered(r.topDelivery,"textures@prefabs/dropdownDelivery",e,t,1),(1==t||f.ENABLE_DECORATION_AUTO_DRESS_UP)&&(R.setBuildingLevelUsing(e,t),D.emit(h.REFRESH_BUILDING_RIGHT,e,t)))})),R.updateRPM()&&r.updateRechargeMoney(),R.updateRPMG()&&r.updateRechargeGold(),R.checkNpcUnlockedByUnlockedCat(),R.updateLeaflet(),R.updateNumOfChallange(),R.updateHotTaskId(),R.updateDailyTaskAndAchievementProcess(),R.updateMiniGameLeftCount(),R.updateCatUpgradUsing(),R.getNewbieGuideStepsCompleted(v.DEFAULT)>=f.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP&&f.ENABLE_DEBUG_GENERATE_NPC&&(R.updateStaffLevelUsing(),R.updateSpecialNpcUnlocked()))}),1);var t=1/Number(60)*10;this.schedule((function(){p.reOrderRender(r.Hall_Area_Middle,r.excludeLayers,r.includeLayers)}),t>0?t:.167),this.schedule((function(){e.refreshAccelerateAnimation()}),t>0?2*t:.167),f.ENABLE_PRODUCTION_MODE||!f.ENABLE_DEBUG_MODE||f.ENABLE_CHANNEL_TEST||this.schedule((function(){r.showStats(t)}),1),this.schedule((function(){f.ENABLE_NEWBIE_GUIDE&&!R.isNewbieAniCompleted()||r.refreshBubbles()}),p.randomRange(3,10)),this.schedule((function(){f.ENABLE_NEWBIE_GUIDE&&!R.isNewbieAniCompleted()||R.getNewbieGuideStepsCompleted(v.DEFAULT)<f.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP||e.generateTrash()}),c.data.HowManySecondCreateOneRubbish),this.schedule((function(){e.checkFront()}),c.data.BarCounterHandleTime),this.schedule((function(){e.checkFrontRight()}),c.data.BarCounterHandleTime),this.fnAdPreload=function(){a.isNative&&(f.ENABLE_NEWBIE_GUIDE&&!R.isNewbieAniCompleted()||R.getNewbieGuideStepsCompleted(v.DEFAULT)<f.ENABLE_NEWBIE_GENERATE_CAT_AFTER_STEP||S.preloadAds())},this.fnAdPreload(),this.schedule(this.fnAdPreload,10)},n.refreshAccelerateAnimation=function(){var e,t=!1,i=R.isGameAccelerate();f.queuePlayCat.forEach((function(n,a){t=i&&(n[0]||n[1]);for(var l=0;l<r.buildingCatTree.length;l++)e=""+(a-1),r.buildingCatTree[l].parent.name.includes(e)&&r.buildingCatTree[l].parent.children.forEach((function(e){e.name.startsWith("spineJiasu")&&e.active!=t&&(e.active=t)}))}))},n.onAdRewardEarn=function(){R.addAdWatchedCount()},n.onAdRewardDismissed=function(){R.addAdWatchedCount()},n.generateTrash=function(){if(r.Hall_Area_Middle&&!(this.getTotalTrash()>=c.data.LimitRubbishCount)){var e=T.randomWalkable(I.HALL);if(e){var t=T._tile2Position(e,!0);s.dropSpineSaoba(r.Hall_Area_Middle,"textures@prefabs/spineSaoba",new l(t.x,t.y,0),new l(0,0,0),p.randomRange(-20,20),p.randomRange(-20,0),(function(){}))}}},n.getTotalTrash=function(){var e=0;return r.Hall_Area_Middle.children.forEach((function(t){return null!=t.getComponent(y)&&(!t.getComponent(y).animationRunning&&void e++)})),e},n.checkFront=function(){var e,t;if((!f.ENABLE_NEWBIE_GUIDE||R.isNewbieAniCompleted())&&(R.getBuildingIdUnlocked().forEach((function(e){var t=Math.floor(e/100);t!=C.Hall_cushion_level12&&t!=C.Hall_cushion_level14&&t!=C.Hall_cushion_level16&&t!=C.Hall_cushion_level21&&t!=C.Hall_cushion_level23&&t!=C.Hall_cushion_level25||(f.queueCushion.has(t)||f.queueCushion.set(t,[!1,!1]),6!=R.getQueueCushionBrokenTotal()&&R.getQueueCushionBrokenTotal()!=f.queueCushion.size&&R.setQueueCushionBroken(t,[!1,!1]))})),0!=f.queueCushion.size&&0!=R.getQueueCushionBrokenTotal()&&0!=r.queueWaiting.length)){var i=r.queueWaiting[0];if(!((null==(e=i.getComponent(d))?void 0:e.data.tilesLeft.length)>0))if((null==(t=i.getComponent(d))?void 0:t.getTile()).equals(f.tileFront[0].toVec2())){var n=R.getQuickRepairCushionTypeId(),a=R.getQuickRepairCushionPos(),l=[];if(R.getQueueCushionBrokenIteratorExclude(!0,(function(e,t){e==n&&t==a||f.queueCushion.get(e)[t]||l.push({typeId:e,pos:t})})),0!=l.length){var o=p.random(l);if(n=o.typeId,a=o.pos,0!=n&&-1!=a&&(i=r.queueWaiting.shift())){var u=i.getComponent(d);if(u){r.queuePlay.push(i),-1==u.data.cushionPosId?u.data.cushionPosId=a:a=u.data.cushionPosId,u.data.cushionTypeId=n;var s=f.queueCushion.get(n);s[a]=!0,f.queueCushion.set(n,s);var g=new m(u.getTile().x,u.getTile().y),h=f.getTilesForCatTree(n)[a].copy();h.t=c.data.BarCounterHandleTime,h.fnBeforeDelay=function(e,t,i,l){if(l){if(e.animation(0,"idle"),0==a?p.flipNodeX(e.ske.node,!0):1==a&&p.flipNodeX(e.ske.node,!1),!e){var o=f.queueCushion.get(n);return o[a]=!1,void f.queueCushion.set(n,o)}e.wantPlay(a,e.data.catId),e.data.tileHold=i.copy()}},h.fnAfterDelay=function(e,t,i,n){},u.data.tilesLeft=[g,h],r.sequence(r.Instance(),null,(function(e){e.animation(1,"walk")}),u,!0,h,!1)}else i.destroy()}}}else{var E=0;r.queueWaiting.length;r.queueWaiting.forEach((function(e){var t=e.getComponent(d);if(t){var i,n=t.frontPlayerMoveForward(E,.1*E,(function(e,t,i,n){null==e||e.animation(0,"idle")}),(function(e,t,i,n){}));if(E++,n)r.sequence(r.Instance(),null,(function(e){null==e||e.animation(1,"walk")}),t,!0,n,null==t||null==(i=t._pathManager)?void 0:i.needFixedPos)}}))}}},n.checkFrontRight=function(){var e,t;if((!f.ENABLE_NEWBIE_GUIDE||R.isNewbieAniCompleted())&&(R.getBuildingIdUnlocked().forEach((function(e){var t=Math.floor(e/100);t!=C.Hall_Right_Stage&&t!=C.Hall_Right_Groomer_left&&t!=C.Hall_Right_Groomer_right&&t!=C.Hall_Right_Exercise_left&&t!=C.Hall_Right_Exercise_right&&t!=C.Hall_Right_Swing_left&&t!=C.Hall_Right_Swing_right||f.queueBuildingRight.has(t)||f.queueBuildingRight.set(t,!1)})),0!=f.queueBuildingRight.size&&0!=r.queueWaitingRight.length)){var i=r.queueWaitingRight[0];if(!((null==(e=i.getComponent(d))?void 0:e.data.tilesLeft.length)>0))if((null==(t=i.getComponent(d))?void 0:t.getTile()).equals(f.tileFrontRight[0].toVec2())){var n,a=[];if(f.queueBuildingRight.forEach((function(e,t){e||a.push(t)})),0!=a.length&&0!=(n=p.random(a))&&(i=r.queueWaitingRight.shift())){var l=i.getComponent(d);if(l){r.queuePlayRight.push(i),l.data.cushionTypeId=n;var o=0,u=f.tileRightPlay.get(n)[0].copy();switch(n){case C.Hall_Right_Stage:var s=p.randomRangeRightClosed(0,100)>50?0:1;u=f.tileRightPlay.get(n)[s].copy(),o=s;break;case C.Hall_Right_Groomer_left:case C.Hall_Right_Exercise_right:case C.Hall_Right_Swing_right:o=1;break;case C.Hall_Right_Groomer_right:case C.Hall_Right_Exercise_left:case C.Hall_Right_Swing_left:o=0}f.queueBuildingRight.set(n,!0);var g=new m(l.getTile().x,l.getTile().y);u.t=c.data.BarCounterHandleTime,u.fnBeforeDelay=function(e,t,i,a){a&&(e.animation(0,"idle"),0==o?p.flipNodeX(e.ske.node,!0):1==o&&p.flipNodeX(e.ske.node,!1),e?(D.emit(h.PLAY_CAT_RIGHT,e),e.data.tileHold=i.copy()):f.queueBuildingRight.set(n,!1))},u.fnAfterDelay=function(e,t,i,n){},l.data.tilesLeft=[g,u],r.sequence(r.Instance(),null,(function(e){e.animation(1,"walk")}),l,!0,u,!1)}else i.destroy()}}else{var E=0;r.queueWaitingRight.forEach((function(e){var t=e.getComponent(d);if(t){var i,n=t.frontPlayerMoveForward(E,.1*E,(function(e,t,i,n){null==e||e.animation(0,"idle")}),(function(e,t,i,n){}));if(E++,n)r.sequence(r.Instance(),null,(function(e){null==e||e.animation(1,"walk")}),t,!0,n,null==t||null==(i=t._pathManager)?void 0:i.needFixedPos)}}))}}},n.playCatRight=function(e){var t=e.data.tileHold;e.data.tileHold=null;var i=e.data.catId,n=e.data.cushionTypeId,a=A.getRowsByTagId(i);if(0==R.getCatLevelUnlocked(i).level)return e.data.fnDispoint=e.dispointLeaveRight.bind(e,n,0,true,!0,a.name),void this.scheduleOnce(e.data.fnDispoint,c.data.CustomerDispointLeaveDelayTime);var o,d,h=f.ENABLE_RIGHT_SCENE_PLAYTIME,E=0,_=["idle","idle2","idle3","idle4"];switch(n){case C.Hall_Right_Stage:o=r.Instance().buildingRightStage;var v=R.getBuildingLevelUnlocked(n).level;if(v<1)return;var m=p.random(f.buildingStageCatOffset[v-1]);d=new l(m[0],m[1],0);break;case C.Hall_Right_Groomer_left:o=r.Instance().buildingRightGroomerLeft,d=f.buildingGroomerCatOffset;break;case C.Hall_Right_Groomer_right:o=r.Instance().buildingRightGroomerRight,d=f.buildingGroomerCatOffset,E=1;break;case C.Hall_Right_Exercise_left:o=r.Instance().buildingRightExerciseLeft,d=f.buildingExerciseCatOffset,_=["walk","idle_walk"];break;case C.Hall_Right_Exercise_right:o=r.Instance().buildingRightExerciseRight,d=f.buildingExerciseCatOffset,_=["walk","idle_walk"],E=1;break;case C.Hall_Right_Swing_left:o=r.Instance().buildingRightSwingLeft,d=f.buildingSwingCatOffset;break;case C.Hall_Right_Swing_right:o=r.Instance().buildingRightSwingRight,d=f.buildingSwingCatOffset,E=1}if(!o)return p.log("building.nil"),f.queueBuildingRight.set(n,!1),void(e&&(e.data.cushionPosId=-1,e.data.cushionTypeId=0));var T=function(){(I=o.getChildByName("spineQiehuan"))&&(I.active=!1);var a=o.getChildByName("spinePlayCat"+E.toString());a?(a.getComponent(g).catId=i,a.getComponent(g).freePos=E,a.getComponent(g).actionCustom=_,a.position=d.clone().add3f(0,50,0),a.active=!0):s.playCat(o,"textures@prefabs/spinePlayCat",d.clone().add3f(0,50,0),E,i,_),e.animation(2,"idle"),e.data.fnComplete=e.completeLeaveRight.bind(e,t,n,E,true,0,o),e.data.playTime=h,e.data.playTimeElapsed=0,e.data.playTimeAccelerated=0},I=o.getChildByName("spineQiehuan");I?(I.getComponent(u).fnComplete=T,I.active=!0,I.position=d.clone()):s.qiehuan(o,"textures@prefabs/spineQiehuan",d.clone(),"",T)},n.playCat=function(e){e.wantPlayDestroy();var t=e.data.tileHold;e.data.tileHold=null;var i=e.data.catId,n=e.data.cushionTypeId,a=e.data.cushionPosId,o=A.getRowsByTagId(i),d=R.getCatLevelUnlocked(i);if(0==d.level)return e.data.fnDispoint=e.dispointLeave.bind(e,n,a,true,!0,o.name),void this.scheduleOnce(e.data.fnDispoint,c.data.CustomerDispointLeaveDelayTime);var h=_.getOtherRowsByVip(R.data.vip),E=o.rewardMoney[d.level-1],v=o.playTime[d.level-1]*(null==h?1:R.data.score>=h.avgScore?.7:1.3),m=0;switch(n){case C.Hall_cushion_level12:m=0;break;case C.Hall_cushion_level14:m=1;break;case C.Hall_cushion_level16:m=2;break;case C.Hall_cushion_level21:m=3;break;case C.Hall_cushion_level23:m=4;break;case C.Hall_cushion_level25:m=5}var T=f.queueCushion.get(n),I=r.buildingCushion[m];if(!I)return p.log("coushion.spinePos:"+m+" is null"),T[a]=!1,f.queueCushion.set(n,T),(T=f.queuePlayCat.get(n))[a]=!1,f.queuePlayCat.set(n,T),void(e&&(e.data.cushionPosId=-1,e.data.cushionTypeId=0));var y=0==a?new l(-60,-20,0):new l(70,20,0),N=function(){(D=I.getChildByName("spineQiehuan"+a))&&(D.active=!1),y.y+=30,1==a&&(y.x-=15,y.y+=10);var l=I.getChildByName("spinePlayCat"+a.toString());l?(l.getComponent(g).catId=i,l.getComponent(g).freePos=a,l.active=!0):s.playCat(I,"textures@prefabs/spinePlayCat",y,a,i),e.animation(2,"idle2"),e.data.fnComplete=e.completeLeave.bind(e,t,n,a,true,E,I),e.data.playTime=v,e.data.playTimeElapsed=0,e.data.playTimeAccelerated=0},D=I.getChildByName("spineQiehuan"+a);D?(D.getComponent(u).fnComplete=N,D.active=!0):s.qiehuan(I,"textures@prefabs/spineQiehuan",y,a.toString(),N)},i}(o))||H);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneHallUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEvent.ts","./CCDefine.ts","./CCNative.ts","./CCSceneHall.ts","./CCDelivery.ts","./CCBuildingRightData.ts","./CCSceneMain.ts","./CCTween.ts","./CCPopupManager.ts"],(function(e){var t,i,a,o,n,l,s,r,d,h,m,c,p,u,g,f,B,v,C,b,y,D,I,S,A,H,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,s=e.Vec3,r=e.UITransform,d=e.Sprite,h=e.Label,m=e.sp,c=e.find,p=e.Component},function(e){u=e.default},function(e){g=e.CCPlayerData},function(e){f=e.default},function(e){B=e.CCEvent},function(e){v=e.EVENT_TYPE,C=e.HALL_INDEX,b=e.default},function(e){y=e.default},function(e){D=e.CCSceneHall},function(e){I=e.CCDelivery},function(e){S=e.default},function(e){A=e.CCSceneMain},function(e){H=e.CCTween},function(e){x=e.default}],execute:function(){var E,N,U,R,L,P,O,G,k,T,_,M,w;n._RF.push({},"6f013RQFM9KApbRif9s6+//","CCSceneHallUI",void 0);var F=l.ccclass,V=l.property;l.executeInEditMode,e("CCSceneHallUI",(E=F("CCSceneHallUI"),N=V({displayName:"(s)"}),U=V({displayName:""}),R=V({displayName:"(s)"}),L=V({displayName:"(s)"}),P=V({displayName:"(s)"}),E((k=t((G=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,a(t,"moveDuration",k,o(t)),a(t,"scaleRatio",T,o(t)),a(t,"scaleInDuration",_,o(t)),a(t,"scaleOutDuration",M,o(t)),a(t,"scaleInterval",w,o(t)),t.Hallwalllevel=null,t.SpriteScore=null,t.Hall_BM_BeiJing=null,t.ProgressBar=null,t.topArea=null,t.middleAreaLeft=null,t.middleAreaRight=null,t.bottomArea=null,t.topBtnAdEvent=null,t.leftBtnClan=null,t.middleBtnExpressDelivery=null,t.middleBtnBackpack=null,t.middleBtnDoubleIncome=null,t.middleBtnHelper=null,t.middleBtnAccelerate=null,t.bottomBtnPromotion=null,t.bottomBtnCatHouseUpgrade=null,t.bottomBtnGames=null,t.middleLeftMoved=[!1,!1,!1],t.middleRightMoved=[!1,!1,!1],t.bottomMoved=[!1,!1,!1],t.lastPageIdx=-1,t.leafletLast=0,t.numOfChallangeLast=0,t}i(t,e);var n=t.prototype;return n.start=function(){this.loadUI(),u.log("loadUI ... OK")},n.onLoad=function(){var t=this;e.prototype.onLoad&&e.prototype.onLoad.call(this),B.on(v.REFRESH_UI,this.refreshUI,this),B.on(v.EVENT_DEBUG_PANEL_ENABLED,this.onDebugPanelEnabled,this),B.on(v.DECORATION_DELIVERING,this.onDecorationDelivering,this),this.schedule((function(){t.refreshUI()}),1)},n.onDestroy=function(){this.unscheduleAllCallbacks(),B.targetOff(this),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},n.update=function(e){},n.refreshUI=function(e){var t,i,a=this;void 0===e&&(e=-1);var o=!1,n=!1;if(g.data.leftSceneUnlocked&&g.data.leftSceneUnlocked&&0==e&&(o=!0),g.data.rightSceneUnlocked&&g.data.rightSceneUnlocked&&2==e&&(n=!0),this.middleAreaLeft&&(!this.middleLeftMoved[A.pageIndex]||o||n)){this.middleLeftMoved[A.pageIndex]=!0;for(var l=0;l<3;l++)l!=A.pageIndex&&(this.middleLeftMoved[l]=!1);null==(t=this.middleAreaLeft.posOffset)?H.moveBy(this.middleAreaLeft,new s(125,0,0),this.moveDuration,(function(e){a.scaleChildren(a.middleAreaLeft,a.scaleRatio,a.scaleInDuration,a.scaleOutDuration,a.scaleInterval)})):!g.data.leftSceneUnlocked&&A.pageIndex==C.LEFT||!g.data.rightSceneUnlocked&&A.pageIndex==C.RIGHT?H.moveBy(this.middleAreaLeft,t.clone().multiply(new s(-1,0,0)).clone(),this.moveDuration,(function(e){e.posOffset=null})):this.scaleChildren(this.middleAreaLeft,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,this.scaleInterval)}if(this.middleAreaRight&&(!this.middleRightMoved[A.pageIndex]||o||n)){this.middleRightMoved[A.pageIndex]=!0;for(var p=0;p<3;p++)p!=A.pageIndex&&(this.middleRightMoved[p]=!1);null==(t=this.middleAreaRight.posOffset)?H.moveBy(this.middleAreaRight,new s(-150,0,0),this.moveDuration,(function(e){a.scaleChildren(a.middleAreaRight,a.scaleRatio,a.scaleInDuration,a.scaleOutDuration,a.scaleInterval)})):!g.data.leftSceneUnlocked&&A.pageIndex==C.LEFT||!g.data.rightSceneUnlocked&&A.pageIndex==C.RIGHT?H.moveBy(this.middleAreaRight,t.clone().multiply(new s(-1,0,0)).clone(),this.moveDuration,(function(e){e.posOffset=null})):this.scaleChildren(this.middleAreaRight,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,this.scaleInterval)}if(this.bottomArea&&(!this.bottomMoved[A.pageIndex]||o||n)){this.bottomMoved[A.pageIndex]=!0;for(var B=0;B<3;B++)B!=A.pageIndex&&(this.bottomMoved[B]=!1);var v=A.pageIndex==C.LEFT?"left":"bottom";-1==this.lastPageIdx&&(v="bottom",this.lastPageIdx=A.pageIndex);var b=1.1;if(t=this.bottomArea.posOffset,i=this.bottomArea.posOffsetExt||0,null==t){var y,I=null==(y=this.bottomArea.getComponent(r))?void 0:y.contentSize;H.moveBy(this.bottomArea,new s(0,I.height,0).add3f(0,i,0).clone(),this.moveDuration,(function(e){a.scaleChildren(a.bottomArea,a.scaleRatio,a.scaleInDuration,a.scaleOutDuration,a.scaleInterval,v)}))}else if(!g.data.leftSceneUnlocked&&A.pageIndex==C.LEFT||!g.data.rightSceneUnlocked&&A.pageIndex==C.RIGHT){var x=t.clone().y*(b-1);i=x!=i&&0==i?x*b:0,H.moveBy(this.bottomArea,t.clone().multiply3f(0,-1,0).add3f(0,-i,0).clone(),this.moveDuration,(function(e){i>0&&(e.posOffsetExt=i),e.posOffset=null})),D.topBtnSecrets&&u.enableChildren(D.topBtnSecrets.node,!1),g.data.leftSceneUnlocked||A.pageIndex!=C.LEFT||D.topSprExp&&u.enableChildren(D.topSprExp,!1),g.data.rightSceneUnlocked||A.pageIndex!=C.RIGHT||D.topSprGold&&u.enableChildren(D.topSprGold,!1)}else this.scaleChildren(this.bottomArea,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,this.scaleInterval,v)}this.middleBtnDoubleIncome&&(g.data.vip<f.data.UnlockExtraCoinNeedVIP?(this.middleBtnDoubleIncome.getComponent(d).grayscale=!0,this.middleBtnDoubleIncome.getChildByName("Sprite").getComponent(d).grayscale=!0):(this.middleBtnDoubleIncome.getComponent(d).grayscale=!1,this.middleBtnDoubleIncome.getChildByName("Sprite").getComponent(d).grayscale=!1));if(this.bottomBtnPromotion)if(g.data.vip<f.data.OutsideLevelUpNeedVIP)this.bottomBtnPromotion.getComponent(d).grayscale||(this.bottomBtnPromotion.getComponent(d).grayscale=!0,H.scale(this.bottomBtnPromotion,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnPromotion.getChildByName("Sprite").getComponent(d).grayscale=!0,a.bottomBtnPromotion.getChildByName("SpriteLeaflet").active=!1})));else{var E=this.bottomBtnPromotion.getChildByName("SpriteLeaflet");if(E){var N;this.bottomBtnPromotion.getComponent(d).grayscale&&(this.bottomBtnPromotion.getComponent(d).grayscale=!1,H.scale(this.bottomBtnPromotion,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnPromotion.getChildByName("Sprite").getComponent(d).grayscale=!1,a.bottomBtnPromotion.getChildByName("SpriteLeaflet").active=!0})));var U=null==(N=E.getChildByName("Label"))?void 0:N.getComponent(h);U&&this.leafletLast!=g.data.leaflet&&(this.leafletLast=g.data.leaflet,H.scale(E,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){U.string=g.data.leaflet+"/"+f.data.OutSideFlyerRecoverMax})))}}if(this.bottomBtnGames)if(g.data.rightSceneUnlocked){var R=this.bottomBtnGames.getChildByName("SpriteChallangeNum");if(R){var L,P=null==(L=R.getChildByName("Label"))?void 0:L.getComponent(h);P&&(this.bottomBtnGames.getComponent(d).grayscale?(this.bottomBtnGames.getComponent(d).grayscale=!1,H.scale(this.bottomBtnGames,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnGames.getChildByName("Sprite").getComponent(d).grayscale=!1,a.bottomBtnGames.getChildByName("SpriteChallangeNum").active=!0,P.string=g.getNumOfChallange()+"/"+S.getNumOfChallangeMax()}))):this.numOfChallangeLast!=g.getNumOfChallange()&&(this.numOfChallangeLast=g.getNumOfChallange(),H.scale(R,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){P.string=g.getNumOfChallange()+"/"+S.getNumOfChallangeMax()}))))}}else this.bottomBtnGames.getComponent(d).grayscale||(this.bottomBtnGames.getComponent(d).grayscale=!0,H.scale(this.bottomBtnGames,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnGames.getChildByName("Sprite").getComponent(d).grayscale=!g.data.rightSceneUnlocked,a.bottomBtnGames.getChildByName("SpriteChallangeNum").active=g.data.rightSceneUnlocked})));if(this.bottomBtnCatHouseUpgrade){var O=g.data.vip;O<f.data.UnlockHardwareNeedVIP?this.bottomBtnCatHouseUpgrade.getComponent(d).grayscale||(this.bottomBtnCatHouseUpgrade.getComponent(d).grayscale=!0,H.scale(this.bottomBtnCatHouseUpgrade,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnCatHouseUpgrade.getChildByName("Sprite").getComponent(d).grayscale=O<f.data.UnlockHardwareNeedVIP}))):this.bottomBtnCatHouseUpgrade.getComponent(d).grayscale&&(this.bottomBtnCatHouseUpgrade.getComponent(d).grayscale=!1,H.scale(this.bottomBtnCatHouseUpgrade,this.scaleRatio,this.scaleInDuration,this.scaleOutDuration,(function(e){a.bottomBtnCatHouseUpgrade.getChildByName("Sprite").getComponent(d).grayscale=O<f.data.UnlockHardwareNeedVIP})))}if(this.middleBtnHelper)if(-1==g.data.hotTaskId)this.middleBtnHelper.active=!1;else{var G,k=null==(G=this.middleBtnHelper.getChildByName("SpineTip"))?void 0:G.getComponent(m.Skeleton);if(k){var T=g.getHotTaskProcess(g.data.hotTaskId);T&&(k.setToSetupPose(),k.setBonesToSetupPose(),k.setSlotsToSetupPose(),k.clearAnimations(),k.clearTracks(),0==T.status?k.setAnimation(0,"animation",!0):k.setAnimation(1,"animation2",!0))}}if(this.topBtnAdEvent||(this.topBtnAdEvent=c("topBtnAdEvent",this.topArea)),this.topBtnAdEvent&&!this.topBtnAdEvent.active){var _=g.getHotTaskProcess(29);_&&1==_.status&&(this.topBtnAdEvent.active=!0)}},n.scaleChildren=function(e,t,i,a,o,n){var l=this;void 0===n&&(n="");var s=0;e.children.forEach((function(e){n.length>0&&!e.name.startsWith(n)?e.active=!1:(e==l.middleBtnExpressDelivery?b.ENABLE_NEWBIE_GUIDE&&!g.isNewbieAniCompleted()?l.middleBtnExpressDelivery.active=!1:l.middleBtnExpressDelivery.active=g.getBuildingDeliveringCount()>0:e==l.leftBtnClan?A.pageIndex==C.LEFT&&(u.enableChildren(l.bottomBtnCatHouseUpgrade,!1),D.topBtnSecrets&&u.enableChildren(D.topBtnSecrets.node,!1),D.topSprGold&&u.enableChildren(D.topSprGold,!1),D.topSprExp&&u.enableChildren(D.topSprExp,!0),e.active=!0):e==l.bottomBtnCatHouseUpgrade?A.pageIndex==C.MIDDLE?(u.enableChildren(l.bottomBtnCatHouseUpgrade,!0),D.topBtnSecrets&&u.enableChildren(D.topBtnSecrets.node,!0),D.topSprGold&&u.enableChildren(D.topSprGold,!1),D.topSprExp&&u.enableChildren(D.topSprExp,!1)):A.pageIndex==C.RIGHT&&(u.enableChildren(l.bottomBtnCatHouseUpgrade,!1),D.topBtnSecrets&&u.enableChildren(D.topBtnSecrets.node,!1),D.topSprGold&&u.enableChildren(D.topSprGold,!0),D.topSprExp&&u.enableChildren(D.topSprExp,!1)):e==l.bottomBtnGames?A.pageIndex==C.MIDDLE?u.enableChildren(l.bottomBtnGames,!1):u.enableChildren(l.bottomBtnGames,!0):e.active=!0,s+=i+o,H.scale(e,t,s,a))}))},n.onDebugPanelEnabled=function(e){this.topArea&&(this.topArea.active=!e),this.middleAreaLeft&&(this.middleAreaLeft.active=!e),this.middleAreaRight&&(this.middleAreaRight.active=!e),this.bottomArea&&(this.bottomArea.active=!e),g.setDebug(!e)},n.onDecorationDelivering=function(e){this.middleBtnExpressDelivery&&(this.middleBtnExpressDelivery.active=e>0)},n.loadUI=function(){var e,t,i,a,o,n,l,s,r,d,m,p,u,f,B,v,C,b,y,I,S,A,H;this.Hallwalllevel||(this.Hallwalllevel=null!=(e=null==(t=this.node)?void 0:t.getChildByName("Hall_wall_level"))?e:null);this.topArea||(this.topArea=null!=(i=null==(a=this.node)?void 0:a.getChildByName("topArea"))?i:null);this.middleAreaLeft||(this.middleAreaLeft=null!=(o=null==(n=this.node)?void 0:n.getChildByName("middleAreaLeft"))?o:null);this.middleAreaRight||(this.middleAreaRight=null!=(l=null==(s=this.node)?void 0:s.getChildByName("middleAreaRight"))?l:null);this.bottomArea||(this.bottomArea=null!=(r=null==(d=this.node)?void 0:d.getChildByName("bottomArea"))?r:null);D.dayTimer||(D.dayTimer=null==(m=c("dayTimer",this.node))?void 0:m.getComponent(h));(D.topDelivery||(D.topDelivery=c("topDelivery",this.node),D.topDelivery&&(D.topDelivery.active=!1)),this.middleBtnExpressDelivery||(this.middleBtnExpressDelivery=c("SceneHallUI/middleAreaLeft/middleBtnExpressDelivery",x.container)),this.middleBtnExpressDelivery&&(this.middleBtnExpressDelivery.active=!1),this.middleBtnBackpack)||(this.middleBtnBackpack=null!=(p=null==(u=this.middleAreaLeft)?void 0:u.getChildByName("middleBtnBackpack"))?p:null);this.middleBtnDoubleIncome||(this.middleBtnDoubleIncome=null!=(f=null==(B=this.middleAreaLeft)?void 0:B.getChildByName("middleBtnDoubleIncome"))?f:null);this.middleBtnHelper||(this.middleBtnHelper=null!=(v=null==(C=this.middleAreaRight)?void 0:C.getChildByName("middleBtnHelper"))?v:null,this.middleBtnHelper&&-1==g.data.hotTaskId&&(this.middleBtnHelper.active=!1));this.middleBtnAccelerate||(this.middleBtnAccelerate=null!=(b=null==(y=this.middleAreaRight)?void 0:y.getChildByName("middleBtnAccelerate"))?b:null);this.bottomBtnPromotion||(this.bottomBtnPromotion=null==(I=this.bottomArea)?void 0:I.getChildByName("bottomBtnPromotion"));this.bottomBtnCatHouseUpgrade||(this.bottomBtnCatHouseUpgrade=null==(S=this.bottomArea)?void 0:S.getChildByName("bottomBtnCatHouseUpgrade"));this.bottomBtnGames||(this.bottomBtnGames=null==(A=this.bottomArea)?void 0:A.getChildByName("bottomBtnGames"));this.leftBtnClan||(this.leftBtnClan=null==(H=this.bottomArea)?void 0:H.getChildByName("leftBtnClan"));this.fixUI(),this.refreshUI()},n.fixUI=function(){var e=u.GetDesignResolutionSize(),t=u.GetViewportRect(),i=u.GetSafeAreaRect(),a=(e.width,t.width,u.GetSafeAreaInsetsOrigin()),o=y.get("isCutoutScreen"),n=y.get("statusBarHeight"),l=y.get("navigationBarHeight");if(u.log("sa: "+i+" saOrigin: "+a+" statusBarHeight: "+n+" navigationBarHeight: "+l),this.getComponent(r).height=i.height,this.Hallwalllevel){var d=this.Hallwalllevel.getComponent(r);if(d){var h=i.height/2-this.Hallwalllevel.position.y;d.height=h}this.Hallwalllevel.setPosition(0,this.Hallwalllevel.position.y)}if(!this.SpriteScore&&(this.SpriteScore=c("SpriteScore",this.node),this.SpriteScore)){var m=this.SpriteScore.getComponent(r),p=m?m.height:0;u.fixHeader(this.SpriteScore,!1,!0,2*-p)}if(!this.ProgressBar&&(this.ProgressBar=c("ProgressBar",this.node),this.ProgressBar)){var g=this.ProgressBar.getComponent(r),f=g?g.height:0;u.fixHeader(this.ProgressBar,!1,!0,2*-f)}if(!this.Hall_BM_BeiJing&&(this.Hall_BM_BeiJing=c("Hall_BM_BeiJing",this.node),this.Hall_BM_BeiJing)){var B=this.Hall_BM_BeiJing.getComponent(r);if(B){var v=i.height/2-this.Hall_BM_BeiJing.position.y;B.height=v}this.Hall_BM_BeiJing.setPosition(0,this.Hall_BM_BeiJing.position.y)}if(this.topArea&&(u.fixHeader(this.topArea),D.dayTimer)){var C=0;if(this.topArea){var b=this.topArea.getComponent(r);C=b?b.height:0}u.fixHeader(D.dayTimer.node,!1,!0,-C)}if(this.bottomArea){u.fixFooter(this.bottomArea);var S=this.bottomArea.getComponent(r),A=S?S.height:0;if(u.fixFooter(this.middleAreaLeft,!1,!1,A),u.fixFooter(this.middleAreaRight,!1,!1,A),H.moveBy(this.bottomArea,new s(0,-A,0).clone(),0,(function(e){e.posOffset=null})),D.topDelivery||(D.topDelivery=c("topDelivery",this.node),D.topDelivery&&(D.topDelivery.active=!1)),D.topDelivery){var x=D.topDelivery.getComponent(r);A=x?x.height:0;var E=u.fixHeader(D.topDelivery,!0,!1,A+(o?n:0));D.topDelivery.getComponent(I)&&(D.topDelivery.getComponent(I).autoAnimation=!1,D.topDelivery.getComponent(I).originPos=new s(0,E,0)),D.topDelivery.active=!0}}},t}(p)).prototype,"moveDuration",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),T=t(G.prototype,"scaleRatio",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.3}}),_=t(G.prototype,"scaleInDuration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),M=t(G.prototype,"scaleOutDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),w=t(G.prototype,"scaleInterval",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),O=G))||O));n._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCScene.ts","./CCCacheRes.ts","./CCSundryData.ts","./CCBuildingData.ts","./CCCatRoomData.ts","./CCDailyTaskData.ts","./CCAchievementData.ts","./CCLingoData.ts","./CCFacadeData.ts","./CCCatFoodData.ts","./CCEventNpcData.ts","./CCCatData.ts","./CCGuideData.ts","./CCHostTasksData.ts","./CCNpcData.ts","./CCStaffData.ts","./CCRoomScoreData.ts","./CCPlayerData.ts","./CCUtils.ts","./CCAudioManager.ts","./CCDefine.ts","./CCEvent.ts","./CCButton.ts","./CCLottie.ts","./CCBuildingRightData.ts","./CCPropData.ts","./CCBuildingLeftData.ts","./CCCatUpgrade.ts","./CCDrawData.ts","./CCCatCompeti.ts","./CCQuestion.ts","./CCEventData.ts"],(function(e){var a,t,n,l,o,r,i,s,u,c,p,d,f,C,g,h,v,_,m,D,H,b,M,P,y,k,L,T,w,x,B,E,S,A,G,I,N,O,R,F,U,K,V,z,Q;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,u=e.ProgressBar,c=e.Label,p=e.sys},function(e){d=e.CCScene},function(e){f=e.default,C=e.CCResType},function(e){g=e.default},function(e){h=e.default},function(e){v=e.default},function(e){_=e.default},function(e){m=e.default},function(e){D=e.default},function(e){H=e.default},function(e){b=e.default},function(e){M=e.default},function(e){P=e.default},function(e){y=e.default},function(e){k=e.default},function(e){L=e.default},function(e){T=e.default},function(e){w=e.default},function(e){x=e.CCPlayerData},function(e){B=e.default},function(e){E=e.audioMgr},function(e){S=e.EVENT_TYPE,A=e.default},function(e){G=e.CCEvent},function(e){I=e.CCButton},function(e){N=e.default},function(e){O=e.default},function(e){R=e.default},function(e){F=e.default},function(e){U=e.default},function(e){K=e.default},function(e){V=e.default},function(e){z=e.default},function(e){Q=e.default}],execute:function(){var X,Y,j,J,q,W,Z;i._RF.push({},"8207f50fHVIYKXsY3bJvkN2","CCSceneLoading",void 0);var $=s.ccclass,ee=s.property;s.executeInEditMode,e("CCSceneLoading",(X=$("CCSceneLoading"),Y=ee({type:u}),j=ee({type:c}),X((W=a((q=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return a=e.call.apply(e,[this].concat(o))||this,n(a,"ProgressBar",W,l(a)),n(a,"Label",Z,l(a)),a.loadDone=!1,a}t(a,e);var i=a.prototype;return i.start=function(){e.prototype.start&&e.prototype.start.call(this),B.log("CCSceneLoading.start ---\x3e"),G.on(S.ACTIVATE_LOGIN_BTN,this.onActivateLoginBtn,this),G.on(S.UPDATE_COMPLETED,this.onUpdateCompleted,this)},i.update=function(e){},i.onLoad=function(){N.show("loading.json",.5),G.on(S.LOADING_PROGRESS_UPDATE,this.updateProgress,this),this.ProgressBar&&(this.ProgressBar.node.active=!0,this.ProgressBar.progress=0),this.Label&&(this.Label.string=""),this.onActivateLoginBtn(!1),this.loaddata(this),e.prototype.onLoad&&e.prototype.onLoad.call(this)},i.onEnable=function(){this.loadDone=!1,E.playMusic("catbgm2")},i.onDisable=function(){G.targetOff(this),this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},i.onUpdateCompleted=function(){var e=this;this.schedule((function a(){e.loadDone&&(e.onActivateLoginBtnEnable(),e.unschedule(a))}),1)},i.onActivateLoginBtnEnable=function(){N.dismiss(),this.node.parent.children.forEach((function(e){var a=e.getComponent(I);a&&a.onMoveIn()}))},i.onActivateLoginBtn=function(e){if(e){if(p.isNative&&A.NATIVE_ENABLE_IN_APP_UPDATE)return;this.onActivateLoginBtnEnable()}else this.node.parent.children.forEach((function(e){var a=e.getComponent(I);a&&a.onMoveOut()}))},i.updateProgress=function(e){this.ProgressBar&&(this.ProgressBar.progress+=e),this.Label&&(this.Label.string=(100*this.ProgressBar.progress).toFixed(2)+"%")},i.loadFonts=function(){var e=o(r().mark((function e(){var a,t,n,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,l=(a=["SourceHanSansCN"]).map(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.load({bundleName:"font",relativePath:l,resType:C.Font}).then(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=4;break}return n++,B.error("loadFonts.total: "+t+"/"+a.length+" -> "+l.name+" ... Failed"),e.abrupt("return");case 4:t++,B.log("loadFonts.total: "+t+"/"+a.length+" -> "+l.name+" ... OK");case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(l);case 6:B.log("loadFonts.total: "+t+"/"+a.length+" failed: "+n+" ... OK");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.loadTextures=function(){var e=o(r().mark((function e(){var a,t,n,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,l=(a=[["Hall_aircondition_level","Hall_aircondition_level","01"],["Hall_carpet_level","Hall_carpet_level-0","01"],["Hall_carpet_level","Hall_carpet_level-1","10"],["Hall_cash register_level","Hall_cash register_level","01"],["Hall_cat_tree_level","Hall_cat_tree_level","01"],["Hall_coffee_machine_level","Hall_coffee_machine_level","01"],["Hall_cushion_level","Hall_cushion_level","01"],["Hall_dessert_level","Hall_dessert_level","01"],["Hall_door_level","Hall_door_level","01"],["Hall_drink_level","Hall_drink_level","01"],["Hall_floor_level","Hall_floor_level","01"],["Hall_souvenir_level","Hall_souvenir_level","01"],["Hall_speaker_level","Hall_speaker_level","01"],["Hall_street_level","Hall_street_level","01"],["Hall_vase_level","Hall_vase_level","01"],["Hall_wall_level","Hall_wall_level","01"],["Hall_wallpaper_level","Hall_wallpaper_level","01"],["Hall_wifi_level","Hall_wifi_level","01"]]).map(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.load({bundleName:"textures",relativePath:"Texture2D/"+l[0]+"/"+l[1]+"/"+l[0]+l[2],resType:C.SpriteFrame}).then(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=4;break}return n++,B.error("loadTextures.total: "+t+"/"+a.length+" -> "+l.name+" ... Failed"),e.abrupt("return");case 4:t++,B.log("loadTextures.total: "+t+"/"+a.length+" -> "+l.name+" ... OK");case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(l);case 6:B.log("loadTextures.total: "+t+"/"+a.length+" failed: "+n+" ... OK");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.loadPrefabs=function(){var e=o(r().mark((function e(){var a,t,n,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n=0,l=(a=["dropdownDelivery","floatingBanner","floatingTips","panelBackpack","panelCatHouseHuntNotEnough","panelCatHouseUpgrade","panelCatHouseUpgradeItem","panelCatHouseUpgradeRanking","panelClanManagement","panelClanManagementItemFacility","panelClanManagementItemMember","panelCommon","panelDecorationDelivery","panelDecorationDeliveryItem","panelExtraClicks","panelHotTask","panelManagement","panelManagementCat","panelManagementCatDetails","panelManagementCatItem","panelManagementDecoration","panelManagementDecorationDetails","panelManagementDecorationItem","panelManagementStaff","panelManagementStaffDetails","panelManagementStaffItem","panelMatch","panelMatchItemChapter","panelMatchRound","panelMiniGameBridge","panelMiniGameCatAndMouse","panelMiniGameCatAndMouseEvent","panelMiniGameCatAndMouseGameOver","panelMiniGameCatAndMouseQA","panelMiniGameCollect","panelMiniGameCollectGameOver","panelMiniGameDragonfly","panelMiniGameExtraClicks","panelMiniGameList","panelMiniGameListItem","panelMiniGameListItemDetails","panelMiniGameLuckyDraws","panelMiniGameLuckyDrawsItem","panelMiniGameOver","panelNetworkRetry","panelNpcUnlocked","panelOutside","panelOutsideUpgrade","panelProductsSale","panelRecharge","panelRechargeGold","panelRepair","panelSecrets","panelSettingGrid","panelTask","panelTaskItemSpecial","panelTaskItemTask","panelTaskSpecialSingle","panelTourGuide","PropItem","PropRow","spineBubbles","spineChouqi","spineGuide","spineHezuo","spineJiasu","spineLoading","spineMoney","spinePlayCat","spinePohuai","spinePohuaibo","spineQiehuan","spineSaHua","spineSaoba","spineVip","spineWantPlay","spineXiaoshou","spineXiuli","SpriteTimer"]).map(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.load({bundleName:"textures",relativePath:"prefabs/"+l,resType:C.Prefab}).then(o(r().mark((function e(l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=4;break}return n++,B.error("loadPrefabs.total: "+t+"/"+a.length+" -> "+l.name+" ... Failed!"),e.abrupt("return");case 4:t++,B.log("loadPrefabs.total: "+t+"/"+a.length+" -> "+l.name+" ... OK");case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(l);case 6:B.log("loadPrefabs.total: "+t+"/"+a.length+" failed: "+n+" ... OK");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.loaddata=function(){var e=o(r().mark((function e(a){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.cost([a.loadFonts,B.fnc(D),a.loadTextures,a.loadPrefabs,g.load,m.load,h.load,F.load,O.load,V.load,P.load,b.load,v.load,U.load,_.load,K.load,M.load,Q.load,H.load,y.load,k.load,R.load,z.load,L.load,w.load,T.load,A.init]);case 2:return t=e.sent,n=t.cost,t.costArr,B.log("loadData.cost: "+n+"s"),x.initHotTaskProgress(),a.loadDone=!0,a.ProgressBar.node.active=!1,G.emit(S.ACTIVATE_LOGIN_BTN,!0),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),a}(d)).prototype,"ProgressBar",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=a(q.prototype,"Label",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=q))||J));i._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEvent.ts","./CCDefine.ts","./CCSceneHall.ts","./CCScene.ts","./CCButton.ts","./CCPopupManager.ts","./CCEffct.ts","./CCLingoData.ts","./CCAudioManager.ts","./CCRichText.ts"],(function(e){var t,n,i,a,o,l,r,c,s,d,h,g,u,f,p,C,B,U,S,I,L,m,b,R,k,w,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,r=e.PageView,c=e.Sprite,s=e.find,d=e.Vec3,h=e.ScrollView},function(e){g=e.default},function(e){u=e.CCPlayerData},function(e){f=e.default},function(e){p=e.CCEvent},function(e){C=e.HALL_INDEX,B=e.EVENT_TYPE,U=e.default,S=e.BuildingTypeId},function(e){I=e.CCSceneHall},function(e){L=e.CCScene},function(e){m=e.CCButton},function(e){b=e.default},function(e){R=e.CCEffect},function(e){k=e._T},function(e){w=e.audioMgr},function(e){_=e.CCRichText}],execute:function(){var x,y,E,T,H,D,v,A,P,M,N;o._RF.push({},"d8213/kEtFBVY28bfl+XQKV","CCSceneMain",void 0);var V=l.ccclass,F=l.property,G=(l.executeInEditMode,l.executionOrder);e("CCSceneMain",(x=V("CCSceneMain"),y=G(0),E=F({type:r,tooltip:"PageView"}),T=F({type:[c],tooltip:""}),H=F({}),x(D=y(((N=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pageView",A,a(t)),i(t,"SpriteNet",P,a(t)),i(t,"scrollDuration",M,a(t)),t.events=[],t.targetNode=null,t.middleBtnArrowLeft=null,t.middleBtnArrowRight=null,t.Block=null,t.Gray=null,t.btnRightUnlock=null,t.LabelRightUnlock=null,t}n(t,e),t.Instance=function(){return this.instance},t.getSceneUI=function(){var e=this.instance.node.getParent();return e?e.getChildByName("SceneUI"):null};var o=t.prototype;return o.onLoad=function(){var n,i,a,o,l,r;(e.prototype.onLoad&&e.prototype.onLoad.call(this),g.log("CCSceneMain onLoad"),t.instance=this,b.container=t.getSceneUI(),this.Block||(this.Block=s("SceneHallUI/Block",t.getSceneUI())),this.Gray||(this.Gray=s("SceneHallUI/Gray",t.getSceneUI())),this.btnRightUnlock)||(this.btnRightUnlock=null==(a=s("SceneHallUI/btnRightUnlock",t.getSceneUI()))?void 0:a.getComponent(m));this.LabelRightUnlock||(this.LabelRightUnlock=null==(o=s("SceneHallUI/btnRightUnlock/LabelRightUnlock",t.getSceneUI()))?void 0:o.getComponent(_));(this.enableBlock(!1,k("")),this.middleBtnArrowLeft)||(this.middleBtnArrowLeft=null==(l=s("SceneHallUI/btnArrowLeft",t.getSceneUI()))?void 0:l.getComponent(m),this.middleBtnArrowLeft&&this.middleBtnArrowLeft.enableCCButtonListener(this,!0,!1,this.onBtnPressStart));this.middleBtnArrowRight||(this.middleBtnArrowRight=null==(r=s("SceneHallUI/btnArrowRight",t.getSceneUI()))?void 0:r.getComponent(m),this.middleBtnArrowRight&&this.middleBtnArrowRight.enableCCButtonListener(this,!0,!1,this.onBtnPressStart));this.targetNode=null==(n=this.pageView)?void 0:n.content.getChildByName("Middle"),null==(i=this.pageView)||i.node.on("page-turning",this.onPageTurning,this),p.on(B.EVENT_KEY_CTRL_DOWN,this.onKeyCtrlDown,this),p.on(B.SKIP_NEWBIE_ANIMATION,this.onSkipNewbieAnimation,this)},o.onDestroy=function(){this.btnRightUnlock&&this.btnRightUnlock.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.middleBtnArrowLeft&&this.middleBtnArrowLeft.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),this.middleBtnArrowRight&&this.middleBtnArrowRight.enableCCButtonListener(this,!1,!1,this.onBtnPressStart),g.log("CCSceneMain onDestroy"),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),g.log("CCSceneMain onEnable"),this.autoScrollToHallMiddle()},o.onDisable=function(){g.log("CCSceneMain onDisable"),this.pageView&&this.pageView.node.off("page-turning",this.onPageTurning,this),p.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.onPageTurning=function(e){var n=this.pageView.getCurrentPageIndex();if(t.pageIndexLast=t.pageIndex,t.pageIndex=n,g.log("onPageTurning.index: "+t.pageIndexLast+" -> "+t.pageIndex),p.emit(B.EVENT_MAIN_PAGE_TURNING),p.emit(B.REFRESH_UI),this.enableBlock(!1,""),t.pageIndex==C.LEFT)this.middleBtnArrowLeft.enableCCButtonListenerWithoutTarget(!1),this.middleBtnArrowLeft.enableButton(!1),this.middleBtnArrowRight.enableCCButtonListenerWithoutTarget(!0),this.middleBtnArrowRight.enableButton(!0),u.data.leftSceneUnlocked||(this.enableBlock(!0,"<size=30><img src='main_icon01' width=49 height=33 offset=5/> x"+f.data.LeftSceneUnlock[0]+" <img src='main_icon02' width=49 height=33 offset=5/> x"+f.data.LeftSceneUnlock[1]+" Unlock</size>"),this.enableSpiderNet(!1));else if(t.pageIndex==C.MIDDLE)this.middleBtnArrowLeft.enableCCButtonListenerWithoutTarget(!0),this.middleBtnArrowLeft.enableButton(!0),this.middleBtnArrowRight.enableCCButtonListenerWithoutTarget(!0),this.middleBtnArrowRight.enableButton(!0);else if(t.pageIndex==C.RIGHT){this.middleBtnArrowLeft.enableCCButtonListenerWithoutTarget(!0),this.middleBtnArrowLeft.enableButton(!0),this.middleBtnArrowRight.enableCCButtonListenerWithoutTarget(!1),this.middleBtnArrowRight.enableButton(!1),u.data.rightSceneUnlocked||this.enableBlock(!0,"<size=30><img src='main_icon01' width=49 height=33 offset=5/> x"+f.data.RightSceneUnlock[0]+" <img src='main_icon02' width=49 height=33 offset=5/> x"+f.data.RightSceneUnlock[1]+" Unlock</size>")}},o.enableSpiderNet=function(e){this.SpriteNet.forEach((function(t){t.node.active=e}))},o.enableBlock=function(e,t){this.Block&&(this.Block.position=e?new d(0,0,0):U.INFINITY_VEC3.clone()),this.Gray&&(this.Gray.position=e?new d(0,0,0):U.INFINITY_VEC3.clone()),this.btnRightUnlock&&(this.btnRightUnlock.enableCCButtonListener(this,e,!1,this.onBtnPressStart),this.btnRightUnlock.enableButton(e),g.setRichTextString(this.LabelRightUnlock,t,"textures@Texture2D/Hall_UI/Hall_UI"),this.LabelRightUnlock.node.active=e),this.enableSpiderNet(e)},o.onKeyCtrlDown=function(e){var t=this.pageView.getComponent(h);t&&(t.enabled=!e)},o.autoScrollToHallMiddle=function(){this.pageView&&t.pageIndex==C.LEFT&&this.pageView.scrollToPage(1,.01)},o.onSkipNewbieAnimation=function(){p.emit(B.GAME_LOOP,this)},o.unlockBuildingLeft=function(e){u.setBuildingIdPurchased(e,0),u.setBuildingLevelUnlocked(e,0),u.setBuildingLevelUsing(e,0),p.emit(B.REFRESH_BUILDING_LEFT,e,0)},o.onBtnPressStart=function(e,n,i){if(g.log("onBtnPressStart.idx: "+n),0!=n)t.pageIndex==C.LEFT?2==n&&e.pageView.scrollToPage(1,e.scrollDuration):t.pageIndex==C.RIGHT?1==n&&e.pageView.scrollToPage(1,e.scrollDuration):t.pageIndex==C.MIDDLE&&(1==n?e.pageView.scrollToPage(0,e.scrollDuration):2==n&&e.pageView.scrollToPage(2,e.scrollDuration));else{if(t.pageIndex==C.LEFT){var a=u.data.money,o=u.data.vip;return a<f.data.LeftSceneUnlock[0]&&o<f.data.LeftSceneUnlock[1]?(R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x"+f.data.LeftSceneUnlock[0]," <img src='main_icon02' width=49 height=33 offset=5/> x"+f.data.LeftSceneUnlock[1]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed")):a<f.data.LeftSceneUnlock[0]?(R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",f.data.LeftSceneUnlock[0]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed")):o<f.data.LeftSceneUnlock[1]?(R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=5/> x",f.data.LeftSceneUnlock[1]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed")):(e.playFireWorks(),I.addMoney(-f.data.LeftSceneUnlock[0]),u.data.leftSceneUnlocked=!0,u.save(),e.enableBlock(!1,""),w.playEffect("success"),Object.keys(f.data.CatBuildRela).forEach((function(e){u.setCatUpgradeUsing(parseInt(e,10),1,0,0)})),e.unlockBuildingLeft(S.Hall_Left_BM_TaoQuanQuanTian),e.unlockBuildingLeft(S.Hall_Left_BM_DaDiS),e.unlockBuildingLeft(S.Hall_Left_BM_BaiBan),e.unlockBuildingLeft(S.Hall_Left_BM_PaoBJ),e.unlockBuildingLeft(S.Hall_Left_BM_MuZhuang),f.data.LeftSceneUnlockReward.forEach((function(e){u.addPropCount(e[0],e[1])})),void p.emit(B.REFRESH_UI,0))}if(t.pageIndex==C.RIGHT){var l=u.data.money,r=u.data.vip;if(l<f.data.RightSceneUnlock[0]&&r<f.data.RightSceneUnlock[1])return R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x"+f.data.RightSceneUnlock[0]," <img src='main_icon02' width=49 height=33 offset=5/> x"+f.data.RightSceneUnlock[1]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed");if(l<f.data.RightSceneUnlock[0])return R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon01' width=55 height=47 offset=0/> x",f.data.RightSceneUnlock[0]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed");if(r<f.data.RightSceneUnlock[1])return R.toast(I.SceneHallUI,"textures@prefabs/floatingBanner",""+k(f.data.CatRoomPartUI10,"<img src='main_icon02' width=49 height=33 offset=5/> x",f.data.RightSceneUnlock[1]),"textures@Texture2D/Hall_UI/Hall_UI"),void w.playEffect("failed");e.playFireWorks(),I.addMoney(-f.data.RightSceneUnlock[0]),u.data.rightSceneUnlocked=!0,u.save(),e.enableBlock(!1,""),w.playEffect("success"),p.emit(B.REFRESH_BUILDING_RIGHT,S.Hall_Right_Bar,1),p.emit(B.REFRESH_UI,2)}}},o.playFireWorks=function(){for(var e=this,n=g.GetSafeAreaRect(),i=n.width/4,a=n.height/4,o=[[-1,-1],[-1,1],[1,1],[1,-1],[0,0]],l=new d(0,0,0),r=function(n){var r=g.randomOnly(o),c=r.value,s=r.rest;e.scheduleOnce((function(){R.sahua(t.getSceneUI(),"textures@prefabs/spineSaHua",l.clone().add3f(i*c[0],a*c[1],0)),g.log("i: "+n+" ratio: "+c+" width: "+i*c[0]+" height: "+a*c[1])}),n*(.25+g.randomRangeRightClosed(0,1))),o=s},c=0;c<5;c++)r(c)},t}(L)).pageIndexLast=C.LEFT,N.pageIndex=C.LEFT,N.instance=null,A=t((v=N).prototype,"pageView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"SpriteNet",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(v.prototype,"scrollDuration",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),D=v))||D)||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneManager.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ae582jxuwlFYL5dsSQGsais","CCSceneManager",void 0),e("CCSceneManager",function(){function e(){this.currentSceneNode=null}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance};var n=e.prototype;return n.setSceneNode=function(e){this.currentSceneNode=e},n.getSceneNode=function(){return this.currentSceneNode},n.getCurrentScene=function(){var e;return(null==(e=this.currentSceneNode)?void 0:e.name)||""},e}()).instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/CCSceneNewBieAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCPlayerData.ts","./CCEvent.ts","./CCDefine.ts","./CCButton.ts","./CCLingoData.ts"],(function(e){var t,n,i,o,r,a,c,l,s,u,p,b,f,h,d,v,C,y,g,B,N,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.Node,u=e.sp,p=e.Sprite,b=e.Label,f=e.find,h=e.Component},function(e){d=e.default},function(e){v=e.DEV},function(e){C=e.CCPlayerData},function(e){y=e.CCEvent},function(e){g=e.EVENT_TYPE,B=e.default},function(e){N=e.CCButton},function(e){k=e._T}],execute:function(){var m,E,w,S,x,A,I,L,D,T,_,P,z,O,M,R,K,W,F,G;c._RF.push({},"fb5033oQF1IR6lcMnXy7HyD","CCSceneNewBieAnimation",void 0);var H=l.ccclass,U=l.property,V=(l.executeInEditMode,l.executionOrder),j=[{background:"",spine:[{idx:"1",loop:!1},{idx:"1_2",loop:!0}]},{background:"2",spine:[{idx:"2",loop:!0}]},{background:"2",spine:[{idx:"3",loop:!0}]},{background:"4",spine:[{idx:"4",loop:!0}]},{background:"5",spine:[{idx:"5",loop:!0}]},{background:"6",spine:[{idx:"6",loop:!0}]}];e("CCSceneNewBieAnimation",(m=H("CCSceneNewBieAnimation"),E=V(1),w=U({type:s,tooltip:v}),S=U({type:u.Skeleton,tooltip:v}),x=U({type:p,tooltip:v}),A=U({type:N,tooltip:v}),I=U({type:N,tooltip:v}),L=U({type:b,tooltip:v}),D=U({type:p,tooltip:v}),T=U({type:b,tooltip:v}),m(_=E((z=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"cg",z,o(t)),i(t,"spine",O,o(t)),i(t,"sprBottom",M,o(t)),i(t,"btnSkip",R,o(t)),i(t,"btnNext",K,o(t)),i(t,"labelTalk",W,o(t)),i(t,"spriteBubble",F,o(t)),i(t,"labelLetter",G,o(t)),t}n(t,e);var c=t.prototype;return c.onEnable=function(){var t=r(a().mark((function t(){var n,i,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.prototype.onEnable&&e.prototype.onEnable.call(this),B.ENABLE_NEWBIE_GUIDE&&!C.isNewbieAniCompleted()){t.next=5;break}return this.node.active=!1,this.scheduleOnce((function(){y.emit(g.SKIP_NEWBIE_ANIMATION)}),0),t.abrupt("return");case 5:return(n=f("Block",this.node))&&(n.active=!0),(i=f("Gray",this.node))&&(i.active=!0),this.cg.forEach((function(e){e.active=!1})),this.spine.forEach((function(e){e.node.active=!1})),this.btnSkip.forEach((function(e){e.enableCCButtonListener(o,!0,!0,o.onBtnPressStart)})),this.btnNext.forEach((function(e){e.enableCCButtonListener(o,!0,!0,o.onBtnPressStart)})),t.next=15,this.syncNewbieAni(0,j[0]);case 15:d.log("CCSceneNewBie ... OK");case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onDisable=function(){var t=this;this.btnSkip.forEach((function(e){e.enableCCButtonListener(t,!1,!1,t.onBtnPressStart)})),this.btnNext.forEach((function(e){e.enableCCButtonListener(t,!1,!1,t.onBtnPressStart)})),this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},c.syncNewbieAni=function(e,t){var n=this;return new Promise((function(i){if(t.background.length>0){var o,r=null==(o=f("cg"+t.background+"/SpriteBackground"+t[0],n.node))?void 0:o.getComponent(p);r&&(r.node.active=!0)}n.enableSpine(e,!0,t.spine)}))},c.enableSpine=function(e,t,n){this.cg.forEach((function(e){e.active=!1}));var i=this.cg[e];i&&(i.active=!0),this.sprBottom[e].node.active=!1,this.btnNext[e].node.active=!1,this.labelTalk[e].node.active=!1,this.spine.forEach((function(e){e.node.active=!1}));var o=this.spine[e];if(o){o.node.active=t;var r=n[0],a=o.setAnimation(0,""+r.idx,r.loop);a&&(r.loop||o.setTrackCompleteListener(a,(function(t){0==e&&0==a.trackIndex&&2==n.length&&(d.spineReset(o),o.setAnimation(1,""+n[1].idx,n[1].loop))})),this.showLabelTalk(e))}return o},c.showLabelTalk=function(e){var t=this;this.btnNext.forEach((function(e){e.node.active=!1})),this.sprBottom[e].node.active=!0;var n=this.btnNext[e];n.node.active=!1;var i=this.labelTalk[e];i.node.active=!0;var o=k("StoryDialogue"+10*(e+1)),r=o.length;i.string="",2!=e&&(this.spriteBubble.node.active=!1,this.labelLetter.node.active=!1),this.unscheduleAllCallbacks();for(var a=0;a<r;a++)!function(e,n){t.scheduleOnce((function(){var t=o.substring(e,e+1);i.string+=t}),.05*e)}(a);this.scheduleOnce((function(){2==e&&(t.spriteBubble.node.active=!0,t.labelLetter.node.active=!0,t.labelLetter.string=k("StoryDialogue"+(10*(e+1)+1))),n.node.active=!0}),.05*r)},c.onBtnPressStart=function(e,t,n){switch(t){case 1:case 2:case 3:case 4:case 5:e.syncNewbieAni(t,j[t]);break;case 6:C.setNewbieAniCompleted(),y.emit(g.SKIP_NEWBIE_ANIMATION),e.node.active=!1;break;case 11:case 12:case 13:case 14:case 15:e.syncNewbieAni(t-10,j[t-10]);break;case 16:C.setNewbieAniCompleted(),y.emit(g.SKIP_NEWBIE_ANIMATION),e.node.active=!1}},t}(h)).prototype,"cg",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(P.prototype,"spine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(P.prototype,"sprBottom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(P.prototype,"btnSkip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(P.prototype,"btnNext",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(P.prototype,"labelTalk",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(P.prototype,"spriteBubble",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(P.prototype,"labelLetter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=P))||_)||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/CCScreenAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(e){var t,i,n,r,o,a,s,h,d,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,h=e.Widget,d=e.view,c=e.UITransform,p=e.Component},function(e){u=e.default}],execute:function(){var l,f,g,C,w,v;o._RF.push({},"e249f7mV1hENo2EqbgSs7zP","CCScreenAdapter",void 0);var m=a.ccclass,y=a.property,A=a.menu,S=e("CCAdapterMode",function(e){return e[e[""]=0]="",e[e[""]=1]="",e[e[""]=2]="",e}({}));e("CCScreenAdapter",(l=m("CCScreenAdapter"),f=A("Public/CCScreenAdapter"),g=y({type:s(S),displayName:""}),l(C=f((v=t((w=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"adapterMode",v,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){var e=this.node.getComponent(h);e&&(e.enabled=!1),this.updateAdapter(),d.on("canvas-resize",this.updateAdapter,this)},o.updateAdapter=function(){var e,t=d.getVisibleSize(),i=u.GetViewportRect(),n=this.node.position,r=null!=(e=this.node._uiProps._uiTransformComp)?e:this.node.addComponent(c);switch(this.adapterMode){case S.:var o=this.node.scale,a=t.width/r.width,s=t.height/r.height;u.log("updateAdapter.winSize:"+t+" rc:"+i+" pos:"+n+" scale:"+o+" scaleX:"+a+" scaleY:"+s+" ut: "+r.width+","+r.height),this.node.setScale(a,s,1),this.node.setPosition(t.width*(r.anchorX-.5),t.height*(r.anchorY-.5));break;case S.:var h=t.width/t.height>r.width/r.height?t.height/r.height:t.width/r.width;this.node.setScale(h,h,1),this.node.setPosition(r.width*h*(r.anchorX-.5),r.height*h*(r.anchorY-.5))}},o.onDestroy=function(){d.off("canvas-resize",this.updateAdapter,this)},t}(p)).prototype,"adapterMode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.}}),C=w))||C)||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCScrollInfinity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCUtils.ts","./CCBoxCollider2D.ts"],(function(i){var e,o,t,n,r,s,l,a,h,c,p,f,d,u,v,y,g,m,b;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createForOfIteratorHelperLoose},function(i){s=i.cclegacy,l=i._decorator,a=i.Enum,h=i.Sprite,c=i.Node,p=i.UITransform,f=i.instantiate,d=i.tween,u=i.Vec3,v=i.director,y=i.Component},function(i){g=i.DEV},function(i){m=i.default},function(i){b=i.CCBoxCollider2D}],execute:function(){var S,C,x,w,O,N,D,z,P,M,k,I,L,E,T,B,A,H,F,V,_,W,R;s._RF.push({},"24d45eR/dNMd51GPC7i5V/t","CCScrollInfinity",void 0);var G=l.ccclass,U=l.property,j=function(i){return i[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",i}(j||{});i("CCScrollInfinity",(S=G("CCScrollInfinity"),C=U({type:a(j),displayName:"",tooltip:g}),x=U({type:h,displayName:"",tooltip:g}),w=U({type:c,displayName:""}),O=U({displayName:"",tooltip:g}),N=U({displayName:"",tooltip:g}),D=U({displayName:"",tooltip:g}),z=U({displayName:"",tooltip:g}),P=U({displayName:""}),M=U({displayName:""}),k=U({displayName:"(s)",tooltip:g}),S((E=e((L=function(i){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,t(e,"scrollDirect",E,n(e)),t(e,"spriteTiled",T,n(e)),t(e,"origin",B,n(e)),t(e,"autoScroll",A,n(e)),t(e,"scrollSpeed",H,n(e)),t(e,"loop",F,n(e)),t(e,"reverse",V,n(e)),t(e,"removeOriginAfterOverflowScreen",_,n(e)),t(e,"overflowScreenOffset",W,n(e)),t(e,"checkLoopInterval",R,n(e)),e.onNodeCreated=null,e.onNodeDisable=null,e.nodes=[],e.fnScroll=null,e.fnCheckLoop=null,e}o(e,i);var s=e.prototype;return s.onEnable=function(){i.prototype.onEnable&&i.prototype.onEnable.call(this),this.spriteTiled&&(this.spriteTiled.type!==h.Type.TILED&&(this.spriteTiled.type=h.Type.TILED),this.spriteTiled.node.active=!0);var e=m.GetDesignResolutionSize(),o=this.node.getComponent(p),t=o.width,n=o.height,r=0;r=this.scrollDirect===j.Horizontal?Math.ceil(e.width/t)+2:Math.ceil(e.height/n)+2;var s=0;this.nodes=[],this.origin.origin=!0,this.nodes.push(this.origin),this.onNodeCreated&&this.onNodeCreated(this.origin,0);for(var l=0;l<r;l++){var a=f(this.origin);a.name=a.name+"_"+l,s=this.origin.parent.children.length,this.origin.parent.insertChild(a,s-(l+1)),this.scrollDirect===j.Horizontal?a.setPosition(this.origin.position.x+(l+1)*t,this.origin.position.y):a.setPosition(this.origin.position.x,this.origin.position.y+(l+1)*n),this.nodes.push(a),this.onNodeCreated&&this.onNodeCreated(a,l+1)}!this.fnCheckLoop&&this.checkLoopInterval>0&&(this.fnCheckLoop=this.checkLoop.bind(this),this.schedule(this.fnCheckLoop,this.checkLoopInterval)),this.fnScroll||(this.fnScroll=this.scroll.bind(this),this.schedule(this.fnScroll,0))},s.onDisable=function(){this.fnScroll&&(this.unschedule(this.fnScroll),this.fnScroll=null,this.unscheduleAllCallbacks(),this.nodes.forEach((function(i){i.destroy()})),this.nodes=[],i.prototype.onDisable&&i.prototype.onDisable.call(this))},s.startScroll=function(){m.log("InfinityScroll started"),this.autoScroll=!0},s.stopScroll=function(){m.log("InfinityScroll stopped"),this.autoScroll=!1},s.reset=function(i,e,o){if(void 0===i&&(i=!0),void 0===e&&(e=.3),void 0===o&&(o=null),0!==this.nodes.length){for(var t=this.nodes[0].getComponent(p).width,n=0,r=this.nodes.length,s=!1,l=0;l<this.nodes.length;l++){var a=l*t,h=this.nodes[l];i?d(h).to(e,{position:new u(a,h.position.y,h.position.z)}).call((function(){++n!=r||s||(s=!0,o&&o())})).start():h.setPosition(a,h.position.y)}i||o&&o()}},s.scrollByOffset=function(i,e,o,t){if(void 0===e&&(e=!1),void 0===o&&(o=0),void 0===t&&(t=null),e)for(var n,s=!1,l=r(this.nodes);!(n=l()).done;){var a=n.value;d(a).to(o,{position:new u(a.position.x+i.x,a.position.y+i.y,a.position.z+i.z)}).call((function(){s||(s=!0,t&&t())})).start()}else{for(var h,c=r(this.nodes);!(h=c()).done;){var p=h.value;p.setPosition(p.position.x+i.x,p.position.y+i.y,p.position.z+i.z)}t&&t()}},s.getNodeInScreen=function(i,e){if(0===this.nodes.length)return[];for(var o,t=this.nodes[0].getComponent(p).width,n=(v.getScene().getChildByName("Canvas").getComponent(p).getBoundingBoxToWorld(),[]),s=[],l=r(this.nodes);!(o=l()).done;){var a=o.value;a.getComponent(p),a.position.x>-t&&a.position.x<t?n.push(a):s.push(a)}return i&&s.forEach((function(i){var o=i.getChildByName("block");o&&(e.forEach((function(i){m.removeChildren(o,i)})),m.log("Node["+i.name+"].pos["+i.position.clone()+"] ... remove block and pole"))})),m.log("getNodeInScreen: "+n.length+" nodes visible"),(n=n.sort((function(i,e){return i.position.x-e.position.x}))).forEach((function(i){var e=0,o=i.getChildByName("block");o&&o.children.forEach((function(i){i.name.startsWith("Pipe_Down")&&i.children.forEach((function(i){i.getComponent(b)&&e++}))})),m.log("Node["+i.name+"].pos["+i.position.clone()+"].blockCount["+e+"]")})),n},s.getColliderByWorldPositionX=function(i){for(var e,o=null,t=r(this.nodes);!(e=t()).done;){var n=e.value.getChildByName("block");if(n&&n.children.forEach((function(e){if(e.name.startsWith("Pipe_Down"))for(var t,n=r(e.children);!(t=n()).done;){var s=t.value,l=s.getComponent(b);if(l){var a=s.getComponent(p);if(!a)continue;var h=a.getBoundingBoxToWorld();if(i>=h.xMin&&i<=h.xMax){o=l;break}}}})),o)break}return o},s.checkLoop=function(){if(0!==this.nodes.length){var i=this.nodes[0].getComponent(p),e=i.width,o=i.height,t=!1,n=!1;if(this.scrollDirect===j.Horizontal){for(var s,l=r(this.nodes);!(s=l()).done;){var a=s.value;if(t=!1,!this.reverse&&a.position.x<=-e-this.overflowScreenOffset){var h=Math.max.apply(Math,this.nodes.map((function(i){return i.position.x})));a.setPosition(h+e,a.position.y),t=!0}else if(this.reverse&&a.position.x>=e+this.overflowScreenOffset){var c=Math.min.apply(Math,this.nodes.map((function(i){return i.position.x})));a.setPosition(c-e,a.position.y),t=!0}t&&(this.onNodeDisable&&this.onNodeDisable(a,this.nodes.indexOf(a)),this.removeOriginAfterOverflowScreen&&a.origin&&(n=!0))}if(this.removeOriginAfterOverflowScreen&&n){var f=this.nodes.shift();f&&(f.removeFromParent(),f.destroy())}}else if(this.scrollDirect===j.Vertical){for(var d,u=r(this.nodes);!(d=u()).done;){var v=d.value;if(t=!1,!this.reverse&&v.position.y<=-o-this.overflowScreenOffset){var y=Math.max.apply(Math,this.nodes.map((function(i){return i.position.y})));v.setPosition(v.position.x,y+o),t=!0}else if(this.reverse&&v.position.y>=o+this.overflowScreenOffset){var g=Math.min.apply(Math,this.nodes.map((function(i){return i.position.y})));v.setPosition(v.position.x,g-o),t=!0}t&&(this.onNodeDisable&&this.onNodeDisable(v,this.nodes.indexOf(v)),this.removeOriginAfterOverflowScreen&&v.origin&&(n=!0))}if(this.removeOriginAfterOverflowScreen&&n){var m=this.nodes.shift();m&&(m.removeFromParent(),m.destroy())}}}},s.scroll=function(i){if(this.autoScroll&&0!==this.nodes.length){i=Math.min(i,1/30);var e=this.nodes[0].getComponent(p),o=e.width,t=e.height,n=!1,s=!1;if(this.scrollDirect===j.Horizontal){for(var l,a=(this.reverse?1:-1)*this.scrollSpeed*i,h=r(this.nodes);!(l=h()).done;){var c=l.value;c.setPosition(c.position.x+a,c.position.y)}if(this.loop){s=!1;for(var f,d=r(this.nodes);!(f=d()).done;){var u=f.value;if(n=!1,!this.reverse&&u.position.x<=-o-this.overflowScreenOffset){var v=Math.max.apply(Math,this.nodes.map((function(i){return i.position.x})));u.setPosition(v+o,u.position.y),n=!0}else if(this.reverse&&u.position.x>=o+this.overflowScreenOffset){var y=Math.min.apply(Math,this.nodes.map((function(i){return i.position.x})));u.setPosition(y-o,u.position.y),n=!0}n&&(this.onNodeDisable&&this.onNodeDisable(u,this.nodes.indexOf(u)),this.removeOriginAfterOverflowScreen&&u.origin&&(s=!0))}if(this.removeOriginAfterOverflowScreen&&s){var g=this.nodes.shift();g&&(g.removeFromParent(),g.destroy())}}else{if(this.reverse)this.nodes.reduce((function(i,e){return i.position.x<e.position.x?i:e})).position.x>=o&&this.stopScroll();else this.nodes.reduce((function(i,e){return i.position.x>e.position.x?i:e})).position.x<=0&&this.stopScroll()}}else if(this.scrollDirect===j.Vertical){for(var m,b=(this.reverse?1:-1)*this.scrollSpeed*i,S=r(this.nodes);!(m=S()).done;){var C=m.value;C.setPosition(C.position.x,C.position.y+b)}if(this.loop){s=!1;for(var x,w=r(this.nodes);!(x=w()).done;){var O=x.value;if(n=!1,!this.reverse&&O.position.y<=-t-this.overflowScreenOffset){var N=Math.max.apply(Math,this.nodes.map((function(i){return i.position.y})));O.setPosition(O.position.x,N+t),n=!0}else if(this.reverse&&O.position.y>=t+this.overflowScreenOffset){var D=Math.min.apply(Math,this.nodes.map((function(i){return i.position.y})));O.setPosition(O.position.x,D-t),n=!0}n&&(this.onNodeDisable&&this.onNodeDisable(O,this.nodes.indexOf(O)),this.removeOriginAfterOverflowScreen&&O.origin&&(s=!0))}if(this.removeOriginAfterOverflowScreen&&s){var z=this.nodes.shift();z&&(z.removeFromParent(),z.destroy())}}else{if(this.reverse)this.nodes.reduce((function(i,e){return i.position.y<e.position.y?i:e})).position.y>=t&&this.stopScroll();else this.nodes.reduce((function(i,e){return i.position.y>e.position.y?i:e})).position.y<=0&&this.stopScroll()}}}},e}(y)).prototype,"scrollDirect",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.Horizontal}}),T=e(L.prototype,"spriteTiled",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"origin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"autoScroll",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=e(L.prototype,"scrollSpeed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),F=e(L.prototype,"loop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=e(L.prototype,"reverse",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(L.prototype,"removeOriginAfterOverflowScreen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W=e(L.prototype,"overflowScreenOffset",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(L.prototype,"checkLoopInterval",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=L))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCScrollNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,l,a,s,c,u,d,p,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,a=t._decorator,s=t.HorizontalTextAlignment,c=t.Vec2,u=t.Vec3,d=t.Label,p=t.UITransform,g=t.tween,h=t.Component}],execute:function(){var x,f,m,b,T,y,A,P,N,C,w,v;l._RF.push({},"103161FY7NEK5NNouNhPyO1","CCScrollNumber",void 0);var z=a.ccclass,S=a.property,E=a.executeInEditMode;t("CCScrollNumber",(x=z("CCScrollNumber"),f=E(),m=S({displayName:"",tooltip:""}),b=S({displayName:"",tooltip:""}),T=S({displayName:"",tooltip:""}),y=S({displayName:""}),x(A=f((N=e((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"scale",N,o(e)),i(e,"scaleTime",C,o(e)),i(e,"restoreTime",w,o(e)),i(e,"fixed",v,o(e)),e.tScroll=null,e.text=null,e.trans=null,e.oldTextAlign=s.CENTER,e.originAnchorPoint=new c(.5,.5),e.originPos=new u(0,0,0),e}n(e,t);var l=e.prototype;return l.start=function(){var t;this.text=null==(t=this.node)?void 0:t.getComponent(d),this.text&&(this.trans=this.text.getComponent(p))},l.update=function(t){},l.updateNumber=function(t){this.text.string=t.toFixed(this.fixed)},r(e,[{key:"number",get:function(){var t,e;return parseInt(null!=(t=null==(e=this.text)?void 0:e.string)?t:"0",10)},set:function(t){var e,n,i=this,o={n:parseInt(null!=(e=null==(n=this.text)?void 0:n.string)?e:"0",10)},r=t-o.n;this.tScroll&&(this.tScroll.stop(),this.tScroll.destroySelf(),this.tScroll=null),this.tScroll=g(o),this.tScroll.to(1,{n:r},{progress:function(t,e,n,o){return n=t+e*o,i.text&&(i.text.string=n.toFixed(i.fixed)),n}}).call((function(t){i.text&&i.trans&&(i.oldTextAlign=i.text.horizontalAlign,i.oldTextAlign!=s.CENTER&&(i.originPos=i.node.position.clone(),i.originAnchorPoint=i.trans.anchorPoint.clone(),i.text.horizontalAlign==s.LEFT?(i.trans.anchorPoint=new c(.5,.5),i.node.setPosition(i.originPos.clone().add3f(i.trans.width/2,0,0)),i.oldTextAlign=i.text.horizontalAlign):i.text.horizontalAlign==s.RIGHT&&(i.trans.anchorPoint=new c(.5,.5),i.node.setPosition(i.originPos.clone().add3f(-i.trans.width/2,0,0)),i.oldTextAlign=i.text.horizontalAlign))),g(i.node).to(i.scaleTime,{scale:new u(i.scale,i.scale,1)}).to(i.restoreTime,{scale:new u(1,1,1)},{easing:"backOut"}).call((function(){i.text&&i.trans&&i.oldTextAlign!=s.CENTER&&(i.trans.anchorPoint=i.originAnchorPoint.clone(),i.node.setPosition(i.originPos.clone()),i.text.horizontalAlign=i.oldTextAlign)})).start()})).start()}}]),e}(h)).prototype,"scale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),C=e(P.prototype,"scaleTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),w=e(P.prototype,"restoreTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),v=e(P.prototype,"fixed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=P))||A)||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2001.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts","./CCPathManager.ts","./CCSpineMoney.ts","./CCEffct.ts","./CCEvent.ts","./env","./CCSundryData.ts","./CCMapData.ts"],(function(e){var t,i,n,a,s,o,r,l,c,p,u,h,d,f,C,g,v,S,y,P,m,T,N,E,k,B,L,D,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.ProgressBar,l=e.UITransform,c=e.Vec3,p=e.find,u=e.Vec2,h=e.math,d=e.isValid},function(e){f=e.CCSceneHall},function(e){C=e.CCTileData},function(e){g=e.EVENT_TYPE,v=e.default,S=e.SpecialNpcType},function(e){y=e.default},function(e){P=e.CCPlayerData,m=e.StaffSkillsStatus},function(e){T=e.Npc},function(e){N=e.CCPathManager},function(e){E=e.CCSpineMoney},function(e){k=e.CCEffect},function(e){B=e.CCEvent},function(e){L=e.DEV},function(e){D=e.default},function(e){w=e.default}],execute:function(){var _,b,x,H,I;s._RF.push({},"57f5eOe5klBDIops15pNnCd","CCSpecialNpc2001",void 0);var A=o.ccclass,M=o.property;o.executeInEditMode,e("CCSpecialNpc2001",(_=A("CCSpecialNpc2001"),b=M({type:r,tooltip:L}),_((I=t((H=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"progressBar",I,a(t)),t.spineXiaoshou=null,t.isEntered=!1,t.needleave=!1,t.isCatched=!1,t}i(t,e);var s=t.prototype;return s.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0,B.on(g.TRY_CATCH_THIEF,this.onBtnPressStart,this)},s.onDisable=function(){this.isEntered=!1,B.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},s.enter=function(e){var t=this;if(this.needleave=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(v.tileIn[1].copy()),this.data.tilesLeft.push(new C(26,13,0,(function(e,i,n,a){e.animation(1,"walk"),e.pause(!1),t.isEntered=!0,t.spineXiaoshou&&(t.spineXiaoshou.node.active=!0),t.progressBar&&(t.progressBar.node.active=!0),t.data.tilesLeft.push(t.getNextTile())}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(2*P.getSpineAnimationSpeed()),this.setSpeed(2*P.getSpineWalkSpeed()),!this.spineXiaoshou){var i,n=null==(i=this.getComponent(l))?void 0:i.contentSize.clone();k.clickHand(this.node,"textures@prefabs/spineXiaoshou",new c(0,n.height*v.spineNpcScale+50,0),null,(function(e){var i;(t.spineXiaoshou=e,t.spineXiaoshou.node.active=!1,t.progressBar)||(t.progressBar=null==(i=p("Canvas/ProgressBar",t.spineXiaoshou.node))?void 0:i.getComponent(r),t.progressBar.progress=1,t.progressBar.node.active=!1)}))}this.spineXiaoshou&&(this.spineXiaoshou.node.active=!1),this.progressBar&&(this.progressBar.progress=1,this.progressBar.node.active=!1),f.spineAction(this.node,this,this.data.tilesLeft,0,f.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,a){f.sequence(f.Instance(),e,null,t,i,n,a)}))},s.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.data.tilesLeft=v.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,a){t.node.active=!1,t.setTile(v.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var s=S.NPCName2002+2e3,o=P.getSpecialNpcUnlocked(s);o&&(o.workingStatus=m.IDLE,o.isInitial=!1,P.setSpecialNpcUnlocked(s,o))},f.spineAction(this.node,this,this.data.tilesLeft,0,f.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){f.sequence(f.Instance(),null,null,e,t,i,n)})),B.emit(g.CATCH_SPECIAL_NPC,new u(0,0),!0))},s.getNextTile=function(){var e=this,t=null,i=null,n=new h.Vec3(0,0,0),a=f.getDroppedMoney();if(a){for(var s=!1,o=0;o<v.searchPathPointTryCount;o++)if(t=N._position2Tile(new c(a.position.clone().x+y.randomRange(v.searchPathPointRange[0],v.searchPathPointRange[1]),a.position.clone().y+y.randomRange(v.searchPathPointRange[0],v.searchPathPointRange[1]),0)),this._pathManager.isWalkable(t)){s=!0;break}s||(t=new u(w.data.rows/2,w.data.cols/2)),n.add3f(t.x,t.y,0),i=new C(n.x,n.y,.3,(function(t,i,n,s){if(!d(a))return t.animation(0,"pick",!1),t.pause(!0),void(t.needleave||e.data.tilesLeft.push(e.getNextTile()));t.animation(0,"pick"),t.pause(!1);var o=a.getComponent(E);o&&o.selfDestroy(),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(1,"walk"),e.pause(!1)}))}else t=this._pathManager.getRandomWalkableTileByTryCount(),n.add3f(t.x,t.y,0),i=new C(n.x,n.y,y.randomRange(1,2),(function(t,i,n,a){e.isEntered=!0,t.animation(0,"pick",!1),t.pause(!0),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(1,"walk"),e.pause(!1)}));return i},s.onBtnPressStart=function(e,t,i){if(this.isEntered&&!(this.getTile().y<16)){var n=S.NPCName2001+2e3,a=P.getSpecialNpcUnlocked(n);if(a.todayHitCount<D.data.SpCusThiefParams[0]){if(this.isCatched=!1,a.todayHitCount++,this.progressBar){var s=(D.data.SpCusThiefParams[0]-a.todayHitCount)/D.data.SpCusThiefParams[0];this.progressBar.progress=s,0==s&&(this.isCatched=!0,this.preLeave())}P.setSpecialNpcUnlocked(n,a);var o=this.getTile();if(!o)return;B.emit(g.CATCH_SPECIAL_NPC,o,this.isCatched)}}},s.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.progressBar.node.active=!1,this.spineXiaoshou.node.active=!1,this.timeScale(2*P.getSpineAnimationSpeed()),this.setSpeed(2*P.getSpineWalkSpeed()),this.leave(null))},t}(T)).prototype,"progressBar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=H))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2002.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts","./CCCacheRes.ts","./CCPopupManager.ts","./CCPanelTourGuide.ts"],(function(e){var t,i,n,s,l,a,o,p,c,r,d,h,u,f,C,S,v,T,y;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,s=e.UITransform,l=e.Node,a=e.Sprite,o=e.Vec2,p=e.Vec3},function(e){c=e.CCSceneHall},function(e){r=e.CCTileData},function(e){d=e.default,h=e.SpecialNpcType},function(e){u=e.default},function(e){f=e.CCPlayerData,C=e.StaffSkillsStatus},function(e){S=e.Npc},function(e){v=e.default},function(e){T=e.default},function(e){y=e.CCPanelTourGuide}],execute:function(){var g;i._RF.push({},"11854riX0JLCJ8DGXnqsp9c","CCSpecialNpc2002",void 0);var k=n.ccclass;n.property,n.executeInEditMode,e("CCSpecialNpc2002",k("CCSpecialNpc2002")(g=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).sprTips=null,t.spawnTile=new o(28,15),t.isEntered=!1,t.needleave=!1,t.isClicked=!1,t}t(i,e);var n=i.prototype;return n.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0},n.onDisable=function(){this.isEntered=!1,this.isClicked=!1,e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.enter=function(e){var t=this;if(this.needleave=!1,this.isClicked=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(d.tileIn[1].copy()),this.data.tilesLeft.push(new r(this.spawnTile.x,this.spawnTile.y,0,(function(e,i,n,s){u.flipNodeX(t.ske.node,!1),e.animation(0,"idle"),t.isEntered=!0,t.sprTips&&(t.sprTips.node.active=!0,t.sprTips.enabled=!0)}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(f.getSpineAnimationSpeed()),this.setSpeed(f.getSpineWalkSpeed()),!this.sprTips){var i,n=null==(i=this.getComponent(s))?void 0:i.contentSize.clone(),h=new l("tips");this.node.addChild(h),this.sprTips=h.addComponent(a),this.sprTips.getComponent(s).anchorPoint=new o(.5,0),this.sprTips.node.position=new p(0,n.height+20,0),this.sprTips.node.active=!0,this.sprTips.enabled=!1,v.loadSpriteFrameAndBind(this.sprTips,"textures@Texture2D/Hall_UI/Hall_UI/main_bg13",!0,this,(function(e,t){}))}this.sprTips&&(this.sprTips.node.active=!1),c.spineAction(this.node,this,this.data.tilesLeft,0,c.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,s){c.sequence(c.Instance(),e,null,t,i,n,s)}))},n.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.animation(1,"walk"),this.pause(!1),this.data.tilesLeft=d.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,s){t.node.active=!1,t.setTile(d.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var l=h.NPCName2002+2e3,a=f.getSpecialNpcUnlocked(l);a&&(a.workingStatus=C.IDLE,a.isInitial=!1,f.setSpecialNpcUnlocked(l,a))},c.spineAction(this.node,this,this.data.tilesLeft,0,c.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){c.sequence(c.Instance(),null,null,e,t,i,n)})))},n.onBtnPressStart=function(e,t,i){this.isEntered&&!this.isClicked&&(this.isClicked=!0,T.showPanel(y.resObj,{fnClose:function(t){e.preLeave(),t.hide()},fnSubmit:function(t){e.preLeave(),t.hide()}}))},n.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.sprTips.node.active=!1,this.timeScale(1*f.getSpineAnimationSpeed()),this.setSpeed(1*f.getSpineWalkSpeed()),this.leave(null))},i}(S))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2003.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts","./CCCacheRes.ts","./CCPopupManager.ts","./CCPanelProductsSale.ts"],(function(e){var t,i,n,s,a,l,o,c,p,r,d,h,u,f,C,S,v,T,g;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,s=e.UITransform,a=e.Node,l=e.Sprite,o=e.Vec2,c=e.Vec3},function(e){p=e.CCSceneHall},function(e){r=e.CCTileData},function(e){d=e.default,h=e.SpecialNpcType},function(e){u=e.default},function(e){f=e.CCPlayerData,C=e.StaffSkillsStatus},function(e){S=e.Npc},function(e){v=e.default},function(e){T=e.default},function(e){g=e.CCPanelProductsSale}],execute:function(){var y;i._RF.push({},"caaf4Huh7FG8IzRDAgoLIuI","CCSpecialNpc2003",void 0);var k=n.ccclass;n.property,n.executeInEditMode,e("CCSpecialNpc2003",k("CCSpecialNpc2003")(y=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).sprTips=null,t.spawnTile=new o(28,15),t.isEntered=!1,t.needleave=!1,t.isClicked=!1,t}t(i,e);var n=i.prototype;return n.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0},n.onDisable=function(){this.isEntered=!1,this.isClicked=!1,e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.enter=function(e){var t=this;if(this.needleave=!1,this.isClicked=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(d.tileIn[1].copy()),this.data.tilesLeft.push(new r(this.spawnTile.x,this.spawnTile.y,0,(function(e,i,n,s){u.flipNodeX(t.ske.node,!1),e.animation(0,"idle"),t.isEntered=!0,t.sprTips&&(t.sprTips.node.active=!0,t.sprTips.enabled=!0)}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(f.getSpineAnimationSpeed()),this.setSpeed(f.getSpineWalkSpeed()),!this.sprTips){var i,n=null==(i=this.getComponent(s))?void 0:i.contentSize.clone(),h=new a("tips");this.node.addChild(h),this.sprTips=h.addComponent(l),this.sprTips.getComponent(s).anchorPoint=new o(.5,0),this.sprTips.node.position=new c(0,n.height+20,0),this.sprTips.node.active=!0,this.sprTips.enabled=!1,v.loadSpriteFrameAndBind(this.sprTips,"textures@Texture2D/Hall_UI/Hall_UI/main_bg13",!0,this,(function(e,t){}))}this.sprTips&&(this.sprTips.node.active=!1),p.spineAction(this.node,this,this.data.tilesLeft,0,p.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,s){p.sequence(p.Instance(),e,null,t,i,n,s)}))},n.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.animation(1,"walk"),this.pause(!1),this.data.tilesLeft=d.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,s){t.node.active=!1,t.setTile(d.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var a=h.NPCName2003+2e3,l=f.getSpecialNpcUnlocked(a);l&&(l.workingStatus=C.IDLE,l.isInitial=!1,f.setSpecialNpcUnlocked(a,l))},p.spineAction(this.node,this,this.data.tilesLeft,0,p.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){p.sequence(p.Instance(),null,null,e,t,i,n)})))},n.onBtnPressStart=function(e,t,i){this.isEntered&&!this.isClicked&&(this.isClicked=!0,T.showPanel(g.resObj,{fnClose:function(t){e.preLeave(),t.hide()},fnSubmit:function(t){e.preLeave()}}))},n.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.sprTips.node.active=!1,this.timeScale(1*f.getSpineAnimationSpeed()),this.setSpeed(1*f.getSpineWalkSpeed()),this.leave(null))},i}(S))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2004.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCPlayerData.ts","./Npc.ts","./CCEffct.ts","./CCEvent.ts","./env","./CCSundryData.ts"],(function(e){var t,i,n,s,a,o,r,l,p,c,h,u,d,C,f,g,v,S,E,y,B,m,N,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.ProgressBar,l=e.Vec3,p=e.UITransform,c=e.find,h=e.Vec2,u=e.math},function(e){d=e.CCSceneHall},function(e){C=e.CCTileData},function(e){f=e.EVENT_TYPE,g=e.default,v=e.SpecialNpcType},function(e){S=e.CCPlayerData,E=e.StaffSkillsStatus},function(e){y=e.Npc},function(e){B=e.CCEffect},function(e){m=e.CCEvent},function(e){N=e.DEV},function(e){T=e.default}],execute:function(){var L,P,_,k,q;a._RF.push({},"80bdd6dZPtLNI4MCq3jAsqB","CCSpecialNpc2004",void 0);var w=o.ccclass,D=o.property;o.executeInEditMode,e("CCSpecialNpc2004",(L=w("CCSpecialNpc2004"),P=D({type:r,tooltip:N}),L((q=t((k=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"progressBar",q,s(t)),t.spineXiaoshou=null,t.spineChouqi=null,t.isEntered=!1,t.needleave=!1,t.isCatched=!1,t}i(t,e);var a=t.prototype;return a.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0,m.on(f.TRY_CATCH_BEGGER,this.onBtnPressStart,this)},a.onDisable=function(){this.isEntered=!1,m.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.enter=function(e){var t=this;if(this.needleave=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(g.tileIn[1].copy()),this.data.tilesLeft.push(new C(25,15,0,(function(e,i,n,s){e.animation(1,"walk"),e.pause(!1),t.isEntered=!0,t.spineChouqi&&(t.spineChouqi.node.active=!0),t.spineXiaoshou&&(t.spineXiaoshou.node.active=!0),t.progressBar&&(t.progressBar.node.active=!0),t.data.tilesLeft.push(t.getNextTile()),m.emit(f.BEGGER_ENTER,t)}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(S.getSpineAnimationSpeed()),this.setSpeed(S.getSpineWalkSpeed()),this.spineChouqi||B.chouqi(this.node.getChildByName("spine"),"textures@prefabs/spineChouqi",new l(0,0,0),(function(e){t.spineChouqi=e,t.spineChouqi.node.active=!1})),this.spineChouqi&&(this.spineChouqi.node.active=!1),!this.spineXiaoshou){var i,n=null==(i=this.getComponent(p))?void 0:i.contentSize.clone();B.clickHand(this.node,"textures@prefabs/spineXiaoshou",new l(0,n.height*g.spineNpcScale+50,0),null,(function(e){var i;(t.spineXiaoshou=e,t.spineXiaoshou.node.active=!1,t.spineXiaoshou.node.position.add3f(0,-10,0),t.progressBar)||(t.progressBar=null==(i=c("Canvas/ProgressBar",t.spineXiaoshou.node))?void 0:i.getComponent(r),t.progressBar.progress=1,t.progressBar.node.active=!1)}))}this.spineXiaoshou&&(this.spineXiaoshou.node.active=!1),this.progressBar&&(this.progressBar.progress=1,this.progressBar.node.active=!1),d.spineAction(this.node,this,this.data.tilesLeft,0,d.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,s){d.sequence(d.Instance(),e,null,t,i,n,s)}))},a.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.data.tilesLeft=g.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,s){t.node.active=!1,t.setTile(g.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var a=v.NPCName2003+2e3,o=S.getSpecialNpcUnlocked(a);o&&(o.workingStatus=E.IDLE,o.isInitial=!1,S.setSpecialNpcUnlocked(a,o))},d.spineAction(this.node,this,this.data.tilesLeft,0,d.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){d.sequence(d.Instance(),null,null,e,t,i,n)})),m.emit(f.CATCH_SPECIAL_NPC,new h(0,0),!0),m.emit(f.BEGGER_LEAVE,this))},a.getNextTile=function(){var e=this,t=new u.Vec3(0,0,0),i=this._pathManager.getRandomWalkableTileByTryCount();return t.add3f(i.x,i.y,0),new C(t.x,t.y,0,(function(t,i,n,s){t.animation(1,"walk"),t.pause(!1),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(1,"walk"),e.pause(!1)}))},a.onBtnPressStart=function(e,t,i){if(this.isEntered&&!(this.getTile().y<16)){var n=v.NPCName2004+2e3,s=S.getSpecialNpcUnlocked(n);if(s.todayHitCount<T.data.SpCusBegParams[0]){if(this.isCatched=!1,s.todayHitCount++,this.progressBar){var a=(T.data.SpCusBegParams[0]-s.todayHitCount)/T.data.SpCusBegParams[0];this.progressBar.progress=a,0==a&&(this.isCatched=!0,this.preLeave())}S.setSpecialNpcUnlocked(n,s);var o=this.getTile();if(!o)return;m.emit(f.CATCH_SPECIAL_NPC,o,this.isCatched)}}},a.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.spineChouqi.node.active=!1,this.progressBar.node.active=!1,this.spineXiaoshou.node.active=!1,this.timeScale(1*S.getSpineAnimationSpeed()),this.setSpeed(1*S.getSpineWalkSpeed()),this.leave(null))},t}(y)).prototype,"progressBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=k))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2005.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts","./CCEffct.ts","./CCEvent.ts","./env","./CCSundryData.ts"],(function(e){var t,i,n,s,a,o,l,r,p,c,u,h,d,f,g,v,C,y,S,m,D,N,E,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.ProgressBar,r=e.UITransform,p=e.Vec3,c=e.find,u=e.math},function(e){h=e.CCSceneHall},function(e){d=e.CCTileData},function(e){f=e.default,g=e.SpecialNpcType,v=e.EVENT_TYPE},function(e){C=e.default},function(e){y=e.CCPlayerData,S=e.StaffSkillsStatus},function(e){m=e.Npc},function(e){D=e.CCEffect},function(e){N=e.CCEvent},function(e){E=e.DEV},function(e){B=e.default}],execute:function(){var L,k,T,P,b;a._RF.push({},"235bcdL32ZNFpGYoVprbL2I","CCSpecialNpc2005",void 0);var w=o.ccclass,M=o.property;o.executeInEditMode,e("CCSpecialNpc2005",(L=w("CCSpecialNpc2005"),k=M({type:l,tooltip:E}),L((b=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"progressBar",b,s(t)),t.spineXiaoshou=null,t.isEntered=!1,t.needleave=!1,t.isDroppingMoney=!1,t}i(t,e);var a=t.prototype;return a.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0},a.onDisable=function(){this.isEntered=!1,this.isDroppingMoney=!1,e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.enter=function(e){var t=this;if(C.log("["+this.name+"].enter ---\x3e"),this.needleave=!1,this.isDroppingMoney=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(f.tileIn[1].copy()),this.data.tilesLeft.push(new d(26,13,0,(function(e,i,n,s){e.animation(1,"walk"),e.pause(!1),t.isEntered=!0,t.spineXiaoshou&&(t.spineXiaoshou.node.active=!0),t.progressBar&&(t.progressBar.node.active=!1),t.data.tilesLeft.push(t.getNextTile())}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(y.getSpineAnimationSpeed()),this.setSpeed(y.getSpineWalkSpeed()),!this.spineXiaoshou){var i,n=null==(i=this.getComponent(r))?void 0:i.contentSize.clone();D.clickHand(this.node,"textures@prefabs/spineXiaoshou",new p(0,n.height*f.spineNpcScale+50,0),null,(function(e){var i;(t.spineXiaoshou=e,t.spineXiaoshou.node.active=!1,t.spineXiaoshou.node.position.add3f(0,-30,0),t.progressBar)||(t.progressBar=null==(i=c("Canvas/ProgressBar",t.spineXiaoshou.node))?void 0:i.getComponent(l),t.progressBar.progress=1,t.progressBar.node.active=!1)}))}this.spineXiaoshou&&(this.spineXiaoshou.node.active=!1),this.progressBar&&(this.progressBar.progress=1,this.progressBar.node.active=!1),h.spineAction(this.node,this,this.data.tilesLeft,0,h.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,s){h.sequence(h.Instance(),e,null,t,i,n,s)}))},a.leave=function(e){var t=this;this.needleave?C.log("["+this.name+"].leave ---\x3e failed"):(this.needleave=!0,C.log("["+this.name+"].leave ---\x3e"),this.data.tilesLeft=f.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,s){t.node.active=!1,t.setTile(f.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var a=g.NPCName2005+2e3,o=y.getSpecialNpcUnlocked(a);o&&(o.workingStatus=S.IDLE,o.isInitial=!1,y.setSpecialNpcUnlocked(a,o))},h.spineAction(this.node,this,this.data.tilesLeft,0,h.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){h.sequence(h.Instance(),null,null,e,t,i,n)})))},a.getNextTile=function(){var e=this,t=new u.Vec3(0,0,0),i=this._pathManager.getRandomWalkableTileByTryCount();return t.add3f(i.x,i.y,0),new d(t.x,t.y,0,(function(t,i,n,s){t.animation(1,"walk"),t.pause(!1),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(1,"walk"),e.pause(!1)}))},a.onBtnPressStart=function(e,t,i){var n=this;if(this.isEntered&&!(this.getTile().y<16)){var s=g.NPCName2005+2e3,a=y.getSpecialNpcUnlocked(s);if(a.todayHitCount<B.data.SpCusRichManParams[0]){a.todayHitCount++;var o=this.getTile();o&&(this.isDroppingMoney||(this.isDroppingMoney=!0,this.animation(0,"idle"),this.pause(!1),this.pausePath(!0),this.scheduleOnce((function(){n.animation(1,"walk"),n.pause(!1),n.pausePath(!1),n.isDroppingMoney=!1}),1.667)),this.scheduleOnce((function(){N.emit(v.DROP_MONEY,o)}),1))}else this.preLeave();y.setSpecialNpcUnlocked(s,a)}},a.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.progressBar.node.active=!1,this.spineXiaoshou.node.active=!1,this.timeScale(1*y.getSpineAnimationSpeed()),this.setSpeed(1*y.getSpineWalkSpeed()),this.leave(null))},t}(m)).prototype,"progressBar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=P))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2006.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCPlayerData.ts","./Npc.ts","./CCEffct.ts","./CCEvent.ts","./env","./CCSundryData.ts","./CCAudioManager.ts","./CCSceneMain.ts"],(function(e){var t,i,n,a,s,o,l,r,c,p,h,u,d,f,C,g,v,S,P,y,m,L,E,N,k,b,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,l=e.ProgressBar,r=e.Vec3,c=e.UITransform,p=e.find,h=e.Vec2,u=e.math},function(e){d=e.CCSceneHall},function(e){f=e.CCTileData},function(e){C=e.EVENT_TYPE,g=e.default,v=e.SpecialNpcType,S=e.HALL_INDEX},function(e){P=e.CCPlayerData,y=e.StaffSkillsStatus},function(e){m=e.Npc},function(e){L=e.CCEffect},function(e){E=e.CCEvent},function(e){N=e.DEV},function(e){k=e.default},function(e){b=e.audioMgr},function(e){T=e.CCSceneMain}],execute:function(){var A,D,B,_,M;s._RF.push({},"0b4ecDQWORIXYQf2EJK2NqE","CCSpecialNpc2006",void 0);var I=o.ccclass,w=o.property;o.executeInEditMode,e("CCSpecialNpc2006",(A=I("CCSpecialNpc2006"),D=w({type:l,tooltip:N}),A((M=t((_=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"progressBar",M,a(t)),t.spineXiaoshou=null,t.spinePohuaibo=null,t.isEntered=!1,t.needleave=!1,t.isCatched=!1,t.spinePohuaiboCost=0,t.fnCheckLeave=null,t}i(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.clickThreshold=0,E.on(C.TRY_CATCH_MAGNETO,this.onBtnPressStart,this),this.fnCheckLeave||(this.fnCheckLeave=this.checkLeave.bind(this)),this.schedule(this.fnCheckLeave,.5)},s.onDestroy=function(){E.targetOff(this),this.unscheduleAllCallbacks(),this.fnCheckLeave=null,e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},s.enter=function(e){var t=this;if(this.needleave=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(g.tileIn[1].copy()),this.data.tilesLeft.push(new f(26,13,0,(function(e,i,n,a){e.animation(1,"walk"),e.pause(!1),t.isEntered=!0,t.spineXiaoshou&&(t.spineXiaoshou.node.active=!0),t.progressBar&&(t.progressBar.node.active=!0),t.data.tilesLeft.push(t.getNextTile())}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(P.getSpineAnimationSpeed()),this.setSpeed(P.getSpineWalkSpeed()),this.spinePohuaibo?this.spinePohuaibo.node.active=!1:L.pohuaibo(this.node,"textures@prefabs/spinePohuaibo",new r(0,0,0),(function(e){t.spinePohuaibo=e,t.spinePohuaibo.node.active=!1,t.spinePohuaiboCost=t.spinePohuaibo.setAnimation(!1)})),this.spineXiaoshou)this.spineXiaoshou.node.active=!1;else{var i,n=null==(i=this.getComponent(c))?void 0:i.contentSize.clone();L.clickHand(this.node,"textures@prefabs/spineXiaoshou",new r(0,n.height*g.spineNpcScale+50,0),null,(function(e){var i;(t.spineXiaoshou=e,t.spineXiaoshou.node.active=!1,t.progressBar)||(t.progressBar=null==(i=p("Canvas/ProgressBar",t.spineXiaoshou.node))?void 0:i.getComponent(l),t.progressBar.progress=1,t.progressBar.node.active=!1)}))}this.progressBar&&(this.progressBar.progress=1,this.progressBar.node.active=!1),d.spineAction(this.node,this,this.data.tilesLeft,0,d.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,a){d.sequence(d.Instance(),e,null,t,i,n,a)}))},s.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.data.tilesLeft=g.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,a){t.node.active=!1,t.setTile(g.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var s=v.NPCName2006+2e3,o=P.getSpecialNpcUnlocked(s);o&&(o.workingStatus=y.IDLE,o.isInitial=!1,P.setSpecialNpcUnlocked(s,o))},d.spineAction(this.node,this,this.data.tilesLeft,0,d.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){d.sequence(d.Instance(),null,null,e,t,i,n)})),E.emit(C.CATCH_SPECIAL_NPC,new h(0,0),!0))},s.getNextTile=function(){var e=this,t=new u.Vec3(0,0,0),i=this._pathManager.getRandomWalkableTileByTryCount();return t.add3f(i.x,i.y,0),new f(t.x,t.y,this.spinePohuaiboCost,(function(t,i,n,a){var s=v.NPCName2006+2e3,o=P.getSpecialNpcUnlocked(s);t.needleave||(t.animation(0,"idle",!0),t.pause(!1),e.spinePohuaibo&&(e.spinePohuaibo.node.active=!0,e.spinePohuaibo.setAnimation(),T.pageIndex==S.MIDDLE&&b.playEffect("npc2006"),e.scheduleOnce((function(){E.emit(C.CAT_TREE_TAKE_DAMAGE,n),T.pageIndex==S.MIDDLE&&b.playEffect("destory"),e.spinePohuaibo.stopAnimation(),t.animation(1,"walk"),t.pause(!1),o.skillsUsingCount++,P.save()}),e.spinePohuaiboCost)),o&&o.skillsUsingCount<k.data.SpCusMagnetoParams[1]-1&&e.data.tilesLeft.push(e.getNextTile()))}),(function(e,t,i,n){e.animation(1,"walk"),e.pause(!1)}))},s.onBtnPressStart=function(e,t,i){if(this.isEntered&&!(this.getTile().y<16)){var n=v.NPCName2006+2e3,a=P.getSpecialNpcUnlocked(n);if(a.todayHitCount<k.data.SpCusMagnetoParams[0]){if(this.isCatched=!1,a.todayHitCount++,this.progressBar){var s=(k.data.SpCusMagnetoParams[0]-a.todayHitCount)/k.data.SpCusMagnetoParams[0];this.progressBar.progress=s,0==s&&(this.isCatched=!0,this.preLeave(),this.spinePohuaibo.stopAnimation(),this.animation(1,"walk"),this.pause(!1))}P.setSpecialNpcUnlocked(n,a);var o=this.getTile();if(!o)return;E.emit(C.CATCH_SPECIAL_NPC,o,this.isCatched)}}},s.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.spinePohuaibo.node.active=!1,this.progressBar.node.active=!1,this.spineXiaoshou.node.active=!1,this.timeScale(1*P.getSpineAnimationSpeed()),this.setSpeed(1*P.getSpineWalkSpeed()),this.leave(null))},s.checkLeave=function(){var e=v.NPCName2006+2e3,t=P.getSpecialNpcUnlocked(e);t&&this.isEntered&&t.skillsUsingCount==k.data.SpCusMagnetoParams[1]&&this.preLeave()},t}(m)).prototype,"progressBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=_))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpecialNpc2007.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts","./CCCacheRes.ts","./CCPopupManager.ts","./CCPanelTaskSpecialSingle.ts"],(function(e){var t,i,n,s,a,l,o,c,p,r,d,h,u,f,C,S,v,T,g;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,s=e.UITransform,a=e.Node,l=e.Sprite,o=e.Vec2,c=e.Vec3},function(e){p=e.CCSceneHall},function(e){r=e.CCTileData},function(e){d=e.default,h=e.SpecialNpcType},function(e){u=e.default},function(e){f=e.CCPlayerData,C=e.StaffSkillsStatus},function(e){S=e.Npc},function(e){v=e.default},function(e){T=e.default},function(e){g=e.CCPanelTaskSpecialSingle}],execute:function(){var k;i._RF.push({},"5dae3C0PYNMzLv98xpQy4Pw","CCSpecialNpc2007",void 0);var y=n.ccclass;n.property,n.executeInEditMode,e("CCSpecialNpc2007",y("CCSpecialNpc2007")(k=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).sprTips=null,t.spawnTile=new o(29,16),t.isEntered=!1,t.needleave=!1,t.isClicked=!1,t}t(i,e);var n=i.prototype;return n.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.clickThreshold=0},n.onDisable=function(){this.isEntered=!1,this.isClicked=!1,e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.enter=function(e){var t=this;if(this.needleave=!1,this.isClicked=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(d.tileIn[1].copy()),this.data.tilesLeft.push(new r(this.spawnTile.x,this.spawnTile.y,0,(function(e,i,n,s){u.flipNodeX(t.ske.node,!1),e.animation(0,"idle"),t.isEntered=!0,t.sprTips&&(t.sprTips.node.active=!0,t.sprTips.enabled=!0)}))),this.showShadow(!0),this.animation(1,"walk"),this.timeScale(f.getSpineAnimationSpeed()),this.setSpeed(f.getSpineWalkSpeed()),!this.sprTips){var i,n=null==(i=this.getComponent(s))?void 0:i.contentSize.clone(),h=new a("tips");this.node.addChild(h),this.sprTips=h.addComponent(l),this.sprTips.getComponent(s).anchorPoint=new o(.5,0),this.sprTips.node.position=new c(0,n.height+20,0),this.sprTips.node.active=!0,this.sprTips.enabled=!1,v.loadSpriteFrameAndBind(this.sprTips,"textures@Texture2D/Hall_UI/Hall_UI/main_bg13",!0,this,(function(e,t){}))}this.sprTips&&(this.sprTips.node.active=!1),p.spineAction(this.node,this,this.data.tilesLeft,0,p.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,i,n,s){p.sequence(p.Instance(),e,null,t,i,n,s)}))},n.leave=function(e){var t=this;this.needleave||(this.needleave=!0,this.animation(1,"walk"),this.pause(!1),this.data.tilesLeft=d.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,i,n,s){t.node.active=!1,t.setTile(d.tileIn[0].toVec2()),t.data.tilesLeft=[],t.isEntered=!1;var a=h.NPCName2007+2e3,l=f.getSpecialNpcUnlocked(a);l&&(l.workingStatus=C.IDLE,l.isInitial=!1,f.setSpecialNpcUnlocked(a,l))},p.spineAction(this.node,this,this.data.tilesLeft,0,p.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){p.sequence(p.Instance(),null,null,e,t,i,n)})))},n.onBtnPressStart=function(e,t,i){this.isEntered&&!this.isClicked&&(this.isClicked=!0,T.showPanel(g.resObj,{fnClose:function(t){var i=f.getDailySpecialTaskProcess();!i||!i.generated||i.accepted||i.completed||i.claimed||f.setDailySpecialTaskProcessGenerated(!1,0,0,0,0),e.preLeave()},fnSubmit:function(t){e.preLeave(),t.hide()}}))},n.preLeave=function(){this.isEntered&&(this.isEntered=!1,this.stopPath(),this.sprTips.node.active=!1,this.timeScale(1*f.getSpineAnimationSpeed()),this.setSpeed(1*f.getSpineWalkSpeed()),this.leave(null))},i}(S))||k);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts"],(function(e){var t,n,i,s,o,a,l,r,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.sp},function(e){r=e.default},function(e){u=e.CCButton}],execute:function(){var c,h,k,p,f;o._RF.push({},"0a85c8iu+1PLY5YHRAgGC+R","CCSpine",void 0);var d=a.ccclass,m=a.property;a.executeInEditMode,e("CCSpine",(c=d("CCSpine"),h=m(l.Skeleton),c((f=t((p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"ske",f,s(t)),t}n(t,e);var o=t.prototype;return o.onBtnPressStart=function(e,t,n){},o.onBtnPressed=function(e,t,n,i){},o.onBtnTouchMove=function(e,t,n){},o.onBtnTouchCanceled=function(e,t,n){},o.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this)},o.onDestroy=function(){this.reset(),this.unscheduleAllCallbacks(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},o.showDebug=function(e){this.ske&&(this.ske.debugSlots=e,this.ske.debugBones=e,this.ske.debugMesh=e)},o.setSkinName=function(e){var t,n,i=null==(t=this.ske)||null==(t=t.skeletonData)?void 0:t.getRuntimeData();if(i){var s=i.findSkin(e);s?null==(n=this.ske)||n.setSkin(s.name):r.log("setSkinName.skinName:"+e+".findSkin:"+e+".nil")}else r.log("setSkinName.skinName:"+e+".getRuntimeData.nil")},o.reset=function(){var e,t,n,i,s;null==(e=this.ske)||e.setToSetupPose(),null==(t=this.ske)||t.setBonesToSetupPose(),null==(n=this.ske)||n.setSlotsToSetupPose(),null==(i=this.ske)||i.clearAnimations(),null==(s=this.ske)||s.clearTracks()},o.pause=function(e){void 0===e&&(e=!0),this.ske&&(this.ske.paused=e)},o.timeScale=function(e){this.ske&&(this.ske.timeScale=e)},o.setMix=function(e,t,n){var i,s;null==(i=this.ske)||i.setMix(e,t,n),null==(s=this.ske)||s.setMix(t,e,n)},o.animation=function(e,t,n){if(void 0===n&&(n=!0),this.ske)if(this.ske.animation!=t){this.reset();var i=this.ske.findAnimation(t);if(i){var s,o=this.ske.setAnimation(e,t,n);if(o)n||(o.trackEnd=0);else r.log("animation.name:"+(null==(s=this.node)?void 0:s.name)+".trackEntry.nil")}else{var a;r.log("animation.name:"+(null==(a=this.node)?void 0:a.name)+".animationName: "+t+".nil")}}else{var l,u=this.ske.setAnimation(e,t,n);u?n||(u.trackEnd=0):r.log("animation.name:"+(null==(l=this.node)?void 0:l.name)+".trackEntry.nil")}},t}(u)).prototype,"ske",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=p))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineBubbles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCCacheRes.ts","./CCUtils.ts","./CCPlayerData.ts","./Npc.ts"],(function(e){var t,n,i,l,o,s,a,r,u,c,b,p,h,d,f,y,C,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Sprite,r=e.RichText,u=e.Vec3,c=e.Canvas,b=e.isValid,p=e.tween,h=e.Component},function(e){d=e.DEV},function(e){f=e.default},function(e){y=e.default},function(e){C=e.CCPlayerData},function(e){g=e.Npc}],execute:function(){var m,v,B,A,D,L,T;o._RF.push({},"1db08TNqi1DlpU6gX760Jqp","CCSpineBubbles",void 0);var N=s.ccclass,S=s.property;e("CCSpineBubbles",(m=N("CCSpineBubbles"),v=S({type:a,tooltip:d}),B=S({type:r,tooltip:d}),m((L=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"SpriteBackground",L,l(t)),i(t,"Label",T,l(t)),t.text="",t.imageAtlas="",t.bubbleType=-1,t.originPos=new u(0,0,0),t}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;this.node.parent.getComponent(g).data.bubbled=!0,this.originPos=this.node.position.clone(),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1),this.Label&&(this.imageAtlas.length>0?f.loadSpriteAtlasAndBind(this.imageAtlas,(function(t){b(e.Label)?(e.text.length>0&&(e.Label.string=e.text),e.Label.imageAtlas=t):y.error("LabelToast.richtext.nil")})):this.text.length>0&&(this.Label.string=this.text)),this.scheduleOnce((function(){e.doAnimation()}),.1),this.schedule((function(){e.doAnimation()}),3)},o.update=function(e){},o.onDisable=function(){var t;null==(t=this.node)||null==(t=t.parent)||t.getComponent(g);if(-1!=this.bubbleType){var n=C.getNumOfBubbles(this.bubbleType);n>0&&C.setNumOfBubbles(this.bubbleType,n-1)}this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.doAnimation=function(){var e=this,t=this.node.scale.clone();p(this.node).parallel(p().sequence(p().to(.2,{scale:t.clone().multiply3f(1.1,1.1,1)}),p().to(.1,{scale:t})),p().delay(3).call((function(){e.selfDestroy()}))).start()},o.selfDestroy=function(){var e;null==(e=this.node)||null==(e=e.parent)||e.getComponent(g);if(-1!=this.bubbleType){var t=C.getNumOfBubbles(this.bubbleType);t>0&&C.setNumOfBubbles(this.bubbleType,t-1)}this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},t}(h)).prototype,"SpriteBackground",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"Label",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineChouqi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var n,t,i,o,s,a,r,p,l,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.sp,p=e.Canvas,l=e.Component},function(e){c=e.DEV}],execute:function(){var u,h,C,y,f;s._RF.push({},"8a7d05P3PRLyIMWKVvs/nsg","CCSpineChouqi",void 0);var d=a.ccclass,v=a.property;e("CCSpineChouqi",(u=d("CCSpineChouqi"),h=v({type:r.Skeleton,tooltip:c}),u((f=n((y=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"spine",f,o(n)),n}t(n,e);var s=n.prototype;return s.start=function(){},s.update=function(e){},s.onEnable=function(){if(e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),this.spine){this.spine.node.active=!0,this.spine.loop=!0,this.spine.clearTracks();this.spine.setAnimation(0,"animation",this.spine.loop)}},s.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n}(l)).prototype,"spine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=y))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./env","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCGuideData.ts","./CCPanelManagement.ts","./CCPopupManager.ts","./CCClippingNode.ts","./CCSceneManager.ts","./CCSundryData.ts","./CCSceneHall.ts","./Npc.ts","./CCSpineWantPlay.ts","./CCSpineMoney.ts","./CCBtnPromotion.ts","./CCPanelOutside.ts","./CCBtnAccelerate.ts","./CCBtnHelper.ts","./CCPanelHotTask.ts","./CCBtnDoubleIncome.ts","./CCPanelCommon.ts","./CCPanelManagementDecorationDetails.ts","./CCBtnCatHouseUpgrade.ts","./CCPanelCatHouseUpgradeRanking.ts","./CCPanelCatHouseUpgrade.ts","./CCPanelCatHouseUpgradeItem.ts","./CCEffct.ts","./CCPanelOutsideUpgrade.ts","./CCBtnRechargeGold.ts","./CCPanelRechargeGold.ts","./CCBtnGames.ts","./CCPanelMiniGameList.ts","./CCPanelMiniGameListItemDetails.ts","./CCPanelMiniGameListItem.ts","./CCLabelTyping.ts","./CCBtnBuilding.ts","./CCPanelClanManagementItemFacilityDetails.ts","./CCBuildingLeftData.ts","./CCPanelClanManagementItemFacilityUpgrade.ts","./CCPropData.ts","./CCPanelClanManagementItemMemberUpgrade.ts","./CCPanelClanManagement.ts"],(function(e){var t,n,i,o,a,r,d,l,p,s,c,u,g,C,N,h,f,m,B,b,I,E,P,S,v,_,y,A,T,G,O,L,D,k,U,w,M,R,H,x,F,W,V,K,z,X,Y,j,J,q,Z,Q,$,ee,te,ne,ie,oe,ae,re,de,le,pe,se,ce,ue,ge,Ce;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){d=e.cclegacy,l=e._decorator,p=e.Sprite,s=e.Node,c=e.sp,u=e.Label,g=e.Enum,C=e.Canvas,N=e.BlockInputEvents,h=e.isValid,f=e.find,m=e.Vec3,B=e.UITransform},function(e){b=e.default},function(e){I=e.CCButton},function(e){E=e.DEV},function(e){P=e._T},function(e){S=e.CCEvent},function(e){v=e.default,_=e.EVENT_TYPE},function(e){y=e.CC_NEWBIE_GUIDE_TYPE,A=e.CCPlayerData},function(e){T=e.default,G=e.GuideClickType},function(e){O=e.CCPanelManagement},function(e){L=e.default},function(e){D=e.CCClippingNode},function(e){k=e.CCSceneManager},function(e){U=e.default},function(e){w=e.CCSceneHall},function(e){M=e.Npc},function(e){R=e.CCSpineWantPlay},function(e){H=e.CCSpineMoney},function(e){x=e.CCBtnPromotion},function(e){F=e.CCPanelOutside},function(e){W=e.CCBtnAccelerate},function(e){V=e.CCBtnHelper},function(e){K=e.CCPanelHotTask},function(e){z=e.CCBtnDoubleIncome},function(e){X=e.CCPanelCommon},function(e){Y=e.CCPanelManagementDecorationDetails},function(e){j=e.CCBtnUpgrade},function(e){J=e.CCPanelCatHouseUpgradeRanking},function(e){q=e.CCPanelCatHouseUpgrade},function(e){Z=e.CCPanelCatHouseUpgradeItem},function(e){Q=e.CCEffect},function(e){$=e.CCPanelOutsideUpgrade},function(e){ee=e.CCBtnRechargeGold},function(e){te=e.CCPanelRechargeGold},function(e){ne=e.CCBtnGames},function(e){ie=e.CCPanelMiniGameList},function(e){oe=e.CCPanelMiniGameListItemDetails},function(e){ae=e.CCPanelMiniGameListItem},function(e){re=e.CCLabelTyping},function(e){de=e.CCBtnBuilding},function(e){le=e.CCPanelClanManagementItemFacilityDetails},function(e){pe=e.default},function(e){se=e.CCPanelClanManagementItemFacilityUpgrade},function(e){ce=e.default,ue=e.CCPropType},function(e){ge=e.CCPanelClanManagementItemMemberUpgrade},function(e){Ce=e.CCPanelClanManagement}],execute:function(){var Ne,he,fe,me,Be,be,Ie,Ee,Pe,Se,ve,_e,ye,Ae,Te,Ge,Oe,Le,De,ke;d._RF.push({},"e482dLSIh9BzpE0Y51Mn+La","CCSpineGuide",void 0);var Ue=l.ccclass,we=l.property;e("CCSpineGuide",(Ne=Ue("CCSpineGuide"),he=we({type:p,tooltip:E}),fe=we({type:s,tooltip:E}),me=we({type:D,tooltip:E}),Be=we({type:c.Skeleton,tooltip:E}),be=we({type:p,tooltip:E}),Ie=we({type:u,tooltip:E}),Ee=we({type:g(y),tooltip:E}),Pe=we({type:re}),Ne(((ke=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"Gray",_e,o(t)),i(t,"block",ye,o(t)),i(t,"clippingNode",Ae,o(t)),i(t,"SpineGuide",Te,o(t)),i(t,"SpriteBubble",Ge,o(t)),i(t,"LabelBubble",Oe,o(t)),i(t,"currentGuideType",Le,o(t)),i(t,"LabelTyping",De,o(t)),t.highlight=!1,t.timeout=!1,t.accelerateClicked=!1,t.actionIn=!1,t.actionIn2=!1,t.actionIn3=!1,t.actionOut=!1,t.actionIdle=!1,t.bubbleSpeed=.05,t.bubbleSpeedAccelerate=1,t.typeId=0,t.level=0,t}n(t,e);var d=t.prototype;return d.start=function(){},d.update=function(e){},d.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this)},d.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},d.realOrderId=function(e){return v.ENABLE_NEWBIE_CONTINUE?e:0},d.onEnable=function(){var n=this;if(e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(C).enabled=!1),this.SpineGuide&&(this.SpineGuide.node.active=!1),this.enableBubble(!1,""),A.isNewBieGuideStepsCompleted(this.currentGuideType))return t.currentOrderId=-1,void(this.node.active=!1);var i=A.getNewbieGuideStepsCompleted(this.currentGuideType);switch(this.currentGuideType){case y.DEFAULT:i<5?(i=this.realOrderId(0),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i>=5&&i<=12?(i=this.realOrderId(4),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i>=13&&i<=23?(i=this.realOrderId(12),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i>=24&&i<=29?(i=this.realOrderId(23),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i<33&&(i=this.realOrderId(29),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.DEVELIVERING:i<106&&(i=this.realOrderId(0),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.DOUBLE_INCOME:i<T.maxStep(y.DOUBLE_INCOME)&&(i=this.realOrderId(0),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.CATHOUSE_UPGRADE:if(i<309)i=0,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i);else if(i>=310&&i<T.maxStep(y.CATHOUSE_UPGRADE)){var o=A.getCatRoomLevelUsing(1);if(!o)return;if(o.level>1)return void this.gotoNext(T.maxStep(y.CATHOUSE_UPGRADE));if(0==A.data.miniGameDriedFishCount)return;i=310,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)}break;case y.OUTSIDE_UPGRADE:i<T.maxStep(y.OUTSIDE_UPGRADE)&&(i=A.data.outsideLevel>1?T.maxStep(y.OUTSIDE_UPGRADE):this.realOrderId(0),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.RIGHT_SCENE:i<505?(i=this.realOrderId(0),A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i>=505&&i<512?(i=505,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i>=512&&i<T.maxStep(y.RIGHT_SCENE)&&(i=512,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.LEFT_SCENE:if(i<606)i=0,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i);else if(i<616){var a=A.getCatUpgradeUsingByBuildingId(47);if(a)-1==a.lastTrainCompleteTime?(i=616,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):(i=605,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));else i=605,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)}else i<619?(i=616,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i<621&&(i=621,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.LEFT_SCENE_MATCH:i<757?(i=750,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i)):i<763&&(i=757,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i));break;case y.LEFT_SCENE_MATCH_WON:i<801&&(i=0,A.updateNewbieGuideStepsCompleted(this.currentGuideType,i))}var r=A.getNewbieGuideStepsNext(this.currentGuideType,i);if(!r)return t.currentOrderId=-1,void(this.node.active=!1);this.clippingNode.onNewbieGuideTipsRefresh(!1,""),this.scheduleOnce((function(){n.doAction(r.orderId)}),.5),S.on(_.GOTO_NEXT,this.gotoNext,this),S.on(_.NEWBIE_GUIDE_ACTION_REFRESH,this.doAction,this),S.on(_.NEWBIE_GUIDE_ENABLE_BLOCK,this.onEnableBlock,this),S.on(_.DELIVERING_TIMEOUT,this.onDeliveringTimeout,this),b.reOrderRenderByName(L.container,["SceneNewbieAnimation","spineGuide"])},d.onDisable=function(){this.unscheduleAllCallbacks(),S.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},d.onEnableBlock=function(e,t){this.block&&(this.block.getComponent(N)&&(this.block.getComponent(N).enabled=e),this.block.getComponent(I)&&(this.block.getComponent(I).enabled=!0,this.block.getComponent(I).preventSwallow=t),b.log("onEnableBlock.enable: "+e+" preventSwallow: "+t))},d.onDeliveringTimeout=function(){this.timeout=!0,b.log("-------------------\x3e onDeliveringTimeout");var e=t.findNodeByAbsPath("panelManagementDecorationDetails");if(h(e)){var n=f("Canvas/Background/btnDelivering",e);if(n){if(n.keepDisabled=!0,!this.accelerateClicked){var i=f("Canvas/Background/btnFastDelivery",e);if(i){if(!i.active){this.clippingNode.clearCopyTargetNode();var o=A.getNewbieGuideStepsCompleted(y.DEVELIVERING);this.gotoNext(o)}}else b.log("-------------------\x3e onDeliveringTimeout.btnFastDelivery.nil")}}else b.log("-------------------\x3e onDeliveringTimeout.btnDelivering.nil")}else b.log("-------------------\x3e onDeliveringTimeout.panelPopup.nil")},d.enableBubble=function(e,t){var n=this;if(void 0===t&&(t=""),b.log("enableBubble.enable: "+e+" text: "+t),this.SpriteBubble&&(this.SpriteBubble.node.active=e),this.LabelTyping)if(this.LabelBubble.node.active=e,e){this.LabelBubble.string="",this.actionIdle=!1;var i=P(t).replaceAll("<username>",A.data.name);this.LabelTyping.startTyping(i,(function(){n.actionIdle=!0}))}else this.LabelTyping.stopTyping()},d.enableTips=function(e,t){void 0===t&&(t=""),S.emit(_.NEWBIE_GUIDE_TIPS_REFRESH,e,t)},d.setActionStatus=function(e,t,n){this.actionIn=e,this.actionIn3=t,this.actionOut=n},d.doAction=function(e){var n=this;this.clippingNode.onOrderRender();var i=T.getRowsByOrderId(e);if(!i)return t.currentOrderId=-1,void(this.node.active=!1);this.Idx=i.orderId,b.log("doAction.item:"),b.log(i.toString()),b.log("timeout: "+this.timeout);var o=0;if(i.needVip>0&&i.needVip>A.data.vip)return t.currentOrderId=-1,void(this.node.active=!1);if(i.needBuildingLevel>0){var a=A.getSortedBuildingDeliveringItems();if(a.length>0&&i.needBuildingLevel>a[a.length-1].level)return t.currentOrderId=-1,void(this.node.active=!1)}if(i.playAniIn)return this.enableClipping(!1),this.enableTips(!1),this.setActionStatus(!0,!0,!0),void this.scheduleOnce((function(){n.doActionIn(i)}),0);if(i.playAniIn2)return this.enableClipping(!1),this.enableTips(!1),this.setActionStatus(!1,!0,!0),void this.scheduleOnce((function(){n.doActionIn3(i,!0)}),0);switch(this.enableClipping(!0),this.enableTips(1==i.playToast,i.desc),i.clickType){case G.NORMAL:if(i.con1>0){var r=U.data.HallGuidingCustomID;r>0&&(A.setSpineWalkSpeed(3),A.setSpineAnimationSpeed(3),S.emit(_.GENERATE_OUTSIDE_NPC,r,1)),this.scheduleOnce((function(){n.gotoNext(i.orderId)}),i.con1)}break;case G.CLOUSE_PANEL:if(this.clippingNode){var d=function(e){var o,a=null==(o=t.findNodeByAbsPath("panelManagement"))?void 0:o.getComponent(O);a.onBtnClose&&a.onBtnClose(e),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelManagement/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=d,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}break;case G.BTN_MANAGEMENT:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/bottomArea/bottomBtnManagement"),i.con1);break;case G.PANEL_MANAGEMENT_BUY:break;case G.BTN_WANTPLAY:if(this.clippingNode){var l,p=w.queuePlay.find((function(e){var t;return null!=(null==(t=e.getComponent(M))?void 0:t.data.tileHold)}));if(!h(p))return;var s=null==(l=p.getComponent(M))?void 0:l.getWantPlayPath();if(s.length>0){s=s.replaceAll(v.ENABLE_NEWBIE_NPC_ABS_PATH,"");var c=function(e,t,o){S.emit(_.PLAY_CAT,p.getComponent(M)),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath(s),i.con1,(function(e,t){var i=e.getComponent(R);if(i){var o;t.getComponent(R).catId=i.catId,t.getComponent(R).freePos=i.freePos,t.getComponent(R).fnOnBtnPressStart=c,t.getComponent(R).targetCaller=n;var a=null==(o=t.getChildByPath("background/SpriteItem/spine"))?void 0:o.getComponent(M);a&&a.enableCCButtonListener(n,!0,!1,c)}}))}}break;case G.BTN_ACCERLERATE:if(this.clippingNode){var g=w.queuePlay.find((function(e){var t,n,i;return(null==(t=e.getComponent(M))?void 0:t.data.cushionTypeId)>0&&(0==(null==(n=e.getComponent(M))?void 0:n.data.cushionPosId)||1==(null==(i=e.getComponent(M))?void 0:i.data.cushionPosId))}));if(!h(g))return void this.gotoNext(i.orderId);this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/middleAreaRight/middleBtnAccelerate"),i.con1,null,(function(e,t){var n=e.getComponent(W),i=t.getComponent(W);n&&i&&(i.timeScaleReset(!0),n.progressBar.progress=i.progressBar.progress,n.spineRuning=i.spineRuning,n.spine2Runing=i.spine2Runing)}));return void this.schedule((function e(){w.getDroppedMoney()&&(A.setSpineWalkSpeed(1),A.setSpineAnimationSpeed(1),n.unschedule(e),n.gotoNext(i.orderId))}),.2)}break;case G.DROPED_MONEY:if(this.clippingNode){var C=w.getDroppedMoney(),N=C.getPathInHierarchy();if(N.length>0){N=N.replaceAll(v.ENABLE_NEWBIE_NPC_ABS_PATH,"");var E=function(e,t,o){if(b.log("isValid(moeny): "+h(C)),h(C)){var a=C.getComponent(H);a&&(a.animationRunning||(a.node.active=!0,a.enableSpine(!1),a.takeMoney(a,0),n.clippingNode.clearCopyTargetNode(),n.scheduleOnce((function(){n.gotoNext(i.orderId)}),.5)))}};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath(N),i.con1,(function(e,t){var i=e.getComponent(H);i&&(t.getComponent(H).money=i.money,t.getComponent(H).animationEndPos=i.animationEndPos,t.getComponent(H).fnOnBtnPressStart=E,t.getComponent(H).targetCaller=n,t.getComponent(H).enableSpine(!1))}))}}break;case G.BTN_OUTSIDE:if(this.clippingNode){var y=function(e,t,o){x.showDetails(!1,(function(e){n.clippingNode.onOrderRender(),0==Math.floor(i.orderId/100)&&e.enableBtnClose(!1),n.gotoNext(i.orderId)}))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/bottomArea/bottomBtnPromotion"),i.con1,(function(e,t){e.getComponent(x)&&(t.getComponent(x).fnOnBtnPressStart=y,t.getComponent(x).targetCaller=n)}))}break;case G.OUTSIDE_NPC:case G.OUTSIDE_ALL:break;case G.OUTSIDE_CLOSE:if(this.clippingNode){var D,k=null==(D=t.findNodeByAbsPath("panelOutside"))?void 0:D.getComponent(F);if(k){var re=function(e,t,o){k.hide(),n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelOutside/Canvas/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(k.enableBtnClose(!0),t.getComponent(I).fnOnBtnPressStart=re,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}}break;case G.BTN_HOTTASK:if(this.clippingNode){var Ne=function(e,t,o){L.showPanel(K.resObj,null),n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/middleAreaRight/middleBtnHelper"),i.con1,(function(e,t){e.getComponent(V)&&(t.getComponent(V).fnOnBtnPressStart=Ne,t.getComponent(V).targetCaller=n)}))}break;case G.PANEL_MANAGEMENT_HIGHTLIGHT:break;case G.PANEL_MANAGEMENT_FAST_DELIVERY:if(this.clippingNode){var he,fe=t.findNodeByAbsPath("panelManagementDecorationDetails"),me=f("Canvas/Background/btnFastDelivery",fe);if(!me)return void b.log("clickType: "+i.clickType+" btnOrigin ... nil");if(me.active||(this.timeout=!0),this.timeout)return t.currentOrderId+=1,void this.gotoNext(t.currentOrderId);var Be=me.getChildByName("Sprite");Be&&(Be.active=!1);var be=null==(he=me.getChildByName("LabelFastDelivery"))?void 0:he.getComponent(u);be&&(be.string=P("UI_hall_button7_5"),be.getComponent(B).width=414,be.node.position=new m(0,0,0));var Ie=fe.getComponent(Y),Ee=function(e,t,o){3==t?(n.accelerateClicked=!0,A.setBuildingDelivered(100*e.typeId+e.level),n.gotoNext(i.orderId)):b.log("clickType: "+i.clickType+" idx: "+t+" ... invalid")};this.clippingNode.setClippingNodeByPath(me,i.con1,(function(e,t){e.getComponent(I)&&(me.keepDisabled=!0,t.getComponent(I).fnOnBtnPressStart=Ee,t.getComponent(I).targetCaller=Ie)}))}break;case G.PANEL_MANAGEMENT_BTN_USE:break;case G.BTN_DOUBLE_INCOME:if(this.clippingNode){var Pe=function(e,t,o){z.showPanel((function(){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/middleAreaLeft/middleBtnDoubleIncome"),i.con1,(function(e,t){e.getComponent(z)&&(t.getComponent(z).fnOnBtnPressStart=Pe,t.getComponent(z).targetCaller=n)}))}break;case G.PANEL_DOUBLE_INCOME_AD:if(this.clippingNode){var Se,ve=t.findNodeByAbsPath("panelCommon"),_e=f("Canvas/Background/btnSubmit",ve);if(!_e)return void b.log("clickType: "+i.clickType+" btnOrigin ... nil");var ye=_e.getChildByName("SpriteSubmit");ye&&(ye.active=!1);var Ae=null==(Se=_e.getChildByName("LabelSubmit"))?void 0:Se.getComponent(u);Ae&&(Ae.string=P("UI_hall_button7_5"),Ae.getComponent(B).width=414,Ae.node.position=new m(0,0,0));var Te=ve.getComponent(X),Ge=function(e,t,o){e.hide(!1,0),A.addDoubleIncomeTimeLeft(U.data.ExtracCoinsAddtimeByAds),n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCommon/Canvas/Background/btnSubmit"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=Ge,t.getComponent(I).targetCaller=Te)}))}break;case G.PANEL_CAT_HOUSE_UPGRADE:if(this.clippingNode){var Oe=function(e,t,o){j.showDetails(-1,(function(){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/bottomArea/bottomBtnCatHouseUpgrade"),i.con1,(function(e,t){e.getComponent(j)&&(t.getComponent(j).fnOnBtnPressStart=Oe,t.getComponent(j).targetCaller=n)}))}break;case G.PANEL_CAT_HOUSE_UPGRADE_RANKING:if(this.clippingNode){var Le=function(e,t,o){L.showPanel(J.resObj,{fnOnShow:function(e){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCatHouseUpgrade/Canvas/Background/btnRanking"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=Le,t.getComponent(I).targetCaller=n)}))}break;case G.PANEL_CAT_HOUSE_UPGRADE_RANKING_CLOSE:if(this.clippingNode){var De,ke=null==(De=t.findNodeByAbsPath("panelCatHouseUpgradeRanking"))?void 0:De.getComponent(J);if(ke){var Ue=function(e,t,o){ke.hide(),n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCatHouseUpgradeRanking/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(ke.enableBtnClose(!0),t.getComponent(I).fnOnBtnPressStart=Ue,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}}break;case G.PANEL_CAT_HOUSE_UPGRADE_MINIGAME:if(this.clippingNode){var we=function(i,o,a){var r,d=null==(r=t.findNodeByAbsPath("panelCatHouseUpgrade"))?void 0:r.getComponent(q);d&&(d.options.fnEliminate&&d.options.fnEliminate(d,o,a),n.clippingNode.onOrderRender(),A.updateNewbieGuideStepsCompleted(n.currentGuideType,e),t.currentOrderId=-1,n.node.active=!1)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCatHouseUpgrade/Canvas/Background/btnEliminate"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=we,t.getComponent(I).targetCaller=n)}))}break;case G.PANEL_CAT_HOUSE_UPGRADE_PART:if(this.clippingNode){var Me=function(e,t,a){o=1;var r=A.getCatRoomLevelUsing(o);L.showPanel(Z.resObj,{typeId:o,level:r.level,fnOnShow:function(){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCatHouseUpgrade/Canvas/Background/SpritePart1"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=Me,t.getComponent(I).targetCaller=n)}))}break;case G.PANEL_CAT_HOUSE_UPGRADE_PART_BTN_SUBMIT:if(this.clippingNode){var Re=t.findNodeByAbsPath("panelCatHouseUpgradeItem"),He=null==Re?void 0:Re.getComponent(Z),xe=function(e,t,o){e.onBtnPressStart&&e.onBtnPressStart(e,t,o)&&(n.clippingNode.onOrderRender(),n.gotoNext(i.orderId))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelCatHouseUpgradeItem/Canvas/Background/BtnUpgrade"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=xe,t.getComponent(I).targetCaller=He)}))}break;case G.PANEL_OUTSIDE_BTN:if(this.clippingNode){var Fe=function(e,t,o){var a=A.data.vip;if(a<U.data.OutsideLevelUpNeedVIP)return b.log("vip: "+a+" < "+U.data.OutsideLevelUpNeedVIP),void Q.toast(w.SceneHallUI,"textures@prefabs/floatingBanner",""+P(U.data.CatUI3,"<img src='main_icon02' width=49 height=33 offset=5/> x",U.data.OutsideLevelUpNeedVIP),"textures@Texture2D/Hall_UI/Hall_UI");L.showPanel($.resObj,{fnOnShow:function(e){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelOutside/Canvas/Background/btnUpgrade"),i.con1,(function(e,n){if(e.getComponent(I)){var i=t.findNodeByAbsPath("panelOutside"),o=null==i?void 0:i.getComponent(F);n.getComponent(I).fnOnBtnPressStart=Fe,n.getComponent(I).targetCaller=o}}))}break;case G.PANEL_OUTSIDE_UPGRADE_BTN_SUBMIT:if(this.clippingNode){var We=function(e,t,o){e.onBtnPressStart&&e.onBtnPressStart(e,t,o)&&(n.clippingNode.onOrderRender(),n.gotoNext(i.orderId))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelOutsideUpgrade/Canvas/Background/btnUpgrade"),i.con1,(function(e,n){if(e.getComponent(I)){var i=t.findNodeByAbsPath("panelOutsideUpgrade"),o=null==i?void 0:i.getComponent($);n.getComponent(I).fnOnBtnPressStart=We,n.getComponent(I).targetCaller=o}}))}break;case G.RIGHT_SCENE_RECHARGE_GOLD:if(this.clippingNode){var Ve=function(e,t,o){ee.showDetails(!1,(function(e){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("Hall_Area_Middle/middleBtnRechargeGold"),i.con1,(function(e,t){e.getComponent(ee)&&(t.getComponent(ee).fnOnBtnPressStart=Ve,t.getComponent(ee).targetCaller=n)}))}break;case G.RIGHT_SCENE_RECHARGE_GOLD_CLAIMED:if(this.clippingNode){var Ke=function(e,t,o){e.onBtnPressStart&&e.onBtnPressStart(e,t,o)&&(n.clippingNode.onOrderRender(),n.gotoNext(i.orderId))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelRechargeGold/Canvas/Background/btnReceive"),i.con1,(function(e,n){if(e.getComponent(I)){var i=t.findNodeByAbsPath("panelRechargeGold"),o=null==i?void 0:i.getComponent(te);n.getComponent(I).fnOnBtnPressStart=Ke,n.getComponent(I).targetCaller=o}}))}break;case G.RIGHT_SCENE_BTN_BUILDING_DETAILS:if((o=Math.floor(i.clickType/100))>0){var ze=A.getBuildingLevelUsing(o);if(ze&&ze.level>0){A.updateNewbieGuideStepsCompleted(this.currentGuideType,i.orderId),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE,t.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView2/view/content1/37/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem"),.5,null,null,!1),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE);for(var Xe=i,Ye=0;Ye<2;Ye++)Xe=T.getRowsNext(this.currentGuideType,Xe.orderId),Ye<1&&A.updateNewbieGuideStepsCompleted(this.currentGuideType,Xe.orderId);return void(Xe&&this.doAction(Xe.orderId))}S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE,t.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView2/view/content1/37/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem"))}break;case G.RIGHT_SCENE_BTN_BUILDING_DETAILS_BUY:break;case G.RIGHT_SCENE_BTN_MINIGAME:if(this.clippingNode){var je=function(e,t,o){L.showPanel(ie.resObj,{fnOnShow:function(){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/bottomArea/bottomBtnGames"),i.con1,(function(e,t){e.getComponent(ne)&&(t.getComponent(ne).fnOnBtnPressStart=je,t.getComponent(ne).targetCaller=n)}))}break;case G.RIGHT_SCENE_BTN_MINIGAME_ITEM:if(this.clippingNode){var Je=function(e,t,o,a){L.showPanel(oe.resObj,{gameId:1,fnOnShow:function(){n.clippingNode.onOrderRender(),n.gotoNext(i.orderId)}},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelMiniGameList/Canvas/Background/ScrollView1/view/content1/panelMiniGameListRow/Canvas/Background/ScrollView/view/content/panelMiniGameListItem"),i.con1,(function(e,t){e.getComponent(ae)&&(t.getComponent(ae).fnOnBtnPressed=Je,t.getComponent(ae).targetCaller=n)}))}break;case G.RIGHT_SCENE_BTN_MINIGAME_ITEM_START:if(this.clippingNode){var qe=t.findNodeByAbsPath("panelMiniGameListItemDetails"),Ze=null==qe?void 0:qe.getComponent(oe),Qe=function(e,t,o){e&&e.onBtnPressStart&&(e.onBtnPressStart(e,t,o),n.clippingNode.onOrderRender(),n.gotoNext(i.orderId))};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelMiniGameListItemDetails/Canvas/Background/btnStart"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=Qe,t.getComponent(I).targetCaller=Ze)}))}break;case G.LEFT_SCENE_OPEN_WOODEN_BOX:if((o=Math.floor(i.clickType/100))>0){var $e=A.getBuildingLevelUsing(o);if($e&&$e.level>0){A.updateNewbieGuideStepsCompleted(this.currentGuideType,i.orderId),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE);for(var et=i,tt=0;tt<3;tt++)et=T.getRowsNext(this.currentGuideType,et.orderId),tt<2&&A.updateNewbieGuideStepsCompleted(this.currentGuideType,et.orderId);return void(et&&this.doAction(et.orderId))}S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE,t.findNodeByAbsPath("Hall_Area_Base/Hall_floor_level_left/cat_pao_box"))}break;case G.LEFT_SCENE_BTN_BUILDING_PAOBUJI_BUY:break;case G.LEFT_SCENE_BTN_BUILDING_CLOSE:if(this.clippingNode){var nt=function(e){var o,a=null==(o=t.findNodeByAbsPath("panelClanManagementItemFacilityUpgrade"))?void 0:o.getComponent(se);a.onBtnClose&&a.onBtnClose(e),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagementItemFacilityUpgrade/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=nt,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}break;case G.LEFT_SCENE_BTN_BUILDING_PAOBUJI:if(this.clippingNode){var it=!1,ot=!1,at=A.getCatUpgradeUsingByBuildingId(i.clickType);at&&(it=at.lastTrainCompleteTime>0,ot=-1==at.lastTrainCompleteTime);var rt=function(e,t,o,a){a||L.showPanel(le.resObj,{idx:pe.getOrderIdByTypeId(G.LEFT_SCENE_BTN_BUILDING_PAOBUJI),tid:G.LEFT_SCENE_BTN_BUILDING_PAOBUJI,fnOnShow:function(e){if(n.clippingNode.onOrderRender(),(at=A.getCatUpgradeUsingByBuildingId(i.clickType))&&(-1==at.lastTrainCompleteTime||at.lastTrainCompleteTime>0)){A.updateNewbieGuideStepsCompleted(n.currentGuideType,i.orderId),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE);for(var t=i,o=-1==at.lastTrainCompleteTime?1:2,a=0;a<o;a++)t=T.getRowsNext(n.currentGuideType,t.orderId),a<o-1&&A.updateNewbieGuideStepsCompleted(n.currentGuideType,t.orderId);t&&n.doAction(t.orderId)}else n.gotoNext(i.orderId)},fnOnComplete:null},!0)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("Hall_Area_Base/Hall_floor_level_left/cat_pao"),i.con1,(function(e,t){var i=e.getComponent(de);if(i&&(t.getComponent(de).fnOnBtnPressed=rt,t.getComponent(de).targetCaller=n),i=t.getComponent(de)){var o;it||ot?i.animation(0,"animation"):i.animation(1,"animation2");var a=null==(o=i.node.getChildByName("BM_TipsBG"))?void 0:o.getComponent(de);a&&(a.fnOnBtnPressed=rt,a.targetCaller=n)}})),this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("Hall_Area_Base/Hall_floor_level_left/cat_paoNoClick"),i.con1,(function(e,t){var n=t.getComponent(de);n&&(it||ot?n.animation(0,"animation"):n.animation(1,"animation2"))}),null,!1,m.ZERO,1)}break;case G.LEFT_SCENE_ARRANGE_MEMBER:if(this.clippingNode){var dt=t.findNodeByAbsPath("panelClanManagementItemFacilityDetails/Canvas/Background/btnFieldPlayers");dt&&(dt.keepDisabled=!0),this.clippingNode.setClippingNodeByPath(dt,i.con1)}break;case G.LEFT_SCENE_CLICK_ACCELERATE_PROP_ID:if(this.clippingNode){var lt=i.clickType,pt=ce.getIdxByTypeIdAndPropId(ue.PROP,lt);if(pt>=0){var st=t.findNodeByAbsPath("panelClanManagementItemFacilityDetails/Canvas/Background/panelLeftBottom/PropRow/ScrollView/view/content");if(st){var ct=st.children[pt];ct&&this.clippingNode.setClippingNodeByPath(ct,i.con1)}}}break;case G.LEFT_SCENE_CLICK_ACCELERATE_PROP_USE:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelMiniGameLuckyDrawsItem/Canvas/Background/btnUse"),i.con1);break;case G.LEFT_SCENE_CLICK_BTN_CLAIMED:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagementItemFacilityDetails/Canvas/Background/btnClaim"),i.con1);break;case G.LEFT_SCENE_BTN_FACILITY_DETAILS_CLOSE:if(this.clippingNode){var ut=function(e){var o,a=null==(o=t.findNodeByAbsPath("panelClanManagementItemFacilityDetails"))?void 0:o.getComponent(le);a.onBtnClose&&a.onBtnClose(e),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagementItemFacilityDetails/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=ut,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}break;case G.LEFT_SCENE_CLICK_MEMBER_MANAGE:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("SceneHallUI/bottomArea/leftBtnClan"),i.con1);break;case G.LEFT_SCENE_CLICK_MEMBER_UPGRADE:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagement/Canvas/Background/PageView/view/content/ScrollView2/view/content1/0/Canvas/btnArrange"),i.con1);break;case G.LEFT_SCENE_CLICK_MEMBER_UPGRADE_BTN:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagementItemMemberUpgrade/Canvas/Background/btnUpgrade"),i.con1);break;case G.LEFT_SCENE_CLICK_MEMBER_UPGRADE_CHILD_CLOSE:if(this.clippingNode){var gt=function(e){var o,a=null==(o=t.findNodeByAbsPath("panelClanManagementItemMemberUpgrade"))?void 0:o.getComponent(ge);a.onBtnClose&&a.onBtnClose(e),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagementItemMemberUpgrade/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=gt,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}break;case G.LEFT_SCENE_CLICK_MEMBER_UPGRADE_CLOSE:if(this.clippingNode){var Ct=function(e){var o,a=null==(o=t.findNodeByAbsPath("panelClanManagement"))?void 0:o.getComponent(Ce);a.onBtnClose&&a.onBtnClose(e),n.gotoNext(i.orderId)};this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelClanManagement/Canvas/Background/btnClose"),i.con1,(function(e,t){e.getComponent(I)&&(t.getComponent(I).fnOnBtnPressStart=Ct,t.getComponent(I).targetCaller=n)}),null,!0,this.clippingNode.SpineXiaoshouWithCloseBtnOffsetPos)}break;case G.LEFT_SCENE_CLICK_MATCH_CHAPTER_BTN:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelMatch/Canvas/Background/PageView/view/content/chapterIdx-0/btnSignUp"),i.con1);break;case G.LEFT_SCENE_CLICK_MATCH_ROUND_START_GAME_BTN:this.clippingNode&&this.clippingNode.setClippingNodeByPath(t.findNodeByAbsPath("panelMatchRound/btnStartMatch"),i.con1);break;case G.PANEL_MANAGEMENT_BUILDING_CAT_TREE:break;case G.PANEL_MANAGEMENT_BUILDING_CUSHION:if(8==A.getNewbieGuideStepsCompleted(this.currentGuideType)){var Nt=T.getRowsNext(this.currentGuideType,A.getNewbieGuideStepsCompleted(this.currentGuideType));if(Nt&&(o=Math.floor(Nt.clickType/100))>0){var ht=A.getBuildingLevelUsing(o);if(ht&&ht.level>0){A.updateNewbieGuideStepsCompleted(this.currentGuideType,Nt.orderId),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE,t.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1/view/content1/12/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem")),S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE);for(var ft=0;ft<2;ft++)Nt=T.getRowsNext(this.currentGuideType,Nt.orderId),0==ft&&A.updateNewbieGuideStepsCompleted(this.currentGuideType,Nt.orderId);return void(Nt&&this.doAction(Nt.orderId))}}S.emit(_.NEWBIE_GUIDE_SET_CLIPPINGNODE,t.findNodeByAbsPath("panelManagement/Canvas/Background/PageView/view/content/PageView/view/conent/ScrollView1/view/content1/12/Canvas/Background/ScrollView/view/content/panelManagementDecorationItem"))}break;default:return void b.error("doAction.clickType: "+i.clickType+" ... unknown!")}},t.findNodeByAbsPath=function(e){return f(e,e.startsWith("Hall_Area_Middle")||e.startsWith("Hall_Area_Base")?k.getInstance().getSceneNode():L.container)},d.doActionIn=function(e){var t=this;if(h(this.SpineGuide)){0==this.SpineGuide.node.active&&(this.SpineGuide.node.active=!0),this.SpineGuide.loop=!1,b.spineReset(this.SpineGuide),this.SpineGuide.unscheduleAllCallbacks();var n=this.SpineGuide.setAnimation(0,"in",!1);b.log("doActionIn["+e.orderId+"]: "+n.animationEnd),this.SpineGuide.setCompleteListener((function(n){t.actionIn=!1,e.playAniIn2&&t.doActionIn3(e,!0)}))}},d.doActionIn2=function(e,t){var n=this;if(h(this.SpineGuide)){0==this.SpineGuide.node.active&&(this.SpineGuide.node.active=!0),b.spineReset(this.SpineGuide),this.SpineGuide.unscheduleAllCallbacks();var i=this.SpineGuide.setAnimation(1,"in2",t);b.log("doActionIn2["+e.orderId+"]: "+i.animationEnd),this.enableBubble(!0,e.desc),this.SpineGuide.setCompleteListener((function(t){n.actionIn2=!1,e.playAniOut?n.doActionOut(e):n.actionIdle&&(b.log("doActionIn2["+e.orderId+"] ts: "+b.NowTimeStamp()+" "+t.animation.name+" "+t.animation.duration),n.doActionIdle())}))}},d.doActionIn3=function(e,t){var n=this;if(h(this.SpineGuide)){0==this.SpineGuide.node.active&&(this.SpineGuide.node.active=!0),b.spineReset(this.SpineGuide),this.SpineGuide.unscheduleAllCallbacks();var i=this.SpineGuide.setAnimation(2,"in3",t);b.log("doActionIn3["+e.orderId+"]: "+i.animationEnd),this.enableBubble(!0,e.desc),this.SpineGuide.setCompleteListener((function(t){n.actionIn3=!1,n.actionIdle&&(b.log("doActionIn3["+e.orderId+"] ts: "+b.NowTimeStamp()+" "+t.animation.name+" "+t.animation.duration),n.doActionIdle()),e.playAniOut&&(n.actionOut=!1)}))}},d.doActionIdle=function(){h(this.SpineGuide)&&(b.spineReset(this.SpineGuide),this.SpineGuide.unscheduleAllCallbacks(),this.SpineGuide.setAnimation(3,"idle",!0),this.SpineGuide.setCompleteListener((function(e){})))},d.doActionOut=function(e){var n=this;if(h(this.SpineGuide)&&!this.actionOut){this.actionOut=!0,this.enableBubble(!1),b.spineReset(this.SpineGuide),this.SpineGuide.unscheduleAllCallbacks();var i=this.SpineGuide.setAnimation(4,"out",!1);b.log("doActionOut["+e.orderId+"]: "+i.animationEnd),this.SpineGuide.setCompleteListener(a(r().mark((function i(o){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.actionOut=!1,n.enableClipping(!0),e.clickType==G.GOTO_NEXT?n.gotoNext(e.orderId):e.clickType==G.OUTSIDE_NPC||e.clickType==G.OUTSIDE_ALL?t.findNodeByAbsPath("panelOutside")&&b.reOrderRenderByName(L.container,["SceneNewbieAnimation","spineGuide","panelOutside"]):e.clickType==G.PANEL_MANAGEMENT_HIGHTLIGHT&&n.showHighlightWithoutHand(e.orderId,e.con1),i.abrupt("return");case 4:case"end":return i.stop()}}),i)}))))}},d.showHighlightWithoutHand=function(e,n){var i=this;if(this.highlight)return!0;var o=t.findNodeByAbsPath("panelManagementDecorationDetails/Canvas/Background/btnDelivering");if(!o)return b.log("showHighlightWithoutHand.btnOrigin ... nil"),!0;if(!o.active)return b.log("showHighlightWithoutHand.btnOrigin ... inactived"),this.timeout=!0,this.gotoNext(e),!0;var a=function(t,n,o){i.clippingNode.onOrderRender(),i.gotoNext(e)};return this.clippingNode.setClippingNodeByPath(o,n,(function(e,t){if(i.highlight=!0,e.getComponent(I)){t.getComponent(I).fnOnBtnPressStart=a,t.getComponent(I).targetCaller=i;var n=e.parent.parent.parent.getComponent(Y);if(n){var r,d=null==(r=t.getChildByName("LabelDeliveringTime"))?void 0:r.getComponent(u);if(d){i.schedule((function e(){var t=100*n.typeId+n.level,a=A.getBuildingDelivering(t);if(a.level>0){var r=Math.floor((a.deliveredTime-b.NowTimeStamp())/1e3);r>0?d.string=b.formatTime(r):(o.keepDisabled=!0,i.unschedule(e),i.clippingNode.clearCopyTargetNode(),i.timeout=!0)}}),1)}}}i.onEnableBlock(!0,!0)}),null,!1),!1},d.enableClipping=function(e){this.clippingNode&&(this.clippingNode.node.active=e),this.onEnableBlock(!0,!e)},d.setSpineAnimationSpeed=function(e){h(this.SpineGuide)&&(this.SpineGuide.timeScale=e)},d.setBubbleSpeedAccelerate=function(e){this.bubbleSpeedAccelerate=e},d.onBtnPressStart=function(e,n,i){var o=T.getRowsByOrderId(n);if(!o)return t.currentOrderId=-1,void(e.node.active=!1);o.playAniIn&&e.actionIn||o.playAniIn2&&(e.actionIn2||e.actionIn3)||o.playAniOut&&!e.actionIn3&&e.actionOut?o.playAniIn2&&(e.actionIn2||e.actionIn3)&&(e.setSpineAnimationSpeed(2),e.setBubbleSpeedAccelerate(2),e.scheduleOnce((function(){e.setSpineAnimationSpeed(1),e.setBubbleSpeedAccelerate(1)}),1)):t.currentOrderId!=o.orderId&&(!o.playAniOut||e.actionIn3||e.actionOut?e.gotoNext(o.orderId):(o.clickType==G.PANEL_MANAGEMENT_HIGHTLIGHT&&e.highlight&&e.showHighlightWithoutHand(o.orderId,o.con1)&&(A.getSortedBuildingDeliveringItems().length>0&&(e.timeout=!1),e.highlight=!1,e.gotoNext(o.orderId)),e.doActionOut(o)))},d.gotoNext=function(e){A.updateNewbieGuideStepsCompleted(this.currentGuideType,e),t.currentOrderId=e;var n=A.getNewbieGuideStepsNext(this.currentGuideType,e);if(!n)return t.currentOrderId=-1,void(this.node.active=!1);this.clippingNode.onNewbieGuideTipsRefresh(!1,""),this.clippingNode.clearCopyTargetNodeAll(),this.doAction(n.orderId)},t.checkAndGotoNext=function(e,t){if(v.ENABLE_NEWBIE_GUIDE&&A.getNewbieGuideStepsCompleted(e)==t){var n=A.getNewbieGuideStepsNext(e,t);n&&S.emit(_.GOTO_NEXT,n.orderId)}},t}(I)).currentOrderId=0,_e=t((ve=ke).prototype,"Gray",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ve.prototype,"block",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ve.prototype,"clippingNode",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ve.prototype,"SpineGuide",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ve.prototype,"SpriteBubble",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ve.prototype,"LabelBubble",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ve.prototype,"currentGuideType",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.DEFAULT}}),De=t(ve.prototype,"LabelTyping",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=ve))||Se));d._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineHezuo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./env","./CCCacheRes.ts"],(function(n){var t,i,e,o,a,s,r,l,u,h,d,c,p,m,f,g,C,v,y,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,r=n.sp,l=n.Sprite,u=n.Node,h=n.Canvas,d=n.Vec3,c=n.Label,p=n.UITransform,m=n.Rect,f=n.Size,g=n.tween},function(n){C=n.default},function(n){v=n.CCButton},function(n){y=n.DEV},function(n){w=n.default}],execute:function(){var b,S,B,k,A,z,R,D,E;a._RF.push({},"9fbd7YV8gBJaqHjk5OxM7Pk","CCSpineHezuo",void 0);var H=s.ccclass,I=s.property;n("CCSpineHezuo",(b=H("CCSpineHezuo"),S=I({type:r.Skeleton,tooltip:y}),B=I({type:l,tooltip:y}),k=I({type:[u],tooltip:y}),b((R=t((z=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"spine",R,o(t)),e(t,"Background",D,o(t)),e(t,"items",E,o(t)),t.fnFirstCompleted=null,t.fnCompleted=null,t.rewardIds=[],t.animationRunning=!1,t.animationRunning2=!1,t}i(t,n);var a=t.prototype;return a.start=function(){},a.update=function(n){},a.onEnable=function(){var t=this;n.prototype.onEnable&&n.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(h).enabled=!1);var i=C.GetSafeAreaRect();if(this.Background&&(this.Background.node.position=new d(-i.width,this.Background.node.position.y,0)),this.items.forEach((function(n){n.setPosition(n.position.clone().add3f(-i.width,0,0))})),this.rewardIds.length==this.items.length){var e=0;this.rewardIds.forEach((function(n){var i,o,a=n[0],s=n[1],r=null==(i=t.items[e])?void 0:i.getChildByName("LabelNum");r&&(r.getComponent(c).string=""+s);var u=null==(o=t.items[e])?void 0:o.getChildByName("SpriteItem"),h=null==u?void 0:u.getComponent(l);h&&w.loadSpriteFrameAndBind(h,"textures@Texture2D/Hall_Item/Hall_Item/Item_"+a,!1,t,(function(n,t){var i,e=null==(i=u.getComponent(p))?void 0:i.contentSize,o=u.getComponent(l).spriteFrame.clone().originalSize,a=new m(0,0,o.width,o.height);if(a.width>a.height){var s=a.width/e.width;a.width=e.width,a.height/=s}else{var r=a.height/e.height;a.width/=r,a.height=e.height}u.getComponent(p).setContentSize(new f(a.width,a.height)),u.active=!0})),e++}))}this.doAnimation()},a.onDisable=function(){n.prototype.onDisable&&n.prototype.onDisable.call(this)},a.reset=function(){this.spine&&(this.spine.setToSetupPose(),this.spine.setBonesToSetupPose(),this.spine.setSlotsToSetupPose(),this.spine.clearAnimations(),this.spine.clearTracks())},a.doAnimation=function(){var n=this;if(this.spine){this.animationRunning=!0,this.spine.node.active=!0,this.spine.paused=!1;var t=this.spine.setAnimation(0,"animation",!1);if(!t)return this.animationRunning=!1,void C.error("CCSpineHezuo.animation.trackEntry.nil");var i=t.animationEnd;C.log("doAnimation.cost: "+i),this.scheduleOnce((function(){if(n.fnFirstCompleted&&n.fnFirstCompleted(n),n.doAnimationMove(),n.reset(),!(t=n.spine.setAnimation(1,"animation2",!0)))return n.animationRunning=!1,void C.error("CCSpineHezuo.animation2.trackEntry.nil");var i=t.animationEnd;C.log("doAnimation.cost2: "+i),n.scheduleOnce((function(){n.animationRunning=!1,C.log("doAnimation.OK")}),i)}),Number(i))}},a.doAnimationMove=function(){var n=this;if(this.Background){var t=C.GetSafeAreaRect();this.Background.node.position=new d(-t.width,this.Background.node.position.y,0),g(this.Background.node).by(.3,{position:new d(t.width,0,0)}).call((function(){n.animationRunning2=!1,C.log("doAnimationMove.OK")})).start(),this.items.forEach((function(n){g(n).by(.3,{position:new d(t.width,0,0)}).call((function(){})).start()}))}},a.selfDestroy=function(){C.log("selfDestroy: "+this.node.name),this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},a.onBtnPressStart=function(n,t,i){this.animationRunning||this.animationRunning2||(this.fnCompleted&&this.fnCompleted(this),this.selfDestroy())},t}(v)).prototype,"spine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"Background",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"items",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=z))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCDefine.ts"],(function(n){var e,t,i,o,r,a,s,u,l,c,p,f,d,h,g,m,w,C;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,u=n._decorator,l=n.sp,c=n.Vec3,p=n.Canvas,f=n.Component,d=n.tween,h=n.UITransform,g=n.math},function(n){m=n.default},function(n){w=n.DEV},function(n){C=n.default}],execute:function(){var b,y,D,v,x,k,S,z,L,R,T;s._RF.push({},"dfae65+IMZLX5f4HUCxOQ1G","CCSpineLoading",void 0);var E=u.ccclass,P=u.property;n("CCSpineLoading",(b=E("CCSpineLoading"),y=P({type:l.Skeleton,tooltip:w}),D=P({tooltip:w}),v=P({tooltip:w}),x=P({tooltip:w}),b((z=e((S=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"spine",z,o(e)),i(e,"enterDuration",L,o(e)),i(e,"waitingDuration",R,o(e)),i(e,"leaveDuration",T,o(e)),e.animationRunning=!1,e.fnWaiting=null,e.fnCaller=null,e.posStart=new c(0,0,0),e.posEnd=C.INFINITY_VEC3,e}t(e,n);var s=e.prototype;return s.start=function(){},s.update=function(n){},s.onEnable=function(){if(n.prototype.onEnable&&n.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),this.spine){this.spine.node.active=!0,this.spine.loop=!0,this.spine.clearTracks();var e=this.spine.setAnimation(0,"animation",this.spine.loop);this.spine.setTrackCompleteListener(e,(function(n){}))}},s.onDisable=function(){this.selfDestroy(),n.prototype.onDisable&&n.prototype.onDisable.call(this)},s.doAnimation=function(){var n=r(a().mark((function n(e){var t,i,o,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m.log("target: "+e.node.name),!e.animationRunning){n.next=3;break}return n.abrupt("return");case 3:return e.animationRunning=!0,i=(null==(t=e.getComponent(h))?void 0:t.contentSize)||new g.Size(0,0),e.node.position=new c(1.5*i.width,0,0),m.log("start: "+m.Now()),n.next=9,new Promise((function(n){d(e.node).to(e.enterDuration,{position:e.posStart}).call((function(){return n()})).start()}));case 9:if(o=0,!e.fnWaiting){n.next=21;break}return r=Date.now(),n.next=14,e.fnWaiting(e.fnCaller);case 14:if(o=(Date.now()-r)/1e3,m.log("cost: "+o+" , left: "+(e.waitingDuration-o)),!(o<e.waitingDuration)){n.next=19;break}return n.next=19,new Promise((function(n){return setTimeout(n,1e3*(e.waitingDuration-o))}));case 19:n.next=23;break;case 21:return n.next=23,new Promise((function(n){return setTimeout(n,1e3*e.waitingDuration)}));case 23:return m.log("end: "+m.Now()),n.next=26,new Promise((function(n){d(e.node).to(e.leaveDuration,{position:new c(1.5*-i.width,0,0)}).call((function(){e.animationRunning=!1,e.node.position=e.posEnd,n()})).start()}));case 26:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s.selfDestroy=function(){this.unscheduleAllCallbacks(),this.animationRunning=!1,this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},e}(f)).prototype,"spine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(S.prototype,"enterDuration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),R=e(S.prototype,"waitingDuration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=e(S.prototype,"leaveDuration",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),k=S))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineMoney.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./env","./CCEvent.ts","./CCDefine.ts","./CCSceneMain.ts"],(function(n){var e,t,i,o,s,a,r,l,c,u,p,d,h,f,y,C,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,r=n.sp,l=n.Sprite,c=n.Vec3,u=n.Canvas,p=n.tween},function(n){d=n.CCButton},function(n){h=n.DEV},function(n){f=n.CCEvent},function(n){y=n.EVENT_TYPE,C=n.HALL_INDEX},function(n){v=n.CCSceneMain}],execute:function(){var b,m,D,S,g,E,M;s._RF.push({},"ca115/1Tg5Btbf3YnCrIwBb","CCSpineMoney",void 0);var P=a.ccclass,k=a.property;n("CCSpineMoney",(b=P("CCSpineMoney"),m=k({type:r.Skeleton,tooltip:h}),D=k({type:l,tooltip:h}),b((E=e((g=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,i(e,"spine",E,o(e)),i(e,"SpriteIdle",M,o(e)),e.money=0,e.fnPressed=null,e.animationEndPos=new c(0,0,0),e.animationRunning=!1,e}t(e,n);var s=e.prototype;return s.start=function(){},s.update=function(n){},s.onLoad=function(){n.prototype.onLoad&&n.prototype.onLoad.call(this),this.clickThreshold=0,this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(u).enabled=!1),this.enableSpine(!1)},s.enableSpine=function(n){this.spine&&(this.spine.node.active=n),this.SpriteIdle&&(this.SpriteIdle.node.active=!n)},s.onDisable=function(){this.unscheduleAllCallbacks(),n.prototype.onDisable&&n.prototype.onDisable.call(this)},s.onBtnPressStart=function(n,e,t){n.bindTakeMoney()},s.bindTakeMoney=function(){var n=this.takeMoney.bind(this);f.emit(y.TAKE_DROPPED_MONEY,n,this)},s.takeMoney=function(n,e){if(!this.animationRunning){var t=n.money+e;n.fnPressed&&n.fnPressed(t),n.doAnimation()}},s.doAnimation=function(){var n=this;this.animationRunning=!0,v.pageIndex==C.MIDDLE?p(this.node).to(.5,{position:this.animationEndPos}).call((function(){n.selfDestroy()})).start():this.scheduleOnce((function(){n.selfDestroy()}),.5)},s.selfDestroy=function(){this.unscheduleAllCallbacks(),this.animationRunning=!1,this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},e}(d)).prototype,"spine",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(g.prototype,"SpriteIdle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpinePlayCat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCatData.ts","./Npc.ts","./CCCacheRes.ts"],(function(e){var n,t,i,o,s,a,p,l,r,c,d,h,C,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,o=e.Canvas,s=e.find,a=e.Node,p=e.UITransform,l=e.isValid,r=e.Vec3,c=e.Component},function(e){d=e.default},function(e){h=e.default},function(e){C=e.Npc},function(e){u=e.default}],execute:function(){var f;t._RF.push({},"22174eNcgZDO4mYtdhpDOhL","CCSpinePlayCat",void 0);var m=i.ccclass;i.property,e("CCSpinePlayCat",m("CCSpinePlayCat")(f=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).SpriteItem=null,n.catId=0,n.freePos=0,n.actionCustom=[],n.spine=null,n}n(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},i.onEnable=function(){var n=this;if(e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(o).enabled=!1),this.SpriteItem=s("SpriteItem",this.node),this.SpriteItem){var t,i=h.getRowsByTagId(this.catId),c=""+i.spineId,f=this.SpriteItem.getChildByName("spine");f?this.spine=f.getComponent(C):(f=new a("spine"),this.SpriteItem.addChild(f),this.spine=f.addComponent(C)),this.spine.initSpine(c),this.spine.showShadow(!1),null==(t=this.spine.node.getComponent(p))||t.setAnchorPoint(.5,0),u.loadSpine(this.spine.name,this.spine.ske,(function(){var e;if(l(n.spine)){n.spine.setSkinName(i.spineId+"_"+i.skineId),n.fnRandomAction(),0==n.freePos?d.flipNodeX(n.node,!0):d.flipNodeX(n.node,!1);null==(e=n.spine.getComponent(p))||e.contentSize.clone();n.spine.node.position=new r(0,-50,0),n.schedule(n.fnRandomAction,3)}else d.error("CCSpinePlayCat.loadSpine.invalid.isDestoryed")}),(function(e){d.log("CCSpinePlayCat.loadSpine.failed: "+n.spine.name+" ... error: "+e)}))}},i.fnRandomAction=function(){var e=[];if(this.actionCustom.length>0)e=this.actionCustom;else{var n=h.getRowsByTagId(this.catId);if(!n)return;e=n.actionIdle}var t=d.random(e);l(this.spine)&&this.spine.animation(0,t)},t}(c))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpinePohuai.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./env","./CCSceneHall.ts","./CCEffct.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPanelRepair.ts","./CCPopupManager.ts","./CCPlayerData.ts","./CCAudioManager.ts","./CCSceneMain.ts"],(function(e){var i,t,n,o,s,a,r,p,l,u,h,c,f,C,d,y,R,P,T,v,k,b,I,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.sp,p=e.Canvas,l=e.find,u=e.Sprite},function(e){h=e.default},function(e){c=e.CCButton},function(e){f=e.DEV},function(e){C=e.CCSceneHall},function(e){d=e.CCEffect},function(e){y=e._T},function(e){R=e.CCEvent},function(e){P=e.EVENT_TYPE,T=e.HALL_INDEX},function(e){v=e.CCPanelRepair},function(e){k=e.default},function(e){b=e.CCPlayerData},function(e){I=e.audioMgr},function(e){g=e.CCSceneMain}],execute:function(){var E,S,_,A,m;s._RF.push({},"58250q5OwFIjL6ywhH4/KyE","CCSpinePohuai",void 0);var D=a.ccclass,M=a.property;e("CCSpinePohuai",(E=D("CCSpinePohuai"),S=M({type:r.Skeleton,tooltip:f}),E((m=i((A=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s))||this,n(i,"spine",m,o(i)),i.sprMarkRepair=null,i.cushionTypeId=0,i.brokenPos=-1,i}t(i,e);var s=i.prototype;return s.start=function(){},s.update=function(e){},s.onLoad=function(){var i;(e.prototype.onLoad&&e.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(p).enabled=!1),this.spine&&(this.spine.node.active=!1,this.setAnimation()),this.sprMarkRepair)||(this.sprMarkRepair=null==(i=l("Sprite",this.node))?void 0:i.getComponent(u))},s.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.enableMarkRepair(!1),R.on(P.CAT_TREE_WAITTING_STAFF_REPAIR,this.onWaittingStaffRepair,this),R.on(P.CAT_TREE_STAFF_REPAIRING,this.onStaffRepairing,this),R.on(P.CAT_TREE_QUICK_REPAIR,this.onCatTreeQuickRepair,this)},s.onDisable=function(){this.unscheduleAllCallbacks(),R.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},s.onCatTreeQuickRepair=function(e,i){this.cushionTypeId==e&&this.brokenPos==i&&this.selfDestroy()},s.onWaittingStaffRepair=function(e,i){this.cushionTypeId==e&&this.brokenPos==i&&(this.stopAnimation(!1),this.enableMarkRepair(!0))},s.onStaffRepairing=function(e,i){this.cushionTypeId==e&&this.brokenPos==i&&this.selfDestroy()},s.onBtnPressStart=function(e,i,t){var n,o;if(null==(n=this.sprMarkRepair)||null==(n=n.node)||!n.active){if(0!=b.getQuickRepairCushionTypeId()&&-1!=b.getQuickRepairCushionPos())return this.cushionTypeId!=b.getQuickRepairCushionTypeId()||this.brokenPos!=b.getQuickRepairCushionPos()?(g.pageIndex==T.MIDDLE&&I.playEffect("failed"),void d.toast(C.SceneHallUI,"textures@prefabs/floatingBanner",y("UI_tray_Pop_7"),"textures@Texture2D/Hall_UI/Hall_UI")):void 0;h.log("showRepair ... "+(null==(o=this.node.parent)||null==(o=o.parent)?void 0:o.name)+" "+this.cushionTypeId+" "+this.brokenPos),this.showRepair()}},s.showRepair=function(){k.showPanel(v.resObj,{cushionTypeId:this.cushionTypeId,brokenPos:this.brokenPos})},s.enableMarkRepair=function(e){this.sprMarkRepair&&(this.sprMarkRepair.node.active=e)},s.setAnimation=function(e){if(void 0===e&&(e=!0),this.spine){this.spine.node.active=e,this.spine.loop=!0,this.spine.clearTracks();var i=this.spine.setAnimation(0,"animation",this.spine.loop);if(i)return i.animationEnd}return 0},s.stopAnimation=function(e){void 0===e&&(e=!0),this.spine&&(this.spine.setToSetupPose(),this.spine.setBonesToSetupPose(),this.spine.setSlotsToSetupPose(),this.spine.clearAnimations(),this.spine.clearTracks(),this.spine.node.active=e)},s.selfDestroy=function(){this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},i}(c)).prototype,"spine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpinePohuaibo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var n,i,t,o,s,a,p,r,l,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,p=e.sp,r=e.Canvas,l=e.Component},function(e){c=e.DEV}],execute:function(){var u,h,f,d,b;s._RF.push({},"79eaarudLhErIcr+VcRObUj","CCSpinePohuaibo",void 0);var C=a.ccclass,v=a.property;e("CCSpinePohuaibo",(u=C("CCSpinePohuaibo"),h=v({type:p.Skeleton,tooltip:c}),u((b=n((d=function(e){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,t(n,"spine",b,o(n)),n.fnComplete=null,n}i(n,e);var s=n.prototype;return s.start=function(){},s.update=function(e){},s.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(r).enabled=!1),this.spine&&(this.spine.node.active=!1)},s.setAnimation=function(e){if(void 0===e&&(e=!0),this.spine){this.spine.node.active=e,this.spine.loop=!1,this.spine.clearTracks();var n=this.spine.setAnimation(0,"animation",this.spine.loop);if(n)return n.animationEnd}return 0},s.stopAnimation=function(){this.spine&&(this.spine.setToSetupPose(),this.spine.setBonesToSetupPose(),this.spine.setSlotsToSetupPose(),this.spine.clearAnimations(),this.spine.clearTracks(),this.spine.node.active=!1)},s.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n}(l)).prototype,"spine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpinePole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env","./CCDefine.ts","./CCAudioManager.ts"],(function(e){var t,o,r,n,s,i,a,l,p,u,h,g,c,f,d,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,i=e._decorator,a=e.ProgressBar,l=e.Canvas,p=e.UITransform,u=e.Quat,h=e.tween,g=e.Component},function(e){c=e.default},function(e){f=e.DEV},function(e){d=e.default},function(e){w=e.audioMgr}],execute:function(){var C,y,P,v,B,m,b,D,_,A,T;s._RF.push({},"f70621Xe/tA07GiQylCW471","CCSpinePole",void 0);var U=i.ccclass,L=i.property;e("CCSpinePole",(C=U("CCSpinePole"),y=L({type:a}),P=L({displayName:"",tooltip:f}),v=L({displayName:"",tooltip:f}),B=L({displayName:"",tooltip:f}),C((D=t((b=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=e.call.apply(e,[this].concat(s))||this,r(t,"progressBar",D,n(t)),r(t,"originAngle",_,n(t)),r(t,"rotationAngle",A,n(t)),r(t,"rotationDuration",T,n(t)),t.fnCompleted=null,t.isLongPressed=!1,t._poleTween=null,t.fullHeight=0,t.fnPoleGrowUp=function(){if(t.progressBar){return t.progressBar.progress+=.05,c.log("fnPoleGrowUp: "+t.progressBar.progress.toFixed(3)),t.progressBar.progress>=1?(t.progressBar.progress=1,void t.startPutDown()):void 0}},t}o(t,e);var s=t.prototype;return s.start=function(){},s.update=function(e){},s.onLoad=function(){var t;(e.prototype.onLoad&&e.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1),this.progressBar)&&(this.progressBar.progress=0,this.progressBar.node.active=!0,this.fullHeight=(null==(t=this.progressBar.node.getComponent(p))?void 0:t.width)||0);this.reset(),this.startGrowUp()},s.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},s.startGrowUp=function(){this.isPoleGrowUpDone()?this.startPutDown():this.isLongPressed||(this.isLongPressed=!0,this.fnPoleGrowUp(),this.schedule(this.fnPoleGrowUp,d.fnTimeScaleUpInterval),w.playEffect("btnAccelerateOn"))},s.isPoleGrowUpDone=function(){return this.progressBar.progress>=1&&(this.progressBar.progress=1,!0)},s.startPutDown=function(){var e=this;if(this.isLongPressed&&(this.isLongPressed=!1,this.unschedule(this.fnPoleGrowUp),this.progressBar)){var t=this.progressBar.node.parent,o=t.rotation.clone(),r=180*Math.atan2(0,0)/Math.PI+this.originAngle+this.rotationAngle,n=new u;u.fromAngleZ(n,r),this._poleTween&&(this._poleTween.stop(),this._poleTween.destroySelf(),this._poleTween=null),this._poleTween=h({t:0}).to(this.rotationDuration,{t:1},{onUpdate:function(e){var r=new u;u.lerp(r,o,n,e.t),t.setRotation(r)}}).call((function(){e.fnCompleted&&e.fnCompleted(e.progressBar,e.fullHeight,e.progressBar.progress)})).start()}},s.reset=function(){if(this.isLongPressed=!1,this.progressBar){this.progressBar.progress=0;var e=180*Math.atan2(0,0)/Math.PI+this.originAngle,t=new u;u.fromEuler(t,0,0,e),this.progressBar.node.parent.setRotation(t)}this._poleTween&&(this._poleTween.stop(),this._poleTween=null)},s.selfDestroy=function(){this._poleTween&&(this._poleTween.stop(),this._poleTween=null),this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},t}(g)).prototype,"progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(b.prototype,"originAngle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),A=t(b.prototype,"rotationAngle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-90}}),T=t(b.prototype,"rotationDuration",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),m=b))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineQiehuan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var n,t,i,o,a,s,p,l,r,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,p=e.sp,l=e.Canvas,r=e.Component},function(e){c=e.DEV}],execute:function(){var u,h,C,f,y;a._RF.push({},"75338a20pdBJpTuRlO5GCju","CCSpineQiehuan",void 0);var d=s.ccclass,v=s.property;e("CCSpineQiehuan",(u=d("CCSpineQiehuan"),h=v({type:p.Skeleton,tooltip:c}),u((y=n((f=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(n,"spine",y,o(n)),n.fnComplete=null,n}t(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},a.onEnable=function(){var n=this;if(e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1),this.spine){this.spine.node.active=!0,this.spine.loop=!1,this.spine.clearTracks();var t=this.spine.setAnimation(0,"animation",this.spine.loop);this.spine.setTrackCompleteListener(t,(function(e){n.fnComplete&&n.fnComplete(),n.node.active=!1}))}},a.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n}(r)).prototype,"spine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineSaHua.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./env"],(function(e){var n,t,i,o,a,s,r,l,p,c,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.sp,l=e.Canvas,p=e.Component},function(e){c=e.default},function(e){u=e.DEV}],execute:function(){var h,d,f,C,y;a._RF.push({},"c4b740biX1AdLap/sWt5fHt","CCSpineSaHua",void 0);var v=s.ccclass,b=s.property;e("CCSpineSaHua",(h=v("CCSpineSaHua"),d=b({type:r.Skeleton,tooltip:u}),h((y=n((C=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(n,"spine",y,o(n)),n}t(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},a.onEnable=function(){var n=this;if(e.prototype.onEnable&&e.prototype.onEnable.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1),this.spine){this.spine.node.active=!0,this.spine.paused=!1;var t=this.spine.setAnimation(0,"animation",!1);if(!t)return void c.error("CCSpineSaHua.trackEntry.nil");var i=t.animationEnd;c.log("CCSpineSaHua.cost: "+i),this.scheduleOnce((function(){n.selfDestroy()}),i)}},a.onDisable=function(){e.prototype.onDisable&&e.prototype.onDisable.call(this)},a.selfDestroy=function(){c.log("selfDestroy: "+this.node.name),this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},n}(p)).prototype,"spine",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=C))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineSaoba.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./env"],(function(t){var n,e,i,a,o,s,r,h,l,c,p,u,d,f,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.sp,h=t.Vec3,l=t.Canvas,c=t.find,p=t.math,u=t.tween,d=t.UIOpacity},function(t){f=t.CCButton},function(t){v=t.DEV}],execute:function(){var C,y,m,b,S;o._RF.push({},"9da51dju9pGjY9vndSmD6bs","CCSpineSaoba",void 0);var g=s.ccclass,D=s.property;t("CCSpineSaoba",(C=g("CCSpineSaoba"),y=D({type:r.Skeleton,tooltip:v}),C((S=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,i(n,"spine",S,a(n)),n.trash=[],n.trashId=0,n.fnPressed=null,n.animationEndPos=new h(0,0,0),n.animationRunning=!1,n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1);for(var n=null,e=0;e<3;e++)(n=c("Sprite"+(e+1),this.node))&&(this.trash.push(n),n.active=!1);this.trashId=p.randomRangeInt(0,this.trash.length),this.trash[this.trashId].active=!0,this.spine&&(this.spine.node.active=!1)},o.onDisable=function(){this.unscheduleAllCallbacks(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},o.onBtnPressStart=function(t,n,e){t.takeSaoba(t)},o.takeSaoba=function(t){this.fnPressed&&this.fnPressed(),t&&this.spine&&(this.spine.node.active=!0,this.spine.setAnimation(0,"animation",!0),this.spine.paused=!1),this.doAnimation()},o.doAnimation=function(){var t=this;this.animationRunning=!0,u(this.trash[this.trashId].getComponent(d)).to(1.5,{opacity:0}).call((function(){t.trash&&(t.trash[t.trashId].active=!1),t.selfDestroy()})).start()},o.selfDestroy=function(){this.unscheduleAllCallbacks(),this.animationRunning=!1,this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},n}(f)).prototype,"spine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineVip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./env","./CCEvent.ts","./CCDefine.ts","./CCSceneMain.ts"],(function(n){var t,i,e,o,s,a,r,c,l,p,u,h,d,f,C,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,r=n.Sprite,c=n.Vec3,l=n.Canvas,p=n.tween},function(n){u=n.CCButton},function(n){h=n.DEV},function(n){d=n.CCEvent},function(n){f=n.EVENT_TYPE,C=n.HALL_INDEX},function(n){v=n.CCSceneMain}],execute:function(){var y,m,b,D,E;s._RF.push({},"dbac4JSbbRECq0rzpTkA9Sh","CCSpineVip",void 0);var P=a.ccclass,S=a.property;n("CCSpineVip",(y=P("CCSpineVip"),m=S({type:r,tooltip:h}),y((E=t((D=function(n){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=n.call.apply(n,[this].concat(s))||this,e(t,"SpriteItem",E,o(t)),t.vip=0,t.fnPressed=null,t.animationEndPos=new c(0,0,0),t.animationRunning=!1,t}i(t,n);var s=t.prototype;return s.start=function(){},s.update=function(n){},s.onLoad=function(){n.prototype.onLoad&&n.prototype.onLoad.call(this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(l).enabled=!1)},s.onDisable=function(){this.unscheduleAllCallbacks(),n.prototype.onDisable&&n.prototype.onDisable.call(this)},s.onBtnPressStart=function(n,t,i){n.bindTakeVip()},s.bindTakeVip=function(){var n=this.takeVip.bind(this);d.emit(f.TAKE_DROPPED_VIP,n,this)},s.takeVip=function(n,t){var i=this.vip+t;this.fnPressed&&this.fnPressed(i),this.doAnimation()},s.doAnimation=function(){var n=this;this.animationRunning=!0,v.pageIndex==C.MIDDLE?p(this.node).to(.5,{position:this.animationEndPos}).call((function(){n.selfDestroy()})).start():this.scheduleOnce((function(){n.selfDestroy()}),.5)},s.selfDestroy=function(){this.unscheduleAllCallbacks(),this.animationRunning=!1,this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},t}(u)).prototype,"SpriteItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=D))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineWantPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCButton.ts","./CCCatData.ts","./Npc.ts","./CCCacheRes.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts"],(function(e){var n,t,i,o,s,a,l,d,r,p,u,h,c,C,f,m,v,y,g,S;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,o=e.Canvas,s=e.find,a=e.Sprite,l=e.UITransform,d=e.Node,r=e.isValid,p=e.Vec3,u=e.tween},function(e){h=e.default},function(e){c=e.CCButton},function(e){C=e.default},function(e){f=e.Npc},function(e){m=e.default},function(e){v=e.CCEvent},function(e){y=e.EVENT_TYPE},function(e){g=e.CCPlayerData,S=e.CC_NEWBIE_GUIDE_TYPE}],execute:function(){var P;t._RF.push({},"9cc4bP8khpBmowg4aDDIC+z","CCSpineWantPlay",void 0);var w=i.ccclass;i.property,e("CCSpineWantPlay",w("CCSpineWantPlay")(P=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).background=null,n.SpriteItem=null,n.catId=0,n.freePos=0,n.isNotExists=!1,n.isDestoryed=!1,n.spine=null,n.originPos=new p(0,0,0),n}n(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.onLoad=function(){var n,t,i=this;if(e.prototype.onLoad&&e.prototype.onLoad.call(this),null!=(n=this.node.parent)&&n.getComponent(f)&&(this.node.parent.getComponent(f).data.wantPlayed=!0),this.originPos=this.node.position.clone(),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(o).enabled=!1),this.background=null==(t=s("background",this.node))?void 0:t.getComponent(a),this.background&&m.loadSpriteFrameAndBind(this.background,"textures@Texture2D/Hall_UI/Hall_UI/"+(this.isNotExists?"main_bg05_2":"main_bg05"),!0),this.SpriteItem=s("background/SpriteItem",this.node),this.SpriteItem){var u,c,v=null==(u=this.SpriteItem.getComponent(l))?void 0:u.contentSize,y=C.getRowsByTagId(this.catId);if(null==y.spineId)return;var g=""+y.spineId,S=this.SpriteItem.getChildByName("spine");if(S?this.spine=S.getComponent(f):(S=new d("spine"),this.SpriteItem.addChild(S),this.spine=S.addComponent(f)),!this.spine||null==this.spine||!r(this.spine))return void h.error("CCSpineWantPlay.loadSpine.invalid.spine: "+this.spine);if(!this.spine.node||null==this.spine.node||!r(this.spine.node))return void h.error("CCSpineWantPlay.loadSpine.invalid.spine.node: "+this.spine.node);this.spine.initSpine(g),this.spine.showShadow(!1),this.spine.preventSwallow=!1,null==(c=this.spine.node.getComponent(l))||c.setAnchorPoint(.5,0),m.loadSpine(this.spine.name,this.spine.ske,(function(){var e;if(r(i.spine)){i.spine.setSkinName(y.spineId+"_"+y.skineId),i.spine.animation(0,"idle"),i.spine.pause(),i.spine.enableCCButtonListener(i,!0,!1,(function(e,n,t){e.onBtnPressStart(e,n,t)}));var n=null==(e=i.spine.getComponent(l))?void 0:e.contentSize.clone(),t=v.width/n.width;n.height;i.spine.node.setScale(new p(t,t,1)),i.spine.node.position=new p(0,-36,0)}else h.error("CCSpineWantPlay.loadSpine.invalid.isDestoryed:"+i.isDestoryed)}),(function(e){h.log("onLoad: loadSpine.failed: "+i.spine.name+" ... error: "+e)}))}this.scheduleOnce((function(){i.doAnimation()}),.1),this.schedule((function(){i.doAnimation()}),3)},i.onDisable=function(){var n,t=null==(n=this.node)||null==(n=n.parent)?void 0:n.getComponent(f);t&&(t.data.wantPlayed=!1,t.data.alreadyWantPlayed=14!=g.getNewbieGuideStepsCompleted(S.DEFAULT)),this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},i.doAnimation=function(){var e=this.node.scale.clone();u(this.node).sequence(u().to(.2,{scale:e.clone().multiply3f(1.1,1.1,1)}),u().to(.1,{scale:e})).delay(3).repeatForever().start()},i.onBtnPressStart=function(e,n,t){var i;e.preventSwallow=!0;var o=null==(i=this.node)||null==(i=i.parent)?void 0:i.getComponent(f);o&&v.emit(y.PLAY_CAT,o.getComponent(f))},i.selfDestroy=function(){var e,n=null==(e=this.node)||null==(e=e.parent)?void 0:e.getComponent(f);n&&(n.data.wantPlayed=!1,n.data.alreadyWantPlayed=!0),this.unscheduleAllCallbacks(),this.isDestoryed=!0,this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},t}(c))||P);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineXiaoShou.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var n,o,i,t,s,r,a,l,c,p,h,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.sp,l=e.Vec3,c=e.Canvas,p=e.tween,h=e.Component},function(e){u=e.DEV}],execute:function(){var d,y,C,f,v;s._RF.push({},"b0308RaM/VCyJ76H+Y+4Gh2","CCSpineXiaoShou",void 0);var b=r.ccclass,g=r.property;e("CCSpineXiaoShou",(d=b("CCSpineXiaoShou"),y=g({type:a.Skeleton,tooltip:u}),d((v=n((f=function(e){function n(){for(var n,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"spine",v,t(n)),n.moveable=!0,n.originPos=new l(0,0,0),n}o(n,e);var s=n.prototype;return s.start=function(){},s.update=function(e){},s.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.originPos=this.spine.node.position.clone(),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(c).enabled=!1)},s.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},s.doAnimation=function(){this.spine.setAnimation(0,"zhiyin",!0);var e=this.originPos.clone().add(new l(0,50,0));p(this.spine.node).sequence(p().to(.2,{position:e}),p().to(.1,{position:this.originPos.clone()})).repeatForever().start()},s.selfDestroy=function(){this.unscheduleAllCallbacks(),this.node&&(this.node.active=!1,this.node.children&&this.node.removeAllChildren(),this.node.removeFromParent(),this.node.destroy())},n}(h)).prototype,"spine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpineXiuli.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./CCEvent.ts","./CCDefine.ts"],(function(e){var n,t,i,o,s,a,l,r,p,c,u,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,l=e.sp,r=e.Canvas,p=e.Component},function(e){c=e.DEV},function(e){u=e.CCEvent},function(e){f=e.EVENT_TYPE}],execute:function(){var h,C,d,y,v;s._RF.push({},"00d1cWjPlxO2ol04kS4kWyo","CCSpineXiuli",void 0);var b=a.ccclass,E=a.property;e("CCSpineXiuli",(h=b("CCSpineXiuli"),C=E({type:l.Skeleton,tooltip:c}),h((v=n((y=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"spine",v,o(n)),n.fnComplete=null,n.cushionTypeId=0,n.brokenPos=-1,n}t(n,e);var s=n.prototype;return s.start=function(){},s.update=function(e){},s.onEnable=function(){var n=this;if(e.prototype.onEnable&&e.prototype.onEnable.call(this),u.on(f.CAT_TREE_STAFF_REPAIRED,this.onStaffRepaired,this),this.node.getChildByName("Canvas")&&(this.node.getChildByName("Canvas").getComponent(r).enabled=!1),this.spine){this.spine.node.active=!0,this.spine.loop=!1,this.spine.clearTracks();var t=this.spine.setAnimation(0,"animation",this.spine.loop);this.spine.setTrackCompleteListener(t,(function(e){n.fnComplete&&n.fnComplete(),n.node.active=!1}))}},s.onDisable=function(){this.unscheduleAllCallbacks(),u.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},s.onStaffRepaired=function(e,n){this.cushionTypeId==e&&this.brokenPos},n}(p)).prototype,"spine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/CCSpriteTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCTween.ts"],(function(e){var t,i,n,r,o,l,a,s,p,u,d,c,f,m,h,y,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,l=e.createClass},function(e){a=e.cclegacy,s=e._decorator,p=e.Sprite,u=e.Node,d=e.SpriteAtlas,c=e.UITransform,f=e.Vec3,m=e.Size,h=e.Component},function(e){y=e.default},function(e){g=e.default},function(e){b=e.CCTween}],execute:function(){var S,N,w,C,v,T,z,x,A,B,O,F,I,P,M,V,k,D,L,X,_,E,q,R,U,H,j,Z,G,J,K,Q;a._RF.push({},"ff301UsM45L8qqeOoMZXuqD","CCSpriteTimer",void 0);var W=s.ccclass,Y=s.property,$=s.executeInEditMode;e("CCSpriteTimer",(S=W("CCSpriteTimer"),N=$(),w=Y({type:p,displayName:""}),C=Y({type:Number,displayName:""}),v=Y({type:u,displayName:""}),T=Y({type:u,displayName:""}),z=Y({type:[p],displayName:"(::)"}),x=Y({type:u,displayName:""}),A=Y({type:[p],displayName:"(::)"}),B=Y({type:[String],displayName:""}),O=Y({type:String,displayName:""}),F=Y({type:d,displayName:""}),I=Y({type:String,displayName:""}),P=Y({type:Boolean,displayName:""}),M=Y({type:Boolean,displayName:""}),V=Y({type:Number,displayName:"(s)"}),S(k=N((L=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"SpriteBell",L,r(t)),n(t,"offsetX",X,r(t)),n(t,"NodeMask",_,r(t)),n(t,"NodeOld",E,r(t)),n(t,"SpriteTimeOld",q,r(t)),n(t,"NodeNew",R,r(t)),n(t,"SpriteTimeNew",U,r(t)),n(t,"AtlasNumIdx",H,r(t)),n(t,"AtlasColonIdx",j,r(t)),n(t,"SpriteAtlas",Z,r(t)),n(t,"SpriteFramePrefix",G,r(t)),n(t,"isScrolling",J,r(t)),n(t,"isScale",K,r(t)),n(t,"scaleDelay",Q,r(t)),t.timeVal=0,t}i(t,e);var a=t.prototype;return a.update=function(e){},a.onEnable=function(){this.SpriteBell&&(this.SpriteBell.node.active=!0),this.NodeOld&&(this.NodeOld.active=!0),this.NodeNew&&(this.NodeNew.active=!0)},a.getIdx=function(e){if(":"==e)return this.AtlasColonIdx;for(var t,i=o(this.AtlasNumIdx);!(t=i()).done;){var n=t.value;if(n==e)return n}return""},a.fixBellPos=function(){var e,t;if(this.SpriteBell){var i=null==(e=this.NodeOld)?void 0:e.getComponent(c);if(i){var n=this.SpriteBell.getComponent(c),r=-(i.width+n.width)/2-this.offsetX;this.SpriteBell.node.position.x!=r&&(this.SpriteBell.node.position=new f(r,0,0));var o=i.width+n.width+this.offsetX;if(o!=(null==(t=this.getComponent(c))?void 0:t.contentSize.width)&&(this.getComponent(c).contentSize=new m(o,i.height>n.height?i.height:n.height)),this.NodeMask)this.NodeMask.getComponent(c).contentSize.width!=i.width&&(this.NodeMask.getComponent(c).contentSize=new m(i.width,i.height))}}},a.scrolling=function(e,t,i,n,r,o){var l,a=null==(l=e.node.getComponent(c))?void 0:l.contentSize;a&&(i&&e.node.setPosition(e.node.position.add3f(0,a.height,0).clone()),e.enabled!=n&&(e.enabled=n),b.moveBy(e.node,new f(0,-a.height,0),t,(function(e){r&&e.setPosition(e.position.subtract(e.posOffset.clone())),e.getComponent(p).enabled!=o&&(e.getComponent(p).enabled=o)})))},l(t,[{key:"time",get:function(){return this.timeVal},set:function(e){var t=this,i=this.timeVal;if(this.timeVal=e,this.SpriteAtlas){var n=y.formatTime(i,!0);if(n.length){var r=y.formatTime(this.timeVal,!0);if(r.length){var o=n.split(""),l=r.split("");if(this.SpriteTimeOld.forEach((function(e,i){g.loadSpriteFrameAndBindFromAtlas(e,t.SpriteAtlas,""+t.SpriteFramePrefix+t.getIdx(o[i]),!0)})),this.SpriteTimeNew.forEach((function(e,i){g.loadSpriteFrameAndBindFromAtlas(e,t.SpriteAtlas,""+t.SpriteFramePrefix+t.getIdx(l[i]),!0)})),this.isScrolling&&this.NodeOld&&this.NodeNew){var a=(this.timeVal>i?this.timeVal-i:i-this.timeVal).toString().length;if(a>0){y.log("oldTimeFullTime: "+n+" newTimeFullTime: "+r+" diffLen: "+a);for(var s=0,p=0;p<a;p++)2!=(s=this.SpriteTimeOld.length-p-1)&&5!=s&&(this.scrolling(this.SpriteTimeOld[s],1,!1,!0,!0,!1),this.scrolling(this.SpriteTimeNew[s],1,!0,!0,!1,!0))}}this.fixBellPos()}}}}}]),t}(h)).prototype,"SpriteBell",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(D.prototype,"offsetX",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(D.prototype,"NodeMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(D.prototype,"NodeOld",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(D.prototype,"SpriteTimeOld",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(D.prototype,"NodeNew",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"SpriteTimeNew",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(D.prototype,"AtlasNumIdx",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["0","1","2","3","4","5","6","7","8","9"]}}),j=t(D.prototype,"AtlasColonIdx",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"colon"}}),Z=t(D.prototype,"SpriteAtlas",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"SpriteFramePrefix",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"num_"}}),J=t(D.prototype,"isScrolling",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=t(D.prototype,"isScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=t(D.prototype,"scaleDelay",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),k=D))||k)||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffCashier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCSceneHall.ts","./CCTileData.ts","./CCDefine.ts","./CCUtils.ts","./Npc.ts","./CCPathManager.ts","./CCSpineMoney.ts","./CCMapData.ts"],(function(e){var t,n,a,i,l,s,o,c,u,r,h,f,d,p,C;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.math,l=e.Vec3,s=e.Vec2,o=e.isValid},function(e){c=e.CCSceneHall},function(e){u=e.CCTileData},function(e){r=e.default},function(e){h=e.default},function(e){f=e.Npc},function(e){d=e.CCPathManager},function(e){p=e.CCSpineMoney},function(e){C=e.default}],execute:function(){var g;n._RF.push({},"2b2dejGuw1GYLTZcXcDsNE3","CCStaffCashier",void 0);var y=a.ccclass;a.property,a.executeInEditMode,e("CCStaffCashier",y("CCStaffCashier")(g=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).needleave=!1,t}t(n,e);var a=n.prototype;return a.enter=function(t){e.prototype.enter.call(this,t),this.needleave=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(r.tileIn[1].copy()),this.data.tilesLeft.push(this.getNextTile()),this.showShadow(!0),this.animation(1,"walk"),this.pause(!1),c.spineAction(this.node,this,this.data.tilesLeft,0,c.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,n,a,i){c.sequence(c.Instance(),t,null,e,n,a,i)}))},a.leave=function(t){var n=this;e.prototype.leave.call(this,t),this.needleave||(this.needleave=!0,this.stopPath(),this.data.tilesLeft=r.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,t,a,i){n.node.active=!1,n.setTile(r.tileIn[0].toVec2()),n.data.tilesLeft=[]},c.spineAction(this.node,this,this.data.tilesLeft,0,c.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,n,a){c.sequence(c.Instance(),null,null,e,t,n,a)})))},a.getNextTile=function(){var e=this,t=null,n=null,a=new i.Vec3(0,0,0),f=c.getDroppedMoney();if(f){t=d._position2Tile(new l(f.position.clone().x,f.position.clone().y,0));for(var g=!1,y=0;y<r.searchPathPointTryCount;y++)if(t=d._position2Tile(new l(f.position.clone().x+h.randomRange(r.searchPathPointRange[0],r.searchPathPointRange[1]),f.position.clone().y+h.randomRange(r.searchPathPointRange[0],r.searchPathPointRange[1]),0)),this._pathManager.isWalkable(t)){g=!0;break}g||(t=new s(C.data.rows/2,C.data.cols/2)),a.add3f(t.x,t.y,0),n=new u(a.x,a.y,.5,(function(t,n,a,i){if(!o(f))return t.animation(0,"idle",!1),t.pause(!0),void e.data.tilesLeft.push(e.getNextTile());t.animation(0,"idle"),t.pause(!1);var l=f.getComponent(p);l&&l.bindTakeMoney(),e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,n,a){e.animation(1,"walk"),e.pause(!1)}))}else t=this._pathManager.getRandomWalkableTileByTryCount(),a.add3f(t.x,t.y,0),n=new u(a.x,a.y,h.randomRange(1,2),(function(t,n,a,i){t.animation(0,"idle",!1),t.pause(!0),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,n,a){e.animation(1,"walk"),e.pause(!1)}));return n},n}(f))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffCleaner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTileData.ts","./CCUtils.ts","./CCSceneHall.ts","./CCPathManager.ts","./CCDefine.ts","./CCSpineSaoba.ts","./Npc.ts","./CCMapData.ts"],(function(e){var t,n,a,i,l,s,o,c,u,r,h,f,d,p,C,g;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.math,l=e.Vec3,s=e.Vec2,o=e.isValid},function(e){c=e.CCTileData},function(e){u=e.default},function(e){r=e.CCSceneHall},function(e){h=e.CCPathManager,f=e.SCREEN_PATH_TYPE},function(e){d=e.default},function(e){p=e.CCSpineSaoba},function(e){C=e.Npc},function(e){g=e.default}],execute:function(){var v;n._RF.push({},"a646bA4TOBJD7+5eGZplVXg","CCStaffCleaner",void 0);var y=a.ccclass;a.property,a.executeInEditMode,e("CCStaffCleaner",y("CCStaffCleaner")(v=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).needleave=!1,t}t(n,e);var a=n.prototype;return a.enter=function(t){e.prototype.enter.call(this,t),this.needleave=!1,this.node.active=!0,this.data.tilesLeft=[],this.data.tilesLeft.push(d.tileIn[1].copy()),this.data.tilesLeft.push(this.getNextTile()),this.showShadow(!0),this.animation(1,"walk"),this.pause(!1),r.spineAction(this.node,this,this.data.tilesLeft,0,r.Hall_Area_Middle,!0,!1,null,null,null,null,(function(e,n,a,i){r.sequence(r.Instance(),t,null,e,n,a,i)}))},a.leave=function(t){var n=this;e.prototype.leave.call(this,t),this.needleave||(this.needleave=!0,this.stopPath(),this.data.tilesLeft=d.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,t,a,i){n.node.active=!1,n.setTile(d.tileIn[0].toVec2()),n.data.tilesLeft=[]},r.spineAction(this.node,this,this.data.tilesLeft,0,r.Hall_Area_Middle,!0,!1,null,null,null,null,(function(e,t,n,a){r.sequence(r.Instance(),null,null,e,t,n,a)})))},a.getNextTile=function(){var e=this,t=null,n=null,a=new i.Vec3(0,0,0),C=r.getTrash();if(C){t=h._position2Tile(new l(C.position.clone().x,C.position.clone().y,0));for(var v=!1,y=0;y<d.searchPathPointTryCount;y++)if(t=h._position2Tile(new l(C.position.clone().x+u.randomRange(d.searchPathPointRange[0],d.searchPathPointRange[1]),C.position.clone().y+u.randomRange(d.searchPathPointRange[0],d.searchPathPointRange[1]),0)),this._pathManager.isWalkable(t)){v=!0;break}v||(t=new s(g.data.rows/2,g.data.cols/2)),a.add3f(t.x,t.y,0),n=new c(a.x,a.y,.5,(function(t,n,a,i){if(t.animation(0,"idle"),t.pause(!1),o(C)){var l=C.getComponent(p);l&&l.takeSaoba(null),e.data.tilesLeft.push(e.getNextTile())}else e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,n,a){e.animation(1,"walk"),e.pause(!1)}))}else t=this._pathManager.getRandomWalkableTileByTryCount(f.HALL),a.add3f(t.x,t.y,0),n=new c(a.x,a.y,u.randomRange(1,2),(function(t,n,a,i){t.animation(0,"idle",!1),t.pause(!0),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,n,a){e.animation(1,"walk"),e.pause(!1)}));return n},n}(C))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPlayerData.ts"],(function(t){var e,a,n,r,s,u,i,o,l;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},function(t){u=t.default},function(t){i=t.default,o=t.CCResType},function(t){l=t.CCPlayerData}],execute:function(){var c,f;r._RF.push({},"ecb83La769MqLPBmNE30t5o","CCStaffData",void 0);var d=s.ccclass,p=(s.property,t("StaffStatus",function(t){return t[t.NONE=-1]="NONE",t[t.CAN_RECRUITABLE=0]="CAN_RECRUITABLE",t[t.CAN_UPGRADE=1]="CAN_UPGRADE",t[t.UPGRADING=2]="UPGRADING",t[t.NOT_ENOUGH_CONDITION=3]="NOT_ENOUGH_CONDITION",t[t.LEVEL_FULL=4]="LEVEL_FULL",t}({})));t("default",d("CCStaffData")(((f=function(){function t(){}return t.addRow=function(t){this._data[t.tagId]||(this._data[t.tagId]=[]),this._data[t.tagId].push(t)},t.sort=function(){Object.values(this._data).forEach((function(t){t.sort((function(t,e){return t.level-e.level}))}))},t.keys=function(){return Object.keys(this._data)},t.totalKeys=function(){return Object.keys(this._data).length},t.totalRows=function(t,e){var a;return void 0===t&&(t=-1),void 0===e&&(e=!0),a=e?Object.values(this._data).filter((function(t){return t.length>0})).length:Object.values(this._data).reduce((function(t,e){return t+e.length}),0),-1===t||t<=0?a:Math.ceil(a/t)},t.getRowsByTagId=function(t){var e;return null!=(e=this._data[t])?e:[]},t.getRowByTagIdAndLevel=function(t,e){var a;return(null!=(a=this._data[t])?a:[]).find((function(t){return t.level==e}))},t.getRowsByTagIdAll=function(t){var e,a;return[null!=(e=this._data[2*t+1])?e:[],null!=(a=this._data[2*t+2])?a:[]]},t.getStaffStatus=function(t,e){var a=this.getRowByTagIdAndLevel(t,e);if(!a){var n=l.getStaffLevelUsing(t);return n&&n.level==e-1?(n.staffStutas,p.CAN_UPGRADE,p.LEVEL_FULL):p.NONE}var r=l.getStaffLevelUsing(t);if(!r)return p.CAN_RECRUITABLE;if(r.level<=a.level&&r.staffStutas==p.UPGRADING)return p.UPGRADING;var s=a.needMoney-l.data.money,u=a.needVip-l.data.vip;return s>0||u>0?p.NOT_ENOUGH_CONDITION:p.CAN_UPGRADE},t.load=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load({bundleName:"profile",relativePath:"staff",resType:o.TextAsset}).then(a(n().mark((function e(r){var s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return s=u.csv2array(r.text,1,1),i=s.map(a(n().mark((function e(a){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ID){e.next=3;break}return u.error("['ID'].nil"),e.abrupt("return");case 3:r={tagId:parseInt(a.ID,10),resId:parseInt(a["ID"],10),name:a[""],level:parseInt(a[""],10),needVip:parseInt(a[""],10),needMoney:parseFloat(a[""]),rewardVipNum:parseInt(a[""],10),needUpgradingTime:parseInt(a[""],10),skillsTime:parseInt(a[""],10),skillsCoolTime:parseInt(a[""],10),skillsMaxCount:parseInt(a[""],10)},t.addRow(r);case 5:case"end":return e.stop()}}),e)})))),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)}))));case 2:u.log("load.staff.total keys: "+t.totalKeys()+" rows: "+t.totalRows(-1,!1)+" ... OK");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e(t,null,[{key:"data",get:function(){return this._data},set:function(t){this._data=t}}]),t}())._data={},c=f))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffReception.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Npc.ts","./CCUtils.ts","./CCPlayerData.ts","./CCDefine.ts","./CCSundryData.ts","./CCSceneHall.ts","./CCEvent.ts"],(function(t){var e,n,a,i,o,l,c,r,s,u,f,C;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,i=t.isValid},function(t){o=t.Npc},function(t){l=t.default},function(t){c=t.CCPlayerData},function(t){r=t.StaffType,s=t.EVENT_TYPE},function(t){u=t.default},function(t){f=t.CCSceneHall},function(t){C=t.CCEvent}],execute:function(){var p;n._RF.push({},"7d45fwaFeRMjbChOGM8Q6/D","CCStaffReception",void 0);var d=a.ccclass;a.property,a.executeInEditMode,t("CCStaffReception",d("CCStaffReception")(p=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).needleave=!1,e.tsStart=0,e}e(n,t);var a=n.prototype;return a.enter=function(e){var n=this;t.prototype.enter.call(this,e),this.needleave=!1,this.animation(0,"idle");l.NowTimeStamp();c.getStaffLevelUsing(r.RECEPTION)&&this.schedule((function(){n.onWork()}),u.data.BarCounterHandleTime)},a.leave=function(e){if(t.prototype.leave.call(this,e),!this.needleave){this.needleave=!0,this.unscheduleAllCallbacks(),this.animation(1,"idle2");var n=l.NowTimeStamp();Math.floor((n-this.tsStart)/1e3)}},a.onWork=function(){var t=f.queuePlay.find((function(t){var e;return null!=(null==(e=t.getComponent(o))?void 0:e.data.tileHold)}));i(t)&&C.emit(s.PLAY_CAT,t.getComponent(o))},n}(o))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffRepairMan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Npc.ts","./CCTileData.ts","./CCUtils.ts","./CCSceneHall.ts","./CCDefine.ts","./CCPlayerData.ts","./CCSundryData.ts","./CCEffct.ts","./CCSpineXiuli.ts","./CCEvent.ts","./CCAudioManager.ts","./CCSceneMain.ts"],(function(e){var t,n,i,a,l,s,o,u,c,r,f,C,h,d,p,v,g,_,y,T;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.Vec3},function(e){l=e.Npc},function(e){s=e.CCTileData},function(e){o=e.default},function(e){u=e.CCSceneHall},function(e){c=e.StaffType,r=e.default,f=e.BuildingTypeId,C=e.HALL_INDEX,h=e.EVENT_TYPE},function(e){d=e.CCPlayerData},function(e){p=e.default},function(e){v=e.CCEffect},function(e){g=e.CCSpineXiuli},function(e){_=e.CCEvent},function(e){y=e.audioMgr},function(e){T=e.CCSceneMain}],execute:function(){var R;n._RF.push({},"c104dVqbJpCJojcx+pOzQTo","CCStaffRepairMan",void 0);var E=i.ccclass;i.property,i.executeInEditMode,e("CCStaffRepairMan",E("CCStaffRepairMan")(R=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).needleave=!1,t}t(n,e);var i=n.prototype;return i.enter=function(t){e.prototype.enter.call(this,t),this.needleave=!1,this.node.active=!0,this.stopPath(),this.data.tilesLeft=[],this.data.tilesLeft.push(this.getNextTile()),this.showShadow(!0),this.animation(1,"walk"),u.spineAction(this.node,this,this.data.tilesLeft,0,u.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,n,i,a){u.sequence(u.Instance(),t,null,e,n,i,a)}))},i.leave=function(t){var n=this;e.prototype.leave.call(this,t),this.needleave||(this.needleave=!0,d.setStaffLevelUsingInitial(c.REPAIRMAN,!1),this.stopPath(),this.data.tilesLeft=r.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(e,t,i,a){n.node.active=!1,n.setTile(r.tileIn[0].toVec2()),n.data.tilesLeft=[]},this.showShadow(!0),this.animation(1,"walk"),this.pause(!1),u.spineAction(this.node,this,this.data.tilesLeft,0,u.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,n,i){u.sequence(u.Instance(),null,null,e,t,n,i)})))},i.getNextTile=function(){var e=this,t=d.getQuickRepairCushionTypeId(),n=d.getQuickRepairCushionPos();if(0==t&&-1==n)return new s(r.tileIn[1].copy().x,r.tileIn[1].copy().y,0,(function(t,n,i,a){e.leave(null)}),(function(e,t,n,i){}));var i=0;switch(t){case f.Hall_cushion_level12:i=0;break;case f.Hall_cushion_level14:i=1;break;case f.Hall_cushion_level16:i=2;break;case f.Hall_cushion_level21:i=3;break;case f.Hall_cushion_level23:i=4;break;case f.Hall_cushion_level25:i=5}var l=u.buildingCushion[i];if(!l){var c=d.getQueueCushionBroken(t);return c[n]=!1,d.setQueueCushionBroken(t,c),new s(r.tileIn[1].copy().x,r.tileIn[1].copy().y,0,(function(t,n,i,a){e.leave(null)}),(function(e,t,n,i){}))}var R=r.getTilesForCatTree(t)[n].copy();return new s(R.x,R.y,o.randomRange(p.data.PcDamagedNeedUseTimesRange[0],p.data.PcDamagedNeedUseTimesRange[1]),(function(i,s,u,c){i.animation(0,"idle"),i.pause(!0),0==n?o.flipNodeX(i.ske.node,!0):1==n&&o.flipNodeX(i.ske.node,!1);var r=function(){_.emit(h.CAT_TREE_STAFF_REPAIRING,t,n),_.emit(h.CAT_TREE_STAFF_REPAIRED,t,n),e.node.active=!0,d.resetQuickRepairCushionTypeIdAndPos();var i=d.getQueueCushionBroken(t);i[n]=!1,d.setQueueCushionBroken(t,i),e.data.tilesLeft.push(e.getNextTile()),e.leave(null)};T.pageIndex==C.MIDDLE&&y.playEffect("building");var f=l.getChildByName("spineXiuli"+n);if(f)f.getComponent(g).fnComplete=r,f.active=!0;else{var p=0==n?new a(-60,-50,0):new a(60,-10,0);v.xiuli(l,"textures@prefabs/spineXiuli",t,n,p,n.toString(),(function(){}),r)}}),(function(e,t,n,i){e.animation(1,"walk"),e.pause(!1)}))},n}(l))||R);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffSaler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTileData.ts","./CCSceneHall.ts","./CCDefine.ts","./Npc.ts"],(function(t){var e,n,i,a,l,s,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.math},function(t){l=t.CCTileData},function(t){s=t.CCSceneHall},function(t){o=t.default},function(t){u=t.Npc}],execute:function(){var c;n._RF.push({},"d5872SbKbpNgaF8ciygHP3X","CCStaffSaler",void 0);var h=i.ccclass;i.property,i.executeInEditMode,t("CCStaffSaler",h("CCStaffSaler")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).needleave=!1,e.waitCount=0,e}e(n,t);var i=n.prototype;return i.enter=function(e){t.prototype.enter.call(this,e),this.needleave=!1,this.node.active=!0,this.waitCount=0,this.data.tilesLeft=[],this.data.tilesLeft.push(o.tileIn[1].copy()),this.data.tilesLeft.push(this.getNextTile()),this.showShadow(!0),this.animation(1,"walk"),s.spineAction(this.node,this,this.data.tilesLeft,0,s.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,n,i,a){s.sequence(s.Instance(),e,null,t,n,i,a)}))},i.leave=function(e){var n=this;t.prototype.leave.call(this,e),this.needleave||(this.needleave=!0,this.stopPath(),this.data.tilesLeft=o.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(t,e,i,a){n.node.active=!1,n.setTile(o.tileIn[0].toVec2()),n.data.tilesLeft=[]},this.showShadow(!0),this.animation(1,"walk"),this.pause(!1),s.spineAction(this.node,this,this.data.tilesLeft,0,s.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,e,n,i){s.sequence(s.Instance(),null,null,t,e,n,i)})))},i.getNextTile=function(){var t=this,e=new a.Vec3(0,0,0),n=this._pathManager.getRandomWalkableTileByTryCount();return e.add3f(n.x,n.y,0),new l(e.x,e.y,3==this.waitCount?3:0,(function(e,n,i,a){3==t.waitCount?(e.animation(0,"idle"),e.pause(!1),t.waitCount=0):t.waitCount++,e.needleave||t.data.tilesLeft.push(t.getNextTile())}),(function(t,e,n,i){t.animation(1,"walk"),t.pause(!1)}))},n}(u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffSecurity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCDefine.ts","./CCSceneHall.ts","./CCUtils.ts","./CCTileData.ts","./CCPathManager.ts","./CCPlayerData.ts","./Npc.ts","./CCEvent.ts","./CCLogicSpecialNpc.ts","./CCSpecialNpc2001.ts","./CCSpecialNpc2004.ts","./CCSpecialNpc2006.ts"],(function(e){var t,i,n,a,l,s,o,c,p,u,r,f,h,d,C,S,g,v,N,m,w,T,y;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,a=e.math,l=e.Vec3,s=e.isValid,o=e.Vec2},function(e){c=e.EVENT_TYPE,p=e.StaffType,u=e.default,r=e.SpecialNpcType},function(e){f=e.CCSceneHall},function(e){h=e.default},function(e){d=e.CCTileData},function(e){C=e.CCPathManager},function(e){S=e.CCPlayerData,g=e.StaffSkillsStatus},function(e){v=e.Npc},function(e){N=e.CCEvent},function(e){m=e.CCLogicSpecialNpc},function(e){w=e.CCSpecialNpc2001},function(e){T=e.CCSpecialNpc2004},function(e){y=e.CCSpecialNpc2006}],execute:function(){var E;i._RF.push({},"0b6c2XTMUNBpYN1PMbiaxGF","CCStaffSecurity",void 0);var I=n.ccclass;n.property,n.executeInEditMode,e("CCStaffSecurity",I("CCStaffSecurity")(E=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).spawnTile=new o(28,13),t.isEntered=!1,t.needleave=!1,t}t(i,e);var n=i.prototype;return n.onEnable=function(){var t=this;e.prototype.onEnable&&e.prototype.onEnable.call(this),N.on(c.CATCH_SPECIAL_NPC,this.onCatchSpecialNpc,this),this.schedule((function(){t.tryCatchSpecialNpc()}),.5)},n.onDisable=function(){this.unscheduleAllCallbacks(),N.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.enter=function(t){var i=this;e.prototype.enter.call(this,t),this.needleave=!1;var n=this.getTile();if(n&&n.equals(this.spawnTile)){var l=S.getStaffLevelUsing(p.SECURITY);if(l)switch(this.timeScale(S.getSpineAnimationSpeed()),l.workingStatus){case g.IDLE:this.animation(1,"idle2");break;case g.WORKING:this.animation(0,"idle")}return this.pause(!1),void(this.isEntered=!0)}this.data.tilesLeft=[],n&&n.equals(new a.Vec2(u.tileIn[0].copy().x,u.tileIn[0].copy().y))&&this.data.tilesLeft.push(u.tileIn[1].copy()),this.data.tilesLeft.push(new d(this.spawnTile.x,this.spawnTile.y,0,(function(e,t,n,a){var l=S.getStaffLevelUsing(p.SECURITY);if(i.timeScale(S.getSpineAnimationSpeed()),l)switch(l.workingStatus){case g.IDLE:e.animation(1,"idle2");break;case g.WORKING:e.animation(0,"idle")}e.pause(!1),i.isEntered=!0}))),this.showShadow(!0),this.animation(2,"walk"),this.timeScale(S.getSpineAnimationSpeed()),this.setSpeed(2*S.getSpineWalkSpeed()),f.spineAction(this.node,this,this.data.tilesLeft,0,f.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){f.sequence(f.Instance(),null,null,e,t,i,n)}))},n.leave=function(t,i){var n=this;if(void 0===i&&(i=!0),i){if(e.prototype.leave.call(this,t),this.needleave)return;this.needleave=!0}var a=this.getTile();if(a&&a.equals(this.spawnTile)){var l=S.getStaffLevelUsing(p.SECURITY);if(l)switch(this.timeScale(S.getSpineAnimationSpeed()),l.workingStatus){case g.IDLE:this.animation(1,"idle2");break;case g.WORKING:this.animation(0,"idle")}return this.pause(!1),this.isEntered=!0,void(this.needleave=!1)}this.data.tilesLeft=[],this.data.tilesLeft.push(new d(this.spawnTile.x,this.spawnTile.y,0,(function(e,t,i,a){var l=S.getStaffLevelUsing(p.SECURITY);if(l)switch(n.timeScale(S.getSpineAnimationSpeed()),l.workingStatus){case g.IDLE:e.animation(1,"idle2");break;case g.WORKING:e.animation(0,"idle")}e.pause(!1),n.isEntered=!0,n.needleave=!1}))),this.showShadow(!0),this.animation(2,"walk"),this.setSpeed(2*S.getSpineWalkSpeed()*2),f.spineAction(this.node,this,this.data.tilesLeft,0,f.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){f.sequence(f.Instance(),null,null,e,t,i,n)}))},n.getNextTile=function(){var e=this,t=null,i=null,n=new a.Vec3(0,0,0),o=f.getDroppedMoney();if(o){t=C._position2Tile(new l(o.position.clone().x,o.position.clone().y,0));for(var c=!1,p=0;p<10;p++)if(t=C._position2Tile(new l(o.position.clone().x+h.randomRange(-20,20),o.position.clone().y+h.randomRange(-20,20),0)),this._pathManager.isWalkable(t)){c=!0;break}if(!c)return this.getNextTile();n.add3f(t.x,t.y,0),i=new d(n.x,n.y,.5,(function(t,i,n,a){t.animation(0,"idle"),t.pause(!1),s(o),e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(2,"walk"),e.pause(!1)}))}else t=this._pathManager.getRandomWalkableTileByTryCount(),n.add3f(t.x,t.y,0),i=new d(n.x,n.y,h.randomRange(1,2),(function(t,i,n,a){t.animation(0,"idle",!1),t.pause(!0),t.needleave||e.data.tilesLeft.push(e.getNextTile())}),(function(e,t,i,n){e.animation(2,"walk"),e.pause(!1)}));return i},n.onCatchSpecialNpc=function(e,t){if(e){var i=S.getStaffLevelUsing(p.SECURITY);i&&i.workingStatus==g.WORKING&&(this.setSpeed(2*S.getSpineWalkSpeed()*2),this.animation(1,"walk"),t||f.spineAction(this.node,this,[new d(e.x,e.y)],0,f.Hall_Area_Middle,!0,!0,null,null,null,null,(function(e,t,i,n){f.sequence(f.Instance(),null,null,e,t,i,n)})))}},n.tryCatchSpecialNpc=function(){if(this.isEntered&&!this.needleave){var e=S.getStaffLevelUsing(p.SECURITY);if(e&&e.workingStatus!=g.IDLE){var t,i,n,a=S.getSpecialNpcUnlocked(r.NPCName2001+2e3);if(a)if(a.isInitial&&a.workingStatus==g.WORKING)if(1==(null==(t=m.specialNpc[r.NPCName2001])||null==(t=t.getComponent(w))?void 0:t.isEntered))return void N.emit(c.TRY_CATCH_THIEF);if(a=S.getSpecialNpcUnlocked(r.NPCName2004+2e3))if(a.isInitial&&a.workingStatus==g.WORKING)if(1==(null==(i=m.specialNpc[r.NPCName2004])||null==(i=i.getComponent(T))?void 0:i.isEntered))return void N.emit(c.TRY_CATCH_BEGGER);if(a=S.getSpecialNpcUnlocked(r.NPCName2006+2e3))if(a.isInitial&&a.workingStatus==g.WORKING)if(1==(null==(n=m.specialNpc[r.NPCName2006])||null==(n=n.getComponent(y))?void 0:n.isEntered))return void N.emit(c.TRY_CATCH_MAGNETO);this.needleave=!1,this.leave(null,!1)}}},i}(v))||E);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCStaffServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTileData.ts","./CCSceneHall.ts","./CCDefine.ts","./Npc.ts"],(function(t){var e,n,i,a,l,s,o,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.math},function(t){l=t.CCTileData},function(t){s=t.CCSceneHall},function(t){o=t.default},function(t){u=t.Npc}],execute:function(){var c;n._RF.push({},"818baN+D7RAKrmEvTgTlp4J","CCStaffServer",void 0);var r=i.ccclass;i.property,i.executeInEditMode,t("CCStaffServer",r("CCStaffServer")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).needleave=!1,e.waitCount=0,e}e(n,t);var i=n.prototype;return i.enter=function(e){t.prototype.enter.call(this,e),this.needleave=!1,this.node.active=!0,this.waitCount=0,this.data.tilesLeft=[],this.data.tilesLeft.push(o.tileIn[1].copy()),this.data.tilesLeft.push(this.getNextTile()),this.showShadow(!0),this.animation(1,"walk"),s.spineAction(this.node,this,this.data.tilesLeft,0,s.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,n,i,a){s.sequence(s.Instance(),e,null,t,n,i,a)}))},i.leave=function(e){var n=this;t.prototype.leave.call(this,e),this.needleave||(this.needleave=!0,this.stopPath(),this.data.tilesLeft=o.copyTileOut(),this.data.tilesLeft[this.data.tilesLeft.length-1].fnBeforeDelay=function(t,e,i,a){n.node.active=!1,n.setTile(o.tileIn[0].toVec2()),n.data.tilesLeft=[]},this.showShadow(!0),this.animation(1,"walk"),this.pause(!1),s.spineAction(this.node,this,this.data.tilesLeft,0,s.Hall_Area_Middle,!0,!0,null,null,null,null,(function(t,e,n,i){s.sequence(s.Instance(),null,null,t,e,n,i)})))},i.getNextTile=function(){var t=this,e=new a.Vec3(0,0,0),n=this._pathManager.getRandomWalkableTileByTryCount();return e.add3f(n.x,n.y,0),new l(e.x,e.y,3==this.waitCount?3:0,(function(e,n,i,a){3==t.waitCount?(e.animation(1,"walk"),e.pause(!0),t.waitCount=0):t.waitCount++,e.needleave||t.data.tilesLeft.push(t.getNextTile())}),(function(t,e,n,i){t.animation(1,"walk"),t.pause(!1)}))},n}(u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCStartGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCLingoData.ts","./CCEvent.ts","./CCDefine.ts","./CCPlayerData.ts","./CCUtils.ts"],(function(t){var n,e,o,a,i,c,s,r,u,l,C,f,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.Label,i=t.director},function(t){c=t.CCButton},function(t){s=t._T},function(t){r=t.CCEvent},function(t){u=t.EVENT_TYPE,l=t.default},function(t){C=t.CCPlayerData,f=t.SignInType},function(t){p=t.default}],execute:function(){var d;e._RF.push({},"0fedcSGpOtKXqaKcUs/4fMx","CCStartGame",void 0);var y=o.ccclass;o.property,t("CCStartGame",y("CCStartGame")(d=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onBtnPressStart=function(t,n,e){t.SignIn()},o.onBtnTouchMove=function(t,n,e){},o.onBtnTouchCanceled=function(t,n,e){},o.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},o.onMoveIn=function(){t.prototype.onMoveIn.call(this),this.node.getChildByName("Label").getComponent(a).string=s("GameUI1");var n=C.data.lastLoginInType;switch(p.log("CCStartGame.lastLoginInType: "+n),n){case f.Guest:}},o.SignIn=function(){C.data.lastLoginInType=f.Guest,C.save(),r.emit(u.PUSH_EVENT,"guideType:"+(l.isMinimailistUser()?"1":"0"),-1),this.setSiblingBtnGray(!0,!0),this.scheduleOnce((function(){i.loadScene("Hall")}),0)},o.update=function(t){},e}(c))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCStartGameWithGoogle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCDefine.ts","./CCGoogleSignIn.ts","./CCUtils.ts","./CCPlayerData.ts"],(function(t){var n,o,e,i,a,c,r,u,l,s;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.director},function(t){a=t.CCButton},function(t){c=t.default},function(t){r=t.default},function(t){u=t.default},function(t){l=t.CCPlayerData,s=t.SignInType}],execute:function(){var g;o._RF.push({},"35ecb0gnzpNO40TcG9/p/gm","CCStartGameWithGoogle",void 0);var f=e.ccclass;e.property,t("CCStartGameWithGoogle",f("CCStartGameWithGoogle")(g=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onBtnPressStart=function(t,n,o){t.googleSignIn()},e.onBtnTouchMove=function(t,n,o){},e.onBtnTouchCanceled=function(t,n,o){},e.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this)},e.onMoveIn=function(){},e.autoSignIn=function(){var t=l.data.lastLoginInType;switch(u.log("CCStartGameWithGoogle.lastLoginInType: "+t),t){case s.Google:}},e.googleSignIn=function(){var t=this;this.setSiblingBtnGray(!0,!0),r.signIn(c.appConfig.gwid,(function(n,o){JSON.parse(o);if(u.log("CCStartGameWithGoogle.signInFromNative.isSucceed["+n+"].userInfo["+o+"]"),n)return l.data.lastLoginInType=s.Google,l.save(),void t.scheduleOnce((function(){i.loadScene("Hall")}),0);t.setSiblingBtnGray(!1,!1)}))},e.update=function(t){},o}(a))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCStats.ts",["cc","./CCUtils.ts"],(function(t){var o,r,c,e,n,s,i;return{setters:[function(t){o=t.cclegacy,r=t._decorator,c=t.Color,e=t.color,n=t.profiler,s=t.director},function(t){i=t.default}],execute:function(){var u;o._RF.push({},"9d40cG9njtBw6T/uym07jCP","CCStats",void 0);var a=r.ccclass;r.property,t("default",a("CCStats")(u=function(){function t(){}return t.setColor=function(t,o){(void 0===t&&(t=c.WHITE),void 0===o&&(o=e(0,0,0,150)),n)&&(i.log("root: "+s.root),new Map(Object.entries(n.stats)).forEach((function(t,o){i.log(o+": "+t)})))},t}())||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCStorage.ts",["cc"],(function(t){var e,r,c;return{setters:[function(t){e=t.cclegacy,r=t._decorator,c=t.sys}],execute:function(){var o;e._RF.push({},"90339xxoHVGfrH6UBse9Duq","CCStorage",void 0);var n=r.ccclass;t("default",n("CCStorage")(o=function(){function t(){}return t.load=function(t){return c.localStorage.getItem(t)},t.save=function(t,e){c.localStorage.setItem(t,e)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCStrikeLineLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,r,n,s,a,l,h,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Color,l=t.Graphics,h=t.UITransform,c=t.Component}],execute:function(){var p,f,u,d,g,C,_,m,b;n._RF.push({},"51211WBD39NKKIbLm426rfc","CCStrikeLineLabel",void 0);var y=s.ccclass,L=s.property,w=s.executeInEditMode;t("CCStrikeLineLabel",(p=y("CCStrikeLineLabel"),f=L({type:a,tooltip:""}),u=L({type:a,tooltip:""}),d=L({tooltip:""}),p(g=w((_=i((C=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,o(i,"strokeColor",_,r(i)),o(i,"fillColor",m,r(i)),o(i,"lineWidth",b,r(i)),i._transform=null,i._graphics=null,i}e(i,t);var n=i.prototype;return n.update=function(t){this.draw()},n.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this._graphics||(this._graphics=this.node.getComponent(l)||this.node.addComponent(l)),this._transform||(this._transform=this.node.getComponent(h)||this.node.addComponent(h))},n.draw=function(){if(this._graphics&&this._transform&&this.node.parent){var t=this.node.parent.getComponent(h);t.contentSize.width==this._transform.width&&t.contentSize.height==this._transform.height||(this._transform.setContentSize(t.contentSize.width,t.contentSize.height),this._transform.setAnchorPoint(t.anchorPoint.clone())),this._graphics.clear(),this._graphics.lineWidth=this.lineWidth,this._graphics.strokeColor=this.strokeColor.clone(),this._graphics.fillColor=this.fillColor.clone(),this._graphics.fillRect(0,0,300,300),this._graphics.close(),this._graphics.stroke(),this._graphics.fill()}},i}(c)).prototype,"strokeColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(0,255,0,0)}}),m=i(C.prototype,"fillColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(255,0,0,0)}}),b=i(C.prototype,"lineWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),g=C))||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CCSundryData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCCacheRes.ts","./CCUtils.ts","./CCPlayerData.ts"],(function(e){var a,l,t,i,n,r,u,o,d;return{setters:[function(e){a=e.createClass,l=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){i=e.cclegacy,n=e._decorator},function(e){r=e.default,u=e.CCResType},function(e){o=e.default},function(e){d=e.CCPlayerData}],execute:function(){var s,c;i._RF.push({},"76f52yAr6pG47xe2qJmNxu4","CCSundryData",void 0);var _=n.ccclass;n.property,e("default",_("CCSundryData")(((c=function(){function e(){}return e.getTexture=function(e){return this._data.TextureMapping[e]},e.load=function(){var a=l(t().mark((function a(){return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.load({bundleName:"profile",relativePath:"sundry",resType:u.JsonAsset}).then(l(t().mark((function a(l){var i,n;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l){a.next=2;break}return a.abrupt("return");case 2:i=JSON.stringify(l.json),o.log("load.sundry ... OK"),n=JSON.parse(i),e.data=n;case 6:case"end":return a.stop()}}),a)}))));case 2:o.log("load.sundry ... OK");case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),e.isMoneyNotEnough=function(a){var l=!1,t=a-d.data.money;if(t<=0)return l;for(var i=0;i<e.data.GameBuyDifference.length;i++){var n=e.data.GameBuyDifference[i],r=n[0],u=n[1],o=n[2];if(t>r&&(-1==u||t<=u)){t<a*o&&(l=!0);break}}return l},e.getSpeedByPowerDiff=function(a,l){for(var t=a-l,i=0;i<e.data.CompetSpeedByPower.length;i++){var n=e.data.CompetSpeedByPower[i],r=n[0],u=n[1],o=n[2];if(t>=r&&(-1==u||t<u))return o}return 1},a(e,null,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),e}())._data={InputNameLimit:7,DefaultName:"Cat Caf",ACusTotalLimit:25,NPCTimeEnter:[5,15],NPCBehaviorOdds:[.1,.3,.6],PerEquipQueueCountMax:5,BarCounterHandleTime:1,CustomerDispointLeaveDelayTime:1.5,HallGuidingCustomID:1001,DefaultCoins:500,DefaultVIP:0,DefaultChip:0,DefaultStorefront:1,DefaultDecorationsIDs:[3501,3301,1001,3101,3201],DefaultGameIDs:[1,2],MinRubbishCreateTime:100,HallSimpeConsumeUseTime:3,HowManySecondCreateOneRubbish:120,LimitRubbishCount:5,PcDamagedNeedUseTimesRange:[6,12],CatNumNeedVIP:[[1,2,0],[1,3,10],[2,4,55],[2,5,120],[3,5,300],[3,6,600],[4,6,1200],[4,7,2e3],[5,7,3e3],[5,8,4500],[6,8,7e3],[6,9,1e4]],GameBuyDifference:[[0,3e3,.45],[3001,5e4,.2],[50001,-1,.1]],GameAccelRecoverCycle:60,GameAccelRecoverMax:25,GameAccelRate:5,OutsideLevelUpNeedVIP:9,OutsideCustomInterestingProb:.9,OutSideFlyerRecoverMax:10,OutSideFlyerRecoverCountByAds:15,UnlockHardwareNeedVIP:50,HardwareGameGridHP2Count:10,CatFood1GridHP2Range:[0,4],CatFood2GridHP2Range:[0,2],CatFood3GridHP2Range:[0,2],HardwareGameTimesRecoverLimit:3,HardwareGameTimesRecoverCycle:600,HardwareGameTimesAddByReward:2,HardwareInGameHandleTimesAddByReward:10,ExtracCoinsAddtimeByAds:600,ExtracCoinsTimeLimit:1800,UnlockExtraCoinNeedVIP:30,SpCusComeLimitPerDay:99,SpCusComePassSecondOnlineRange:[180,300],SpCusComePassSecondRange:[10800,21600],SpCusRichManParams:[20,3,10],SpCusThiefParams:[18,120],SpCusMagnetoParams:[12,3],SpCus2003_Params:[60,1e4,5e5,8,1e3],SpCusBegParams:[20,60],SpCusGuiderParams:[15],NPCSpecialTask:[1090,100,21600,5e5,.5,1050],SpecialTask_Describe:["SpecialTalk_Describ_1001","SpecialTalk_Describ_1002","SpecialTalk_Describ_1003"],SpecialTask_Name:["SpecialTalk_Name_1001","SpecialTalk_Name_1002","SpecialTalk_Name_1003"],Number_Of_Bubbles:[1,3,2,3,3,3],Number_Of_Bubbles_odds:[.3,.6,.2,1,.7,.6],DefaultChatIDs_BarCounterWait:["Talk1001","Talk1002","Talk1003","Talk1004","Talk1005","Talk1006","Talk1007","Talk1008","Talk1009","Talk1010"],DefaultChatIDs_Wander:["Talk3001","Talk3002","Talk3003","Talk3004","Talk3005","Talk3006","Talk3007","Talk3008","Talk3009","Talk3010"],DefaultChatIDs_Playing:["Talk2001","Talk2002","Talk2003","Talk2004","Talk2005","Talk2006","Talk2007","Talk2008","Talk2009","Talk2010"],ExitBecauseBegSpeakLanID:["CantBreath1","CantBreath2","CantBreath3","CantBreath4","CantBreath5","CantBreath6"],TargetsBarName:["OtherBar1","OtherBar2","OtherBar3","OtherBar4","OtherBar5"],StaffWorkOn_LanguageID:["WorkOn1","WorkOn2","WorkOn3","WorkOn4","WorkOn5"],StaffWorkOff_LanguageID:["WorkOff1","WorkOff2","WorkOff3","WorkOff4","WorkOff5"],Staff_PlayCat_Fail:"CantBreath6",Building_Delivery:"BuildingDelivery",Cat_Unlock:"CatUnlock",Building_Unlock:"BuildingUnlock",TextureMapping:{Building10:"Hall_cash register_level",Building11:"Hall_cat_tree_level",Building12:"Hall_cushion_level",Building13:"Hall_cat_tree_level",Building14:"Hall_cushion_level",Building15:"Hall_cat_tree_level",Building16:"Hall_cushion_level",Building17:"Hall_souvenir_level",Building18:"Hall_drink_level",Building19:"Hall_aircondition_level",Building20:"Hall_cat_tree_level",Building21:"Hall_cushion_level",Building22:"Hall_cat_tree_level",Building23:"Hall_cushion_level",Building24:"Hall_cat_tree_level",Building25:"Hall_cushion_level",Building26:"Hall_coffee_machine_level",Building27:"Hall_dessert_level",Building28:"Hall_vase_level",Building29:"Hall_speaker_level",Building30:"Hall_wifi_level",Building31:"Hall_door_level",Building32:"Hall_wallpaper_level",Building33:"Hall_floor_level",Building34:"Hall_carpet_level",Building35:"Hall_wall_level"},CatUI3:"CatUI3",CatUI9:"CatUI9",BuildingCondition2:"BuildingCondition2",BuildingCondition3:"BuildingCondition3",UI_tray_Pop_7:"UI_tray_Pop_7",CatRoomPartUI10:"CatRoomPartUI10",CatBuildRela:{1:44,2:45,3:47,4:46,5:48},SpeedUpEff:.1,LuckyDraws:3,LeftSceneUnlock:[5e4,650],RightSceneUnlock:[1e5,500],NextMatch_cd:600,LeftSceneUnlockReward:[[105,10],[1001,1],[109,2]],CompetLengthTime:[3072,9],CompetSpeedByPower:[[-9999999,-1e3,.8],[-1e3,-500,1.05],[-500,0,1.1],[0,999,1.2],[1e3,9999999,1.6]]},s=c))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCTileData.ts",["cc"],(function(t){var e,i,n;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Vec2}],execute:function(){var r;e._RF.push({},"6bcb7QfdHxKW6eBttuOu8rc","CCTileData",void 0);var f=i.ccclass;i.property,t("CCTileData",f("CCTileData")(r=function(){function t(t,e,i,n,r){this.x=void 0,this.y=void 0,this.t=void 0,this.fnBeforeDelay=void 0,this.fnAfterDelay=void 0,this.x=t,this.y=e,this.t=i||0,this.fnBeforeDelay=n,this.fnAfterDelay=r}var e=t.prototype;return e.copy=function(){return new t(this.x,this.y,this.t,this.fnBeforeDelay,this.fnAfterDelay)},e.toVec2=function(){return new n(this.x,this.y)},e.equals=function(t){return this.x==t.x&&this.y==t.y},e.executeBeforeDelay=function(t,e,i,n){this.fnBeforeDelay&&this.fnBeforeDelay(t,e,i,n)},e.executeAfterDelay=function(t,e,i,n){this.fnAfterDelay&&this.fnAfterDelay(t,e,i,n)},t}())||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCTiledMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCEvent.ts"],(function(e){var t,i,n,o,a,r,l;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.log,a=e.Vec2,r=e.TiledMap},function(e){l=e.CCEvent}],execute:function(){var s;i._RF.push({},"16193Kc3W1NI7M6X5p2fWKV","CCTiledMap",void 0);var p=n.ccclass;n.property,e("CCTiledMap",p("CCTiledMap")(s=function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var n=i.prototype;return n.start=function(){this.initTiledMap()},n.update=function(e){},n.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this)},n.onDisable=function(){l.targetOff(this),e.prototype.onDisable&&e.prototype.onDisable.call(this)},n.initTiledMap=function(){o("name: "+this.node.name);var e=this.node.getComponent("CCTiledMap");o("CCTiledMap: "+e);var t=this.getTileSize(),i=this.getMapSize(),n=this.getMapOrientation;o("tileSize: "+t+" mapSize: "+i+" mapOrientation: "+n);var a=this.tmxAsset;o("tmxAsset: "+a);var r=this.enableCulling;o("enableCulling: "+r);for(var l=this.getProperties(),s=0;s<Number(l.length);++s)o("Properties: "+l[s]);for(var p=this.getObjectGroups(),u=0;u<p.length;++u)o("group["+u+"]["+p[u].name+"]: "+p[u]);for(var h=this.getLayers(),c=0;c<h.length;c++){h[c].enableCulling=!1}var g=this.node.getChildByName("Hall_floor_level01");o("CCTiledMap.initTiledMap.group1: "+(null==g?void 0:g.name))},n.getTilePos=function(e){var t=this.getMapSize(),i=this.getTileSize(),n=Math.floor(e.x/i.width),o=Math.floor((t.height-e.y)/i.height);return new a(n,o)},n.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/CCTopOnHelper.ts",["cc","./ATJSSDK.ts"],(function(e){var t,n,i,o;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.sys},function(e){o=e.ATJSSDK}],execute:function(){var r,c;t._RF.push({},"caf73hBxxJAI7uGezg3glTT","CCTopOnHelper",void 0);var s=n.ccclass;n.property,e("CCTopOnHelper",s("CCTopOnHelper")(((c=function(){function e(){}return e.init=function(e,t,n){if(i.isNative){this.setting.appId=t,this.setting.appKey=n,o.setLogDebug(e);var r=o.getGDPRLevel();o.printLog("Current GDPR Level :"+r),o.initSDK(t,n),o.getUserLocation((function(e){o.printLog("getUserLocation callback userLocation :"+e),e===o.kATUserLocationInEU&&o.getGDPRLevel()===o.UNKNOWN&&o.showGDPRAuth()}))}},e.showDebuggerUI=function(e){void 0===e&&(e=""),i.isNative&&o.showDebuggerUI(e)},e}()).setting={appId:"",appKey:""},r=c))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/CCTouchManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(o){var t,n,e,c,u,i,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,c=o.input,u=o.Input,i=o.Component},function(o){h=o.default}],execute:function(){var T;n._RF.push({},"c01a77o2b1Bg6Wd+4NKxNeV","CCTouchManager",void 0);var s=e.ccclass;e.property,o("default",s("CCTouchManager")(T=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.onLoad=function(){c.on(u.EventType.TOUCH_START,this.onTouchStart,this),c.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(u.EventType.TOUCH_END,this.onTouchEnd,this),c.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onDestroy=function(){c.off(u.EventType.TOUCH_START,this.onTouchStart,this),c.off(u.EventType.TOUCH_MOVE,this.onTouchMove,this),c.off(u.EventType.TOUCH_END,this.onTouchEnd,this),c.off(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onTouchStart=function(o){h.log("onTouchStart.event:"+o.getUILocation())},e.onTouchMove=function(o){h.log("onTouchMove.event:"+o.getUILocation())},e.onTouchEnd=function(o){h.log("onTouchEnd.event:"+o.getUILocation())},e.start=function(){},e.update=function(o){},n}(i))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCTween.ts",["cc"],(function(e){var o,n,t,i;return{setters:[function(e){o=e.cclegacy,n=e._decorator,t=e.Vec3,i=e.tween}],execute:function(){o._RF.push({},"ada9fvD5/RBd63Y/vKMK2BB","CCTween",void 0);n.ccclass;var s=e("CCTWEEN_TYPE",function(e){return e[e.SCALE=0]="SCALE",e[e.MOVE=1]="MOVE",e[e.BREATHE=2]="BREATHE",e[e.BOUNCE=3]="BOUNCE",e}({}));e("CCTween",function(){function e(){}return e.release=function(e){return e?(e.stop(),e.destroySelf(),e=null):null},e.releaseByType=function(o,n){var t="twn_"+n;o[t]&&(o[t]=e.release(o[t]))},e.scale=function(o,n,a,r,c){void 0===n&&(n=1.3),void 0===a&&(a=.08),void 0===r&&(r=.12),void 0===c&&(c=null);var l="twn_"+s.SCALE;if(!o[l])return a<=0?(o.setScale(new t(n,n,1)),c&&c(o),void(o[l]=e.release(o[l]))):void(o[l]=i(o).to(a,{scale:new t(n,n,1)}).to(r,{scale:t.ONE}).call((function(){c&&c(o),o[l]=e.release(o[l])})).start())},e.moveTo=function(o,n,t,a){void 0===t&&(t=.08),void 0===a&&(a=null);var r="twn_"+s.MOVE;if(!o[r]){if(o.posOrigin=o.position.clone(),t<=0)return o.setPosition(n.clone()),a&&a(o),void(o[r]=e.release(o[r]));o[r]=i(o).to(t,{position:n.clone()}).call((function(){a&&a(o),o[r]=e.release(o[r])})).start()}},e.moveBy=function(o,n,t,a){void 0===t&&(t=.08),void 0===a&&(a=null);var r="twn_"+s.MOVE;if(!o[r]){if(o.posOffset=n.clone(),t<=0)return o.setPosition(o.getPosition().clone().add(n)),a&&a(o),void(o[r]=e.release(o[r]));o[r]=i(o).by(t,{position:n.clone()}).call((function(){a&&a(o),o[r]=e.release(o[r])})).start()}},e.breatheOn=function(e,o,n,a,r,c){void 0===o&&(o=t.ONE),void 0===n&&(n=t.ZERO),void 0===a&&(a=t.ONE),void 0===r&&(r=1),void 0===c&&(c=1);var l="twn_"+s.BREATHE;if(!e[l]){if(r<0&&(r=0),c<0&&(c=0),r>c){var v=r;r=c,c=v}e[l]=i(e).sequence(i().to(0,{scale:o}),i().to(r,{scale:n}),i().to(c,{scale:a})).repeatForever().start()}},e.springJumpByCount=function(o,n,t,a,r,c,l,v,u,d){void 0===a&&(a=3),void 0===r&&(r=1),void 0===c&&(c=.8),void 0===l&&(l=.8),void 0===v&&(v=.2),void 0===u&&(u=2.5),void 0===d&&(d=null);var f="twn_"+s.BOUNCE;if(!o[f]){var E=r/(2*a+1),p=-Math.sign(t||1),C=Math.abs(t)*l*p,O=i(o).to(0,{position:n.clone()}),w=n.clone();w.y=n.y+t;for(var B=.8*E,y=1.2*E,_=0;_<a;_++){O=O.to(B,{position:w.clone()},{easing:"sineIn"});var T=w.clone(),g=C*Math.pow(v,Math.pow(_,u));T.y+=g,O=O.to(y,{position:T},{easing:"sineOut"}),B*=c,y*=c}O=(O=O.to(B,{position:w.clone()},{easing:"sineIn"})).call((function(){d&&d(o),o[f]=e.release(o[f])})),o[f]=O.start()}},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CCTweenBlink.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts"],(function(t){var e,i,r,o,n,a,l,s,u,p,h,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Label,s=t.Sprite,u=t.Color,p=t.tween,h=t.Component},function(t){c=t.default}],execute:function(){var b,g,f,d,C,y,w,T,m,k,v,B,z,P,D,N,F;n._RF.push({},"64489pV0wdKVbY2uVU4D6Z8","CCTweenBlink",void 0);var E=a.ccclass,L=a.property;t("CCTweenBlink",(b=E("CCTweenBlink"),g=L({displayName:""}),f=L({type:l,displayName:"Label "}),d=L({type:s,displayName:"Sprite "}),C=L({displayName:""}),y=L({displayName:""}),w=L({displayName:"(s)"}),T=L({type:u,displayName:""}),b((v=e((k=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"auto",v,o(e)),r(e,"labelTarget",B,o(e)),r(e,"spriteTarget",z,o(e)),r(e,"repeatForever",P,o(e)),r(e,"repeatCount",D,o(e)),r(e,"duration",N,o(e)),r(e,"blinkColor",F,o(e)),e.originalColor=null,e.isPaused=!1,e.twn=null,e}i(e,t);var n=e.prototype;return n.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),this.pickColor(),this.auto&&this.startBlink()},n.onDisable=function(){this.twn&&(this.twn.stop(),this.twn.destroySelf(),this.twn=null),t.prototype.onDisable&&t.prototype.onDisable.call(this)},n.pickColor=function(){this.labelTarget?this.originalColor=this.labelTarget.color.clone():this.spriteTarget&&(this.originalColor=this.spriteTarget.color.clone())},n.restoreColor=function(){this.labelTarget&&this.originalColor?this.labelTarget.color=this.originalColor.clone():this.spriteTarget&&this.originalColor&&(this.spriteTarget.color=this.originalColor.clone())},n.startBlink=function(t){var e;if(void 0===t&&(t=null),this.labelTarget||this.spriteTarget){this.stopBlink(),this.isPaused=!1;var i=[],r=this.blinkColor,o=this.originalColor;this.labelTarget?i.push(p(this.labelTarget).to(this.duration/2,{color:r},{easing:"fade"}).to(this.duration/2,{color:o},{easing:"fade"})):this.spriteTarget&&i.push(p(this.spriteTarget).to(this.duration/2,{color:r},{easing:"fade"}).to(this.duration/2,{color:o},{easing:"fade"})),this.twn=(e=p(this.labelTarget||this.spriteTarget)).sequence.apply(e,i),this.repeatForever?this.twn.repeatForever():(this.repeatCount<1&&(this.repeatCount=1),this.twn.repeat(this.repeatCount)),t&&i.push(p().call((function(){t&&t()}))),this.twn.start()}else c.error("setBlink.labelTarget.nil")},n.stopBlink=function(){this.twn&&(this.twn.stop(),this.twn=null),this.isPaused=!1,this.restoreColor()},n.pause=function(){this.twn&&!this.isPaused&&(this.twn.pause(),this.isPaused=!0)},n.resumeBlink=function(){this.twn&&this.isPaused&&(this.twn.resume(),this.isPaused=!1)},e}(h)).prototype,"auto",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=e(k.prototype,"labelTarget",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"spriteTarget",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"repeatForever",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=e(k.prototype,"repeatCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),N=e(k.prototype,"duration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),F=e(k.prototype,"blinkColor",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.WHITE}}),m=k))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/CCTweenBreathe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTween.ts"],(function(e){var t,n,a,i,r,o,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Vec3,s=e.Component},function(e){c=e.CCTween,u=e.CCTWEEN_TYPE}],execute:function(){var p,f,h,y,b,d,w,C,m,D,E,g,B,T,v;r._RF.push({},"5fe1cEvuLFNzoWwvn1kJg2n","CCTweenBreathe",void 0);var z=o.ccclass,N=o.property;e("CCTweenBreathe",(p=z("CCTweenBreathe"),f=N({displayName:""}),h=N({type:l,displayName:""}),y=N({type:l,displayName:"()"}),b=N({type:l,displayName:""}),d=N({displayName:"()(s)"}),w=N({displayName:"()(s)"}),p((D=t((m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"auto",D,i(t)),a(t,"scaleStart",E,i(t)),a(t,"scaleMiddle",g,i(t)),a(t,"scaleEnd",B,i(t)),a(t,"scaleInDuration",T,i(t)),a(t,"scaleOutDuration",v,i(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.auto&&this.onBreatheOn()},r.onDisable=function(){this.onBreatheOff(),this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},r.onBreatheOn=function(){c.breatheOn(this.node,this.scaleStart,this.scaleMiddle,this.scaleEnd,this.scaleInDuration,this.scaleOutDuration)},r.onBreatheOff=function(){c.releaseByType(this.node,u.BREATHE)},t}(s)).prototype,"auto",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=t(m.prototype,"scaleStart",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),g=t(m.prototype,"scaleMiddle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1.08,1.08,1)}}),B=t(m.prototype,"scaleEnd",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),T=t(m.prototype,"scaleInDuration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=t(m.prototype,"scaleOutDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=m))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCTweenMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCTween.ts"],(function(e){var n,t,o,i,r,a,u,l,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.Vec3,l=e.Component},function(e){c=e.CCTween,s=e.CCTWEEN_TYPE}],execute:function(){var p,f,y,b,d,v,h,m,C,M,T,w,B,O,g,I,D,V,z,N,E,U,_,P,W;r._RF.push({},"4ce83yWlBNM2qW2pBq0c6Ev","CCTweenMove",void 0);var k=a.ccclass,q=a.property;e("CCTweenMove",(p=k("CCTweenMove"),f=q({displayName:""}),y=q({displayName:"(s),0="}),b=q({displayName:"(s)"}),d=q({displayName:""}),v=q({type:u,displayName:"(to)"}),h=q({type:u,displayName:"(by)"}),m=q({displayName:"(s),0=,-1="}),C=q({displayName:"(s)"}),M=q({displayName:""}),T=q({type:u,displayName:"(to)"}),w=q({type:u,displayName:"(by)"}),p((g=n((O=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"auto",g,i(n)),o(n,"delayBeforeIn",I,i(n)),o(n,"inDuration",D,i(n)),o(n,"inUseMoveTo",V,i(n)),o(n,"inToVec3",z,i(n)),o(n,"inByVec3",N,i(n)),o(n,"delayBeforeOut",E,i(n)),o(n,"outDuration",U,i(n)),o(n,"outUseMoveTo",_,i(n)),o(n,"outToVec3",P,i(n)),o(n,"outByVec3",W,i(n)),n.fnCompletedIn=null,n.fnCompletedOut=null,n}t(n,e);var r=n.prototype;return r.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.auto&&this.startMove()},r.onDisable=function(){this.unscheduleAllCallbacks(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},r.startMove=function(e,n){var t=this;void 0===e&&(e=null),void 0===n&&(n=null),this.fnCompletedIn=e,this.fnCompletedOut=n,this.scheduleOnce((function(){t.onMoveIn()}),this.delayBeforeIn)},r.onMoveIn=function(){var e=this;this.inUseMoveTo?c.moveTo(this.node,this.inToVec3,this.inDuration,(function(){e.fnMoveIn()})):c.moveBy(this.node,this.inByVec3,this.inDuration,(function(){e.fnCompletedIn&&e.fnCompletedIn(),e.fnMoveIn()}))},r.onMoveOut=function(){var e=this;-1!=this.delayBeforeOut&&this.scheduleOnce((function(){e.outUseMoveTo?c.moveTo(e.node,e.outToVec3,e.outDuration,(function(){e.fnMoveOut()})):c.moveBy(e.node,e.outByVec3,e.outDuration,(function(){e.fnMoveOut()}))}),this.delayBeforeOut)},r.fnMoveIn=function(){this.fnCompletedIn&&this.fnCompletedIn(),this.onMoveOut()},r.fnMoveOut=function(){this.fnCompletedOut&&this.fnCompletedOut(),c.releaseByType(this.node,s.MOVE)},n}(l)).prototype,"auto",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=n(O.prototype,"delayBeforeIn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=n(O.prototype,"inDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=n(O.prototype,"inUseMoveTo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=n(O.prototype,"inToVec3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),N=n(O.prototype,"inByVec3",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),E=n(O.prototype,"delayBeforeOut",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=n(O.prototype,"outDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=n(O.prototype,"outUseMoveTo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=n(O.prototype,"outToVec3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),W=n(O.prototype,"outByVec3",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),B=O))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCButton.ts","./CCCacheRes.ts","./CCDefine.ts","./CCRichText.ts","./CCNpcData.ts","./CCCatData.ts","./CCPlayerData.ts","./CCFirebaseAnalytics.ts","./CCAdjust.ts","./CCNative.ts","./CCEvent.ts"],(function(t,e){var n,r,a,o,i,u,c,l,s,f,d,g,h,p,m,v,S,b,y,C,w,A,x,R,M,N,T,I,_,D,E,P,k,B,F;return{setters:[function(t){n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t.sys,u=t._decorator,c=t.view,l=t.assetManager,s=t.SpriteFrame,f=t.Rect,d=t.math,g=t.isValid,h=t.TweenSystem,p=t.find,m=t.Label,v=t.UITransform,S=t.Sprite,b=t.Graphics,y=t.MotionStreak,C=t.sp,w=t.TiledLayer,A=t.RichText},function(t){x=t.CCButton},function(t){R=t.default,M=t.CCResType},function(t){N=t.default,T=t.EVENT_TYPE},function(t){I=t.CCRichText},function(t){_=t.default},function(t){D=t.default},function(t){E=t.CCPlayerData},function(t){P=t.default},function(t){k=t.default},function(t){B=t.default},function(t){F=t.CCEvent}],execute:function(){var G;o._RF.push({},"cdc09Z3Ko5FurJm+/lCODmV","CCUtils",void 0),i.isNative||e.import("./index.mjs_cjs=&original=3.js").then((function(t){CryptoJS=t.default}));var O=u.ccclass;u.property;i._getSafeAreaRect=i.getSafeAreaRect,i.getSafeAreaRect=function(){var t=i._getSafeAreaRect();c.getVisibleSize();return t};var j={login:"ilk3sy",logout:"knoegp",ad_1:"aya2i3",ad_2:"6q4fcy",ad_3:"ah5fbe",ad_4:"12ypf2",ad_5:"72iv0h",ad_6:"5xw8kc",ad_7:"xzhs6e",ad_8:"gsae7d",ad_9:"tfe8en",ad_10:"nydmvy",ad_11:"jg3n3o",ad_12:"74eatb",ad_13:"1m588q"};t("default",O("CCUtils")(G=function(){function t(){}return t.loadRemote=function(t){return new Promise((function(e,n){l.loadRemote(t,(function(t,r){t?n(t):e(r)}))}))},t.GetDesignResolutionSize=function(){return c.getDesignResolutionSize().clone()},t.GetVisibleSize=function(){return c.getVisibleSize().clone()},t.GetViewportRect=function(){return c.getViewportRect().clone()},t.GetSafeAreaRect=function(){return i.getSafeAreaRect().clone()},t.GetSafeAreaInsetsOrigin=function(){return i._getSafeAreaRect().clone()},t.Now=function(){return(new Date).toLocaleString()},t.NowTimeStamp=function(){return(new Date).getTime()},t.NowTimeStampSec=function(){return Math.round(this.NowTimeStamp()/1e3)},t.NowTodayHour=function(){return 1e4*(new Date).getFullYear()+100*((new Date).getMonth()+1)+(new Date).getDate()},t.isSameDay=function(e,n){var r;n=null!=(r=n)?r:t.NowTimeStamp();var a=function(t){var e=new Date(t);return 1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate()};return a(e)==a(n)},t.getFullDay=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},t.formatTimestamp=function(t){if(!t)return"N/A";var e=new Date(t);return e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0")},t.log=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];N.ENABLE_PRODUCTION_MODE||(t=console).log.apply(t,["["+this.Now()+"]"].concat(n))},t.error=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,["["+this.Now()+"]"].concat(n))},t.warn=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).warn.apply(t,["["+this.Now()+"]"].concat(n))},t.flipNodeX=function(t,e){var n=t.getScale().clone();n.x=e?-Math.abs(n.x):Math.abs(n.x),t.setScale(n)},t.cutRectFrames=function(t,e,n){for(var r=Array.from({length:e},(function(){return Array(n).fill(null)})),a=t.rect.width/e,o=t.rect.height/n,i=0;i<e;i++)for(var u=0;u<n;u++){var c=u*a,l=i*o,d=new s;d.texture=t.texture,d.rect=new f(c,l,a,o),r[i][u]=d}return r},t.paddding=function(t,e,n,r){void 0===n&&(n="0"),void 0===r&&(r=0);var a="number"==typeof t?t.toString():t;if("number"==typeof t&&a.includes(".")){var o=a.split("."),i=o[0],u=o[1],c=void 0===u?"":u;return(n.repeat(e)+i).slice(-e)+(r>0?"."+c.padEnd(r,"0").slice(0,r):"")}return(n.repeat(e)+a).slice(-e)},t.paddingRandomNumber=function(t,e,n,r){return void 0===r&&(r="0"),this.paddding(d.randomRangeInt(t,e),n,r)},t.formatTime=function(t,e){void 0===e&&(e=!1),t=Math.max(0,Math.floor(t));var n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60,o=String(r).padStart(2,"0"),i=String(a).padStart(2,"0");return n>0||e?String(n).padStart(2,"0")+":"+o+":"+i:o+":"+i},t.formatString=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"string"!=typeof t||null==t?t:t.replace(/{(\d+)}/g,(function(t,e){var r=parseInt(e,10);return!isNaN(r)&&r>=0&&r<n.length?String(n[r]):t}))},t.formatNum2Str=function(t,e){if(void 0===e&&(e=1),null==t||isNaN(t))return"0";var n,r=Math.abs(t);if(r>=1e9)n=Math.floor(t/Math.pow(10,9-e))/Math.pow(10,e)+"B";else if(r>=1e6){n=Math.floor(t/Math.pow(10,6-e))/Math.pow(10,e)+"M"}else if(r>=1e3){n=Math.floor(t/Math.pow(10,3-e))/Math.pow(10,e)+"K"}else n=t.toString();return/^\d{4,}/.test(n)&&(n=Number(t).toExponential(e)),n},t.csv2array=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);for(var r=t.replace(/\r/g,"").split("\n"),a=[],o=[],i="",u=0;u<r.length;u++)i=r[u].trim().replace(/^\uFEFF/,""),a[u]=i.split(",");if(a.length>e)for(var c={},l=n;l<a.length;l++){c={};for(var s=0;s<a[0].length;s++)a[l][s]&&(c[a[0][s]]=a[l][s]);Object.keys(c).length>0&&o.push(c)}return o},t.splitArrNumber=function(t,e){return t.split(e).map((function(t){return parseInt(t,10)}))},t.splitArrString=function(t,e){return t.split(e).map((function(t){return t}))},t.splitArrNumberByArrString=function(t,e){var n=this,r=[];return t.forEach((function(t){r.push(n.splitArrNumber(t,e))})),r},t.formatArrNumber=function(t){return t.map((function(t){return"("+t[0]+","+t[1]+")"})).join(", ")},t.formatArrVec2=function(t){return t.map((function(t){return"("+t.x+","+t.y+")"})).join(", ")},t.formatArrCCTileData=function(t){return t.map((function(t){return"("+t.x+","+t.y+(t.t?","+t.t:"")+(t.fnBeforeDelay?",Y":",N")+(t.fnAfterDelay?",Y":",N")+")"})).join(", ")},t.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t},t.sleepBySchedule=function(t,e){return new Promise((function(n){t.scheduleOnce(n,e)}))},t.calculateCumulativeProbabilities=function(t){var e=0;return t.map((function(t){return e+=t}))},t.randomRatio=function(e,n){var r=this.calculateCumulativeProbabilities(e);if(1===r[r.length-1]){for(var a=Math.random(),o=0;o<r.length;o++)if(a<r[o])return void(n[o]&&n[o]());t.error("randomRatio.randomNumber < cumulativeProbabilities[cumulativeProbabilities[cumulativeProbabilities.length - 1]")}else t.error("cumulativeProbabilities[cumulativeProbabilities.length - 1] !== 1")},t.randomRange=function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new Error("Both start and end must be numbers.");if(t>e){this.log("Start["+t+"] must not be greater than end["+e+"]...swtiched");var n=t;t=e,e=n}var r=Math.random()*(e-t)+t;return Number.isInteger(t)&&Number.isInteger(e)&&(r=Math.floor(r)),r},t.randomRangeRightClosed=function(t,e,n){if(void 0===n&&(n=!1),"number"!=typeof t||"number"!=typeof e)throw new Error("Both start and end must be numbers.");if(t>e){this.log("Start["+t+"] must not be greater than end["+e+"]...swtiched");var r=t;t=e,e=r}var a=Math.random()*(e-t+(n?1:0))+t;return Number.isInteger(t)&&Number.isInteger(e)&&(a=Math.floor(a)),a},t.randomStr=function(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0;r<t;r++){n+=e[Math.floor(Math.random()*e.length)]}return n},t.randomNum=function(t){for(var e="0123456789",n="",r=0;r<t;r++){n+=e[Math.floor(Math.random()*e.length)]}return n},t.random=function(t){return t&&0!==t.length?t[Math.floor(Math.random()*t.length)]:null},t.randomOnly=function(t){if(!t||0===t.length)return{value:null,rest:[]};var e=Math.floor(Math.random()*t.length);return{value:t[e],rest:t.slice(0,e).concat(t.slice(e+1))}},t.getRandomNpcByUnlockedCatWithProb=function(){var e=E.getCatLevelUnlockedRandom(),n=D.getRowsByTagId(e.typeId);if(!n)return null;var r=_.getBindDataByCatId(n.tagId).npcId;if(!r)return null;for(var a=[],o=0;o<r.length;o++){var i=_.getRowsByTagId(r[o]);i&&a.push(i)}for(var u=0,c=a.map((function(t){return u+=t.ratioAppear})),l=t.randomRange(0,u),s=-1,f=0;f<c.length;f++)if(l<c[f]){s=f;break}if(-1==s)return null;var d=a[s].tagId;return _.getRowsByTagId(d)},t.getIdxByWeight=function(e){for(var n=0,r=e.map((function(t){return n+=t})),a=t.randomRange(0,n),o=-1,i=0;i<r.length;i++)if(a<r[i]){o=i;break}return o},t.recyleNode=function(t){g(t)&&(t.forEach((function(t){g(t)&&(t.children&&t.removeAllChildren(),t.removeFromParent(),t.destroy())})),t=null)},t.reOrderRender=function(t,e,r){var a=this;void 0===e&&(e=[]),void 0===r&&(r=[]);var o=t.children;if(o&&o.length){for(var i,u=[],c=[].concat(o),l=function(){var t=i.value,e=c.findIndex((function(e){return e.name===t}));-1!==e&&(u.push(c[e]),c.splice(e,1))},s=n(e);!(i=s()).done;)l();var f=c;f.sort((function(t,e){return e.position.y-t.position.y}));var d=[];f.forEach((function(t,e){r.includes(t.name)&&d.push(e)}));for(var g=function(t){var e=d[t],n=f.findIndex((function(e){return e.name===r[t]}));-1!==n&&n!==e&&a.swapElements(f,e,n)},h=0;h<d.length;h++)g(h);o=[].concat(u,f);for(var p=0;p<o.length;p++)o[p].setSiblingIndex(p);t._updateSiblingIndex()}},t.reOrderRenderByName=function(t,e){if(t){var n=t.children;if(n)if(n.length){n.sort((function(t,n){var r=e.findIndex((function(e){return t.name.startsWith(e)})),a=e.findIndex((function(t){return n.name.startsWith(t)}));return-1===r&&-1===a?0:-1!==r&&-1===a?1:-1===r&&-1!==a?2:r-a}));for(var r=0;r<n.length;r++)n[r].setSiblingIndex(r);t._updateSiblingIndex()}}},t.updateAllSiblingIndexes=function(t){var e=this;t._updateSiblingIndex(),t.children.forEach((function(t){e.updateAllSiblingIndexes(t)}))},t.swapElements=function(t,e,n){var r;return r=[t[n],t[e]],t[e]=r[0],t[n]=r[1],r},t.pauseAction=function(t){h.instance.ActionManager.pauseTarget(t)},t.resumeAction=function(t){h.instance.ActionManager.resumeTarget(t)},t.findLabelAndSetString=function(t,e,n){var r,a=null==(r=p(e,t))?void 0:r.getComponent(m);if(a)return a.string=n,a.node.active=!0,a},t.findRichTextAndSetString=function(){var t=r(a().mark((function t(e,n,r,o){var i,u,c,l,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=""),u=null==(i=p(n,e))?void 0:i.getComponent(A)){t.next=6;break}if(u=null==(c=p(n,e))?void 0:c.getComponent(I)){t.next=6;break}return t.abrupt("return",null);case 6:if(0!=o.length){t.next=10;break}return u.string=r,u.node.active=!0,t.abrupt("return",u);case 10:if(2==(l=o.split("@")).length){t.next=13;break}return t.abrupt("return",u);case 13:return t.next=15,R.load({bundleName:l[0],relativePath:l[1],resType:M.SpriteAtlas});case 15:if(s=t.sent){t.next=18;break}return t.abrupt("return",u);case 18:if(g(u)){t.next=20;break}return t.abrupt("return",null);case 20:return u.string=r,u.imageAtlas=s,u.node.active=!0,t.abrupt("return",u);case 24:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),t.setRichTextString=function(t,e,n){void 0===n&&(n=""),t&&(n.length>0?R.loadSpriteAtlasAndBind(n,(function(n){g(t)&&(t.imageAtlas=n,t.string=e)})):t.string=e)},t.getHighestPlaceValue=function(t){var e=Math.abs(t).toString();return parseInt(e[0],10)*Math.pow(10,e.length-1)},t.spineReset=function(t){null==t||t.setToSetupPose(),null==t||t.setBonesToSetupPose(),null==t||t.setSlotsToSetupPose(),null==t||t.clearAnimations(),null==t||t.clearTracks()},t.spineAnimation=function(t,e,n,r,a,o,i){void 0===r&&(r=!1),void 0===a&&(a=1),void 0===o&&(o=!1),void 0===i&&(i=null),g(t)&&(this.spineReset(t),t.timeScale=a,t.premultipliedAlpha=o,t.setCompleteListener((function(e){t.setCompleteListener(null),i&&i()})),t.setAnimation(e,n,r),t.enabled=!0)},t.evalUrl=function(t){if(!t||"string"!=typeof t)return!1;return/^(https?:\/\/)?((([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})|(\d{1,3}(\.\d{1,3}){3}))(:\d+)?(\/[\w- ./?%&=]*)?$/i.test(t)},t.pushEventClickBtn=function(t){var e=t.getComponent(x);e&&P.logEvent("event_click_btn",e.node.name+"_"+e.Idx)},t.pushGameEvent=function(t){P.logEvent("event_game",t),k.logEvent(j[t])},t.fixHeader=function(e,n,r,a){if(void 0===n&&(n=!0),void 0===r&&(r=!1),void 0===a&&(a=0),!g(e))return 0;var o=e.getComponent(v);if(!o)return 0;var i=o.anchorPoint.clone(),u=(t.GetSafeAreaRect(),t.GetDesignResolutionSize(),t.GetSafeAreaInsetsOrigin()),c=B.get("isCutoutScreen")||!1,l=B.get("safeInsetTop")||0,s=B.get("statusBarHeight")||0;n&&c&&(o.height+=s);var f=u.height/2-(0==i.y?o.height:0)+(c&&!r?s:0)+a;return t.log("node: "+e.name+" saFixed: "+u+" ap: "+i+" fixHeader: "+e.name+" yFixed: "+f+" offsetY: "+a+" isCutoutScreen: "+c+" safeInsetTop: "+l+" statusBarHeight: "+s),e.setPosition(e.position.x,f),f},t.fixFooter=function(e,n,r,a){if(void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===a&&(a=0),g(e)){var o=e.getComponent(v);if(o){var i=o.anchorPoint.clone(),u=(t.GetSafeAreaRect(),t.GetSafeAreaInsetsOrigin()),c=B.get("isCutoutScreen");B.get("safeInsetBottom"),B.get("navigationBarHeight");n&&c&&(o.height-=u.y);var l=-u.height/2+(1==i.y?o.height:0)+(c?u.y:0)+a;e.setPosition(e.position.x,l),r&&e.children.forEach((function(t){var e=t.position.clone();t.setPosition(e.x,e.y+(n&&c?u.y/2:0))}))}}},t.md5=function(t){return CryptoJS.MD5(t).toString(CryptoJS.enc.Hex)},t.transparent=function(t,e){if(g(t)&&(t instanceof S||t instanceof m||t instanceof b||t instanceof y||t instanceof C.Skeleton||t instanceof w))if(e){void 0===t.__originAlpha&&(t.__originAlpha=t.color.a);var n=t.color.clone();n.a=0,t.color=n}else{var r,a=null!=(r=t.__originAlpha)?r:255,o=t.color.clone();o.a=a,t.color=o}},t.enableChildren=function(t,e){g(t)&&(t.active=e,t.children.forEach((function(t){g(t)&&(t.active=e)})))},t.removeChildren=function(t,e){if(void 0===e&&(e=""),g(t)){var n=[];t.children.forEach((function(t){t.name.startsWith(e)&&n.push(t)})),n.forEach((function(t){t.removeFromParent(),t.destroy()}))}},t.showParentTree=function(t){for(var e=[t.name],n=t.parent;n;)e.push(n.name),n=n.parent;return e.join(" -> ")},t.fnc=function(e){return r(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.name||e.constructor.name||"Unknown",t.log("start load: "+r),n.next=4,e.load();case 4:t.log("finish load: "+r);case 5:case"end":return n.stop()}}),n)})))},t.cost=function(){var e=r(a().mark((function e(r){var o,i,u,c,l,s,f,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=0,i=0,u=[],c=t.NowTimeStamp(),!r){e.next=18;break}l=n(r);case 7:if((s=l()).done){e.next=18;break}return f=s.value,o=t.NowTimeStamp(),e.next=12,f();case 12:F.emit(T.LOADING_PROGRESS_UPDATE,1/23),i=t.NowTimeStamp()-o,u.push({name:f.name,cost:i});case 16:e.next=7;break;case 18:return d=parseFloat(((t.NowTimeStamp()-c)/1e3).toFixed(2)),e.abrupt("return",{cost:d,costArr:u});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}())||G);o._RF.pop()}}}));

System.register("chunks:///_virtual/CCViewGroupNesting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,s,i,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.Node,i=t.EventTouch,h=t.Component}],execute:function(){var r;n._RF.push({},"55590S1B2RIRL4uHBA/6H00","CCViewGroupNesting",void 0);var u=o.ccclass,c=(o.property,function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).sham=void 0,e}return e(n,t),n}(i));t("CCViewGroupNesting",u("CCViewGroupNesting")(r=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).events=[],e}e(n,t);var o=n.prototype;return o.onLoad=function(){this.node.on(s.EventType.TOUCH_START,this.onTouchHandle,this,!0),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchHandle,this,!0),this.node.on(s.EventType.TOUCH_END,this.onTouchHandle,this,!0),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchHandle,this,!0)},o.onTouchHandle=function(t){if(!t.sham&&!t.simulate&&t.target!==this.node){var e=new c(t.getTouches(),t.bubbles,t.getType());e.type=t.type,e.touch=t.touch,e.sham=!0,this.events.push(e)}},o.start=function(){},o.update=function(t){if(0!==this.events.length){for(var e=0;e<this.events.length;e++)this.node.dispatchEvent(this.events[e]);this.events.length=0}},n}(h))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/CCWayPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,o,n;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e._decorator,n=e.Vec3}],execute:function(){var a,l,s,p,c,u,d,y,f;r._RF.push({},"79f35ofnBNOvI1Ze8dEAKnO","CCWayPoint",void 0);var b=o.ccclass,v=o.property;e("CCWayPoint",(a=b("CCWayPoint"),l=v({serializable:!0,override:!0,displayName:"",tooltip:""}),s=v({serializable:!0,override:!0,displayName:"",tooltip:""}),p=v({serializable:!0,override:!0,displayName:"",tooltip:""}),a((d=i((u=function(){t(this,"position",d,this),t(this,"speed",y,this),t(this,"stand",f,this)}).prototype,"position",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n(0,0,0)}}),y=i(u.prototype,"speed",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=i(u.prototype,"stand",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=u))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/CCWayPointPath.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCWayPoint.ts","./CCUtils.ts"],(function(i){var t,e,o,r,n,l,a,s,u,p,d,h,c,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){n=i.cclegacy,l=i._decorator,a=i.Enum,s=i.Graphics,u=i.Color,p=i.Node,d=i.Label,h=i.Component},function(i){c=i.CCWayPoint},function(i){f=i.default}],execute:function(){var b,g,w,C,v,y,z,m,_,P,N,S,L,R,k,E,F,x,T,W,U,D,I,B,A,O,J,M,G,Q,V,j,H,K,Y;n._RF.push({},"74ed5WNTYRCLb+FZFPe5sI9","CCWayPointPath",void 0);var Z=l.ccclass,q=l.property,X=l.executeInEditMode,$=i("LineJoinType",a({BEVEL:s.LineJoin.BEVEL,ROUND:s.LineJoin.ROUND,MITER:s.LineJoin.MITER})),ii=i("LineCapType",a({BUTT:s.LineCap.BUTT,ROUND:s.LineCap.ROUND,SQUARE:s.LineCap.SQUARE}));i("CCWayPointPath",(b=Z("CCWayPointPath"),g=q({serializable:!0,override:!0,displayName:"",tooltip:""}),w=q({serializable:!0,override:!0,displayName:"",tooltip:""}),C=q({serializable:!0,override:!0,displayName:"",tooltip:""}),v=q({serializable:!0,override:!0,displayName:"",tooltip:""}),y=q({serializable:!0,override:!0,displayName:"",tooltip:""}),z=q({serializable:!0,override:!0,displayName:"",tooltip:""}),m=q({serializable:!0,override:!0,displayName:"",tooltip:""}),_=q({serializable:!0,override:!0,displayName:"",tooltip:""}),P=q({serializable:!0,override:!0,displayName:"",tooltip:""}),N=q({serializable:!0,override:!0,displayName:"",tooltip:""}),S=q({serializable:!0,override:!0,displayName:"",tooltip:""}),L=q({serializable:!0,override:!0,displayName:"",tooltip:""}),R=q({serializable:!0,override:!0,displayName:"",tooltip:""}),k=q({serializable:!0,override:!0,displayName:"",tooltip:""}),E=q({serializable:!0,override:!0,displayName:"",tooltip:""}),F=q({serializable:!0,displayName:"",tooltip:"",type:c}),b(x=X((W=t((T=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(t=i.call.apply(i,[this].concat(n))||this)._g=null,o(t,"tweenEnable",W,r(t)),o(t,"drawPoint",U,r(t)),o(t,"pointRadius",D,r(t)),o(t,"drawIndex",I,r(t)),o(t,"drawLine",B,r(t)),o(t,"pointStrokeColor",A,r(t)),o(t,"pointFillColor",O,r(t)),o(t,"drawFirst",J,r(t)),o(t,"firstRadius",M,r(t)),o(t,"firstStrokeColor",G,r(t)),o(t,"firstFillColor",Q,r(t)),o(t,"drawLast",V,r(t)),o(t,"lastRadius",j,r(t)),o(t,"lastStrokeColor",H,r(t)),o(t,"lastFillColor",K,r(t)),o(t,"paths",Y,r(t)),t}e(t,i);var n=t.prototype;return n.start=function(){this.initGraphics(),this.drawPaths()},n.update=function(i){},n.pathSize=function(){var i,t;return null!=(i=null==(t=this.paths)?void 0:t.length)?i:0},n.getPath=function(i){return i>=this.pathSize()?[]:this.paths[i]},n.pointSize=function(i){var t,e;return null!=(t=null==(e=this.paths)?void 0:e[i].length)?t:0},n.getPoint=function(i,t){var e,o;return t>=this.pointSize(i)?new c:null!=(e=null==(o=this.paths)?void 0:o[i][t])?e:new c},n.getFirstPoint=function(i){var t,e;return this.pointSize(i)&&null!=(t=null==(e=this.paths)?void 0:e[i][0])?t:new c},n.getLastPoint=function(i){var t,e;return this.pointSize(i)&&null!=(t=null==(e=this.paths)?void 0:e[i][this.pointSize(i)-1])?t:new c},n.initGraphics=function(){var i,t,e;this._g||(this._g=null!=(i=null==(t=this.node)?void 0:t.getComponent(s))?i:null==(e=this.node)?void 0:e.addComponent(s),this._g.lineWidth=5,this._g.lineJoin=$.ROUND,this._g.lineCap=ii.ROUND,this._g.strokeColor=new u(0,88,255),this._g.fillColor=new u(255,0,0))},n._drawLine=function(i){if(this.drawLine)for(var t,e,o=i.length,r=0;r<o;r++)for(var n=0;n<o-1;n++){var l,a,s;t=i[n].position,e=i[n+1].position,null==(l=this._g)||l.moveTo(t.x,t.y),null==(a=this._g)||a.lineTo(e.x,e.y),null==(s=this._g)||s.stroke(),f.log("drawPoints.current["+r+"]["+n+"]:"+t+" next["+r+"]["+(n+1)+"]:"+e+" tweenEnable:"+this.tweenEnable)}},n._drawPointIndex=function(i){for(var t=i.length,e=0;e<t;e++){var o,r,n,l=i[e],a=null==(o=this.node)?void 0:o.getChildByName("point-"+e);if(!a)a=new p("point-"+e),null==(r=this.node)||r.addChild(a),null==(n=a)||n.addComponent(d);a.active=this.drawIndex,a.position=l.position;var s=a.getComponent(d);s.fontSize=15,s.string=""+e,s.color=new u(0,0,0)}},n._drawPointCircle=function(i){var t=this;if(this.drawPoint)for(var e=i.length,o=function(){var e=i[r];t.usingColorWith((function(){var i,o,r;null==(i=t._g)||i.circle(e.position.x,e.position.y,t.pointRadius),null==(o=t._g)||o.stroke(),null==(r=t._g)||r.fill()}),t.pointStrokeColor,t.pointFillColor)},r=0;r<e;r++)o()},n._drawStartAndEndPoint=function(i){var t=this;if(this.drawFirst){var e=i[0];this.usingColorWith((function(){var i,o,r;null==(i=t._g)||i.circle(e.position.x,e.position.y,t.firstRadius),null==(o=t._g)||o.stroke(),null==(r=t._g)||r.fill()}),this.firstStrokeColor,this.firstFillColor)}if(this.drawLast){var o=i[i.length-1];this.usingColorWith((function(){var i,e,r;null==(i=t._g)||i.circle(o.position.x,o.position.y,t.lastRadius),null==(e=t._g)||e.stroke(),null==(r=t._g)||r.fill()}),this.lastStrokeColor,this.lastFillColor)}},n.drawPaths=function(){var i,t=this;this._g&&(f.log("pathSize: "+this.pathSize()),this.pathSize()&&(null==(i=this._g)||i.clear(),this.paths.forEach((function(i){t._drawLine(i),t._drawPointIndex(i),t._drawPointCircle(i),t._drawStartAndEndPoint(i)}))))},n.usingColorWith=function(i,t,e){var o,r;void 0===t&&(t=u.RED),void 0===e&&(e=u.BLACK);var n=null==(o=this._g)?void 0:o.strokeColor,l=null==(r=this._g)?void 0:r.fillColor;this._g.strokeColor=t,this._g.fillColor=e,i(),this._g.strokeColor=n,this._g.fillColor=l},t}(h)).prototype,"tweenEnable",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=t(T.prototype,"drawPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=t(T.prototype,"pointRadius",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),I=t(T.prototype,"drawIndex",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=t(T.prototype,"drawLine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=t(T.prototype,"pointStrokeColor",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),O=t(T.prototype,"pointFillColor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(255,255,0)}}),J=t(T.prototype,"drawFirst",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=t(T.prototype,"firstRadius",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),G=t(T.prototype,"firstStrokeColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),Q=t(T.prototype,"firstFillColor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,255,0)}}),V=t(T.prototype,"drawLast",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=t(T.prototype,"lastRadius",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),H=t(T.prototype,"lastStrokeColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0)}}),K=t(T.prototype,"lastFillColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(160,160,160)}}),Y=t(T.prototype,"paths",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=T))||x)||x));n._RF.pop()}}}));

System.register("chunks:///_virtual/Codec.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5fc3csE8LBMtJ0kAlIAJVfi","Codec",void 0);e("Codec",function(){function e(){}var t=e.prototype;return t.decode=function(e){return JSON.parse(e)},t.encode=function(e){return JSON.stringify(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/FullScreenContentCallback.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"37fb7dk2tpKnKLMY9BVIgk4","FullScreenContentCallback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpdatePanel.ts","./CCUtils.ts"],(function(e){var t,a,s,i,n,r,c,o,l,d,f,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,c=e.Asset,o=e.Node,l=e.game,d=e.log,f=e.Component},function(e){p=e.UpdatePanel},function(e){h=e.default}],execute:function(){var b,g,m,u,_,v,E,A,M;n._RF.push({},"5820bAaqc9OGqnJGhgRgOcN","HotUpdate",void 0);var R=window.jsb,U=JSON.stringify({packageUrl:"http://192.168.55.13:5502/remote-assets/",remoteManifestUrl:"http://192.168.55.13:5502/remote-assets/project.manifest",remoteVersionUrl:"http://192.168.55.13:5502/remote-assets/version.manifest",version:"1.0.0",assets:{"src/application.js":{size:5514,md5:"d09753aaed7c55c4566cecf766cbc5c3"},"src/cocos-js/ammo-instantiated-45eaa448.js":{size:2318381,md5:"081a863c98742000893bca3bb87c1775"},"src/cocos-js/cc.js":{size:1774495,md5:"c4ba032d442580df30778c0369917917"},"src/cocos-js/wait-for-ammo-instantiation.js":{size:625,md5:"c9c1bf74589762eca08ae868d216f243"},"src/import-map.json":{size:111,md5:"498f3926fc713deab3e0ac6fcbb3d549"},"src/settings.json":{size:31619,md5:"f54273c3c1c29dc9040f129ee11db461"},"src/system.bundle.js":{size:6275,md5:"3f3f2b5f3725599ff2c8b9801195ee37"},"assets/main/config.json":{size:918,md5:"757c93f3908a069aaaa062541715edcf"},"assets/main/import/08/0897a7610.json":{size:248,md5:"12b2792f517c08d878378119a80a09cc"},"assets/main/import/0f/0f4f09600.json":{size:8090,md5:"755c01fe8bae77adb19e3b21f11e95d7"},"assets/main/import/70/700faa17-11a6-46cd-aeb5-d6900bc264f8.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/9e/9e71ecbc-8d63-45dd-b0e3-26cefa3d07b1.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/ae/ae4e2188-2b7b-42a9-85e1-8fb987600b04.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/c1/c1e757ac-f5bb-46ed-b86a-fdabff7aeb55.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/ed/edd97988-52a3-4312-8671-90a51bb563ae.json":{size:69,md5:"1f9cadcf049e884e057ca8cf797d73a1"},"assets/main/import/fd/fd8ec536-a354-4a17-9c74-4f3883c378c8.json":{size:480,md5:"731f44a39ce9377ee6de8ba34edaf039"},"assets/main/index.js":{size:12682,md5:"e2fd04611b129a14138444b6207c1ab7"},"assets/main/native/70/700faa17-11a6-46cd-aeb5-d6900bc264f8.png":{size:3765,md5:"878e89a0a3e02b13beee9f3274f2ca39"},"assets/main/native/80/800f94fd-7424-4202-9629-d3ca77f3b72d.manifest":{size:2808,md5:"507a24062f30709e41e0891ae6a53c7f"},"assets/main/native/9e/9e71ecbc-8d63-45dd-b0e3-26cefa3d07b1.png":{size:2548,md5:"ae7a04af25e238a5478170759b55a7ba"},"assets/main/native/ae/ae4e2188-2b7b-42a9-85e1-8fb987600b04.png":{size:634171,md5:"07b03f7145b75579708ae05ea2a2c029"},"assets/main/native/c1/c1e757ac-f5bb-46ed-b86a-fdabff7aeb55.png":{size:18969,md5:"8eaaf03d4497b39525214bf039a11a7d"},"assets/main/native/ed/edd97988-52a3-4312-8671-90a51bb563ae.png":{size:1829,md5:"94d761c4626df88053787f17fa09914d"},"jsb-adapter/jsb-builtin.js":{size:170485,md5:"f7f79bebbd40822e195af8f099332b0e"},"jsb-adapter/jsb-engine.js":{size:140954,md5:"2846deccc21c73b49e8bae51e3d5387a"}},searchPaths:[]}),y=r.ccclass,k=r.property;e("HotUpdate",(b=y("HotUpdate"),g=k(p),m=k(c),u=k(o),b((E=t((v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"panel",E,i(t)),s(t,"manifestUrl",A,i(t)),s(t,"updateUI",M,i(t)),t._updating=!1,t._canRetry=!1,t._storagePath="",t._am=null,t._checkListener=null,t._updateListener=null,t._failCount=0,t.versionCompareHandle=null,t}a(t,e);var n=t.prototype;return n.checkCb=function(e){switch(h.log("Code: "+e.getEventCode()),e.getEventCode()){case R.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.";break;case R.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case R.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.";break;case R.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.";break;case R.EventAssetsManager.NEW_VERSION_FOUND:this.panel.info.string="New version found, please try to update. ("+Math.ceil(this._am.getTotalBytes()/1024)+"kb)",this.panel.checkBtn.active=!1,this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0;break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1},n.updateCb=function(e){var t=!1,a=!1;switch(e.getEventCode()){case R.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.",a=!0;break;case R.EventAssetsManager.UPDATE_PROGRESSION:this.panel.byteProgress.progress=e.getPercent(),this.panel.fileProgress.progress=e.getPercentByFile(),this.panel.fileLabel.string=e.getDownloadedFiles()+" / "+e.getTotalFiles(),this.panel.byteLabel.string=e.getDownloadedBytes()+" / "+e.getTotalBytes(),h.log(this.panel.fileLabel.string,this.panel.byteLabel.string);var s=e.getMessage();s&&(this.panel.info.string="Updated file: "+s);break;case R.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case R.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.",a=!0;break;case R.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.",a=!0;break;case R.EventAssetsManager.UPDATE_FINISHED:this.panel.info.string="Update finished. "+e.getMessage(),t=!0;break;case R.EventAssetsManager.UPDATE_FAILED:this.panel.info.string="Update failed. "+e.getMessage(),this.panel.retryBtn.active=!0,this._updating=!1,this._canRetry=!0;break;case R.EventAssetsManager.ERROR_UPDATING:this.panel.info.string="Asset update error: "+e.getAssetId()+", "+e.getMessage();break;case R.EventAssetsManager.ERROR_DECOMPRESS:this.panel.info.string=e.getMessage()}if(a&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),t){this._am.setEventCallback(null),this._updateListener=null;var i=R.fileUtils.getSearchPaths(),n=this._am.getLocalManifest().getSearchPaths();h.log(JSON.stringify(n)),Array.prototype.unshift.apply(i,n),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),R.fileUtils.setSearchPaths(i),setTimeout((function(){l.restart()}),1e3)}},n.loadCustomManifest=function(){if(this._am.getState()===R.AssetsManager.State.UNINITED){var e=new R.Manifest(U,this._storagePath);this._am.loadLocalManifest(e,this._storagePath),this.panel.info.string="Using custom manifest"}},n.retry=function(){!this._updating&&this._canRetry&&(this.panel.retryBtn.active=!1,this._canRetry=!1,this.panel.info.string="Retry failed Assets...",this._am.downloadFailedAssets())},n.checkUpdate=function(){if(this._updating)this.panel.info.string="Checking or updating ...";else{if(this._am.getState()===R.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this.panel.info.string="Failed to load local manifest ..."}},n.hotUpdate=function(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===R.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;this._am.loadLocalManifest(e)}this._failCount=0,this._am.update(),this.panel.updateBtn.active=!1,this._updating=!0}},n.show=function(){!1===this.updateUI.active&&(this.updateUI.active=!0)},n.onLoad=function(){d("Hot update is only available in Native build.")},n.onDestroy=function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)},t}(f)).prototype,"panel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"manifestUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"updateUI",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/ICallbackNTF.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"6c8dadexLJGwqjGQ2usL63Y","ICallbackNTF",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/INativeResponse.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"03548ZFhZZARbvS8YmyP/AH","INativeResponse",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitailAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(t){var n,r,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator},function(t){a=t.Base}],execute:function(){var e,o,l,s,c,u;r._RF.push({},"351a6cGhWdHlaZa5uq/AsZ8","InterstitailAd",void 0);var d=i.ccclass;i.property,t("LoadInterstitialAdREQ",d("LoadInterstitialAdREQ")(e=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r}(a))||e),t("LoadInterstitialAdACK",d("LoadInterstitialAdACK")(o=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r}(a))||o),t("ShowInterstitialAdREQ",d("ShowInterstitialAdREQ")(l=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r}(a))||l),t("ShowInterstitialAdACK",d("ShowInterstitialAdACK")(s=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r}(a))||s),t("InterstitialAdLoadCalLBackNTF",d("InterstitialAdLoadCalLBackNTF")(c=function(t){function r(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).method=void 0,n.loadAdError=void 0,n}return n(r,t),r}(a))||c),t("InterstitialFullScreenContentCallbackNTF",d("InterstitialFullScreenContentCallbackNTF")(u=function(t){function r(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).method=void 0,n.loadAdError=void 0,n}return n(r,t),r}(a))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitialAdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bridge.ts","./Route.ts","./InterstitailAd.ts","./AdClient.ts","./PaidEventNTF.ts"],(function(t){var i,n,e,s,a,l,o,r,d,c,u,h,C,f,I;return{setters:[function(t){i=t.inheritsLoose,n=t.createClass},function(t){e=t.cclegacy,s=t.log,a=t.js},function(t){l=t.bridge},function(t){o=t.route},function(t){r=t.LoadInterstitialAdREQ,d=t.LoadInterstitialAdACK,c=t.ShowInterstitialAdREQ,u=t.ShowInterstitialAdACK,h=t.InterstitialFullScreenContentCallbackNTF,C=t.InterstitialAdLoadCalLBackNTF},function(t){f=t.AdClient},function(t){I=t.InterstitialPaidEventNTF}],execute:function(){e._RF.push({},"0133a1I+utKjZdl7GATzhls","InterstitialAdClient",void 0);var L="[InterstitialAdClient]";t("InterstitialAdClient",function(t){function e(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._interstitialListener=void 0,i}i(e,t);var f=e.prototype;return f.load=function(t,i){this.destroy(),s(L,"load, unitId = "+t),this.unitId=t,this.interstitialListener=i,l.sendToNative(a.getClassName(r),{unitId:t},a.getClassName(d),(function(t){s(L,"load, LoadInterstitialAdACK, "+t)}))},f.destroy=function(){s(L,"destroy"),this.interstitialListener=null},f.show=function(t){s(L,"show"),l.sendToNative(a.getClassName(c),{unitId:this.unitId},a.getClassName(u),(function(i){t&&t()}))},f.onInterstitialAdLoadCalLBackNTF=function(t){if(s(L,"onInterstitialAdLoadCalLBackNTF, "+t),this.interstitialListener){var i=this.interstitialListener[t.method];i&&i(t.loadAdError)}},f.onInterstitialFullScreenContentCallback=function(t){s(L,"onInterstitialFullScreenContentCallback, "+t);var i=this.interstitialListener[t.method];i&&i()},f.onPaidEvent=function(t){var i=this.interstitialListener;i&&i.onPaidEvent&&i.onPaidEvent(t)},n(e,[{key:"interstitialListener",get:function(){return this._interstitialListener},set:function(t){t||(o.off(a.getClassName(h),this.onInterstitialFullScreenContentCallback,this),o.off(a.getClassName(C),this.onInterstitialAdLoadCalLBackNTF,this),o.off(a.getClassName(I),this.onPaidEvent,this)),this._interstitialListener=t,t&&(o.on(a.getClassName(h),this.onInterstitialFullScreenContentCallback,this),o.on(a.getClassName(C),this.onInterstitialAdLoadCalLBackNTF,this),o.on(a.getClassName(I),this.onPaidEvent,this))}}]),e}(f));e._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitialAdListener.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4f5447hMxxIepLeOECu2PRF","InterstitialAdListener",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitialAdLoadCallback.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"95c6biRenVPv70yEzTspX+h","InterstitialAdLoadCallback",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InterstitialFullScreenContentCallback.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"26862PsMLhAsYZJMHVxZiYj","InterstitialFullScreenContentCallback",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ISceneManager.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"42b39JNgy5HNZef+MJWvf7h","ISceneManager",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./ListItem.ts"],(function(t){var e,i,s,o,n,a,l,r,c,h,_,d,u,m,p,g,f,v,I,y,T,S,w,z,D,N,b,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.ScrollView,c=t.Enum,h=t.Node,_=t.Prefab,d=t.CCFloat,u=t.EventHandler,m=t.CCBoolean,p=t.CCInteger,g=t.isValid,f=t.UITransform,v=t.Layout,I=t.instantiate,y=t.NodePool,T=t.Vec3,S=t.Size,w=t.Widget,z=t.tween,D=t.Event,N=t.Component},function(t){b=t.DEV},function(t){E=t.default}],execute:function(){var P,L,G,C,O,R,U,A,B,k,M,x,V,H,F,X,Z,Y,W,j,q,J,K,Q,$,tt,et,it,st,ot,nt,at,lt,rt,ct,ht,_t,dt,ut,mt,pt,gt,ft;a._RF.push({},"13713UmyzJGWaGZQgmKjR4S","List",void 0);var vt=l.ccclass,It=l.property,yt=l.disallowMultiple,Tt=l.menu,St=l.executionOrder,wt=l.requireComponent,zt=function(t){return t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB",t}(zt||{}),Dt=function(t){return t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE",t}(Dt||{}),Nt=function(t){return t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT",t}(Nt||{});t("default",(P=yt(),L=Tt("List"),G=wt(r),C=St(-5e3),O=It({type:c(zt),tooltip:b}),R=It({type:h,tooltip:b,visible:function(){return this.templateType==zt.NODE}}),U=It({type:_,tooltip:b,visible:function(){return this.templateType==zt.PREFAB}}),A=It({}),B=It({type:c(Dt),tooltip:b}),k=It({type:d,range:[0,1,.1],tooltip:b,slide:!0,visible:function(){return this._slideMode==Dt.PAGE}}),M=It({type:u,tooltip:b,visible:function(){return this._slideMode==Dt.PAGE}}),x=It({}),V=It({type:m,tooltip:b}),H=It({tooltip:b,visible:function(){var t=this.slideMode==Dt.NORMAL;return t||(this.cyclic=!1),t}}),F=It({tooltip:b,visible:function(){return this.virtual}}),X=It({tooltip:b,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}}),Z=It({type:p}),Y=It({type:p,range:[0,6,1],tooltip:b,slide:!0}),W=It({type:p,range:[0,12,1],tooltip:b,slide:!0}),j=It({type:u,tooltip:b}),q=It({type:c(Nt),tooltip:b}),J=It({type:u,tooltip:b,visible:function(){return this.selectedMode>Nt.NONE}}),K=It({tooltip:b,visible:function(){return this.selectedMode==Nt.SINGLE}}),Q=It({serializable:!1}),vt($=P($=L($=G($=C((et=e((tt=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,s(e,"templateType",et,o(e)),s(e,"tmpNode",it,o(e)),s(e,"tmpPrefab",st,o(e)),s(e,"_slideMode",ot,o(e)),s(e,"pageDistance",nt,o(e)),s(e,"pageChangeEvent",at,o(e)),s(e,"_virtual",lt,o(e)),s(e,"cyclic",rt,o(e)),s(e,"lackCenter",ct,o(e)),s(e,"lackSlide",ht,o(e)),s(e,"_updateRate",_t,o(e)),s(e,"frameByFrameRenderNum",dt,o(e)),s(e,"renderEvent",ut,o(e)),s(e,"selectedMode",mt,o(e)),s(e,"selectedEvent",pt,o(e)),s(e,"repeatEventSingle",gt,o(e)),e._selectedId=-1,e._lastSelectedId=void 0,e.multSelected=void 0,e._forceUpdate=!1,e._align=void 0,e._horizontalDir=void 0,e._verticalDir=void 0,e._startAxis=void 0,e._alignCalcType=void 0,e.content=void 0,e._contentUt=void 0,e.firstListId=void 0,e.displayItemNum=void 0,e._updateDone=!0,e._updateCounter=void 0,e._actualNumItems=void 0,e._cyclicNum=void 0,e._cyclicPos1=void 0,e._cyclicPos2=void 0,s(e,"_numItems",ft,o(e)),e._inited=!1,e._scrollView=void 0,e._layout=void 0,e._resizeMode=void 0,e._topGap=void 0,e._rightGap=void 0,e._bottomGap=void 0,e._leftGap=void 0,e._columnGap=void 0,e._lineGap=void 0,e._colLineNum=void 0,e._lastDisplayData=void 0,e.displayData=void 0,e._pool=void 0,e._itemTmp=void 0,e._itemTmpUt=void 0,e._needUpdateWidget=!1,e._itemSize=void 0,e._sizeType=void 0,e._customSize=void 0,e.frameCount=void 0,e._aniDelRuning=!1,e._aniDelCB=void 0,e._aniDelItem=void 0,e._aniDelBeforePos=void 0,e._aniDelBeforeScale=void 0,e.viewTop=void 0,e.viewRight=void 0,e.viewBottom=void 0,e.viewLeft=void 0,e._doneAfterUpdate=!1,e.elasticTop=void 0,e.elasticRight=void 0,e.elasticBottom=void 0,e.elasticLeft=void 0,e.scrollToListId=void 0,e.adhering=!1,e._adheringBarrier=!1,e.nearestListId=void 0,e.curPageNum=0,e._beganPos=void 0,e._scrollPos=void 0,e._curScrollIsTouch=void 0,e._scrollToListId=void 0,e._scrollToEndTime=void 0,e._scrollToSo=void 0,e._lack=void 0,e._allItemSize=void 0,e._allItemSizeNoEdge=void 0,e._scrollItem=void 0,e._thisNodeUt=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this._init()},a.onDestroy=function(){var t=this;g(t._itemTmp)&&t._itemTmp.destroy(),g(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},a.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},a.onDisable=function(){this._unregisterEvent()},a._registerEvent=function(){var t=this;t.node.on(h.EventType.TOUCH_START,t._onTouchStart,t),t.node.on("touch-up",t._onTouchUp,t),t.node.on(h.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.on("scroll-began",t._onScrollBegan,t),t.node.on("scroll-ended",t._onScrollEnded,t),t.node.on("scrolling",t._onScrolling,t),t.node.on(h.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._unregisterEvent=function(){var t=this;t.node.off(h.EventType.TOUCH_START,t._onTouchStart,t),t.node.off("touch-up",t._onTouchUp,t),t.node.off(h.EventType.TOUCH_CANCEL,t._onTouchCancelled,t),t.node.off("scroll-began",t._onScrollBegan,t),t.node.off("scroll-ended",t._onScrollEnded,t),t.node.off("scrolling",t._onScrolling,t),t.node.off(h.EventType.SIZE_CHANGED,t._onSizeChanged,t)},a._init=function(){var t=this;if(!t._inited)if(t._thisNodeUt=t.node.getComponent(f),t._scrollView=t.node.getComponent(r),t.content=t._scrollView.content,t._contentUt=t.content.getComponent(f),t.content){switch(t._layout=t.content.getComponent(v),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(I(t.templateType==zt.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=Dt.ADHERING&&t._slideMode!=Dt.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new y,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case v.Type.HORIZONTAL:switch(t._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case v.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case v.Type.VERTICAL:switch(t._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case v.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case v.Type.GRID:switch(t._startAxis){case v.AxisDirection.HORIZONTAL:switch(t._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case v.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case v.AxisDirection.VERTICAL:switch(t._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case v.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.children&&t.content.removeAllChildren(),t._inited=!0}else console.error(t.node.name+"'s ScrollView unset content!")},a._processAutoScrolling=function(t){var e=1e-4,i=new T,s=this._scrollView,o=s._isNecessaryAutoScrollBrake(),n=o?.05:1;s._autoScrollAccumulatedTime+=t*(1/n);var a,l=Math.min(1,s._autoScrollAccumulatedTime/s._autoScrollTotalTime);s._autoScrollAttenuate&&(a=l,l=(a-=1)*a*a*a*a+1);var c=s._autoScrollTargetDelta.clone();c.multiplyScalar(l);var h=s._autoScrollStartPosition.clone();h.add(c);var _=Math.abs(l-1)<=e;if(Math.abs(l-1)<=s.getScrollEndedEventTiming()&&!s._isScrollEndedWithThresholdEventFired&&(s._dispatchEvent(r.EventType.SCROLL_ENG_WITH_THRESHOLD),s._isScrollEndedWithThresholdEventFired=!0),s.elastic){var d=h.clone();d.subtract(s._autoScrollBrakingStartPosition),o&&d.multiplyScalar(n),h.set(s._autoScrollBrakingStartPosition),h.add(d)}else{var u=h.clone();u.subtract(s._getContentPosition());var m=s._getHowMuchOutOfBoundary(u);m.equals(i,e)||(h.add(m),_=!0)}_&&(s._autoScrolling=!1);var p=new T(h);p.subtract(s._getContentPosition()),s._clampDelta(p),s._moveContent(p,_),s._dispatchEvent(r.EventType.SCROLLING),s._autoScrolling||(s._isBouncing=!1,s._scrolling=!1,s._dispatchEvent(r.EventType.SCROLL_ENDED))},a.setTemplateItem=function(t){if(t){var e=this;if(e._itemTmp=t,e._itemTmpUt=t.getComponent(f),e._resizeMode==v.ResizeMode.CHILDREN)e._itemSize=e._layout.cellSize;else{var i=t.getComponent(f);e._itemSize=new S(i.width,i.height)}var s=t.getComponent(E),o=!1;switch(s||(o=!0),o&&(e.selectedMode=Nt.NONE),(s=t.getComponent(w))&&s.enabled&&(e._needUpdateWidget=!0),e.selectedMode==Nt.MULT&&(e.multSelected=[]),e._align){case v.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case v.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case v.Type.GRID:switch(e._startAxis){case v.AxisDirection.HORIZONTAL:var n=e._contentUt.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case v.AxisDirection.VERTICAL:var a=e._contentUt.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((a+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},a.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&console.error("List initialization not completed!"),!1)},a._resizeContent=function(){var t,e=this;switch(e._align){case v.Type.HORIZONTAL:if(e._customSize){var i=e._getFixedSize(null);t=e._leftGap+i.val+e._itemSize.width*(e._numItems-i.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case v.Type.VERTICAL:if(e._customSize){var s=e._getFixedSize(null);t=e._topGap+s.val+e._itemSize.height*(e._numItems-s.count)+e._lineGap*(e._numItems-1)+e._bottomGap}else t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case v.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case v.AxisDirection.HORIZONTAL:var o=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*o+e._lineGap*(o-1)+e._bottomGap;break;case v.AxisDirection.VERTICAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var a=e.content.getComponent(v);if(a&&(a.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var l=e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width;e._cyclicPos1=0,l-=e._cyclicPos1,e._cyclicNum=Math.ceil(l/e._allItemSizeNoEdge)+1;var r=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+r,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+r*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=r*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,h=e._lack?(e._sizeType?e._thisNodeUt.height:e._thisNodeUt.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;h<0&&(h=0),e._sizeType?e._contentUt.height=h:e._contentUt.width=h},a._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var i=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),s=this._sizeType?new T(0,i,0):new T(i,0,0),o=this.content.getPosition();switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(o.set(-this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(-this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)));break;case 2:e<this._cyclicPos1?(o.set(this._cyclicPos2,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(this._cyclicPos1,o.y,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 3:e<this._cyclicPos1?(o.set(o.x,this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s))):e>this._cyclicPos2&&(o.set(o.x,this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s)));break;case 4:e>-this._cyclicPos1?(o.set(o.x,-this._cyclicPos2,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.subtract(s))):e<-this._cyclicPos2&&(o.set(o.x,-this._cyclicPos1,o.z),this.content.setPosition(o),this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(s)))}}var n,a,l,r;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,l=this.viewBottom):(a=this.viewRight,r=this.viewLeft),this._virtual){var c;this.displayData=[];var h=0,_=this._numItems-1;if(this._customSize)for(var d=!1;h<=_&&!d;h++)switch(c=this._calcItemPos(h),this._align){case v.Type.HORIZONTAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.Type.VERTICAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.Type.GRID:switch(this._startAxis){case v.AxisDirection.HORIZONTAL:c.bottom<=n&&c.top>=l?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0);break;case v.AxisDirection.VERTICAL:c.right>=r&&c.left<=a?this.displayData.push(c):0!=h&&this.displayData.length>0&&(d=!0)}}else{var u=this._itemSize.width+this._columnGap,m=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:h=(r-this._leftGap)/u,_=(a-this._leftGap)/u;break;case 2:h=(-a-this._rightGap)/u,_=(-r-this._rightGap)/u;break;case 3:h=(-n-this._topGap)/m,_=(-l-this._topGap)/m;break;case 4:h=(l-this._bottomGap)/m,_=(n-this._bottomGap)/m}for(h=Math.floor(h)*this._colLineNum,_=Math.ceil(_)*this._colLineNum,h<0&&(h=0),--_>=this._numItems&&(_=this._numItems-1);h<=_;h++)this.displayData.push(this._calcItemPos(h))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var p=this._lastDisplayData.length,g=this.displayItemNum!=p;if(g&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort((function(t,e){return t-e})),g=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[p-1]),this._forceUpdate||g)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var f=0;f<this.displayItemNum;f++)this._createOrUpdateItem(this.displayData[f]);this._forceUpdate=!1}this._calcNearestItem()}}},a._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this._thisNodeUt.width,this.elasticRight=this.viewRight>this._contentUt.width?Math.abs(this.viewRight-this._contentUt.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this._thisNodeUt.width,this.elasticLeft=this.viewLeft<-this._contentUt.width?Math.abs(this.viewLeft+this._contentUt.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this._thisNodeUt.height,this.elasticBottom=this.viewBottom<-this._contentUt.height?Math.abs(this.viewBottom+this._contentUt.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this._thisNodeUt.height,this.elasticTop=this.viewTop>this._contentUt.height?Math.abs(this.viewTop-this._contentUt.height):0,this.viewTop-=this.elasticTop}},a._calcItemPos=function(t){var e,i,s,o,n,a,l,r;switch(this._align){case v.Type.HORIZONTAL:switch(this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var c=this._getFixedSize(t);n=this._leftGap+(this._itemSize.width+this._columnGap)*(t-c.count)+(c.val+this._columnGap*c.count);var h=this._customSize[t];e=h>0?h:this._itemSize.width}else n=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)n-=this._leftGap,n+=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,left:n,right:a=n+e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y};case v.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){var _=this._getFixedSize(t);a=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-_.count)-(_.val+this._columnGap*_.count);var d=this._customSize[t];e=d>0?d:this._itemSize.width}else a=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;if(this.lackCenter)a+=this._rightGap,a-=this._contentUt.width/2-this._allItemSizeNoEdge/2;return{id:t,right:a,left:n=a-e,x:n+this._itemTmpUt.anchorX*e,y:this._itemTmp.y}}break;case v.Type.VERTICAL:switch(this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){var u=this._getFixedSize(t);s=-this._topGap-(this._itemSize.height+this._lineGap)*(t-u.count)-(u.val+this._lineGap*u.count);var m=this._customSize[t];i=m>0?m:this._itemSize.height}else s=-this._topGap-(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)s+=this._topGap,s-=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s,bottom:o=s-i,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i};case v.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var p=this._getFixedSize(t);o=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-p.count)+(p.val+this._lineGap*p.count);var g=this._customSize[t];i=g>0?g:this._itemSize.height}else o=this._bottomGap+(this._itemSize.height+this._lineGap)*t,i=this._itemSize.height;if(this.lackCenter)o-=this._bottomGap,o+=this._contentUt.height/2-this._allItemSizeNoEdge/2;return{id:t,top:s=o+i,bottom:o,x:this._itemTmp.x,y:o+this._itemTmpUt.anchorY*i}}case v.Type.GRID:var f=Math.floor(t/this._colLineNum);switch(this._startAxis){case v.AxisDirection.HORIZONTAL:switch(this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:r=(o=(s=-this._topGap-(this._itemSize.height+this._lineGap)*f)-this._itemSize.height)+this._itemTmpUt.anchorY*this._itemSize.height;break;case v.VerticalDirection.BOTTOM_TO_TOP:s=(o=this._bottomGap+(this._itemSize.height+this._lineGap)*f)+this._itemSize.height,r=o+this._itemTmpUt.anchorY*this._itemSize.height}switch(l=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:l+=this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case v.HorizontalDirection.RIGHT_TO_LEFT:l+=(1-this._itemTmpUt.anchorX)*this._itemSize.width,l-=(1-this._contentUt.anchorX)*this._contentUt.width,l*=-1}return{id:t,top:s,bottom:o,x:l,y:r};case v.AxisDirection.VERTICAL:switch(this._horizontalDir){case v.HorizontalDirection.LEFT_TO_RIGHT:a=(n=this._leftGap+(this._itemSize.width+this._columnGap)*f)+this._itemSize.width,l=n+this._itemTmpUt.anchorX*this._itemSize.width,l-=this._contentUt.anchorX*this._contentUt.width;break;case v.HorizontalDirection.RIGHT_TO_LEFT:l=(n=(a=-this._rightGap-(this._itemSize.width+this._columnGap)*f)-this._itemSize.width)+this._itemTmpUt.anchorX*this._itemSize.width,l+=(1-this._contentUt.anchorX)*this._contentUt.width}switch(r=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case v.VerticalDirection.TOP_TO_BOTTOM:r-=(1-this._itemTmpUt.anchorY)*this._itemSize.height,r+=(1-this._contentUt.anchorY)*this._contentUt.height;break;case v.VerticalDirection.BOTTOM_TO_TOP:r-=this._itemTmpUt.anchorY*this._itemSize.height,r+=this._contentUt.anchorY*this._contentUt.height,r*=-1}return{id:t,left:n,right:a,x:l,y:r}}}},a._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var i=e.getComponent(f),s=e.getPosition(),o={id:t,x:s.x,y:s.y};return this._sizeType?(o.top=s.y+i.height*(1-i.anchorY),o.bottom=s.y-i.height*i.anchorY):(o.left=s.x-i.width*i.anchorX,o.right=s.x+i.width*(1-i.anchorX)),o},a.getItemPos=function(t){return this._virtual||this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},a._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,i=0;for(var s in this._customSize)parseInt(s)<t&&(e+=this._customSize[s],i++);return{val:e,count:i}},a._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},a._onScrollEnded=function(){var t=this;if(t._curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&z(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=Dt.ADHERING||t.adhering?t._slideMode==Dt.PAGE&&(null!=t._beganPos&&t._curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},a._onTouchStart=function(t,e){if(!this._scrollView._hasNestedViewGroup(t,e)&&(this._curScrollIsTouch=!0,!(t.eventPhase===D.AT_TARGET&&t.target===this.node))){for(var i=t.target;null==i._listId&&i.parent;)i=i.parent;this._scrollItem=null!=i._listId?i:t.target}},a._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==Dt.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==Dt.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},a._onTouchCancelled=function(t,e){var i=this;i._scrollView._hasNestedViewGroup(t,e)||t.simulate||(i._scrollPos=null,i._slideMode==Dt.ADHERING?(i.adhering&&(i._adheringBarrier=!0),i.adhere()):i._slideMode==Dt.PAGE&&(null!=i._beganPos?i._pageAdhere():i.adhere()),this._scrollItem=null)},a._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},a._onItemAdaptive=function(t){var e=t.getComponent(f);if(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height){this._customSize||(this._customSize={});var i=this._sizeType?e.height:e.width;this._customSize[t._listId]!=i&&(this._customSize[t._listId]=i,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},a._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,i=(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>i){var s=.5;switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(s):t.nextPage(s);break;case 2:case 3:t._beganPos<e?t.prePage(s):t.nextPage(s)}}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},a.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t._thisNodeUt.height:t._thisNodeUt.width);t.scrollTo(t.nearestListId,.7,e)}},a.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var i=this.displayData[e];i&&this._createOrUpdateItem(i)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==Dt.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(var s=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,o=this._updateCounter;o<s;o++)this._createOrUpdateItem2(o);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==Dt.PAGE&&(this.curPageNum=this.nearestListId)},a._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(new T(t.x,t.y,0)),this._resetItemSize(e),this.renderEvent&&u.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var i=this._pool.size()>0;if(i&&(e=this._pool.get()),i&&g(e)||(e=I(this._itemTmp),i=!1),e._listId!=t.id)e._listId=t.id,e.getComponent(f).setContentSize(this._itemSize);if(e.setPosition(new T(t.x,t.y,0)),this._resetItemSize(e),this.content.addChild(e),!i&&this._needUpdateWidget){var s=e.getComponent(w);s&&s.updateAlignment()}e.setSiblingIndex(t.id>this.firstListId?this.content.children.length-1:0);var o=e.getComponent(E);e.listItem=o,o&&(o.listId=t.id,o.list=this,o._registerEvent()),this.renderEvent&&u.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},a._createOrUpdateItem2=function(t){var e,i=this.content.children[t];i?this._forceUpdate&&this.renderEvent&&(i._listId=t,e&&(e.listId=t),this.renderEvent&&u.emitEvents([this.renderEvent],i,t%this._actualNumItems)):((i=I(this._itemTmp))._listId=t,this.content.addChild(i),e=i.getComponent(E),i.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&u.emitEvents([this.renderEvent],i,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},a._updateListItem=function(t){if(t&&this.selectedMode>Nt.NONE){var e=t.node;switch(this.selectedMode){case Nt.SINGLE:t.selected=this.selectedId==e._listId;break;case Nt.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},a._resetItemSize=function(t){},a._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),i=this.getItemPos(e._listId);e.setPosition(i.x,i.y)},a.setMultSelected=function(t,e){var i=this;if(i.checkInited()){var s,o;if(Array.isArray(t)||(t=[t]),null==e)i.multSelected=t;else if(e)for(var n=t.length-1;n>=0;n--)s=t[n],(o=i.multSelected.indexOf(s))<0&&i.multSelected.push(s);else for(var a=t.length-1;a>=0;a--)s=t[a],(o=i.multSelected.indexOf(s))>=0&&i.multSelected.splice(o,1);i._forceUpdate=!0,i._onScrolling()}},a.getMultSelected=function(){return this.multSelected},a.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},a.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var s=t[e],o=this.getItemByListId(s);o&&u.emitEvents([this.renderEvent],o,s%this._actualNumItems)}}},a.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},a.getItemByListId=function(t){if(this.content)for(var e=this.content.children.length-1;e>=0;e--){var i=this.content.children[e];if(i._listId==t)return i}},a._getOutsideItem=function(){for(var t,e=[],i=this.content.children.length-1;i>=0;i--)t=this.content.children[i],this.displayData.find((function(e){return e.id==t._listId}))||e.push(t);return e},a._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var i=t[e];if(!this._scrollItem||i._listId!=this._scrollItem._listId){i.isCached=!0,this._pool.put(i);for(var s=this._lastDisplayData.length-1;s>=0;s--)if(this._lastDisplayData[s]==i._listId){this._lastDisplayData.splice(s,1);break}}}else for(;this.content.children.length>this._numItems;)this._delSingleItem(this.content.children[this.content.children.length-1])},a._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},a.aniDelItem=function(t,e,i){var s=this;if(!s.checkInited()||s.cyclic||!s._virtual)return console.error("This function is not allowed to be called!");if(!e)return console.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(s._aniDelRuning)return console.warn("Please wait for the current deletion to finish!");var o,n=s.getItemByListId(t);if(n){o=n.getComponent(E),s._aniDelRuning=!0,s._aniDelCB=e,s._aniDelItem=n,s._aniDelBeforePos=n.position,s._aniDelBeforeScale=n.scale;var a=s.displayData[s.displayData.length-1].id,l=o.selected;o.showAni(i,(function(){var i;if(a<s._numItems-2&&(i=a+1),null!=i){var o=s._calcItemPos(i);s.displayData.push(o),s._virtual?s._createOrUpdateItem(o):s._createOrUpdateItem2(i)}else s._numItems--;if(s.selectedMode==Nt.SINGLE)l?s._selectedId=-1:s._selectedId-1>=0&&s._selectedId--;else if(s.selectedMode==Nt.MULT&&s.multSelected.length){var r=s.multSelected.indexOf(t);r>=0&&s.multSelected.splice(r,1);for(var c=s.multSelected.length-1;c>=0;c--){s.multSelected[c]>=t&&s.multSelected[c]--}}if(s._customSize){s._customSize[t]&&delete s._customSize[t];var h,_={};for(var d in s._customSize){h=s._customSize[d];var u=parseInt(d);_[u-(u>=t?1:0)]=h}s._customSize=_}for(var m,p,g=null!=i?i:a;g>=t+1;g--)if(n=s.getItemByListId(g)){var f=s._calcItemPos(g-1);m=z(n).to(.2333,{position:new T(f.x,f.y,0)}),g<=t+1&&(p=!0,m.call((function(){s._aniDelRuning=!1,e(t),delete s._aniDelCB}))),m.start()}p||(s._aniDelRuning=!1,e(t),s._aniDelCB=null)}),!0)}else e(t)},a.scrollTo=function(t,e,i,s){void 0===e&&(e=.5),void 0===i&&(i=null),void 0===s&&(s=!1);var o=this;if(o.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=o._numItems&&(t=o._numItems-1),!o._virtual&&o._layout&&o._layout.enabled&&o._layout.updateLayout();var n,a,l=o.getItemPos(t);if(!l)return b;switch(o._alignCalcType){case 1:n=l.left,n-=null!=i?o._thisNodeUt.width*i:o._leftGap,l=new T(n,0,0);break;case 2:n=l.right-o._thisNodeUt.width,n+=null!=i?o._thisNodeUt.width*i:o._rightGap,l=new T(n+o._contentUt.width,0,0);break;case 3:a=l.top,a+=null!=i?o._thisNodeUt.height*i:o._topGap,l=new T(0,-a,0);break;case 4:a=l.bottom+o._thisNodeUt.height,a-=null!=i?o._thisNodeUt.height*i:o._bottomGap,l=new T(0,-a+o._contentUt.height,0)}var r=o.content.getPosition();r=Math.abs(o._sizeType?r.y:r.x);var c=o._sizeType?l.y:l.x;Math.abs((null!=o._scrollPos?o._scrollPos:r)-c)>.5&&(o._scrollView.scrollToOffset(l,e),o._scrollToListId=t,o._scrollToEndTime=(new Date).getTime()/1e3+e,o._scrollToSo=o.scheduleOnce((function(){if(o._adheringBarrier||(o.adhering=o._adheringBarrier=!1),o._scrollPos=o._scrollToListId=o._scrollToEndTime=o._scrollToSo=null,s){var e=o.getItemByListId(t);e&&z(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}}),e+.1),e<=0&&o._onScrolling())}},a._calcNearestItem=function(){var t,e,i,s,o,n,a=this;a.nearestListId=null,a._virtual&&a._calcViewPos(),i=a.viewTop,s=a.viewRight,o=a.viewBottom,n=a.viewLeft;for(var l=!1,r=0;r<a.content.children.length&&!l;r+=a._colLineNum)if(t=a._virtual?a.displayData[r]:a._calcExistItemPos(r))switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:t.right>=n&&(a.nearestListId=t.id,n>e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 2:t.left<=s&&(a.nearestListId=t.id,s<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 3:t.bottom<=i&&(a.nearestListId=t.id,i<e&&(a.nearestListId+=a._colLineNum),l=!0);break;case 4:t.top>=o&&(a.nearestListId=t.id,o>e&&(a.nearestListId+=a._colLineNum),l=!0)}if((t=a._virtual?a.displayData[a.displayItemNum-1]:a._calcExistItemPos(a._numItems-1))&&t.id==a._numItems-1)switch(e=a._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,a._alignCalcType){case 1:s>e&&(a.nearestListId=t.id);break;case 2:n<e&&(a.nearestListId=t.id);break;case 3:o<e&&(a.nearestListId=t.id);break;case 4:i>e&&(a.nearestListId=t.id)}},a.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},a.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},a.skipPage=function(t,e){var i=this;if(i.checkInited())return i._slideMode!=Dt.PAGE?console.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=i._numItems||i.curPageNum!=t&&(i.curPageNum=t,i.pageChangeEvent&&u.emitEvents([i.pageChangeEvent],t),i.scrollTo(t,e)))},a.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return console.error("Unset template item!");if(!e.renderEvent)return console.error("Unset Render-Event!");e._customSize={};var i=I(e._itemTmp),s=i.getComponent(f);e.content.addChild(i);for(var o=0;o<t;o++)u.emitEvents([e.renderEvent],i,o),s.height==e._itemSize.height&&s.width==e._itemSize.width||(e._customSize[o]=e._sizeType?s.height:s.width);return Object.keys(e._customSize).length||(e._customSize=null),i.removeFromParent(),i.destroy&&i.destroy(),e._customSize}},n(e,[{key:"slideMode",get:function(){return this._slideMode},set:function(t){this._slideMode=t}},{key:"virtual",get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()}},{key:"updateRate",get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)}},{key:"selectedId",get:function(){return this._selectedId},set:function(t){var e,i=this;switch(i.selectedMode){case Nt.SINGLE:if(!i.repeatEventSingle&&t==i._selectedId)return;if(e=i.getItemByListId(t),i._selectedId>=0?i._lastSelectedId=i._selectedId:i._lastSelectedId=null,i._selectedId=t,e&&(e.getComponent(E).selected=!0),i._lastSelectedId>=0&&i._lastSelectedId!=i._selectedId){var s=i.getItemByListId(i._lastSelectedId);s&&(s.getComponent(E).selected=!1)}i.selectedEvent&&u.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems);break;case Nt.MULT:if(!(e=i.getItemByListId(t)))return;var o=e.getComponent(E);i._selectedId>=0&&(i._lastSelectedId=i._selectedId),i._selectedId=t;var n=!o.selected;o.selected=n;var a=i.multSelected.indexOf(t);n&&a<0?i.multSelected.push(t):!n&&a>=0&&i.multSelected.splice(a,1),i.selectedEvent&&u.emitEvents([i.selectedEvent],e,t%this._actualNumItems,null==i._lastSelectedId?null:i._lastSelectedId%this._actualNumItems,n)}}},{key:"numItems",get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)console.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=Dt.PAGE||(e.curPageNum=e.nearestListId);else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var i=e.content.getComponent(v);if(i&&(i.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var s=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,o=0;o<s;o++)e._createOrUpdateItem2(o);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(var n=0;n<e._numItems;n++)e._createOrUpdateItem2(n);e.displayItemNum=e._numItems}}}},{key:"scrollView",get:function(){return this._scrollView}}]),e}(N)).prototype,"templateType",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zt.NODE}}),it=e(tt.prototype,"tmpNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(tt.prototype,"tmpPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(tt.prototype,"_slideMode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dt.NORMAL}}),e(tt.prototype,"slideMode",[B],Object.getOwnPropertyDescriptor(tt.prototype,"slideMode"),tt.prototype),nt=e(tt.prototype,"pageDistance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),at=e(tt.prototype,"pageChangeEvent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),lt=e(tt.prototype,"_virtual",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(tt.prototype,"virtual",[V],Object.getOwnPropertyDescriptor(tt.prototype,"virtual"),tt.prototype),rt=e(tt.prototype,"cyclic",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=e(tt.prototype,"lackCenter",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=e(tt.prototype,"lackSlide",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_t=e(tt.prototype,"_updateRate",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(tt.prototype,"updateRate",[Y],Object.getOwnPropertyDescriptor(tt.prototype,"updateRate"),tt.prototype),dt=e(tt.prototype,"frameByFrameRenderNum",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ut=e(tt.prototype,"renderEvent",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),mt=e(tt.prototype,"selectedMode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nt.NONE}}),pt=e(tt.prototype,"selectedEvent",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),gt=e(tt.prototype,"repeatEventSingle",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ft=e(tt.prototype,"_numItems",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=tt))||$)||$)||$)||$)||$));a._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(e){var t,i,n,o,r,s,l,a,c,u,d,p,h,f,m,b,g,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,l=e._decorator,a=e.Sprite,c=e.Node,u=e.Enum,d=e.SpriteFrame,p=e.EventHandler,h=e.UITransform,f=e.tween,m=e.Vec3,b=e.Button,g=e.Component},function(e){v=e.DEV}],execute:function(){var y,C,_,w,S,E,F,I,z,N,T,k,D,G,H,L,M;s._RF.push({},"1a690Z06X5D66GjFjraG+UH","ListItem",void 0);var O=l.ccclass,A=l.property,R=l.disallowMultiple,W=l.menu,j=l.executionOrder,V=function(e){return e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH",e}(V||{});e("default",(y=R(),C=W("List Item"),_=j(-5001),w=A({type:a,tooltip:v}),S=A({type:c,tooltip:v}),E=A({type:u(V),tooltip:v}),F=A({type:c,tooltip:v,visible:function(){return this.selectedMode>V.NONE}}),I=A({type:d,tooltip:v,visible:function(){return this.selectedMode==V.SWITCH}}),z=A({tooltip:v}),O(N=y(N=C(N=_((k=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"icon",k,o(t)),n(t,"title",D,o(t)),n(t,"selectedMode",G,o(t)),n(t,"selectedFlag",H,o(t)),n(t,"selectedSpriteFrame",L,o(t)),t._unselectedSpriteFrame=null,n(t,"adaptiveSize",M,o(t)),t._selected=!1,t._btnCom=void 0,t.list=void 0,t._eventReg=!1,t.listId=void 0,t}i(t,e);var s=t.prototype;return s.onLoad=function(){if(this.selectedMode==V.SWITCH){var e=this.selectedFlag.getComponent(a);this._unselectedSpriteFrame=e.spriteFrame}},s.onDestroy=function(){this.node.off(c.EventType.SIZE_CHANGED,this._onSizeChange,this)},s._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(c.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},s._onSizeChange=function(){this.list._onItemAdaptive(this.node)},s.createEvt=function(e,t,i){if(void 0===i&&(i=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new p;return n.target=i||e.node,n.component=e.comName,n.handler=t,n}},s.showAni=function(e,t,i){var n,o=this,r=o.node.getComponent(h);switch(e){case 0:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,2*r.height)});break;case 1:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(2*r.width,0)});break;case 2:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(0,-2*r.height)});break;case 3:n=f(o.node).to(.2,{scale:new m(.7,.7)}).by(.3,{position:new m(-2*r.width,0)});break;default:n=f(o.node).to(.3,{scale:new m(.1,.1)})}(t||i)&&n.call((function(){if(i){o.list._delSingleItem(o.node);for(var e=o.list.displayData.length-1;e>=0;e--)if(o.list.displayData[e].id==o.listId){o.list.displayData.splice(e,1);break}}t()})),n.start()},s.onClickThis=function(){this.list.selectedId=this.listId},r(t,[{key:"selected",get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case V.TOGGLE:this.selectedFlag.active=e;break;case V.SWITCH:var t=this.selectedFlag.getComponent(a);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}}},{key:"btnCom",get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(b)),this._btnCom}}]),t}(g)).prototype,"icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"title",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"selectedMode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.NONE}}),H=t(T.prototype,"selectedFlag",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"selectedSpriteFrame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"adaptiveSize",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=T))||N)||N)||N)||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CCAdjust.ts","./CCAdHelper.ts","./CCAdmob.ts","./CCAudioManager.ts","./CCAutoSpriteAnimation.ts","./CCBoxCollider2D.ts","./CCButton.ts","./CCClippingNode.ts","./CCDataRepoter.ts","./CCEvent.ts","./CCFadeLabel.ts","./CCFixFooter.ts","./CCFixHeader.ts","./CCFloatingBanner.ts","./CCFloatingTips.ts","./CCFullSize.ts","./CCItemList.ts","./CCItemTemplate.ts","./CCLabelFixed.ts","./CCMask.ts","./CCPalette.ts","./CCPathManager.ts","./CCPopup.ts","./CCPopupManager.ts","./CCResize.ts","./CCRichText.ts","./CCScene.ts","./CCSceneManager.ts","./CCScreenAdapter.ts","./CCScrollInfinity.ts","./CCScrollNumber.ts","./CCSpriteTimer.ts","./CCStrikeLineLabel.ts","./CCTouchManager.ts","./CCTweenBreathe.ts","./CCTweenMove.ts","./CCViewGroupNesting.ts","./CCWayPoint.ts","./CCWayPointPath.ts","./HotUpdate.ts","./List.ts","./ListItem.ts","./UpdatePanel.ts","./CCFiles.ts","./CCStorage.ts","./CCLabelTyping.ts","./CCTweenBlink.ts","./CCFirebaseAnalytics.ts","./CCFirebaseCrashlytics.ts","./CCFirebaseRemoteConfig.ts","./CCGoogleSignIn.ts","./CCTileData.ts","./ISceneManager.ts","./CCGooglePlayInAppUpdate.ts","./CCLottie.ts","./CCNative.ts","./CCNotification.ts","./CCPay.ts","./CCHttp.ts","./CCJWT.ts","./ATBannerSceneScript.ts","./ATIntersitialAutoSceneScript.ts","./ATIntersitialSceneScript.ts","./ATNativeSceneScript.ts","./ATRewardAutoSceneScript.ts","./ATRewardSceneScript.ts","./ATTestScript.ts","./ATBannerTSSDK.ts","./ATIntersitialAutoTSSDK.ts","./ATIntersitialTSSDK.ts","./ATJSSDK.ts","./ATNativeTSSDK.ts","./ATRewardedAutoVideoTSSDK.ts","./ATRewardedVideoTSSDK.ts","./ATAndroidBannerTS.ts","./ATAndroidIntersitialAutoTS.ts","./ATAndroidIntersitialTS.ts","./ATAndroidJS.ts","./ATAndroidNativeTS.ts","./ATAndroidRewardedVideoAutoTS.ts","./ATAndroidRewardedVideoTS.ts","./ATiOSBannerTS.ts","./ATiOSIntersitiaAutolTS.ts","./ATiOSIntersitialTS.ts","./ATiOSJS.ts","./ATiOSNativeTS.ts","./ATiOSRewardedAutoVideoTS.ts","./ATiOSRewardedVideoTS.ts","./CCTopOnHelper.ts","./CCCacheRes.ts","./CCDebug.ts","./CCError.ts","./CCQueue.ts","./CCStats.ts","./CCUtils.ts","./CCAchievementData.ts","./CCBuildingData.ts","./CCBuildingLeftData.ts","./CCBuildingRightData.ts","./CCCatCompeti.ts","./CCCatData.ts","./CCCatFoodData.ts","./CCCatRoomData.ts","./CCCatUpgrade.ts","./CCDailyTaskData.ts","./CCDrawData.ts","./CCEventData.ts","./CCEventNpcData.ts","./CCFacadeData.ts","./CCGoodsData.ts","./CCGuideData.ts","./CCHostTasksData.ts","./CCIAPConfig.ts","./CCLingoData.ts","./CCMapData.ts","./CCNpcData.ts","./CCPlayerData.ts","./CCPropData.ts","./CCPurchaseData.ts","./CCQuestion.ts","./CCRoomScoreData.ts","./CCStaffData.ts","./CCSundryData.ts","./CCEffct.ts","./CCTween.ts","./CCLogicSpecialNpc.ts","./CCLogicStaff.ts","./CCOutsideNpc.ts","./CCSpecialNpc2001.ts","./CCSpecialNpc2002.ts","./CCSpecialNpc2003.ts","./CCSpecialNpc2004.ts","./CCSpecialNpc2005.ts","./CCSpecialNpc2006.ts","./CCSpecialNpc2007.ts","./CCStaffCashier.ts","./CCStaffCleaner.ts","./CCStaffReception.ts","./CCStaffRepairMan.ts","./CCStaffSaler.ts","./CCStaffSecurity.ts","./CCStaffServer.ts","./CCSceneHall.ts","./CCSceneHallLeft.ts","./CCSceneHallLogic.ts","./CCSceneHallUI.ts","./CCSceneMain.ts","./CCSceneNewBieAnimation.ts","./CCBtnAccelerate.ts","./CCBtnAdEvent.ts","./CCBtnBackpack.ts","./CCBtnBuilding.ts","./CCBtnCatHouseUpgrade.ts","./CCBtnDoubleIncome.ts","./CCBtnExpressDelivery.ts","./CCBtnGames.ts","./CCBtnHelper.ts","./CCBtnLeftClanManagement.ts","./CCBtnLeftMatch.ts","./CCBtnLeftSponsorShip.ts","./CCBtnManagement.ts","./CCBtnPromotion.ts","./CCBtnRanking.ts","./CCBtnRecharge.ts","./CCBtnRechargeGold.ts","./CCBtnSecrets.ts","./CCBtnShop.ts","./CCBtnTask.ts","./CCDebugPanel.ts","./CCDefine.ts","./CCDelivery.ts","./CCKeyManager.ts","./CCManagementStaff.ts","./CCPanelAdRewards.ts","./CCPanelAdRewardsItem.ts","./CCPanelBackpack.ts","./CCPanelBackpackItem.ts","./CCPanelBackpackRow.ts","./CCPanelBackup.ts","./CCPanelCatHouseHuntNotEnough.ts","./CCPanelCatHouseUpgrade.ts","./CCPanelCatHouseUpgradeItem.ts","./CCPanelCatHouseUpgradeRanking.ts","./CCPanelClanManagement.ts","./CCPanelClanManagementItemFacility.ts","./CCPanelClanManagementItemFacilityDetails.ts","./CCPanelClanManagementItemFacilityUpgrade.ts","./CCPanelClanManagementItemMember.ts","./CCPanelClanManagementItemMemberUpgrade.ts","./CCPanelClanManagementMemberArrange.ts","./CCPanelCommon.ts","./CCPanelDecorationDelivery.ts","./CCPanelDecorationDeliveryItem.ts","./CCPanelExpressDelivery.ts","./CCPanelExtraClicks.ts","./CCPanelHotTask.ts","./CCPanelLeftBottom.ts","./CCPanelLeftNav.ts","./CCPanelManagement.ts","./CCPanelManagementCat.ts","./CCPanelManagementCatDetails.ts","./CCPanelManagementCatItem.ts","./CCPanelManagementDecoration.ts","./CCPanelManagementDecorationDetails.ts","./CCPanelManagementDecorationItem.ts","./CCPanelManagementStaff.ts","./CCPanelManagementStaffDetails.ts","./CCPanelManagementStaffItem.ts","./CCPanelMatch.ts","./CCPanelMatchItemChapter.ts","./CCPanelMatchRound.ts","./CCPanelMiniGameBridge.ts","./CCPanelMiniGameCatAndMouse.ts","./CCPanelMiniGameCatAndMouseEvent.ts","./CCPanelMiniGameCatAndMouseGameOver.ts","./CCPanelMiniGameCatAndMouseQA.ts","./CCPanelMiniGameCollect.ts","./CCPanelMiniGameCollectGameOver.ts","./CCPanelMiniGameDragonfly.ts","./CCPanelMiniGameExtraClicks.ts","./CCPanelMiniGameJump.ts","./CCPanelMiniGameList.ts","./CCPanelMiniGameListItem.ts","./CCPanelMiniGameListItemDetails.ts","./CCPanelMiniGameListRow.ts","./CCPanelMiniGameLuckyDraws.ts","./CCPanelMiniGameLuckyDrawsItem.ts","./CCPanelMiniGameOver.ts","./CCPanelNpcUnlocked.ts","./CCPanelOutside.ts","./CCPanelOutsideUpgrade.ts","./CCPanelProductsSale.ts","./CCPanelRecharge.ts","./CCPanelRechargeGold.ts","./CCPanelRepair.ts","./CCPanelSecrets.ts","./CCPanelSeekSponsor.ts","./CCPanelSeekSponsorRewards.ts","./CCPanelSeekSponsorRewardsItem.ts","./CCPanelSeekSponsorRewardsRow.ts","./CCPanelSettingGrid.ts","./CCPanelShop.ts","./CCPanelShopItem.ts","./CCPanelTask.ts","./CCPanelTaskItemSpecial.ts","./CCPanelTaskItemTask.ts","./CCPanelTaskSpecialSingle.ts","./CCPanelTourGuide.ts","./CCPropItem.ts","./CCPropRow.ts","./CCSpine.ts","./CCSpineBubbles.ts","./CCSpineChouqi.ts","./CCSpineGuide.ts","./CCSpineHezuo.ts","./CCSpineLoading.ts","./CCSpineMoney.ts","./CCSpinePlayCat.ts","./CCSpinePohuai.ts","./CCSpinePohuaibo.ts","./CCSpinePole.ts","./CCSpineQiehuan.ts","./CCSpineSaHua.ts","./CCSpineSaoba.ts","./CCSpineVip.ts","./CCSpineWantPlay.ts","./CCSpineXiaoShou.ts","./CCSpineXiuli.ts","./CCTiledMap.ts","./Npc.ts","./CCPanelNetworkRetry.ts","./CCSceneLoading.ts","./CCStartGame.ts","./CCStartGameWithGoogle.ts","./TypeAlias.ts","./AdClient.ts","./AppOpenAdClient.ts","./BannerClient.ts","./InterstitialAdClient.ts","./NativeAdClient.ts","./RewardedAdClient.ts","./RewardedInterstitialAdClient.ts","./AdListener.ts","./AppOpenAdFullScreenContentCallback.ts","./AppOpenAdListener.ts","./AppOpenAdLoadCallback.ts","./BannerAdListener.ts","./FullScreenContentCallback.ts","./InterstitialAdListener.ts","./InterstitialAdLoadCallback.ts","./InterstitialFullScreenContentCallback.ts","./NativeAdListener.ts","./OnNativeAdLoadedListener.ts","./OnPaidEventListener.ts","./OnShowAdCompleteListener.ts","./OnUserEarnedRewardListener.ts","./RewardedAdFullScreenContentCallback.ts","./RewardedAdListener.ts","./RewardedAdLoadCallback.ts","./RewardedAdShowErrorCallback.ts","./RewardedInterstitialAdLoadCallback.ts","./RewardedInterstitialAdShowErrorCallback.ts","./RewardedInterstitialFullScreenContentCallback.ts","./RewardedInterstitialListener.ts","./Bridge.ts","./Codec.ts","./INativeResponse.ts","./Route.ts","./Version2.ts","./BannerAlignment.ts","./BannerSize.ts","./BannerSizeOption.ts","./BannerSizeType.ts","./TestUnitId.ts","./AppOpenAd.ts","./BannerAd.ts","./Base.ts","./ICallbackNTF.ts","./InterstitailAd.ts","./NativeAd.ts","./PaidEventNTF.ts","./RewardedAd.ts","./RewardedInterstitialAd.ts","./Version.ts","./ZipLoader.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NativeAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){i=t.Base}],execute:function(){var a,o,u,c,s,d;n._RF.push({},"7b7c2Gl5W9GoreLVP8oHwTY","NativeAd",void 0);var l=r.ccclass,v=(r.property,t("NativeAdTemplateSize",function(t){return t.Small="small",t.Medium="medium",t}({})));t("LoadNativeAdREQ",l("LoadNativeAdREQ")(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).size=v.Small,e}return e(n,t),n}(i))||a),t("LoadNativeAdACK",l("LoadNativeAdACK")(o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(i))||o),t("NativeLoadedNTF",l("NativeLoadedNTF")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(i))||u),t("NativeAdListenerNTF",l("NativeAdListenerNTF")(c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).method=void 0,e.loadAdError=void 0,e}return e(n,t),n}(i))||c),t("DestroyNativeAdREQ",l("DestroyNativeAdREQ")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(i))||s),t("DestroyNativeAdACK",l("DestroyNativeAdACK")(d=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(i))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/NativeAdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bridge.ts","./BannerAd.ts","./NativeAd.ts","./AdClient.ts","./Route.ts","./PaidEventNTF.ts"],(function(t){var e,i,n,a,s,o,d,r,v,N,u,A,l,c,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,a=t.log,s=t.js},function(t){o=t.bridge},function(t){d=t.DestroyBannerACK},function(t){r=t.LoadNativeAdREQ,v=t.LoadNativeAdACK,N=t.DestroyNativeAdREQ,u=t.NativeLoadedNTF,A=t.NativeAdListenerNTF},function(t){l=t.AdClient},function(t){c=t.route},function(t){h=t.NativePaidEventNTF}],execute:function(){n._RF.push({},"2051einid9F8YRS5orUMZnQ","NativeAdClient",void 0);var f="[NativeAdClient]";t("NativeAdClient",function(t){function n(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._nativeAdListener=void 0,e}e(n,t);var l=n.prototype;return l.load=function(t,e,i){a(f,"load","unitId = "+t),this.nativeAdListener=i;var n=new r(t);n.size=e,o.sendToNative(s.getClassName(r),n,s.getClassName(v),(function(t){a(f,"load","LoadNativeAdACK: "+t)}),this)},l.destroy=function(){a(f,"destroy"),this.nativeAdListener=null,o.sendToNative(s.getClassName(N),{unitId:this.unitId},s.getClassName(d),(function(t){a(f,"destroy","DestroyNativeAdACK = "+t)}))},l.onNativeLoadedNTF=function(t){if(this.nativeAdListener){var e=this.nativeAdListener;e&&e.onNativeAdLoaded&&e.onNativeAdLoaded()}},l.onNativeAdListenerNTF=function(t){var e=this.nativeAdListener[t.method];e&&e(t.loadAdError)},l.onPaidEvent=function(t){var e=this.nativeAdListener;e&&e.onPaidEvent&&e.onPaidEvent(t)},i(n,[{key:"nativeAdListener",get:function(){return this._nativeAdListener},set:function(t){this._nativeAdListener&&(c.off(s.getClassName(u),this.onNativeLoadedNTF,this),c.off(s.getClassName(A),this.onNativeAdListenerNTF,this),c.off(s.getClassName(h),this.onPaidEvent,this)),this._nativeAdListener=t,this._nativeAdListener&&(c.on(s.getClassName(u),this.onNativeLoadedNTF,this),c.on(s.getClassName(A),this.onNativeAdListenerNTF,this),c.on(s.getClassName(h),this.onPaidEvent,this))}}]),n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/NativeAdListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"98273YC00NE6pnlSV02h9oy","NativeAdListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Npc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CCUtils.ts","./CCCacheRes.ts","./CCPathManager.ts","./CCPlayerData.ts","./CCTileData.ts","./CCDefine.ts","./CCSundryData.ts","./CCEffct.ts","./CCLingoData.ts","./CCSpineWantPlay.ts","./CCSpine.ts","./CCSpineBubbles.ts","./CCSceneHall.ts","./CCSpineQiehuan.ts","./CCMapData.ts","./CCAudioManager.ts","./CCSceneMain.ts"],(function(e){var t,n,a,i,o,s,l,d,h,u,r,p,c,f,g,y,C,m,b,P,v,T,_,w,N,I,S,B,A;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,i=e._decorator,o=e.Node,s=e.Sprite,l=e.UITransform,d=e.Vec2,h=e.Vec3,u=e.sp,r=e.isValid},function(e){p=e.default},function(e){c=e.default},function(e){f=e.CCPathManager},function(e){g=e.CCPlayerData},function(e){y=e.CCTileData},function(e){C=e.default,m=e.HALL_INDEX},function(e){b=e.default},function(e){P=e.CCEffect},function(e){v=e._T},function(e){T=e.CCSpineWantPlay},function(e){_=e.CCSpine},function(e){w=e.CCSpineBubbles},function(e){N=e.CCSceneHall},function(e){I=e.CCSpineQiehuan},function(e){S=e.default},function(e){B=e.audioMgr},function(e){A=e.CCSceneMain}],execute:function(){var D;a._RF.push({},"fb535zUR4lA8q9dNaDhswMe","Npc",void 0);var M=i.ccclass,E=(i.property,i.executeInEditMode,e("ANIMATION_STATE",function(e){return e[e.ANIMATION_IDLE=0]="ANIMATION_IDLE",e[e.ANIMATION_WALK=1]="ANIMATION_WALK",e}({})),e("NPC_TYPE",function(e){return e[e.NONE=-1]="NONE",e[e.CAT=0]="CAT",e[e.STAFF=1]="STAFF",e[e.GUEST=2]="GUEST",e[e.CONSUMER=3]="CONSUMER",e[e.WAITING=4]="WAITING",e[e.PLAYER=5]="PLAYER",e[e.PLAYER_RIGHT=6]="PLAYER_RIGHT",e[e.SPECIAL=7]="SPECIAL",e}({})));e("Npc",M("Npc")(D=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).data={type:E.NONE,skinName:"",tiles:[],tilesLeft:[],tileHold:null,npcId:0,catId:0,dropVip:0,flip:!0,bubbled:!1,wantPlayed:!1,alreadyWantPlayed:!1,cushionTypeId:0,cushionPosId:-1,fnDispoint:null,fnComplete:null,outsideIn:[],outsideOut:[],tween:null,newFlag:!1,playTime:0,playTimeElapsed:0,playTimeAccelerated:0},t._pathManager=null,t._lastPosition=new h(0,0,0),t._walkToPos=new h(0,0,0),t}t(a,e);var i=a.prototype;return i.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.scaleEnable=!1,this.longPressThreshold=100},i.onDestroy=function(){var t,n;this.data.tiles=[],this.data.tilesLeft=[],null==(t=this.data.tween)||t.stop(),null==(n=this.data.tween)||n.destroySelf(),this.stopPath(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},i.onEnable=function(){this.data.fnDispoint&&this.unschedule(this.data.fnDispoint),this.data.fnComplete&&this.unschedule(this.data.fnComplete)},i.initSpine=function(e){var t;this.name=e;var n=this.node.getChildByName("shadow");if(!n){n=new o("shadow"),this.node.addChild(n);var a=n.addComponent(s);a.getComponent(l).anchorPoint=new d(.5,.5),a.node.position=new h(0,6,0),a.node.active=!0,a.enabled=!1,c.loadSpriteFrameAndBind(a,"textures@Texture2D/Hall_Common/Hall_Common/shadow",!0,this,(function(e,t){}))}if(!(n=this.node.getChildByName("newFlag"))){n=new o("newFlag"),this.node.addChild(n);var i=n.addComponent(s);i.getComponent(l).anchorPoint=new d(.5,0),i.node.position=new h(0,6,0),i.node.active=!0,i.enabled=!1,c.loadSpriteFrameAndBind(i,"textures@Texture2D/Hall_Outside/Hall_Outside/new",!0,this,(function(e,t){}))}this.node.getComponent(l)||this.node.addComponent(l),null==(t=this.node.getComponent(l))||t.setAnchorPoint(.5,0),(n=this.node.getChildByName("spine"))||(n=new o("spine"),this.node.addChild(n),this.ske=n.addComponent(u.Skeleton),this.ske.premultipliedAlpha=!1,this.ske.enableBatch=!0,this.showDebug(!1))},i.showShadow=function(e){if(this.node.getChildByName("shadow")){this.node.getChildByName("shadow").active=e;var t=this.node.getChildByName("shadow").getComponent(s);t&&(t.enabled=e)}},i.showNewFlag=function(e){if(this.data.newFlag=e,this.node.getChildByName("newFlag")){this.node.getChildByName("newFlag").active=e;var t=this.node.getChildByName("newFlag").getComponent(s);if(t){var n,a=(null==(n=this.node.getComponent(l))||null==(n=n.contentSize)?void 0:n.height)||0,i=t.node.position.clone(),o=a;e&&(this.name.includes("man")&&(o*=C.spineNpcScale),t.node.setPosition(i.add3f(0,o,0))),t.enabled=e}}},i.enter=function(e){var t=this;this.scheduleOnce((function(){t.bubbles(!1,!1,"",!0,!1)}),2)},i.leave=function(e){this.bubbles(!1,!1,"",!1,!0)},i.preLeave=function(){},i.start=function(){},i.update=function(e){if(!(this.data.playTime<=0)){if(this.data.playTime<=this.data.playTimeElapsed)return this.data.fnComplete&&this.data.fnComplete(),p.log("Npc["+this.data.npcId+"].catId["+this.data.catId+"].playTime["+this.data.playTime+"].playTimeElapsed["+this.data.playTimeElapsed+"].playTimeAccelerated["+this.data.playTimeAccelerated+"]...completed"),this.data.playTime=0,this.data.playTimeElapsed=0,void(this.data.playTimeAccelerated=0);this.data.playTimeAccelerated+=g.data.gameAccelRate>1?e:0,this.data.playTimeElapsed+=e*g.data.gameAccelRate}},i.setSpawn=function(e,t,n){if(void 0===e&&(e=new d(0,0)),void 0===t&&(t=.1),void 0===n&&(n=!1),this._pathManager=this.node.getComponent(f)||this.node.addComponent(f),this._pathManager.loadGrid(this.node,t,n)){this.setTile(e);var a=this.node.getChildByName("shadow");a&&(a.active=!0)}},i.setTile=function(e){var t;if(this._pathManager){var n=f._tile2Position(e,null==(t=this._pathManager)?void 0:t.needFixedPos);this.node.setPosition(n)}},i.getTile=function(){var e;return this._pathManager?f._position2Tile(this.node.getPosition(),null==(e=this._pathManager)?void 0:e.needFixedPos):new d(0,0)},i.isVec2InRange=function(e,t){return!!this._pathManager&&d.distance(e,this.getTile())<=t},i.walkToPosition=function(e,t,n,a,i,o){var s;void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),void 0===i&&(i=null),void 0===o&&(o=null),this._pathManager&&(null==(s=this._pathManager)||s.walkToPosition(e,t,n,a,i,o),this.walkToPos=e,this.lastPosition=this.node.getPosition())},i.walkToTile=function(e,t,n,a,i,o){var s,l;void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=null),void 0===i&&(i=null),void 0===o&&(o=null),this._pathManager&&(null==(s=this._pathManager)||s.walkToTile(e,t,n,a,i,o),this.walkToPos=f._tile2Position(e,null==(l=this._pathManager)?void 0:l.needFixedPos),this.lastPosition=this.node.getPosition())},i.calcFlip=function(e,t){var n;(void 0===e&&(e=null),void 0===t&&(t=!0),e)&&(this.walkToPos=null==(n=e)?void 0:n.clone());this.walkToPos.x!=this.lastPosition.x&&(this.walkToPos.x>this.lastPosition.x?(this.data.flip=t,p.flipNodeX(this.ske.node,t)):this.walkToPos.x<this.lastPosition.x&&(this.data.flip=!t,p.flipNodeX(this.ske.node,!t)),this.lastPosition=this.walkToPos.clone())},i.timeScale=function(t){this.data.type!=E.CAT&&this.data.type!=E.GUEST&&this.data.type!=E.CONSUMER&&this.data.type!=E.PLAYER&&this.data.type!=E.PLAYER_RIGHT&&this.data.type!=E.STAFF&&this.data.type!=E.SPECIAL||e.prototype.timeScale.call(this,t)},i.setSpeed=function(e){this.data.type!=E.CAT&&this.data.type!=E.GUEST&&this.data.type!=E.CONSUMER&&this.data.type!=E.PLAYER&&this.data.type!=E.PLAYER_RIGHT&&this.data.type!=E.STAFF&&this.data.type!=E.SPECIAL||this._pathManager&&this._pathManager.setSpeed(e)},i.pausePath=function(e){void 0===e&&(e=!0),this._pathManager&&this._pathManager._pause(e)},i.stopPath=function(){this._pathManager&&this._pathManager._stop()},i.frontPlayerMoveForward=function(e,t,n,a){if(void 0===t&&(t=0),this.data.tilesLeft.length>0)return null;var i=new y(this.getTile().x,this.getTile().y),o=C.getTileByIdx(e);return o?(o.t=t,o.fnBeforeDelay=n,o.fnAfterDelay=a,this.data.tilesLeft=[i,o],o):null},i.wantPlay=function(e,t){var n;if(this.data.type!=E.PLAYER)return!1;if(this.data.wantPlayed)return!1;var a=!1;0==g.getCatLevelUnlocked(t).level&&(a=!0);var i=null==(n=this.node)?void 0:n.getChildByName("wantPlay");if(i)i.getComponent(T).catId=t,i.active=!0;else{var o,s=null==(o=this.getComponent(l))?void 0:o.contentSize.clone();P.wantPlay(this.node,"textures@prefabs/spineWantPlay",new h(0,s.height*C.spineNpcScale+50,0),e,t,a)}var d=this.data.cushionTypeId,u=C.queuePlayCat.get(d);return u[e]=!0,C.queuePlayCat.set(d,u),!0},i.wantPlayDestroy=function(){var e,t,n=null==(e=this.node)?void 0:e.getChildByName("spineWantPlay");n&&(null==(t=n.getComponent(T))||t.selfDestroy())},i.getWantPlayPath=function(){var e,t=null==(e=this.node)?void 0:e.getChildByName("spineWantPlay");if(t)return t.getPathInHierarchy()},i.bubbles=function(e,t,n,a,i){var o;void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=""),void 0===a&&(a=!1),void 0===i&&(i=!1);var s,d,u,r,c,f,y,m,_="",N=null==(o=this.getComponent(l))?void 0:o.contentSize.clone();if(e)return null==(s=this.node.getChildByName("spineBubbles"))||null==(s=s.getComponent(w))||s.selfDestroy(),null==(d=this.node.getChildByName("spineWantPlay"))||null==(d=d.getComponent(T))||d.selfDestroy(),(_=p.random(b.data.ExitBecauseBegSpeakLanID)).length>0&&P.bubbles(this.node,"textures@prefabs/spineBubbles",new h(0,N.height*C.spineNpcScale+50,0),"<size=15><color=#8f5837>"+v(_)+"</color></size>","",-1),!0;if(t)return null==(u=this.node.getChildByName("spineBubbles"))||null==(u=u.getComponent(w))||u.selfDestroy(),null==(r=this.node.getChildByName("spineWantPlay"))||null==(r=r.getComponent(T))||r.selfDestroy(),P.bubbles(this.node,"textures@prefabs/spineBubbles",new h(0,N.height*C.spineNpcScale+50,0),"<size=15><color=#8f5837>"+v(b.data.Staff_PlayCat_Fail,"<color=#32B432>"+v(n)+"</color>")+"</color></size>","",-1),!0;if(a)return null==(c=this.node.getChildByName("spineBubbles"))||null==(c=c.getComponent(w))||c.selfDestroy(),null==(f=this.node.getChildByName("spineWantPlay"))||null==(f=f.getComponent(T))||f.selfDestroy(),(_=p.random(b.data.StaffWorkOn_LanguageID)).length>0&&P.bubbles(this.node,"textures@prefabs/spineBubbles",new h(0,N.height*C.spineNpcScale+50,0),"<size=15><color=#8f5837>"+v(_)+"</color></size>","",-1),!0;if(i)return null==(y=this.node.getChildByName("spineBubbles"))||null==(y=y.getComponent(w))||y.selfDestroy(),null==(m=this.node.getChildByName("spineWantPlay"))||null==(m=m.getComponent(T))||m.selfDestroy(),(_=p.random(b.data.StaffWorkOff_LanguageID)).length>0&&P.bubbles(this.node,"textures@prefabs/spineBubbles",new h(0,N.height*C.spineNpcScale+50,0),"<size=15><color=#8f5837>"+v(_)+"</color></size>","",-1),!0;if(this.data.bubbled||this.data.wantPlayed)return!1;if(this.getTile().y<16)return!1;var I=0,S=0,B=0,A=-1;switch(this.data.type){case E.WAITING:if(I=b.data.Number_Of_Bubbles[0],(S=g.getNumOfBubbles(0))>=I)return!1;if(B=100*b.data.Number_Of_Bubbles_odds[0],p.randomRange(0,B)>B)return!1;_=p.random(b.data.DefaultChatIDs_BarCounterWait),g.setNumOfBubbles(0,S+1),A=0;break;case E.GUEST:if(I=b.data.Number_Of_Bubbles[1],(S=g.getNumOfBubbles(1))>=I)return!1;if(B=100*b.data.Number_Of_Bubbles_odds[1],p.randomRange(0,B)>B)return!1;_=p.random(b.data.DefaultChatIDs_Wander),g.setNumOfBubbles(1,S+1),A=1;break;case E.PLAYER:if(!this.data.alreadyWantPlayed)return!1;if(I=b.data.Number_Of_Bubbles[2],(S=g.getNumOfBubbles(2))>=I)return!1;if(B=100*b.data.Number_Of_Bubbles_odds[2],p.randomRange(0,B)>B)return!1;_=p.random(b.data.DefaultChatIDs_Playing),g.setNumOfBubbles(2,S+1),A=2;break;default:return!1}return _.length>0&&P.bubbles(this.node,"textures@prefabs/spineBubbles",new h(0,N.height*C.spineNpcScale+50,0),"<size=15><color=#8f5837>"+v(_)+"</color></size>","",A),!0},i.dispointLeaveRight=function(e,t,n,a,i){var o;r(this)&&(this.wantPlayDestroy(),null==(o=this.data.tilesLeft)||o.push.apply(o,C.copyTileOut()),N.sequence(N.Instance(),N.queuePlayRight,(function(e){e.animation(1,"walk"),e.bubbles(!1,a,i)}),this,n,C.tileOut[0].copy(),!1),this.data.cushionPosId=-1,this.data.cushionTypeId=0);C.queueBuildingRight.set(e,!1)},i.dispointLeave=function(e,t,n,a,i){var o;r(this)&&(this.wantPlayDestroy(),null==(o=this.data.tilesLeft)||o.push.apply(o,C.copyTileOut()),N.sequence(N.Instance(),N.queuePlay,(function(e){e.animation(1,"walk"),e.bubbles(!1,a,i)}),this,n,C.tileOut[0].copy(),!1),this.data.cushionPosId=-1,this.data.cushionTypeId=0);var s=C.queueCushion.get(e);s[t]=!1,C.queueCushion.set(e,s),(s=C.queuePlayCat.get(e))[t]=!1,C.queuePlayCat.set(e,s)},i.completeLeaveRight=function(e,t,n,a,i,o){var s=o.getChildByName("spineQiehuan");s&&(s.getComponent(I).fnComplete=null,s.active=!0);var l=null==o?void 0:o.getChildByName("spinePlayCat"+n.toString());l&&(l.active=!1),r(this)&&this.dispointLeaveRight(t,n,a,!1,"")},i.completeLeave=function(e,t,n,a,i,o){var s,l=o.getChildByName("spineQiehuan"+n);l&&(l.getComponent(I).fnComplete=null,l.active=!0);var h=null==o?void 0:o.getChildByName("spinePlayCat"+n.toString());if(h&&(h.active=!1),r(this.node)){var u=0;u=0==n?p.randomRange(-40,0):p.randomRange(0,40);var c=0;c=p.randomRange(-40,40);var y=i*(g.getDoubleIncomeTimeLeft()>0?2:1),C=f._tile2Position(e.toVec2(),null==(s=this._pathManager)?void 0:s.needFixedPos);e.x<2?(C=f._tile2Position(new d(e.x+1,e.y),!0),u=20):e.x==S.data.cols-1?(C=f._tile2Position(new d(e.x-2,e.y),!0),u=-20):C=f._tile2Position(e.toVec2(),!0),e.y==S.data.rows-1&&(C=f._tile2Position(new d(e.x,e.y),!1),c=-20);var b=N.topSprMoney.getWorldPosition().clone();P.dropSpineMoney(N.Hall_Area_Middle,"textures@prefabs/spineMoney",C,b,y,u,c,(function(e){N.addMoney(e),A.pageIndex==m.MIDDLE&&P.floatingTips(N.SceneHallUI,"textures@prefabs/floatingTips",C,u,c,v("UI_Recharge_UI9","<img src='main_icon01' width=55 height=47 offset=0/>","<outline color=#1e678f width=2> +"+e+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI"),A.pageIndex==m.MIDDLE&&B.playEffect("reward")}));var T=this.data.dropVip;b=N.topSprVip.getWorldPosition().clone(),T>0&&P.dropSpineVip(N.Hall_Area_Middle,"textures@prefabs/spineVip",C,b,T,u,c,(function(e){N.addVip(e),A.pageIndex==m.MIDDLE&&P.floatingTips(N.SceneHallUI,"textures@prefabs/floatingTips",C,u,c,v("UI_Recharge_UI9","<img src='main_icon02' width=49 height=33 offset=5/>","<outline color=#1e678f width=2> +"+e+"</outline>"),"textures@Texture2D/Hall_UI/Hall_UI"),A.pageIndex==m.MIDDLE&&B.playEffect("reward")})),g.updateDailyTaskProcess(0,1,0,0,0,0,0,0,0,0),this.dispointLeave(t,n,a,!1,"")}},n(a,[{key:"lastPosition",get:function(){return this._lastPosition},set:function(e){this._lastPosition=e}},{key:"walkToPos",get:function(){return this._walkToPos},set:function(e){this._walkToPos=e}}]),a}(_))||D);a._RF.pop()}}}));

System.register("chunks:///_virtual/OnNativeAdLoadedListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2a2e6fRYgBIe6tHmj67gL2S","OnNativeAdLoadedListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/OnPaidEventListener.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"0f711NbGkZBQ48WmxkneNNW","OnPaidEventListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/OnShowAdCompleteListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"62f0fffhWRH1rGcDJtj6FDT","OnShowAdCompleteListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/OnUserEarnedRewardListener.ts",["cc"],(function(){var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"6d0a2WiUoRBA455UFNYwzFU","OnUserEarnedRewardListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PaidEventNTF.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.Base}],execute:function(){var a,o,d,u,c,s,v;e._RF.push({},"e2d81qcvaVBva080tOWZBU/","PaidEventNTF",void 0);var p=i.ccclass,l=(i.property,t("PaidEventNTF",p("PaidEventNTF")(a=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).valueMicros=void 0,n.currencyCode=void 0,n.precision=void 0,n.adSourceName=void 0,n.adSourceId=void 0,n.adSourceInstanceName=void 0,n.adSourceInstanceId=void 0,n.mediationGroupName=void 0,n.mediationABTestName=void 0,n.mediationABTestVariant=void 0,n}return n(e,t),e}(r))||a));t("BannerPaidEventNTF",p("BannerPaidEventNTF")(o=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||o),t("InterstitialPaidEventNTF",p("InterstitialPaidEventNTF")(d=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||d),t("NativePaidEventNTF",p("NativePaidEventNTF")(u=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||u),t("AppOpenPaidEventNTF",p("AppOpenPaidEventNTF")(c=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||c),t("RewardedPaidEventNTF",p("RewardedPaidEventNTF")(s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||s),t("RewardedInterstitialPaidEventNTF",p("RewardedInterstitialPaidEventNTF")(v=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e}(l))||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(r){var e,n,t,d;return{setters:[function(r){e=r.inheritsLoose},function(r){n=r.cclegacy,t=r._decorator},function(r){d=r.Base}],execute:function(){var a,o,c,i,u,l,s,h;n._RF.push({},"a19d623UwdAurbcHSnuSt4c","RewardedAd",void 0);var w=t.ccclass;t.property,r("LoadRewardedAdREQ",w("LoadRewardedAdREQ")(a=function(r){function n(){return r.apply(this,arguments)||this}return e(n,r),n}(d))||a),r("LoadRewardedAdACK",w("LoadRewardedAdACK")(o=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(e=r.call.apply(r,[this].concat(t))||this).method=void 0,e.loadAdError=void 0,e}return e(n,r),n}(d))||o),r("ShowRewardedAdREQ",w("ShowRewardedAdREQ")(c=function(r){function n(){return r.apply(this,arguments)||this}return e(n,r),n}(d))||c),r("ShowRewardedAdACK",w("ShowRewardedAdACK")(i=function(r){function n(){return r.apply(this,arguments)||this}return e(n,r),n}(d))||i),r("OnUserEarnedRewardListenerNTF",w("OnUserEarnedRewardListenerNTF")(u=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(e=r.call.apply(r,[this].concat(t))||this).rewardType=void 0,e.rewardAmount=void 0,e}return e(n,r),n}(d))||u),r("RewardedAdLoadCallbackNTF",w("RewardedAdLoadCallbackNTF")(l=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(e=r.call.apply(r,[this].concat(t))||this).method=void 0,e.loadAdError=void 0,e}return e(n,r),n}(d))||l),r("RewardedFullScreenContentCallbackNTF",w("RewardedFullScreenContentCallbackNTF")(s=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(e=r.call.apply(r,[this].concat(t))||this).method=void 0,e.adError=void 0,e}return e(n,r),n}(d))||s),r("RewardedAdShowErrorNTF",w("RewardedAdShowErrorNTF")(h=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(e=r.call.apply(r,[this].concat(t))||this).method=void 0,e.adError=void 0,e}return e(n,r),n}(d))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bridge.ts","./RewardedAd.ts","./AdClient.ts","./Route.ts","./PaidEventNTF.ts"],(function(e){var r,n,t,d,a,s,i,o,l,h,w,u,c,L,C,f,E;return{setters:[function(e){r=e.inheritsLoose,n=e.createClass},function(e){t=e.cclegacy,d=e.log,a=e.js},function(e){s=e.bridge},function(e){i=e.LoadRewardedAdREQ,o=e.LoadRewardedAdACK,l=e.ShowRewardedAdREQ,h=e.ShowRewardedAdACK,w=e.RewardedAdLoadCallbackNTF,u=e.RewardedFullScreenContentCallbackNTF,c=e.OnUserEarnedRewardListenerNTF,L=e.RewardedAdShowErrorNTF},function(e){C=e.AdClient},function(e){f=e.route},function(e){E=e.RewardedPaidEventNTF}],execute:function(){t._RF.push({},"9c823kMEqhG354V3pAi+6bv","RewardedAdClient",void 0);var R="[RewardedAdClient]";e("RewardedAdClient",function(e){function t(){for(var r,n=arguments.length,t=new Array(n),d=0;d<n;d++)t[d]=arguments[d];return(r=e.call.apply(e,[this].concat(t))||this)._rewardedListener=void 0,r}r(t,e);var C=t.prototype;return C.load=function(e,r){d(R,"load, unitId = "+e),this.unitId=e,this.rewardedListener=r,s.sendToNative(a.getClassName(i),{unitId:e},a.getClassName(o),(function(e){d(R,"LoadRewardedAdACK, "+e)}),this)},C.destroy=function(){d(R,"destroy"),this.rewardedListener=null},C.show=function(){d(R,"show"),s.sendToNative(a.getClassName(l),{unitId:this.unitId},a.getClassName(h),(function(e){d(R,"ShowRewardedAdREQ, "+e)}),this)},C.onRewardedAdLoadCallbackNTF=function(e){if(d(R,"onRewardedAdLoadCallbackNTF.rewardedListener["+(null!=this.rewardedListener)+"]"),this.rewardedListener){var r=this.rewardedListener[e.method];d(R,"onRewardedAdLoadCallbackNTF.rewardedListener["+(null!=this.rewardedListener)+"].method["+(null!=e.method)+"]"),r&&r()}},C.onFullScreenContentCallback=function(e){if(d(R,"onFullScreenContentCallback.rewardedListener["+(null!=this.rewardedListener)+"]"),this.rewardedListener){var r=this.rewardedListener[e.method];d(R,"onFullScreenContentCallback.rewardedListener["+(null!=this.rewardedListener)+"].method["+(null!=e.method)+"]"),r&&r(e.adError)}},C.onOnUserEarnedRewardListenerNTF=function(e){if(d(R,"onOnUserEarnedRewardListenerNTF.rewardedListener["+(null!=this.rewardedListener)+"]"),this.rewardedListener){var r=this.rewardedListener;d(R,"onOnUserEarnedRewardListenerNTF.onUserEarnedRewardListener["+(null!=r)+"].onEarn["+(r&&r.onEarn)+"]"),r&&r.onEarn&&r.onEarn(e.rewardType,e.rewardAmount)}},C.onPaidEvent=function(e){var r=this.rewardedListener;d(R,"onPaidEvent.rewardedListener["+(null!=this.rewardedListener)+"].onPaidEvent["+(null!=r.onPaidEvent)+"]"),r&&r.onPaidEvent&&r.onPaidEvent(e)},C.onAdShowError=function(e){if(d(R,"onAdShowError.rewardedListener["+(null!=this.rewardedListener)+"]"),this.rewardedListener){var r=this.rewardedListener[e.method];d(R,"onAdShowError.rewardedListener["+(null!=this.rewardedListener)+"].method["+(null!=e.method)+"]"),r&&r(e.adError)}},n(t,[{key:"rewardedListener",get:function(){return this._rewardedListener},set:function(e){this._rewardedListener&&(f.off(a.getClassName(w),this.onRewardedAdLoadCallbackNTF,this),f.off(a.getClassName(u),this.onFullScreenContentCallback,this),f.off(a.getClassName(c),this.onOnUserEarnedRewardListenerNTF,this),f.off(a.getClassName(E),this.onPaidEvent,this),f.off(a.getClassName(L),this.onAdShowError,this)),this._rewardedListener=e,this._rewardedListener&&(f.on(a.getClassName(w),this.onRewardedAdLoadCallbackNTF,this),f.on(a.getClassName(u),this.onFullScreenContentCallback,this),f.on(a.getClassName(c),this.onOnUserEarnedRewardListenerNTF,this),f.on(a.getClassName(E),this.onPaidEvent,this),f.on(a.getClassName(L),this.onAdShowError,this))}}]),t}(C));t._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdFullScreenContentCallback.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"ccbcclTM5BLeaQxYmDylXnq","RewardedAdFullScreenContentCallback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b10b1DUlehJBrliYcPlp/9I","RewardedAdListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdLoadCallback.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"59c6ayhqOxKuIKCFYiHSxfo","RewardedAdLoadCallback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedAdShowErrorCallback.ts",["cc"],(function(){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"08c23ROrNBLsKF47vdgDNn5","RewardedAdShowErrorCallback",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(t){var r,e,n,a;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.Base}],execute:function(){var i,d,o,l,s,c,u,h;e._RF.push({},"f35b0ZWnitHd4mL4VnNo7Th","RewardedInterstitialAd",void 0);var w=n.ccclass;n.property,t("LoadRewardedInterstitialAdREQ",w("LoadRewardedInterstitialAdREQ")(i=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(a))||i),t("LoadRewardedInterstitialAdACK",w("LoadRewardedInterstitialAdACK")(d=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(a))||d),t("ShowRewardedInterstitialAdREQ",w("ShowRewardedInterstitialAdREQ")(o=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(a))||o),t("ShowRewardedInterstitialAdACK",w("ShowRewardedInterstitialAdACK")(l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e}(a))||l),t("RewardedInterstitialAdLoadCallbackNTF",w("RewardedInterstitialAdLoadCallbackNTF")(s=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).method=void 0,r.loadAdError=void 0,r}return r(e,t),e}(a))||s),t("RewardedInterstitialFullScreenContentCallbackNTF",w("RewardedInterstitialFullScreenContentCallbackNTF")(c=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).method=void 0,r.adError=void 0,r}return r(e,t),e}(a))||c),t("OnUserEarnedRewardedInterstitialListenerNTF",w("OnUserEarnedRewardedInterstitialListenerNTF")(u=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).rewardType=void 0,r.rewardAmount=void 0,r}return r(e,t),e}(a))||u),t("RewardedInterstitialAdShowErrorNTF",w("RewardedInterstitialAdShowErrorNTF")(h=function(t){function e(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).method=void 0,r.adError=void 0,r}return r(e,t),e}(a))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialAdClient.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdClient.ts","./RewardedInterstitialAd.ts","./Bridge.ts","./Route.ts","./PaidEventNTF.ts"],(function(t){var e,r,i,n,a,s,d,o,l,h,w,c,u,I,C,f,L;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy,n=t.js,a=t.log},function(t){s=t.AdClient},function(t){d=t.LoadRewardedInterstitialAdREQ,o=t.LoadRewardedInterstitialAdACK,l=t.ShowRewardedInterstitialAdREQ,h=t.ShowRewardedInterstitialAdACK,w=t.RewardedInterstitialAdLoadCallbackNTF,c=t.RewardedInterstitialFullScreenContentCallbackNTF,u=t.OnUserEarnedRewardedInterstitialListenerNTF,I=t.RewardedInterstitialAdShowErrorNTF},function(t){C=t.bridge},function(t){f=t.route},function(t){L=t.RewardedInterstitialPaidEventNTF}],execute:function(){i._RF.push({},"bcd464DuS9EHZFqL+Wv7Zc9","RewardedInterstitialAdClient",void 0);var N="[RewardedInterstitialAdClient]";t("RewardedInterstitialAdClient",function(t){function i(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._rewardedInterstitialListener=void 0,e}e(i,t);var s=i.prototype;return s.load=function(t,e){this.destroy(),this.unitId=t,this.rewardedInterstitialListener=e,C.sendToNative(n.getClassName(d),{unitId:t},n.getClassName(o),(function(t){}),this)},s.destroy=function(){this.rewardedInterstitialListener=null},s.show=function(){C.sendToNative(n.getClassName(l),{unitId:this.unitId},n.getClassName(h),(function(t){}),this)},s.onRewardedInterstitialAdLoadCallbackNTF=function(t){a(N,"onRewardedInterstitialAdLoadCallbackNTF",t.method);var e=this.rewardedInterstitialListener[t.method];e&&e(t.loadAdError)},s.onRewardedInterstitialFullScreenContentCallbackNTF=function(t){a(N,"onRewardedInterstitialFullScreenContentCallbackNTF",t.method);var e=this.rewardedInterstitialListener[t.method];e&&e(t.adError)},s.onOnUserEarnedRewardListenerNTF=function(t){if(a(N,"onOnUserEarnedRewardListenerNTF"),this.rewardedInterstitialListener){var e=this.rewardedInterstitialListener;e&&e.onEarn&&e.onEarn(t.rewardType,t.rewardAmount)}},s.onPaidEvent=function(t){var e=this.rewardedInterstitialListener;e&&e.onPaidEvent&&e.onPaidEvent(t)},s.onAdShowError=function(t){if(a(N,"onAdShowError.rewardedInterstitialListener["+(null!=this.rewardedInterstitialListener)+"]"),this.rewardedInterstitialListener){var e=this.rewardedInterstitialListener[t.method];a(N,"onAdShowError.rewardedInterstitialListener["+(null!=this.rewardedInterstitialListener)+"].method["+(null!=t.method)+"]"),e&&e(t.adError)}},r(i,[{key:"rewardedInterstitialListener",get:function(){return this._rewardedInterstitialListener},set:function(t){this._rewardedInterstitialListener&&(f.off(n.getClassName(w),this.onRewardedInterstitialAdLoadCallbackNTF,this),f.off(n.getClassName(c),this.onRewardedInterstitialFullScreenContentCallbackNTF,this),f.off(n.getClassName(u),this.onOnUserEarnedRewardListenerNTF,this),f.off(n.getClassName(L),this.onPaidEvent,this),f.off(n.getClassName(I),this.onAdShowError,this)),this._rewardedInterstitialListener=t,this._rewardedInterstitialListener&&(f.on(n.getClassName(w),this.onRewardedInterstitialAdLoadCallbackNTF,this),f.on(n.getClassName(c),this.onRewardedInterstitialFullScreenContentCallbackNTF,this),f.on(n.getClassName(u),this.onOnUserEarnedRewardListenerNTF,this),f.on(n.getClassName(L),this.onPaidEvent,this),f.on(n.getClassName(I),this.onAdShowError,this))}}]),i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialAdLoadCallback.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"31b4agsy/RARJF/0v6HTKzC","RewardedInterstitialAdLoadCallback",void 0);t("RewardedInterstitialAdLoadCallback",(function(){this.onAdLoaded=void 0,this.onAdFailedToLoad=void 0}));a._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialAdShowErrorCallback.ts",["cc"],(function(){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"14242b4C3pNha+r99elZPw3","RewardedInterstitialAdShowErrorCallback",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialFullScreenContentCallback.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"684a9OsAopPXKs/PNqQRKhv","RewardedInterstitialFullScreenContentCallback",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardedInterstitialListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2ce66tAXYJKTYcwXNbPTkD2","RewardedInterstitialListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Route.ts",["cc","./Codec.ts"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.cclegacy,n=t.log,o=t.EventTarget},function(t){i=t.Codec}],execute:function(){e._RF.push({},"d7d2caHkbhJx7OojQtGJlDF","Route",void 0);var c="[Route]",u=t("Route",function(){function t(){this.codec=void 0,this._eventTarget=new o}var e=t.prototype;return e.init=function(t){return n(c,"init"),this.codec=t,this},e.destroy=function(){},e.once=function(t,e,o){n(c,"once",t),this._eventTarget.once(t,e,o)},e.off=function(t,e,o){n(c,"off",t),this._eventTarget.off(t,e,o)},e.on=function(t,e,o){n(c,"on",t),this._eventTarget.on(t,e,o)},e.dispatch=function(t,e){n(c,"dispatch",t),this._eventTarget.emit(t,e)},t}());t("route",(new u).init(new i));e._RF.pop()}}}));

System.register("chunks:///_virtual/TestUnitId.ts",["cc"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy,a=e.sys}],execute:function(){e("getTestAdUnitId",(function(e){switch(e){case p.AppOpen:return r()?"ca-app-pub-3940256099942544/9257395921":"ca-app-pub-3940256099942544/5575463023";case p.Banner:return r()?"ca-app-pub-3940256099942544/6300978111":"ca-app-pub-3940256099942544/2934735716";case p.Interstitial:return r()?"ca-app-pub-3940256099942544/1033173712":"ca-app-pub-3940256099942544/4411468910";case p.Rewarded:return r()?"ca-app-pub-3940256099942544/5224354917":"ca-app-pub-3940256099942544/1712485313";case p.RewardedInterstitial:return r()?"ca-app-pub-3940256099942544/5354046379":"ca-app-pub-3940256099942544/6978759866";case p.Native:return r()?"ca-app-pub-3940256099942544/2247696110":"ca-app-pub-3940256099942544/3986624511";default:throw new Error("Unexpected format: "+e)}})),t._RF.push({},"82ff3DgPcxO9pSnl1qmYr+u","TestUnitId",void 0);var p=e("AdFormat",function(e){return e[e.AppOpen=0]="AppOpen",e[e.Banner=1]="Banner",e[e.Interstitial=2]="Interstitial",e[e.Rewarded=3]="Rewarded",e[e.RewardedInterstitial=4]="RewardedInterstitial",e[e.Native=5]="Native",e}({}));function r(){return a.os===a.OS.ANDROID}t._RF.pop()}}}));

System.register("chunks:///_virtual/TypeAlias.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5738fx85WpMp6bb3Q7WK7YX","TypeAlias",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UpdatePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,l,o,a,u,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label,u=e.ProgressBar,c=e.Node,p=e.Component}],execute:function(){var b,f,s,y,g,d,m,z,P,w,h,B,L,v,U,_,k,D,F,j,C;l._RF.push({},"a55d8rEvT5B0JF8oqCJUjpH","UpdatePanel",void 0);var H=o.ccclass,J=o.property;e("UpdatePanel",(b=H("UpdatePanel"),f=J(a),s=J(u),y=J(a),g=J(u),d=J(a),m=J(c),z=J(c),P=J(c),w=J(c),b((L=r((B=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,n(r,"info",L,i(r)),n(r,"fileProgress",v,i(r)),n(r,"fileLabel",U,i(r)),n(r,"byteProgress",_,i(r)),n(r,"byteLabel",k,i(r)),n(r,"close",D,i(r)),n(r,"checkBtn",F,i(r)),n(r,"retryBtn",j,i(r)),n(r,"updateBtn",C,i(r)),r}return t(r,e),r.prototype.onLoad=function(){},r}(p)).prototype,"info",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(B.prototype,"fileProgress",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(B.prototype,"fileLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(B.prototype,"byteProgress",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(B.prototype,"byteLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(B.prototype,"close",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(B.prototype,"checkBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(B.prototype,"retryBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(B.prototype,"updateBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=B))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/Version.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Base.ts"],(function(e){var n,r,s,t;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,s=e._decorator},function(e){t=e.Base}],execute:function(){var i;r._RF.push({},"54026AUb3NNTbcYO88Ecs9i","Version",void 0);var o=s.ccclass;s.property,e("VersionREQ",o("VersionREQ")(i=function(e){function r(n,r){var s;return(s=e.call(this,n)||this).engineVersion=r,s}return n(r,e),r}(t))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/Version2.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"aca25+juFNMM5K8dGC0LPU/","Version",void 0);e("ExtensionVersion","1.0.3");n._RF.pop()}}}));

System.register("chunks:///_virtual/ZipLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=2.js","./index2.js"],(function(e){var t,n,r,a,i,o,s,c,l,p,u,h,d,f,w,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,s=e.createClass,c=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,p=e._decorator,u=e.assetManager,h=e.warn,d=e.director,f=e.Component,w=e.error},null,function(e){g=e.default}],execute:function(){var b,x,y,m,v,C,z,j,k,L;l._RF.push({},"e9e5cuhzzlOAollQtgezKmF","ZipLoader",void 0);var D=p.ccclass,R=p.property;e("ZipLoader",(b=D("ZipLoader"),x=R({tooltip:"If this is true, the URLs of the assets will be recorded when they are downloaded by the engine."}),y=R({tooltip:"If this is true, the next scene will not be loaded until all the zip files are downloaded."}),m=R({tooltip:"The next scene to be loaded."}),b(((L=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"isRecordAssetsUrl",z,a(t)),r(t,"isAwaitDwonloadZipFinished",j,a(t)),r(t,"loadNextScene",k,a(t)),t.downloadZipPromise=null,t.recordAssetsUrlList=[],t.zipCache=new Map,t.resCache=new Map,t.isPressedLeftAlt=!1,t}n(t,e);var l=t.prototype;return l.downloadResCache=function(){var e=i(o().mark((function e(){var t,n,r,a,i,s,l,p,u,h,d,f,w=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(t=window.wzbDownloadResCache)){e.next=16;break}return e.next=4,Promise.all(t);case 4:n=e.sent,r=c(n);case 6:if((a=r()).done){e.next=14;break}return i=a.value,e.next=10,g.loadAsync(i);case 10:e.sent.forEach((function(e,t){t.dir||w.zipCache.set(e,t)}));case 12:e.next=6;break;case 14:e.next=24;break;case 16:if(!(void 0!==(s=window.wzbResZipList)&&s.length>0)){e.next=24;break}for(l=[],p=0;p<s.length;p++)(u=this.downloadZip(s[p]))&&l.push(u);return e.next=22,Promise.all(l);case 22:for(h=e.sent,d=c(h);!(f=d()).done;)f.value.forEach((function(e,t){t.dir||w.zipCache.set(e,t)}));case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.downloadZip=function(){var e=i(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return r=e.sent,e.next=9,g.loadAsync(r);case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(0),w("["+this.constructor.name+"].downloadZip",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),l.recordUrl=function(e){},l.injectDownloadImage=function(e){var t=this;u.downloader.register(e,i(o().mark((function e(n,r,a){var i,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.recordUrl(n),!t.resCache.has(n)){e.next=6;break}i=t.resCache.get(n),a(null,i),e.next=21;break;case 6:if(!t.zipCache.has(n)){e.next=16;break}if(!(s=t.zipCache.get(n))){e.next=16;break}return e.next=11,s.async("blob");case 11:return c=e.sent,t.resCache.set(n,c),t.zipCache.delete(n),a(null,c),e.abrupt("return");case 16:(l=new Image).crossOrigin="anonymous",l.onload=function(){a(null,l)},l.onerror=function(e){a(new Error(e instanceof Event?e.type:e),null)},l.src=n;case 21:case"end":return e.stop()}}),e)}))))},l.injectXMLHttpRequest=function(){var e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");if(void 0===e)return!1;var t=this,n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,r,a,i,o){var s=r.split(".").pop();return"cconb"!==s&&"astc"!==s&&"json"!==s||t.recordUrl(r),t.zipCache.has(r)?this.zipCacheUrl=r:(this.zipCacheUrl=null,h("["+t.constructor.name+"] The requested asset not in cache: "+r)),n.apply(this,[e,r,a,i,o])};var r=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.send=i(o().mark((function e(n){var a,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.zipCacheUrl){e.next=18;break}if(t.resCache.has(this.zipCacheUrl)){e.next=16;break}if(!(a=t.zipCache.get(this.zipCacheUrl))){e.next=16;break}if("json"!==this.responseType){e.next=11;break}return e.next=7,a.async("text");case 7:i=e.sent,t.resCache.set(this.zipCacheUrl,i),e.next=15;break;case 11:return e.next=13,a.async(this.responseType);case 13:s=e.sent,t.resCache.set(this.zipCacheUrl,s);case 15:t.zipCache.delete(this.zipCacheUrl);case 16:return"function"==typeof this.onload&&(c=new ProgressEvent("load",{lengthComputable:!1,loaded:0,total:0}),this.onload(c)),e.abrupt("return");case 18:return e.abrupt("return",r.apply(this,[n]));case 19:case"end":return e.stop()}}),e,this)}))),Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){if(this.zipCacheUrl){var n=t.resCache.get(this.zipCacheUrl);return"json"===this.responseType?JSON.parse(n):n}return e.get?e.get.call(this):void 0},set:function(){},configurable:!0}),!0},l.onLoad=function(){t.instance=this,this.injectXMLHttpRequest(),this.injectDownloadImage(".png"),this.injectDownloadImage(".jpg"),this.injectDownloadImage(".bmp"),this.injectDownloadImage(".jpeg"),this.injectDownloadImage(".gif"),this.injectDownloadImage(".ico"),this.injectDownloadImage(".tiff"),this.injectDownloadImage(".webp"),this.injectDownloadImage(".image")},l.start=function(){var e=this;d.addPersistRootNode(this.node),i(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.downloadZipPromise=e.downloadResCache(),!e.isAwaitDwonloadZipFinished){t.next=4;break}return t.next=4,e.downloadZipPromise;case 4:""!==e.loadNextScene.trim()&&d.loadScene(e.loadNextScene);case 5:case"end":return t.stop()}}),t)})))()},s(t,[{key:"getDownloadZipPromise",get:function(){return this.downloadZipPromise}}],[{key:"inst",get:function(){return t.instance}}]),t}(f)).instance=null,z=t((C=L).prototype,"isRecordAssetsUrl",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=t(C.prototype,"isAwaitDwonloadZipFinished",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=t(C.prototype,"loadNextScene",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=C))||v));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});